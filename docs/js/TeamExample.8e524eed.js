(function(){"use strict";var e={1155:function(e,t,n){var i=n(9242),a=n(3396);const o=e=>((0,a.dD)("data-v-cc3eba18"),e=e(),(0,a.Cn)(),e),r={class:"base-container"},m=o((()=>(0,a._)("div",{class:"header"},[(0,a.Uk)("   "),(0,a._)("a",{href:"./"},"げんかるく")],-1))),c=o((()=>(0,a._)("div",{class:"pane1"},[(0,a._)("h4",null,"EXAMPLE")],-1))),s={class:"pane2"},d=["id"],l={class:"pane3"},u=o((()=>(0,a._)("hr",null,null,-1))),b={id:"team-rotation"},p={class:"pane4"},f=o((()=>(0,a._)("div",{class:"footer"},[(0,a._)("hr"),(0,a._)("h2",null,"チーム編成例 Ver.0.1.0"),(0,a._)("dl",{class:"history"},[(0,a._)("dt",null,"0.1.0"),(0,a._)("dd")])],-1)));function g(e,t,n,o,g,h){const E=(0,a.up)("TeamItem"),v=(0,a.up)("draggable"),k=(0,a.up)("TeamEditorModal"),y=(0,a.up)("TeamRotation");return(0,a.wg)(),(0,a.iD)("div",r,[m,c,(0,a._)("div",s,[(0,a.wy)((0,a._)("div",null,[(0,a.Wm)(v,{list:e.teams,"item-key":"id",sort:!0,handle:".handle"},{item:(0,a.w5)((({element:t})=>[(0,a._)("div",{style:{display:"inline-block"},id:"team-"+t.id},[(0,a.Wm)(E,{team:t,selected:e.teamSelected(t.id),editable:!e.isViewOnly,"show-equipment":!1,onClick:n=>e.teamOnClick(t.id),"onClick:edit":e.editOnClick,"onClick:jumpToRotation":e.jumpToRotation},null,8,["team","selected","editable","onClick","onClick:edit","onClick:jumpToRotation"])],8,d)])),_:1},8,["list"])],512),[[i.F8,!e.teamEditorVisible]]),(0,a.wy)((0,a._)("div",null,[(0,a.Wm)(k,{visible:!0,team:e.forcusedTeam,"onClick:cancel":e.teamEditorOnClickCancel,"onClick:ok":e.teamEditorOnClickOk},null,8,["team","onClick:cancel","onClick:ok"])],512),[[i.F8,e.teamEditorVisible]])]),(0,a._)("div",l,[u,(0,a._)("div",b,[e.forcusedTeam?((0,a.wg)(),(0,a.j4)(y,{key:0,team:e.forcusedTeam,"onUpdate:rotation":e.updateRotation,"onClick:jumpToTeam":e.jumpToTeam},null,8,["team","onUpdate:rotation","onClick:jumpToTeam"])):(0,a.kq)("",!0)])]),(0,a._)("div",p,[e.isViewOnly?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.iD)("textarea",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.builddataStr=t),style:{width:"90%",height:"100px"}},null,512)),[[i.nr,e.builddataStr]])]),f])}n(7658);var h=n(4806),E=n.n(h),v=n(6983),k=n.n(v),y=n(4870),w=n(6552),O=n(9541),C=n(4989),N=n(6861),_=n(5093),T=JSON.parse('[{"id":0,"name":"ノエルHC","members":[{"id":0,"name":"ゴロー","tags":[],"replacements":[]},{"id":0,"name":"アルベド","tags":[],"replacements":["雲菫",""]},{"id":0,"name":"夜蘭","tags":[],"replacements":[]},{"id":0,"name":"ノエル","tags":[],"replacements":[]}],"description":"","rotation":[{"id":0,"member":"ゴロー","action":"E.Press"},{"id":0,"member":"ゴロー","action":"Q"},{"id":0,"member":"アルベド","action":"E.Press"},{"id":0,"member":"夜蘭","action":"E.Hold"},{"id":0,"member":"夜蘭","action":"Q"},{"id":0,"member":"夜蘭","action":"E.Press"},{"id":0,"member":"夜蘭","action":"N"},{"id":0,"member":"ノエル","action":"E"},{"id":0,"member":"ノエル","action":"Q"},{"id":0,"member":"ノエル","action":"N3"},{"id":0,"member":"ノエル","action":"N3"},{"id":0,"member":"ノエル","action":"N3"},{"id":0,"member":"ノエル","action":"N3"},{"id":0,"member":"ゴロー","action":"E.Press"},{"id":0,"member":"ノエル","action":"N3"},{"id":0,"member":"ノエル","action":"N3"}],"rotationDescription":""},{"id":0,"name":"激化刻晴","members":[{"id":0,"name":"フィッシュル","tags":[],"replacements":[]},{"id":0,"name":"鍾離","tags":[],"replacements":[]},{"id":0,"name":"ナヒーダ","tags":[],"replacements":[]},{"id":0,"name":"刻晴","tags":[],"replacements":[]}],"description":"","rotation":[{"id":0,"member":"フィッシュル","action":"Q"},{"id":0,"member":"鍾離","action":"E.Hold"},{"id":0,"member":"鍾離","action":"Q"},{"id":0,"member":"ナヒーダ","action":"E.Hold"},{"id":0,"member":"ナヒーダ","action":"Q"},{"id":0,"member":"刻晴","action":"E.Press"},{"id":0,"member":"刻晴","action":"N1C"},{"id":0,"member":"刻晴","action":"Q"},{"id":0,"member":"刻晴","action":"N1C"},{"id":0,"member":"刻晴","action":"E.Press"},{"id":0,"member":"刻晴","action":"N1C"},{"id":0,"member":"ナヒーダ","action":"E.Hold"},{"id":0,"member":"フィッシュル","action":"E"},{"id":0,"member":"刻晴","action":"N1C"},{"id":0,"member":"刻晴","action":"E.Press"},{"id":0,"member":"刻晴","action":"N1C"},{"id":0,"member":"刻晴","action":"N1C"},{"id":0,"member":"刻晴","action":"N1C"},{"id":0,"member":"刻晴","action":"E.Press"}],"rotationDescription":""},{"id":0,"name":"雷電ナショナル","members":[{"id":0,"name":"雷電将軍","tags":[],"replacements":[]},{"id":0,"name":"行秋","tags":[],"replacements":[]},{"id":0,"name":"ベネット","tags":[],"replacements":[]},{"id":0,"name":"香菱","tags":[],"replacements":[]}],"description":"","rotation":[{"id":0,"member":"雷電将軍","action":"E"},{"id":0,"member":"行秋","action":"E"},{"id":0,"member":"行秋","action":"Q"},{"id":0,"member":"行秋","action":"E"},{"id":0,"member":"行秋","action":"N"},{"id":0,"member":"ベネット","action":"E.Press"},{"id":0,"member":"ベネット","action":"Q"},{"id":0,"member":"香菱","action":"N"},{"id":0,"member":"香菱","action":"E"},{"id":0,"member":"香菱","action":"Q"},{"id":0,"member":"雷電将軍","action":"Q"},{"id":0,"member":"雷電将軍","action":"N4"},{"id":0,"member":"雷電将軍","action":"N4"},{"id":0,"member":"雷電将軍","action":"N4"},{"id":0,"member":"雷電将軍","action":"N4"}],"rotationDescription":""},{"id":0,"name":"豊穣開花","members":[{"id":0,"name":"ニィロウ","tags":[],"replacements":[]},{"id":0,"name":"ナヒーダ","tags":[],"replacements":["旅人(草)",""]},{"id":0,"name":"珊瑚宮心海","tags":[],"replacements":["バーバラ",""]},{"id":0,"name":"白朮","tags":[],"replacements":["ヨォーヨ",""]}],"description":"","rotation":[{"id":0,"member":"ニィロウ","action":"E"},{"id":0,"member":"ニィロウ","action":"E"},{"id":0,"member":"ニィロウ","action":"E"},{"id":0,"member":"ニィロウ","action":"E"},{"id":0,"member":"ナヒーダ","action":"E.Press"},{"id":0,"member":"ナヒーダ","action":"Q"},{"id":0,"member":"珊瑚宮心海","action":"E"},{"id":0,"member":"白朮","action":"E"},{"id":0,"member":"白朮","action":"Q"},{"id":0,"member":"珊瑚宮心海","action":"Q"},{"id":0,"member":"珊瑚宮心海","action":"N3"},{"id":0,"member":"珊瑚宮心海","action":"N3"},{"id":0,"member":"珊瑚宮心海","action":"N3"},{"id":0,"member":"珊瑚宮心海","action":"N3"}],"rotationDescription":""},{"id":0,"name":"溶解ロサリア","members":[{"id":0,"name":"ベネット","tags":[],"replacements":[]},{"id":0,"name":"香菱","tags":[],"replacements":[]},{"id":0,"name":"楓原万葉","tags":[],"replacements":[]},{"id":0,"name":"ロサリア","tags":[],"replacements":[]}],"description":"","rotation":[{"id":0,"member":"ベネット","action":"E.Press"},{"id":0,"member":"ベネット","action":"Q"},{"id":0,"member":"香菱","action":"E"},{"id":0,"member":"香菱","action":"Q"}],"rotationDescription":""},{"id":0,"name":"双狐双神","members":[{"id":0,"name":"鍾離","tags":[],"replacements":[]},{"id":0,"name":"ナヒーダ","tags":[],"replacements":[]},{"id":0,"name":"八重神子","tags":[],"replacements":[]},{"id":0,"name":"ティナリ","tags":["Main-DPS"],"replacements":[]}],"description":"","rotation":[{"id":0,"member":"鍾離","action":"E.Press"},{"id":0,"member":"ナヒーダ","action":"E.Press"},{"id":0,"member":"ナヒーダ","action":"Q"},{"id":0,"member":"八重神子","action":"E"},{"id":0,"member":"八重神子","action":"E"},{"id":0,"member":"八重神子","action":"E"},{"id":0,"member":"八重神子","action":"Q"},{"id":0,"member":"八重神子","action":"E"},{"id":0,"member":"八重神子","action":"E"},{"id":0,"member":"八重神子","action":"E"},{"id":0,"member":"ティナリ","action":"E"},{"id":0,"member":"ティナリ","action":"Q"},{"id":0,"member":"ティナリ","action":"C"},{"id":0,"member":"ティナリ","action":"C"},{"id":0,"member":"ティナリ","action":"C"}],"rotationDescription":""},{"id":0,"name":"神鶴万心","members":[{"id":0,"name":"申鶴","tags":[],"replacements":["ロサリア",""]},{"id":0,"name":"楓原万葉","tags":[],"replacements":[]},{"id":0,"name":"珊瑚宮心海","tags":[],"replacements":[]},{"id":0,"name":"神里綾華","tags":["Main-DPS"],"replacements":[]}],"description":"","rotation":[],"rotationDescription":""},{"id":0,"name":"","members":[{"id":0,"name":"","tags":[],"replacements":[]},{"id":0,"name":"","tags":[],"replacements":[]},{"id":0,"name":"","tags":[],"replacements":[]},{"id":0,"name":"","tags":[],"replacements":[]}],"description":"","rotation":[],"rotationDescription":""}]'),j=(0,a.aZ)({name:"TeamExample",components:{draggable:k(),TeamItem:N.Z,TeamEditorModal:C.Z,TeamRotation:_.Z},setup(){const{displayName:e}=(0,w.Z)(),t=(0,y.iH)(!1),n=(0,y.iH)(!1),i=(0,y.iH)(O.g6),o=(0,y.qj)([]);for(let a=0;a<i.value;a++)o.push((0,O.un)(a));const r=(0,y.iH)(0);(0,a.bv)((()=>{d()}));const m=(0,a.Fl)((()=>o.filter((e=>e.id==r.value))[0])),c=(0,a.Fl)((()=>(0,O.Jc)(o))),s=e=>e==r.value,d=()=>{const e=T,t=[];for(let n=0;n<i.value;n++)t.push((0,O.un)(n));(0,O.FF)(t,e,!0),i.value=t.length,o.splice(0,o.length,...t)},l=e=>{r.value=e},u=e=>{e==r.value?(n.value=!0,(0,a.Y3)().then((()=>{document.getElementById("team-list-and-editor")?.scrollIntoView({behavior:"smooth"})}))):r.value=e},b=e=>{if(n.value=!1,r.value<0)return;h();const t=o.filter((e=>e.id==r.value))[0];if(t){t.name=e.name;for(let n=0;n<e.members.length;n++){const i=e.members[n],a=t.members[n];a.name==i.name&&a.buildname==e.members[n].buildname||(a.name=e.members[n].name,a.buildname=void 0,a.builddata=void 0),E().isEqual(a.tags,i.tags)||a.tags.splice(0,a.tags.length,...i.tags),E().isEqual(a.replacements,i.replacements)||a.replacements.splice(0,a.replacements.length,...i.replacements)}t.description=e.description,E().isEqual(t.rotation,e.rotation)||t.rotation.splice(0,t.rotation.length,...e.rotation)}},p=()=>{n.value=!1,h()},f=(e,t)=>{if(-1!=r.value){const n=o.filter((e=>e.id==r.value))[0];n&&(n.rotation.splice(0,n.rotation.length,...e),n.rotationDescription=t)}},g=()=>{(0,a.Y3)().then((()=>{document.getElementById("team-rotation")?.scrollIntoView({behavior:"smooth"})}))},h=()=>{-1!=r.value&&(0,a.Y3)().then((()=>{document.getElementById("team-"+r.value)?.scrollIntoView({behavior:"smooth"})}))};return{displayName:e,isViewOnly:t,NUMBER_OF_TEAMS:O.g6,numberOfTeams:i,teams:o,teamEditorVisible:n,teamSelected:s,forcusedTeam:m,teamOnClick:l,editOnClick:u,teamEditorOnClickOk:b,teamEditorOnClickCancel:p,updateRotation:f,jumpToRotation:g,jumpToTeam:h,builddataStr:c}}}),D=n(89);const V=(0,D.Z)(j,[["render",g],["__scopeId","data-v-cc3eba18"]]);var P=V,S=n(2540);async function I(){(0,i.ri)(P,{}).use(S.Z).mount("#app")}I()},9541:function(e,t,n){n.d(t,{$C:function(){return u},FF:function(){return j},FP:function(){return b},Jc:function(){return T},R7:function(){return C},VN:function(){return v},XY:function(){return w},_t:function(){return E},bV:function(){return h},br:function(){return O},c1:function(){return y},g6:function(){return d},qQ:function(){return g},sE:function(){return k},un:function(){return _}});n(7658);var i=n(8710),a=n(5983),o=n(2986),r=n(6125),m=n(9098),c=n(4806),s=n.n(c);const d=10,l=4,u=["片手剣","長柄武器"],b=["鹿野院平蔵","リオセスリ"];let p=0;const f=new Map;function g(e){let t;return e&&e in r.bw&&(t=r.bw[e]),t}async function h(){const e=[];for(const t of Object.keys(r.bw))e.push((0,r.tm)(t).then((e=>{f.set(t,e)})));await Promise.all(e)}function E(e){return f.get(e)}function v(e,t){let n;if(e&&t&&e in r.Nd){const i=r.Nd[e];t in i&&(n=i[t])}return n}function k(e){const t=e.split("_"),n=t[1];let i;return t.splice(0,2),i=t.length>0?t.join("_"):(0,o.K1)(n),i}function y(e){return Object.keys(localStorage).filter((t=>t.startsWith((0,o.R4)(e))))}function w(e,t){let n;const i=(0,o.R4)(e,t),a=localStorage.getItem(i);return a&&(n=JSON.parse(a)),n}const O=async(e,t)=>{const n=s().cloneDeep(o.Hd),m=s().cloneDeep(o.HN),c=s().cloneDeep(o.NY),d=s().cloneDeep(o.wX),l=s().cloneDeep(o.HO),u=s().cloneDeep(o.US),b={characterInput:n,artifactDetailInput:m,conditionInput:c,optionInput:d,statsInput:l,damageResult:u};if(!e.name)return b;n.character=e.name,n.characterMaster=await(0,r.tm)(n.character);const p={"片手剣":"無鋒の剣","両手剣":"訓練用大剣","長柄武器":"新米の長槍","弓":"狩猟弓","法器":"生徒ノート"};n.weapon=p[n.characterMaster.武器];const f=e.builddata;if(!f)return b;await(0,o.pS)(n,m,c,d,f),(0,o.ge)(n),(0,o.Cl)(n),(0,o.Vk)(n),(0,o.Hk)(c,n,d),(0,i.fk)(m.聖遺物ステータスメイン効果,m.聖遺物メイン効果),(0,i.Zr)(m),c.checkboxList.forEach((e=>{c.conditionValues[e.name]=!1})),c.selectList.forEach((e=>{c.conditionValues[e.name]=0}));const g=n.characterMaster.元素,h={};if(t.members&&t.members.filter((e=>e.name)).forEach((e=>{const t=r.bw[e.name].元素;t in h?h[t]++:h[t]=1})),["千岩古剣","千岩長槍"].includes(n.weapon)){if(t.members){let e=0;for(const n of t.members.filter((e=>e))){const t=await(0,r.tm)(n.name);t.region&&["璃月港"].includes(t.region)&&e++}const i="["+n.weapon+"]璃月キャラ1人毎に攻撃力と会心率+";c.conditionValues[i]=e}}else if(["惡王丸","斬波のひれ長","曚雲の月"].includes(n.weapon)&&t.members){let e=0;for(const n of t.members.filter((e=>e))){const t=await(0,r.tm)(n.name);"元素エネルギー"in t.元素爆発&&(e+=t.元素爆発.元素エネルギー)}e&&(c.conditionValues["チーム全員の元素エネルギー上限の合計"]=e)}const E=h[g]-1,v=Object.keys(h).filter((e=>e!=g)),k=v.length?v.map((e=>h[e])).reduce(((e,t)=>e+t)):0;if(c.conditionValues["[チーム]同じ元素のキャラクター"]=E,c.conditionValues["[チーム]異なる元素のキャラクター"]=k,c.conditionValues["[チーム]キャラクターの元素タイプ"]=Object.keys(h).length-1,i.vV.forEach((e=>{const t="[チーム]"+e+"元素キャラクター";c.conditionValues[t]=h[e]??0;const n="[チーム]"+e+"元素キャラクター(自分以外)";c.conditionValues[n]=(h[e]??0)-(e==g?1:0)})),C(t)){const e={};C(t).filter((e=>["炎元素共鳴","水元素共鳴","草元素共鳴","元素共鳴なし"].includes(e))).forEach((t=>{if(d.elementalResonance.conditionValues[t]=!0,"詳細"in r._9[t]){const n=r._9[t].詳細;if(n)for(const t of n)"種類"in t&&"数値"in t&&(t.種類 in e?e[t.種類]+=t.数値:e[t.種類]=t.数値)}})),(0,a.fX)(d.elementalResonance.conditionAdjustments,e)}return(0,i.i6)(l,n,m,c,d),(0,i.V1)(u,n,c,l),{characterInput:n,artifactDetailInput:m,conditionInput:c,optionInput:d,statsInput:l,damageResult:u}},C=(o.Hd,o.HN,o.NY,o.wX,o.HO,o.US,e=>{const t=[],n={},i=e.members.filter((e=>e.name));return 4==i.length&&(i.forEach((e=>{const t=g(e.name);t&&(t.元素 in n?n[t.元素]++:n[t.元素]=1)})),4==Object.keys(n).length?t.push("元素共鳴なし"):Object.keys(n).forEach((e=>{n[e]>=2&&t.push(e+"元素共鳴")}))),t});function N(e){return{id:e,name:"",buildname:void 0,builddata:void 0,tags:[],replacements:[]}}function _(e){const t={id:e,name:"チーム"+(e+1),members:[],description:"",rotation:[],rotationDescription:""};for(let n=0;n<l;n++)t.members.push(N(p++));return t}function T(e){const t=s().cloneDeep(e);return t.forEach((e=>{e.id=0,e.members.forEach((e=>{e.id=0,e.builddata=void 0})),e.rotation?.length&&e.rotation.forEach((e=>{e.id=0}))})),JSON.stringify(t)}function j(e,t,n=!1){let i=0;for(let a=0;a<t.length;a++){const o=t[a];let r=e[a];r||(r=_(a),e.push(r)),r.name=o.name;for(let e=0;e<r.members.length;e++)if(o.members?.length){const t=o.members[e];t&&(r.members[e].name=t.name,n?(r.members[e].buildname=t.buildname,r.members[e].builddata=t.buildname?w(t.name,t.buildname):void 0):(r.members[e].buildname=void 0,r.members[e].builddata=void 0),r.members[e].tags=t.tags??[],r.members[e].replacements=t.replacements??[])}r.description=o.description??"",o.rotation?.length&&(r.rotation=s().cloneDeep(o.rotation),r.rotation.forEach((e=>{if(e.id=i++,e.action.startsWith("E")){const t=(0,m.H0)(e.member);t.includes(e.action)||(e.action=t[0])}}))),r.rotationDescription=r.rotationDescription??""}e.length>t.length&&e.length>=d&&e.splice(t.length)}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,o){if(!i){var r=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],o=e[d][2];for(var m=!0,c=0;c<i.length;c++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(m=!1,o<r&&(r=o));if(m){e.splice(d--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=562}(),function(){var e={562:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,r=i[0],m=i[1],c=i[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(a in m)n.o(m,a)&&(n.m[a]=m[a]);if(c)var d=c(n)}for(t&&t(i);s<r.length;s++)o=r[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},i=self["webpackChunkgencalc"]=self["webpackChunkgencalc"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998,64],(function(){return n(1155)}));i=n.O(i)})();
//# sourceMappingURL=TeamExample.8e524eed.js.map