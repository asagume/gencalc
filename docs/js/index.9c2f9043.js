(function(){"use strict";var e={4896:function(e,a,t){t(4603),t(7566),t(8721);var l=t(5130),n=t(6768),s=t(4232);const i={class:"base-container"},o={class:"pane1"},c={class:"pane2"},u={class:"pane3",style:{"margin-bottom":"15px"}},r={class:"pane4"},p={class:"pane6"},d={class:"toggle-switch",for:"pane6-toggle-1"},m={class:"toggle-switch",for:"pane6-toggle-2"},k={class:"toggle-switch",for:"pane6-toggle-3"},f={key:0,style:{"margin-bottom":"10px"}},v={key:1,style:{"margin-bottom":"10px"}},b={class:"tab-switch"},y={for:"status-input-tab-1"},g={for:"status-input-tab-2"},h={for:"status-input-tab-3"},L={class:"enemy"},C=["value"],S={class:"enemy-level"},E={key:2,style:{"margin-bottom":"10px"}},_={class:"tab-switch"},R={for:"option-input-tab-1"},I={for:"option-input-tab-2"},O={for:"option-input-tab-3"},N={key:0},X={key:1},A={class:"result-pane"},w={class:"pane5"},V={class:"bottom-pane"},M={class:"toggle-switch no-border",for:"own-list-toggle-1"},K={class:"toggle-switch no-border",for:"own-list-toggle-2"},T={class:"toggle-switch no-border",for:"own-list-toggle-3"},D=["disabled"],F={class:"pane7"};function W(e,a,t,W,U,j){const x=(0,n.g2)("TitleAndHeader"),H=(0,n.g2)("CharacterSelect"),Q=(0,n.g2)("CharacterInput"),P=(0,n.g2)("CharacterInfo"),B=(0,n.g2)("WeaponSelect"),q=(0,n.g2)("ArtifactSetSelect"),Y=(0,n.g2)("ArtifactDetailInput"),J=(0,n.g2)("ArtifactScoreFormula"),z=(0,n.g2)("ConditionInput"),G=(0,n.g2)("StatsInput"),$=(0,n.g2)("NextStat"),Z=(0,n.g2)("EasyTeamInput"),ee=(0,n.g2)("ElementalResonanceInput"),ae=(0,n.g2)("TeamOptionInput"),te=(0,n.g2)("MiscOptionInput"),le=(0,n.g2)("DamageResult"),ne=(0,n.g2)("RotationDamage"),se=(0,n.g2)("ShareSns"),ie=(0,n.g2)("CharacterOwnList"),oe=(0,n.g2)("WeaponOwnList"),ce=(0,n.g2)("ArtifactOwnList"),ue=(0,n.g2)("AboutMyApp"),re=(0,n.g2)("ConfigurationInput");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",i,[(0,n.Lk)("div",o,[(0,n.bF)(x)]),(0,n.Lk)("div",c,[(0,n.bF)(H,{character:e.characterInputRea.character,visible:e.characterSelectVisibleRef,"onUpdate:character":a[0]||(a[0]=a=>e.updateCharacter(a))},null,8,["character","visible"])]),(0,n.Lk)("div",u,[(0,n.bF)(Q,{ref:"characterInputVmRef",characterInput:e.characterInputRea,"recommendation-list":e.recommendationListRea,recommendation:e.recommendationRef,"builddata-savable":e.builddataSavable,"artifact-set-select-visible":e.artifactSetSelectVisibleRef,"artifact-score":e.artifactScore,"onOpen:characterSelect":e.openCharacterSelect,onSaveToStorage:a[1]||(a[1]=a=>e.saveToStorage(a)),onRemoveFromStorage:a[2]||(a[2]=a=>e.removeFromStorage(a)),"onUpdate:recommendation":a[3]||(a[3]=a=>e.updateRecommendation(a)),"onOpen:weaponSelect":e.openWeaponSelect,"onOpen:artifactSetSelect":a[4]||(a[4]=a=>e.openArtifactSetSelect(a)),"onOpen:artifactDetailInput":e.openArtifactDetailInput,"onUpdate:characterInputCharacter":a[5]||(a[5]=a=>e.updateCharacterInputCharacter(a)),"onUpdate:characterInputWeapon":a[6]||(a[6]=a=>e.updateCharacterInputWeapon(a)),"onOpen:characterInfo":a[7]||(a[7]=a=>e.openCharacterInfo(a))},null,8,["characterInput","recommendation-list","recommendation","builddata-savable","artifact-set-select-visible","artifact-score","onOpen:characterSelect","onOpen:weaponSelect","onOpen:artifactDetailInput"])]),(0,n.Lk)("div",r,[(0,n.bF)(P,{visible:e.characterInfoVisibleRef,mode:e.characterInfoModeRef,"character-master":e.characterInputRea.characterMaster,ascension:e.characterInputRea.突破レベル,level:e.characterInputRea.レベル,"normal-attack-level":e.characterInputRea.通常攻撃レベル,"elemental-skill-level":e.characterInputRea.元素スキルレベル,"elemental-burst-level":e.characterInputRea.元素爆発レベル,"normal-attack-replacing":e.normalAttackReplacing},null,8,["visible","mode","character-master","ascension","level","normal-attack-level","elemental-skill-level","elemental-burst-level","normal-attack-replacing"]),(0,n.bF)(B,{visible:e.weaponSelectVisibleRef,weapon:e.characterInputRea.weapon,"weapon-type":e.weaponType,"weapon-master":e.characterInputRea.weaponMaster,ascension:e.characterInputRea.武器突破レベル,level:e.characterInputRea.武器レベル,"onUpdate:weapon":a[8]||(a[8]=a=>e.updateWeapon(a))},null,8,["visible","weapon","weapon-type","weapon-master","ascension","level"]),(0,n.bF)(q,{visible:e.artifactSetSelectVisibleRef,index:e.artifactSetIndexRef,"artifact-set":e.artifactSets[e.artifactSetIndexRef],"artifact-set-masters":e.characterInputRea.artifactSetMasters,"onUpdate:artifactSet":a[9]||(a[9]=a=>e.updateArtifactSet(a))},null,8,["visible","index","artifact-set","artifact-set-masters"]),(0,n.bF)(Y,{ref:"artifactDetailInputVmRef",visible:e.artifactDetailInputVisibleRef,"artifact-detail-input":e.artifactDetailInputRea,"is-sub-stat-only":e.isSubStatOnly,"next-stat-rows":e.nextStatRows,"onUpdate:artifactDetail":a[10]||(a[10]=a=>e.updateArtifactDetail(a))},null,8,["visible","artifact-detail-input","is-sub-stat-only","next-stat-rows"]),(0,n.bF)(J,{ref:"artifactScoreFormulaVmRef",visible:e.artifactDetailInputVisibleRef,"onApply:formula":e.applyArtifactScoreFormula},null,8,["visible","onApply:formula"])]),(0,n.Lk)("div",p,[(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-1",type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=a=>e.pane6Toggle1Ref=a)},null,512),[[l.lH,e.pane6Toggle1Ref]]),(0,n.Lk)("label",d,(0,s.v_)(e.displayName("オプション条件")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-2",type:"checkbox","onUpdate:modelValue":a[12]||(a[12]=a=>e.pane6Toggle2Ref=a)},null,512),[[l.lH,e.pane6Toggle2Ref]]),(0,n.Lk)("label",m,(0,s.v_)(e.displayName("ステータス")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-3",type:"checkbox","onUpdate:modelValue":a[13]||(a[13]=a=>e.pane6Toggle3Ref=a)},null,512),[[l.lH,e.pane6Toggle3Ref]]),(0,n.Lk)("label",k,(0,s.v_)(e.displayName("バフ/デバフ")),1)]),e.pane6Toggle1Ref?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(z,{ref:"conditionInputVmRef","character-input":e.characterInputRea,"onUpdate:condition":e.updateCondition},null,8,["character-input","onUpdate:condition"])])):(0,n.Q3)("",!0),e.pane6Toggle2Ref?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.Lk)("div",b,[(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-1",type:"radio",value:"1","onUpdate:modelValue":a[14]||(a[14]=a=>e.statInputTabRef=a)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",y,(0,s.v_)(e.displayName("ステータス1")),1),(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-2",type:"radio",value:"2","onUpdate:modelValue":a[15]||(a[15]=a=>e.statInputTabRef=a)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",g,(0,s.v_)(e.displayName("ステータス2")),1),(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-3",type:"radio",value:"3","onUpdate:modelValue":a[16]||(a[16]=a=>e.statInputTabRef=a)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",h,(0,s.v_)(e.displayName("敵")),1)]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(G,{"stats-input":e.statsInput,"category1-list":e.CHARACTER_STATS_CATEGORY1_LIST,category2List:e.CHARACTER_STATS_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2List","onUpdate:statAdjustments"])],512),[[l.aG,1==e.statInputTabRef]]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(G,{"stats-input":e.statsInput,"category1-list":e.CHARACTER_STATS2_CATEGORY1_LIST,"category2-list":e.CHARACTER_STATS2_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2-list","onUpdate:statAdjustments"])],512),[[l.aG,2==e.statInputTabRef]]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.Lk)("label",L,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[17]||(a[17]=a=>e.selectedEnemyRef=a),onChange:a[18]||(a[18]=(...a)=>e.updateEnemy&&e.updateEnemy(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.ENEMY_LIST,(a=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a.key},(0,s.v_)(e.displayName(a.key)),9,C)))),128))],544),[[l.u1,e.selectedEnemyRef]])]),(0,n.Lk)("label",S,[a[29]||(a[29]=(0,n.eW)("Lv. ")),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":a[19]||(a[19]=a=>e.statsInput.statAdjustments["敵レベル"]=a),min:"1",onChange:a[20]||(a[20]=a=>e.updateStatAdjustments())},null,544),[[l.Jo,e.statsInput.statAdjustments["敵レベル"]]])]),(0,n.bF)(G,{"stats-input":e.statsInput,"category1-list":e.ENEMY_STATS_CATEGORY1_LIST,"category2-list":e.ENEMY_STATS_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2-list","onUpdate:statAdjustments"])],512),[[l.aG,3==e.statInputTabRef]]),(0,n.Lk)("div",null,[(0,n.bF)($,{ref:"nextStatVmRef",visible:!0,"character-input":e.characterInputRea,"artifact-detail-input":e.artifactDetailInputRea,"condition-input":e.conditionInputRea,"option-input":e.optionInputRea,"stats-input":e.statsInput,"damage-result":e.damageResult,"rotation-damage-info":e.rotationDamageInfo,"onUpdate:statAdjustments":e.updateNextStatAdjustments,"onUpdate:nextStatRows":e.updateNextStatRows},null,8,["character-input","artifact-detail-input","condition-input","option-input","stats-input","damage-result","rotation-damage-info","onUpdate:statAdjustments","onUpdate:nextStatRows"])])])):(0,n.Q3)("",!0),e.pane6Toggle3Ref?((0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("div",_,[(0,n.bo)((0,n.Lk)("input",{id:"option-input-tab-1",type:"radio",value:"1","onUpdate:modelValue":a[21]||(a[21]=a=>e.optionInputTabRef=a)},null,512),[[l.XL,e.optionInputTabRef]]),(0,n.Lk)("label",R,(0,s.v_)(e.displayName("元素共鳴")),1),(0,n.bo)((0,n.Lk)("input",{id:"option-input-tab-2",type:"radio",value:"2","onUpdate:modelValue":a[22]||(a[22]=a=>e.optionInputTabRef=a)},null,512),[[l.XL,e.optionInputTabRef]]),(0,n.Lk)("label",I,(0,s.v_)(e.displayName("チーム")),1),(0,n.bo)((0,n.Lk)("input",{id:"option-input-tab-3",type:"radio",value:"3","onUpdate:modelValue":a[23]||(a[23]=a=>e.optionInputTabRef=a)},null,512),[[l.XL,e.optionInputTabRef]]),(0,n.Lk)("label",O,(0,s.v_)(e.displayName("その他")),1)]),(0,n.bF)(Z,{character:e.characterInputRea.character,"team-members":e.optionInputRea.teamMembers,"onUpdate:teamMembers":e.updateTeamMembers},null,8,["character","team-members","onUpdate:teamMembers"]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(ee,{ref:"elementalResonanceInputVmRef","elemental-resonance":e.optionInputRea.elementalResonance,"onUpdate:elementalResonance":e.updateElementalResonance},null,8,["elemental-resonance","onUpdate:elementalResonance"])],512),[[l.aG,1==e.optionInputTabRef]]),2==e.optionInputTabRef?((0,n.uX)(),(0,n.CE)("div",N,[(0,n.bF)(ae,{ref:"teamOptionInputVmRef",character:e.characterInputRea.character,"team-members":e.optionInputRea.teamMembers,"condition-input":e.optionInputRea.teamOption,"onUpdate:teamOption":e.updateTeamOption,"onUpdate:buildnameSelection":e.updateBuildnameSelection,"onUpdate:teamMembers":e.updateTeamMembers},null,8,["character","team-members","condition-input","onUpdate:teamOption","onUpdate:buildnameSelection","onUpdate:teamMembers"])])):(0,n.Q3)("",!0),3==e.optionInputTabRef?((0,n.uX)(),(0,n.CE)("div",X,[(0,n.bF)(te,{ref:"miscOptionInputVmRef","condition-input":e.optionInputRea.miscOption,"onUpdate:miscOption":e.updateMiscOption},null,8,["condition-input","onUpdate:miscOption"])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",A,[(0,n.bF)(le,{ref:"damageResultVmRef","damage-result":e.damageResult},null,8,["damage-result"])]),(0,n.Lk)("div",w,[(0,n.bF)(ne,{"character-master":e.characterInputRea.characterMaster,"damage-result":e.damageResult,"onUpdate:rotationDamage":e.updateRotationDamage},null,8,["character-master","damage-result","onUpdate:rotationDamage"]),(0,n.bF)(se,{"onShare:twitter":e.openTwitter},null,8,["onShare:twitter"])]),(0,n.Lk)("div",V,[(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-1",type:"checkbox","onUpdate:modelValue":a[24]||(a[24]=a=>e.ownListToggle1Ref=a)},null,512),[[l.lH,e.ownListToggle1Ref]]),(0,n.Lk)("label",M,(0,s.v_)(e.displayName("キャラクター所持状況")),1)]),e.ownListToggle1Ref?((0,n.uX)(),(0,n.Wv)(ie,{key:0})):(0,n.Q3)("",!0),(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-2",type:"checkbox","onUpdate:modelValue":a[25]||(a[25]=a=>e.ownListToggle2Ref=a)},null,512),[[l.lH,e.ownListToggle2Ref]]),(0,n.Lk)("label",K,(0,s.v_)(e.displayName("武器所持状況")),1)]),e.ownListToggle2Ref?((0,n.uX)(),(0,n.Wv)(oe,{key:1})):(0,n.Q3)("",!0),(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-3",type:"checkbox","onUpdate:modelValue":a[26]||(a[26]=a=>e.ownListToggle3Ref=a)},null,512),[[l.lH,e.ownListToggle3Ref]]),(0,n.Lk)("label",T,(0,s.v_)(e.displayName("聖遺物所持状況")),1)]),e.ownListToggle3Ref?((0,n.uX)(),(0,n.Wv)(ce,{key:2})):(0,n.Q3)("",!0),a[30]||(a[30]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[27]||(a[27]=a=>e.enableClearLocalStorage=a)},null,512),[[l.lH,e.enableClearLocalStorage]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("ローカルストレージをクリアする")),1)]),(0,n.Lk)("button",{type:"button",onClick:a[28]||(a[28]=(...a)=>e.clearLocalStorage&&e.clearLocalStorage(...a)),disabled:!e.enableClearLocalStorage},(0,s.v_)(e.displayName("実行")),9,D),(0,n.Lk)("p",null,(0,s.v_)(e.displayName("全ての保存データを削除します")),1)]),(0,n.Lk)("div",F,[(0,n.bF)(ue),(0,n.bF)(re,{"configuration-input":e.configurationInputRea,"onUpdate:configurationInput":e.updateConfigurationInput,"onOrder:initializeArtifactStatsSub":e.orderInitializeArtifactStatsSub},null,8,["configuration-input","onUpdate:configurationInput","onOrder:initializeArtifactStatsSub"])]),a[31]||(a[31]=(0,n.Lk)("hr",null,null,-1)),a[32]||(a[32]=(0,n.Lk)("div",{class:"footer"},[(0,n.Lk)("hr"),(0,n.Lk)("p",null,"© 2021 asagume"),(0,n.Lk)("p",{class:"left"}," 本サイト内の画像はHoYoverse/COGNOSPHEREの著作物です。 Copyright © COGNOSPHERE. All Rights Reserved. ")],-1))]),(0,n.Q3)("",!0)],64)}t(4114);var U=t(8626),j=t.n(U),x=t(144);const H={class:"bottom-right"},Q=["value"];function P(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",null,[(0,n.Lk)("legend",null,"げんかるく - 原神ダメージシミュレーター Ver."+(0,s.v_)(e.version),1),a[3]||(a[3]=(0,n.Fv)('<p data-v-28ec6d24><a href="ArtifactSetList.html" data-v-28ec6d24>聖遺物セット効果一覧</a><a href="BirthdayCalendar.html" data-v-28ec6d24>誕生日カレンダー</a></p><p data-v-28ec6d24><a href="WeaponList.html?kind=Sword" data-v-28ec6d24>片手剣一覧</a><a href="WeaponList.html?kind=Claymore" data-v-28ec6d24>両手剣一覧</a><a href="WeaponList.html?kind=Polearm" data-v-28ec6d24>長柄武器一覧</a><a href="WeaponList.html?kind=Bow" data-v-28ec6d24>弓一覧</a><a href="WeaponList.html?kind=Catalyst" data-v-28ec6d24>法器一覧</a></p><p data-v-28ec6d24><a href="RandomTeam.html" data-v-28ec6d24>ランダムチーム編成メーカー</a><a href="HoYoDictionary.html" data-v-28ec6d24>原神の辞書</a></p><p style="margin-bottom:4rem;" data-v-28ec6d24><a href="EnkaNetwork3.html" data-v-28ec6d24>DATA IMPORTER</a><a href="TeamManager.html" data-v-28ec6d24>チーム編成</a></p><div class="top-left" data-v-28ec6d24><a href="history.html" data-v-28ec6d24>更新履歴</a></div><div class="top-right" data-v-28ec6d24><a href="https://zawazawa.jp/gencalc/topic/1" target="_blank" rel="noopener noreferrer" data-v-28ec6d24>バグ報告·要望</a></div><div class="bottom-left" data-v-28ec6d24></div>',7)),(0,n.Lk)("label",H,[a[2]||(a[2]=(0,n.eW)(" Language ")),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.locale=a),onChange:a[1]||(a[1]=a=>e.localeOnChange(e.targetValue(a)))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.localeList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e.value,key:e.value},(0,s.v_)(e.name),9,Q)))),128))],544),[[l.u1,e.locale]])])])}var B=t(5384),q=t(5682),Y=(0,n.pM)({name:"TitleAndHeader",setup(){const{locale:e}=(0,B.s9)({useScope:"global"}),{localeList:a,setI18nLanguage:l,displayName:n,targetValue:s}=(0,q.A)(),i=e=>{e&&l(e)};return{locale:e,localeList:a,displayName:n,targetValue:s,localeOnChange:i,version:t(8330).rE}}}),J=t(1241);const z=(0,J.A)(Y,[["render",P],["__scopeId","data-v-28ec6d24"]]);var G=z,$=t(5063);const Z={style:{width:"20%"}},ee=["value"],ae=["value"],te=["value"],le={style:{position:"relative",width:"30%"}},ne=["src","alt"],se=["src","alt"],ie={class:"icon"},oe=["src","alt"],ce={class:"tooltip"},ue={style:{width:"20%"}},re=["value"],pe=["value"],de=["value"],me={class:"talent-and-artifact"},ke={class:"icon"},fe=["src","alt"],ve={class:"tooltip"},be={class:"icon"},ye=["src","alt"],ge={class:"tooltip"},he={class:"icon"},Le=["src","alt"],Ce={class:"tooltip"},Se={class:"icon"},Ee=["src","alt"],_e={class:"tooltip"},Re={class:"icon"},Ie=["src","alt"],Oe={class:"tooltip"},Ne={class:"artifact-detail-button icon"},Xe=["src","alt"],Ae={class:"artifact-score"},we={class:"tooltip"},Ve=["value"],Me=["value"],Ke=["value"],Te={style:{"table-layout":"fixed"}},De={colspan:"3"},Fe=["disabled"],We=["disabled"],Ue={colspan:"6"},je=["value"];function xe(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("table",null,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:(0,s.C4)("name "+e.colorClass(e.characterMaster)),colspan:"2"},[(0,n.Lk)("span",{onClick:a[0]||(a[0]=a=>e.$emit("open:character-info",1))},[(0,n.eW)((0,s.v_)(e.displayName(e.characterMaster.名前))+" ",1),a[32]||(a[32]=(0,n.Lk)("span",{class:"material-symbols-outlined"}," info ",-1))])],2),(0,n.Lk)("td",{colspan:"2",class:(0,s.C4)("title "+e.colorClass(e.characterMaster))},[(0,n.bo)((0,n.Lk)("span",null,(0,s.v_)(e.displayName(e.characterMaster.baseInfo.称号)),513),[[l.aG,e.characterMaster.baseInfo.称号]])],2)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",Z,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=a=>e.characterInputRea.突破レベル=a),onChange:a[2]||(a[2]=(...a)=>e.ascensionOnChange&&e.ascensionOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.ascensionRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," A"+(0,s.v_)(e),9,ee)))),128))],544),[[l.u1,e.characterInputRea.突破レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.characterInputRea.レベル=a),onChange:a[4]||(a[4]=(...a)=>e.characterOnChange&&e.characterOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.levelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,ae)))),128))],544),[[l.u1,e.characterInputRea.レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[5]||(a[5]=a=>e.characterInputRea.命ノ星座=a),onChange:a[6]||(a[6]=(...a)=>e.characterOnChange&&e.characterOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.constellationRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," C"+(0,s.v_)(e),9,te)))),128))],544),[[l.u1,e.characterInputRea.命ノ星座]])]),(0,n.Lk)("td",le,[(0,n.Lk)("img",{class:(0,s.C4)("character"+e.bgImageClass(e.characterMaster)),src:e.characterMaster.icon_url,alt:e.characterMaster.名前,onClick:a[7]||(a[7]=a=>e.$emit("open:character-select"))},null,10,ne),(0,n.Lk)("img",{class:"vision",src:e.visionSrc(e.characterMaster),alt:e.characterMaster.元素},null,8,se)]),(0,n.Lk)("td",ie,[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(e.weaponMaster)),src:e.weaponMaster["icon_url"],alt:e.weaponMaster.名前,onClick:a[8]||(a[8]=a=>e.$emit("open:weapon-select"))},null,10,oe),(0,n.Lk)("div",ce,(0,s.v_)(e.displayName(e.weaponMaster.名前)),1)]),(0,n.Lk)("td",ue,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[9]||(a[9]=a=>e.characterInputRea.武器突破レベル=a),onChange:a[10]||(a[10]=(...a)=>e.weaponAscensionOnChange&&e.weaponAscensionOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponAscensionRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," A"+(0,s.v_)(e),9,re)))),128))],544),[[l.u1,e.characterInputRea.武器突破レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[11]||(a[11]=a=>e.characterInputRea.武器レベル=a),onChange:a[12]||(a[12]=(...a)=>e.weaponOnChange&&e.weaponOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,pe)))),128))],544),[[l.u1,e.characterInputRea.武器レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[13]||(a[13]=a=>e.characterInputRea.武器精錬ランク=a),onChange:a[14]||(a[14]=(...a)=>e.weaponOnChange&&e.weaponOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponRefineRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," R"+(0,s.v_)(e),9,de)))),128))],544),[[l.u1,e.characterInputRea.武器精錬ランク]])])])])]),(0,n.Lk)("table",me,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",ke,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["通常攻撃"]["icon_url"],alt:e.characterMaster["通常攻撃"]["名前"],onClick:a[15]||(a[15]=a=>e.$emit("open:character-info",2))},null,10,fe),(0,n.Lk)("div",ve,(0,s.v_)(e.displayName(e.characterMaster["通常攻撃"]["名前"])),1)]),(0,n.Lk)("td",be,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["元素スキル"]["icon_url"],alt:e.characterMaster["元素スキル"]["名前"],onClick:a[16]||(a[16]=a=>e.$emit("open:character-info",3))},null,10,ye),(0,n.Lk)("div",ge,(0,s.v_)(e.displayName(e.characterMaster["元素スキル"]["名前"])),1)]),(0,n.Lk)("td",he,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["元素爆発"]["icon_url"],alt:e.characterMaster["元素爆発"]["名前"],onClick:a[17]||(a[17]=a=>e.$emit("open:character-info",4))},null,10,Le),(0,n.Lk)("div",Ce,(0,s.v_)(e.displayName(e.characterMaster["元素爆発"]["名前"])),1)]),(0,n.Lk)("td",Se,[(0,n.Lk)("label",{onClick:a[18]||(a[18]=a=>e.openArtifactSetSelect(0))},[(0,n.Lk)("img",{class:(0,s.C4)("artifact-set"+e.artifactSetSelectClass(0)),src:e.getArtifactIconUrl(e.artifactSetMasters[0].key),alt:e.artifactSetMasters[0].key},null,10,Ee)]),(0,n.Lk)("div",_e,(0,s.v_)(e.displayName(e.artifactSetMasters[0].key)),1)]),(0,n.Lk)("td",Re,[(0,n.Lk)("label",{onClick:a[19]||(a[19]=a=>e.openArtifactSetSelect(1))},[(0,n.Lk)("img",{class:(0,s.C4)("artifact-set"+e.artifactSetSelectClass(1)),src:e.getArtifactIconUrl(e.artifactSetMasters[1].key),alt:e.artifactSetMasters[1].key},null,10,Ie)]),(0,n.Lk)("div",Oe,(0,s.v_)(e.displayName(e.artifactSetMasters[1].key)),1)]),(0,n.Lk)("td",Ne,[(0,n.Lk)("label",{onClick:a[20]||(a[20]=a=>e.$emit("open:artifact-detail-input"))},[(0,n.Lk)("img",{class:"artifact-set",src:e.IMG_SRC_DUMMY,alt:e.displayName("聖遺物ステータス")},null,8,Xe),a[35]||(a[35]=(0,n.Lk)("img",{class:"left-icon",src:"images/artifact.png",alt:"artifact"},null,-1)),a[36]||(a[36]=(0,n.Lk)("img",{class:"right-icon",src:"images/artifact.png",alt:"artifact"},null,-1)),(0,n.Lk)("div",Ae,[a[33]||(a[33]=(0,n.eW)(" score ")),a[34]||(a[34]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(Math.round(10*e.artifactScore)/10),1)])]),(0,n.Lk)("div",we,(0,s.v_)(e.displayName("聖遺物詳細")),1)])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[21]||(a[21]=a=>e.characterInputRea.通常攻撃レベル=a),onChange:a[22]||(a[22]=(...a)=>e.characterOnChange&&e.characterOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.normalAttackLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,Ve)))),128))],544),[[l.u1,e.characterInputRea.通常攻撃レベル]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[23]||(a[23]=a=>e.characterInputRea.元素スキルレベル=a),onChange:a[24]||(a[24]=(...a)=>e.characterOnChange&&e.characterOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalSkillLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,Me)))),128))],544),[[l.u1,e.characterInputRea.元素スキルレベル]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[25]||(a[25]=a=>e.characterInputRea.元素爆発レベル=a),onChange:a[26]||(a[26]=(...a)=>e.characterOnChange&&e.characterOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalBurstLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,Ke)))),128))],544),[[l.u1,e.characterInputRea.元素爆発レベル]])])])])]),(0,n.Lk)("table",Te,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[a[37]||(a[37]=(0,n.Lk)("td",null,"buildname",-1)),(0,n.Lk)("td",De,[(0,n.bo)((0,n.Lk)("input",{class:"save-name",type:"text","onUpdate:modelValue":a[27]||(a[27]=a=>e.characterInputRea.buildname=a),maxlength:"20",placeholder:"input build name"},null,512),[[l.Jo,e.characterInputRea.buildname]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",disabled:e.saveDisabled,onClick:a[28]||(a[28]=(...a)=>e.saveOnClick&&e.saveOnClick(...a))}," Save ",8,Fe)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",disabled:e.characterInputRea.removeDisabled,onClick:a[29]||(a[29]=(...a)=>e.removeOnClick&&e.removeOnClick(...a))}," Remove ",8,We)])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",Ue,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[30]||(a[30]=a=>e.characterInputRea.recommendationSelectedIndex=a),onChange:a[31]||(a[31]=a=>e.recommendationOnChange(e.targetValue(a))),placeholder:"select preset or saved build"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.recommendationList,((a,t)=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayBuildName(a)),9,je)))),128))],544),[[l.u1,e.characterInputRea.recommendationSelectedIndex]])])])])])],64)}var He=t(2277),Qe=t(1493),Pe=t(4949),Be=(0,n.pM)({name:"CharacterInput",props:{characterInput:{type:Object,required:!0},recommendationList:{type:Array,required:!0},recommendation:{type:Object,required:!0},builddataSavable:{type:Boolean,required:!0},artifactSetSelectVisible:{type:Boolean},artifactScore:{type:Number,required:!0}},emits:["open:character-select","open:character-info","update:recommendation","save-to-storage","remove-from-storage","open:weapon-select","open:artifact-set-select","open:artifact-detail-input","update:character-input-character","update:character-input-weapon","open:character-info"],setup(e,a){const{displayName:t,targetValue:l}=(0,q.A)(),s=(0,x.Kh)(e.characterInput),i=(0,x.KR)("0"),o=(0,x.KR)(0),c=(0,n.EW)((()=>[0,1,2,3,4,5,6])),u=(0,n.EW)((()=>Qe.BY[s.突破レベル])),r=(0,n.EW)((()=>s.characterMaster)),p=(0,n.EW)((()=>s.weaponMaster)),d=(0,n.EW)((()=>s.artifactSetMasters??[Qe.Ej,Qe.Ej])),m=(0,n.EW)((()=>s.characterMaster.武器!=s.weaponMaster.種類||!e.builddataSavable)),k=(0,n.EW)((()=>Array.from({length:(0,Qe.E_)(r.value)+1},((e,a)=>a)))),f=(0,n.EW)((()=>Array.from({length:(0,Qe.Zq)(r.value,"通常攻撃")},((e,a)=>a+1)))),v=(0,n.EW)((()=>Array.from({length:(0,Qe.Zq)(r.value,"元素スキル")},((e,a)=>a+1)))),b=(0,n.EW)((()=>Array.from({length:(0,Qe.Zq)(r.value,"元素爆発")},((e,a)=>a+1)))),y=(0,n.EW)((()=>{const e=p.value.レアリティ<3?4:6;return Array.from({length:e+1},((e,a)=>a))})),g=(0,n.EW)((()=>Qe.BY[s.武器突破レベル])),h=(0,n.EW)((()=>{const e=p.value.レアリティ<3?1:5;return Array.from({length:e},((e,a)=>a+1))})),L=e=>{if("ja-jp"==He.A.global.locale.value)return e.name;if(e.overwrite)return e.name;let a="";a+=t(e.build["武器"]),a+=" - ",e.build["聖遺物セット効果1"]&&(a+=t(e.build["聖遺物セット効果1"])),e.build["聖遺物セット効果2"]&&e.build["聖遺物セット効果2"]!=e.build["聖遺物セット効果1"]&&(a+="/",a+=t(e.build["聖遺物セット効果2"])),a+="[";for(const t of["聖遺物メイン効果3","聖遺物メイン効果4","聖遺物メイン効果5"]){const l=e.build[t].split("_");a+=Pe.hM.get(l[1])}return a+="]",a},C=e=>Pe.cu[e.元素],S=e=>" "+Pe.$A[e.レアリティ],E=e=>Pe.KM[e.元素],_=e=>Pe.or[e.元素],R=async()=>{s.removeDisabled=!0,await(0,n.dY)(),a.emit("save-to-storage",s.buildname)},I=async()=>{s.removeDisabled=!1,await(0,n.dY)(),a.emit("remove-from-storage",s.buildname)},O=async()=>{const e=u.value[0],a=u.value[u.value.length-1];s.レベル<e?s.レベル=e:s.レベル>a&&(s.レベル=a),await(0,n.dY)(),V()},N=async t=>{if(!e.recommendationList||!t)return;await(0,n.dY)();const l=e.recommendationList[Number(t)];a.emit("update:recommendation",l)},X=async()=>{const e=g.value[0],a=g.value[g.value.length-1];s.武器レベル<e?s.武器レベル=e:s.武器レベル>a&&(s.武器レベル=a),await(0,n.dY)(),M()},A=a=>e.artifactSetSelectVisible&&a==o.value?" selected":"",w=e=>{o.value=e,a.emit("open:artifact-set-select",e)},V=async()=>{const e={};e.突破レベル=s.突破レベル,e.レベル=s.レベル,e.命ノ星座=s.命ノ星座,e.通常攻撃レベル=s.通常攻撃レベル,e.元素スキルレベル=s.元素スキルレベル,e.元素爆発レベル=s.元素爆発レベル,await(0,n.dY)(),a.emit("update:character-input-character",e)},M=async()=>{const e={};e.武器突破レベル=s.武器突破レベル,e.武器レベル=s.武器レベル,e.武器精錬ランク=s.武器精錬ランク,await(0,n.dY)(),a.emit("update:character-input-weapon",e)};return{displayName:t,targetValue:l,getArtifactIconUrl:Pe.ft,displayBuildName:L,visionSrc:C,bgImageClass:S,colorClass:E,bgColorClass:_,characterInputRea:s,characterMaster:r,weaponMaster:p,artifactSetMasters:d,recommendationOnChange:N,saveDisabled:m,saveOnClick:R,removeOnClick:I,ascensionRange:c,levelRange:u,constellationRange:k,ascensionOnChange:O,weaponAscensionRange:y,weaponLevelRange:g,weaponRefineRange:h,weaponAscensionOnChange:X,storageOrRecommendationRef:i,normalAttackLevelRange:f,elementalSkillLevelRange:v,elementalBurstLevelRange:b,openArtifactSetSelect:w,artifactSetSelectClass:A,characterOnChange:V,weaponOnChange:M,IMG_SRC_DUMMY:Pe.M2}}});const qe=(0,J.A)(Be,[["render",xe],["__scopeId","data-v-c7eb6be2"]]);var Ye=qe;const Je={class:"character-info status"},ze={class:"character-info"},Ge={rowspan:"2"},$e=["src","alt"],Ze={class:"title"},ea=["innerHTML"],aa={class:"character-info"},ta={rowspan:"2"},la=["src","alt"],na={class:"title"},sa=["innerHTML"],ia={key:1,class:"character-info"},oa={colspan:"2",class:"title"},ca=["innerHTML"],ua={key:0},ra={class:"key"},pa={class:"value"},da={key:0},ma={class:"key"},ka={class:"value"},fa={key:0},va={class:"key"},ba={class:"value"},ya={key:2,class:"character-info"},ga={colspan:"2",class:"title"},ha={class:"key"},La={class:"value"},Ca=["innerHTML"],Sa={key:0},Ea={class:"key"},_a={class:"value"},Ra={key:3,class:"character-info"},Ia={colspan:"2",class:"title"},Oa={class:"key"},Na={class:"value"},Xa=["innerHTML"],Aa={key:0},wa={class:"key"},Va={class:"value"};function Ma(e,a,t,l,i,o){return e.visible?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[1==e.mode?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("table",Je,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("ステータス")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.statsInfoList,((a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(a.key)),1),(0,n.Lk)("td",null,(0,s.v_)(e.displayStatValue(a.key,a.value)),1)])))),128))])]),(0,n.Lk)("table",ze,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("命ノ星座")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.constellationInfoList,((a,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",Ge,[(0,n.Lk)("img",{class:"icon",src:a.icon_url,alt:a.名前},null,8,$e)]),(0,n.Lk)("th",Ze,(0,s.v_)(e.displayName("第"+(t+1)+"重"))+" "+(0,s.v_)(e.displayName(a.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"description",innerHTML:a.説明},null,8,ea)])],64)))),128))])]),(0,n.Lk)("table",aa,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("固有天賦")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.passiveTalentInfoList,((a,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",ta,[(0,n.Lk)("img",{class:"icon",src:a.icon_url,alt:a.名前},null,8,la)]),(0,n.Lk)("th",na,(0,s.v_)(e.displayName(a.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"description",innerHTML:a.説明},null,8,sa)])],64)))),128))])])],64)):(0,n.Q3)("",!0),2==e.mode?((0,n.uX)(),(0,n.CE)("table",ia,[a[0]||(a[0]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",oa,(0,s.v_)(e.displayName(e.characterMaster.通常攻撃.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.通常攻撃.説明},null,8,ca)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("通常攻撃").詳細,((a,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[a.名前&&!a.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",ua,[(0,n.Lk)("th",ra,(0,s.v_)(e.displayName(a.名前)),1),(0,n.Lk)("td",pa,(0,s.v_)(e.talentValue(a.数値,e.levelNormalAttack("通常攻撃"))),1)])):(0,n.Q3)("",!0)],64)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("重撃").詳細,((a,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[a.名前&&!a.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",da,[(0,n.Lk)("th",ma,(0,s.v_)(e.displayName(a.名前)),1),(0,n.Lk)("td",ka,(0,s.v_)(e.talentValue(a.数値,e.levelNormalAttack("重撃"))),1)])):(0,n.Q3)("",!0)],64)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("落下攻撃").詳細,((a,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[a.名前&&!a.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",fa,[(0,n.Lk)("th",va,(0,s.v_)(e.displayName(a.名前)),1),(0,n.Lk)("td",ba,(0,s.v_)(e.talentValue(a.数値,e.levelNormalAttack("落下攻撃"))),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0),3==e.mode?((0,n.uX)(),(0,n.CE)("table",ya,[a[1]||(a[1]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",ga,(0,s.v_)(e.displayName(e.characterMaster.元素スキル.名前)),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentAttributes(e.characterMaster.元素スキル,e.elementalSkillLevel),((a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",ha,(0,s.v_)(e.displayName(a[0])),1),(0,n.Lk)("td",La,(0,s.v_)(a[1]),1)])))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.元素スキル.説明},null,8,Ca)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterMaster.元素スキル.詳細,((a,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[a.名前&&!a.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",Sa,[(0,n.Lk)("th",Ea,(0,s.v_)(e.displayName(a.名前)),1),(0,n.Lk)("td",_a,(0,s.v_)(e.talentValue(a.数値,e.elementalSkillLevel)),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0),4==e.mode?((0,n.uX)(),(0,n.CE)("table",Ra,[a[2]||(a[2]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Ia,(0,s.v_)(e.displayName(e.characterMaster.元素爆発.名前)),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentAttributes(e.characterMaster.元素爆発,e.elementalBurstLevel),((a,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",Oa,(0,s.v_)(e.displayName(a[0])),1),(0,n.Lk)("td",Na,(0,s.v_)(a[1]),1)])))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.元素爆発.説明},null,8,Xa)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterMaster.元素爆発.詳細,((a,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[a.名前&&!a.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",Aa,[(0,n.Lk)("th",wa,(0,s.v_)(e.displayName(a.名前)),1),(0,n.Lk)("td",Va,(0,s.v_)(e.talentValue(a.数値,e.elementalBurstLevel)),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0)],64)):(0,n.Q3)("",!0)}var Ka=t(725),Ta=(0,n.pM)({name:"CharacterInfo",props:{visible:{type:Boolean,required:!0},mode:{type:Number,required:!0},characterMaster:{type:Object,required:!0},ascension:{type:Number,required:!0},level:{type:Number,required:!0},normalAttackLevel:{type:Number,required:!0},elementalSkillLevel:{type:Number,required:!0},elementalBurstLevel:{type:Number,required:!0},normalAttackReplacing:{type:Array,required:!0}},setup(e){const{displayName:a,displayStatValue:t}=(0,q.A)(),l=(0,n.EW)((()=>{const a=[];if("ステータス"in e.characterMaster)for(const t of Object.keys(e.characterMaster.ステータス)){const l=e.characterMaster.ステータス[t],n=(0,Ka.Fd)(l,e.ascension,e.level);a.push({key:t,value:n})}return a})),s=(0,n.EW)((()=>{const a=[];if("命ノ星座"in e.characterMaster)for(const t of Object.keys(e.characterMaster.命ノ星座))a.push(e.characterMaster.命ノ星座[t]);return a})),i=(0,n.EW)((()=>{const a=[];if("固有天賦"in e.characterMaster)for(const t of e.characterMaster.固有天賦)a.push(t);return a})),o=a=>{let t;return"通常攻撃"==a?t=e.normalAttackReplacing[0]?e.characterMaster.特殊通常攻撃:e.characterMaster.通常攻撃:"重撃"==a?t=e.normalAttackReplacing[1]?e.characterMaster.特殊重撃:e.characterMaster.重撃:"落下攻撃"==a&&(t=e.normalAttackReplacing[2]?e.characterMaster.特殊落下攻撃:e.characterMaster.落下攻撃),t},c=a=>{let t=e.normalAttackLevel;const l=o(a);if("種類"in l)switch(l["種類"]){case"元素スキルダメージ":t=e.elementalSkillLevel;break;case"元素爆発ダメージ":t=e.elementalBurstLevel;break}return t},u=(e,a)=>{const t=[];return["時間","クールタイム","元素エネルギー"].forEach((l=>{const n=Object.keys(e).filter((e=>e.endsWith(l)));for(const s of n){let l=e[s];j().isPlainObject(l)&&(l=l[String(a)]),t.push([s,l])}})),t},r=(e,a)=>j().isPlainObject(e)?e[String(a)]:e;return{displayName:a,displayStatValue:t,statsInfoList:l,constellationInfoList:s,passiveTalentInfoList:i,talentNormalAttack:o,levelNormalAttack:c,talentAttributes:u,talentValue:r}}});const Da=(0,J.A)(Ta,[["render",Ma],["__scopeId","data-v-554c4cca"]]);var Fa=Da;const Wa={key:0},Ua={class:"title"},ja={class:"stat"},xa={class:"stat-value"},Ha={class:"stat"},Qa={class:"stat-value"},Pa={class:"title",colspan:"3"},Ba=["innerHTML"],qa={class:"select-list"},Ya=["src","alt","onClick"],Ja={class:"tooltip"};function za(e,a,t,l,i,o){return e.visible?((0,n.uX)(),(0,n.CE)("div",Wa,[(0,n.Lk)("table",null,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Ua,(0,s.v_)(e.displayName(e.weaponMaster.名前)),1),(0,n.Lk)("th",ja,(0,s.v_)(e.displayName("基礎攻撃力")),1),(0,n.Lk)("td",xa,(0,s.v_)(e.displayStatValue("基礎攻撃力",e.stats[0].value)),1)])]),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Array.from({length:e.weaponMaster.レアリティ},((e,a)=>a)),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",alt:"star",key:e})))),128))]),(0,n.Lk)("th",Ha,[e.stats[1]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)((0,s.v_)(e.displayName(e.stats[1].key)),1)],64)):(0,n.Q3)("",!0)]),(0,n.Lk)("td",Qa,[e.stats[1]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)((0,s.v_)(e.displayStatValue(e.stats[1].key,e.stats[1].value)),1)],64)):(0,n.Q3)("",!0)])]),e.weaponMaster.武器スキル?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Pa,(0,s.v_)(e.weaponMaster.武器スキル.名前),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"3",class:"description",innerHTML:e.weaponMaster.武器スキル.説明},null,8,Ba)])],64)):(0,n.Q3)("",!0)])]),(0,n.Lk)("ul",qa,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.filteredList,(a=>((0,n.uX)(),(0,n.CE)("li",{class:"icon",key:a.key},[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(a)+e.selectedClass(a)),src:a.icon_url,alt:a.key,onClick:t=>e.updateWeapon(a.key)},null,10,Ya),(0,n.Lk)("div",Ja,(0,s.v_)(e.displayName(a.key)),1)])))),128))])])):(0,n.Q3)("",!0)}var Ga=(0,n.pM)({name:"WeaponSelect",props:{visible:{type:Boolean,required:!0},weapon:{type:String,required:!0},weaponType:{type:String},weaponMaster:{type:Object,required:!0},ascension:{type:Number,required:!0},level:{type:Number,required:!0}},emits:["update:weapon"],setup(e,a){const{displayName:t,displayStatValue:l}=(0,q.A)(),s=e=>" "+Pe.$A[e.レアリティ],i=a=>a.key==e.weapon?" selected":"",o=(0,x.KR)(e.weapon),c=(0,n.EW)((()=>{const a=[];if(e.weaponMaster&&e.weaponMaster.ステータス&&void 0!==e.ascension&&void 0!==e.level)for(const t of Object.keys(e.weaponMaster.ステータス))a.push({key:t,value:(0,Ka.Fd)(e.weaponMaster.ステータス[t],e.ascension,e.level)});return a})),u=(0,n.EW)((()=>{if(e.weaponType)return Pe.Nc[e.weaponType];const a=[];return Object.keys(Pe.Nc).forEach((e=>{const t=Pe.Nc[e];a.push(...t)})),a})),r=async e=>{o.value=e,await(0,n.dY)(),a.emit("update:weapon",e)};return{displayName:t,displayStatValue:l,bgImageClass:s,selectedClass:i,filteredList:u,updateWeapon:r,stats:c}}});const $a=(0,J.A)(Ga,[["render",za],["__scopeId","data-v-52cbcd47"]]);var Za=$a,et=t(9390);const at={key:0},tt={class:"two"},lt=["value"],nt={class:"two"},st=["value"],it={class:"three"},ot=["value"],ct={class:"three"},ut=["value"],rt={class:"three"},pt=["value"],dt={class:"detail"},mt={class:"stat-value"},kt=["step"],ft={key:1},vt=["min","step"],bt={key:1},yt={class:"stat-value"},gt=["step"],ht={key:1},Lt=["min","step"],Ct={key:1},St={class:"stat-value"},Et=["step"],_t={key:1},Rt=["min","step"],It={key:1},Ot={class:"stat-value"},Nt=["step"],Xt={key:1},At=["min","step"],wt={key:1},Vt={class:"stat-value"},Mt=["step"],Kt={key:1},Tt=["min","step"],Dt={key:1},Ft={class:"stat-value"},Wt=["step"],Ut={key:1},jt=["min","step"],xt={key:1},Ht={class:"stat-value"},Qt=["step"],Pt={key:1},Bt=["min","step"],qt={key:1},Yt={rowspan:"4",colspan:"2",style:{"border-color":"transparent"}},Jt={class:"button"},zt={style:{position:"relative"}},Gt={key:0,class:"wait-icon",src:"images/icon_loader_f_ww_01_s1.gif",width:"25",height:"25"},$t=["disabled"],Zt={class:"stat-value"},el=["step"],al={key:1},tl=["min","step"],ll={key:1},nl={class:"stat-value"},sl=["step"],il={key:1},ol=["min","step"],cl={key:1},ul={class:"stat-value"},rl=["step"],pl={key:1},dl=["min","step"],ml={key:1},kl={class:"tab-switch"},fl={for:"input-mode-tab-1"},vl={for:"input-mode-tab-2"},bl={class:"sub-input",id:"artifact-sub-input"},yl={key:0},gl={class:"priority-substat"},hl={style:{"border-color":"transparent"}},Ll=["onUpdate:modelValue"],Cl=["value"],Sl=["onUpdate:modelValue"],El=["value"],_l=["onUpdate:modelValue"],Rl=["value"],Il={style:{"border-color":"transparent"}},Ol={style:{"border-color":"transparent"}},Nl=["disabled"],Xl=["value"],Al={key:1,class:"artifact-cat-select"},wl={class:"cat-select"},Vl=["alt"],Ml=["alt"],Kl=["alt"],Tl=["alt"],Dl=["alt"],Fl={key:0},Wl={key:1,class:"artifact-select-list"},Ul={key:2},jl=["disabled"],xl={key:3};function Hl(e,a,t,i,o,c){const u=(0,n.g2)("ArtifactItem"),r=(0,n.g2)("ArtifactChangeInput"),p=(0,n.g2)("ArtifactDetailOcrResult");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e.visible?((0,n.uX)(),(0,n.CE)("div",at,[(0,n.Lk)("fieldset",null,[(0,n.Lk)("legend",null,(0,s.v_)(e.displayName("聖遺物詳細")),1),(0,n.Lk)("label",tt,[(0,n.eW)((0,s.v_)(e.displayName("生の花"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.mainstats[0]=a),onChange:a[1]||(a[1]=(...a)=>e.updateMainstats&&e.updateMainstats(...a))},[a[78]||(a[78]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat1List,(a=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayName(a)),9,lt)))),128))],544),[[l.u1,e.mainstats[0]]])]),(0,n.Lk)("label",nt,[(0,n.eW)((0,s.v_)(e.displayName("死の羽"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=a=>e.mainstats[1]=a),onChange:a[3]||(a[3]=(...a)=>e.updateMainstats&&e.updateMainstats(...a))},[a[79]||(a[79]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat2List,(a=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayName(a)),9,st)))),128))],544),[[l.u1,e.mainstats[1]]])]),(0,n.Lk)("label",it,[(0,n.eW)((0,s.v_)(e.displayName("時の砂"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[4]||(a[4]=a=>e.mainstats[2]=a),onChange:a[5]||(a[5]=(...a)=>e.updateMainstats&&e.updateMainstats(...a))},[a[80]||(a[80]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat3List,(a=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayName(a)),9,ot)))),128))],544),[[l.u1,e.mainstats[2]]])]),(0,n.Lk)("label",ct,[(0,n.eW)((0,s.v_)(e.displayName("空の杯"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[6]||(a[6]=a=>e.mainstats[3]=a),onChange:a[7]||(a[7]=(...a)=>e.updateMainstats&&e.updateMainstats(...a))},[a[81]||(a[81]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat4List,(a=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayName(a)),9,ut)))),128))],544),[[l.u1,e.mainstats[3]]])]),(0,n.Lk)("label",rt,[(0,n.eW)((0,s.v_)(e.displayName("理の冠"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[8]||(a[8]=a=>e.mainstats[4]=a),onChange:a[9]||(a[9]=(...a)=>e.updateMainstats&&e.updateMainstats(...a))},[a[82]||(a[82]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat5List,(a=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayName(a)),9,pt)))),128))],544),[[l.u1,e.mainstats[4]]])]),(0,n.Lk)("table",dt,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("HP")),1),(0,n.Lk)("td",mt,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[10]||(a[10]=a=>e.artifactStatsSub["HP"]=a),min:0,step:e.substatStep("HP"),onChange:a[11]||(a[11]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,kt)),[[l.Jo,e.artifactStatsSub["HP"]]]):((0,n.uX)(),(0,n.CE)("span",ft,(0,s.v_)(e.displayStatValue("HP",e.artifactStatsSub["HP"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[12]||(a[12]=a=>e.artifactStats["HP"]=a),min:e.substatMin("HP"),step:e.substatStep("HP"),onChange:a[13]||(a[13]=a=>e.artifactStatsOnChange("HP",e.targetValue(a)))},null,40,vt)),[[l.Jo,e.artifactStats["HP"]]]):((0,n.uX)(),(0,n.CE)("span",bt,(0,s.v_)(e.displayStatValue("HP",e.artifactStats["HP"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("HP%")),1),(0,n.Lk)("td",yt,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[14]||(a[14]=a=>e.artifactStatsSub["HP%"]=a),min:0,step:e.substatStep("HP%"),onChange:a[15]||(a[15]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,gt)),[[l.Jo,e.artifactStatsSub["HP%"]]]):((0,n.uX)(),(0,n.CE)("span",ht,(0,s.v_)(e.displayStatValue("HP%",e.artifactStatsSub["HP%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[16]||(a[16]=a=>e.artifactStats["HP%"]=a),min:e.substatMin("HP%"),step:e.substatStep("HP%"),onChange:a[17]||(a[17]=a=>e.artifactStatsOnChange("HP%",e.targetValue(a)))},null,40,Lt)),[[l.Jo,e.artifactStats["HP%"]]]):((0,n.uX)(),(0,n.CE)("span",Ct,(0,s.v_)(e.displayStatValue("HP%",e.artifactStats["HP%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("攻撃力")),1),(0,n.Lk)("td",St,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[18]||(a[18]=a=>e.artifactStatsSub["攻撃力"]=a),min:0,step:e.substatStep("攻撃力"),onChange:a[19]||(a[19]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,Et)),[[l.Jo,e.artifactStatsSub["攻撃力"]]]):((0,n.uX)(),(0,n.CE)("span",_t,(0,s.v_)(e.displayStatValue("攻撃力",e.artifactStatsSub["攻撃力"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[20]||(a[20]=a=>e.artifactStats["攻撃力"]=a),min:e.substatMin("攻撃力"),step:e.substatStep("攻撃力"),onChange:a[21]||(a[21]=a=>e.artifactStatsOnChange("攻撃力",e.targetValue(a)))},null,40,Rt)),[[l.Jo,e.artifactStats["攻撃力"]]]):((0,n.uX)(),(0,n.CE)("span",It,(0,s.v_)(e.displayStatValue("攻撃力",e.artifactStats["攻撃力"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("攻撃力%")),1),(0,n.Lk)("td",Ot,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[22]||(a[22]=a=>e.artifactStatsSub["攻撃力%"]=a),min:0,step:e.substatStep("攻撃力%"),onChange:a[23]||(a[23]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,Nt)),[[l.Jo,e.artifactStatsSub["攻撃力%"]]]):((0,n.uX)(),(0,n.CE)("span",Xt,(0,s.v_)(e.displayStatValue("攻撃力%",e.artifactStatsSub["攻撃力%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[24]||(a[24]=a=>e.artifactStats["攻撃力%"]=a),min:e.substatMin("攻撃力%"),step:e.substatStep("攻撃力%"),onChange:a[25]||(a[25]=a=>e.artifactStatsOnChange("攻撃力%",e.targetValue(a)))},null,40,At)),[[l.Jo,e.artifactStats["攻撃力%"]]]):((0,n.uX)(),(0,n.CE)("span",wt,(0,s.v_)(e.displayStatValue("攻撃力%",e.artifactStats["攻撃力%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("防御力")),1),(0,n.Lk)("td",Vt,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[26]||(a[26]=a=>e.artifactStatsSub["防御力"]=a),min:0,step:e.substatStep("防御力"),onChange:a[27]||(a[27]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,Mt)),[[l.Jo,e.artifactStatsSub["防御力"]]]):((0,n.uX)(),(0,n.CE)("span",Kt,(0,s.v_)(e.displayStatValue("防御力",e.artifactStatsSub["防御力"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[28]||(a[28]=a=>e.artifactStats["防御力"]=a),min:e.substatMin("防御力"),step:e.substatStep("防御力"),onChange:a[29]||(a[29]=a=>e.artifactStatsOnChange("防御力",e.targetValue(a)))},null,40,Tt)),[[l.Jo,e.artifactStats["防御力"]]]):((0,n.uX)(),(0,n.CE)("span",Dt,(0,s.v_)(e.displayStatValue("防御力",e.artifactStats["防御力"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("防御力%")),1),(0,n.Lk)("td",Ft,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[30]||(a[30]=a=>e.artifactStatsSub["防御力%"]=a),min:0,step:e.substatStep("防御力%"),onChange:a[31]||(a[31]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,Wt)),[[l.Jo,e.artifactStatsSub["防御力%"]]]):((0,n.uX)(),(0,n.CE)("span",Ut,(0,s.v_)(e.displayStatValue("防御力%",e.artifactStatsSub["防御力%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[32]||(a[32]=a=>e.artifactStats["防御力%"]=a),min:e.substatMin("防御力%"),step:e.substatStep("防御力%"),onChange:a[33]||(a[33]=a=>e.artifactStatsOnChange("防御力%",e.targetValue(a)))},null,40,jt)),[[l.Jo,e.artifactStats["防御力%"]]]):((0,n.uX)(),(0,n.CE)("span",xt,(0,s.v_)(e.displayStatValue("防御力%",e.artifactStats["防御力%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("元素熟知")),1),(0,n.Lk)("td",Ht,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[34]||(a[34]=a=>e.artifactStatsSub["元素熟知"]=a),min:0,step:e.substatStep("元素熟知"),onChange:a[35]||(a[35]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,Qt)),[[l.Jo,e.artifactStatsSub["元素熟知"]]]):((0,n.uX)(),(0,n.CE)("span",Pt,(0,s.v_)(e.displayStatValue("元素熟知",e.artifactStatsSub["元素熟知"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[36]||(a[36]=a=>e.artifactStats["元素熟知"]=a),min:e.substatMin("元素熟知"),step:e.substatStep("元素熟知"),onChange:a[37]||(a[37]=a=>e.artifactStatsOnChange("元素熟知",e.targetValue(a)))},null,40,Bt)),[[l.Jo,e.artifactStats["元素熟知"]]]):((0,n.uX)(),(0,n.CE)("span",qt,(0,s.v_)(e.displayStatValue("元素熟知",e.artifactStats["元素熟知"])),1))],64))]),(0,n.Lk)("td",Yt,[(0,n.Lk)("div",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[38]||(a[38]=a=>e.editableRef=a)},null,512),[[l.lH,e.editableRef]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("直接入力モード")),1)])]),(0,n.Lk)("div",null,[(0,n.Lk)("label",Jt,[(0,n.eW)((0,s.v_)(e.displayName("聖遺物詳細画面OCR"))+" ",1),(0,n.Lk)("input",{class:"hidden",type:"file",id:"artifact-stats-image",onChange:a[39]||(a[39]=a=>e.loadArtifactStatsByOcr(a))},null,32)])]),(0,n.Lk)("div",zt,[e.isScanning?((0,n.uX)(),(0,n.CE)("img",Gt)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[40]||(a[40]=a=>e.canInitializeStats=a)},null,512),[[l.lH,e.canInitializeStats]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("全てクリア")),1)]),(0,n.Lk)("button",{onClick:a[41]||(a[41]=(...a)=>e.initializeAll&&e.initializeAll(...a)),disabled:!e.canInitializeStats},(0,s.v_)(e.displayName("実行")),9,$t)])])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心率")),1),(0,n.Lk)("td",Zt,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[42]||(a[42]=a=>e.artifactStatsSub["会心率"]=a),min:0,step:e.substatStep("会心率"),onChange:a[43]||(a[43]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,el)),[[l.Jo,e.artifactStatsSub["会心率"]]]):((0,n.uX)(),(0,n.CE)("span",al,(0,s.v_)(e.displayStatValue("会心率",e.artifactStatsSub["会心率"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[44]||(a[44]=a=>e.artifactStats["会心率"]=a),min:e.substatMin("会心率"),step:e.substatStep("会心率"),onChange:a[45]||(a[45]=a=>e.artifactStatsOnChange("会心率",e.targetValue(a)))},null,40,tl)),[[l.Jo,e.artifactStats["会心率"]]]):((0,n.uX)(),(0,n.CE)("span",ll,(0,s.v_)(e.displayStatValue("会心率",e.artifactStats["会心率"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心ダメージ")),1),(0,n.Lk)("td",nl,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[46]||(a[46]=a=>e.artifactStatsSub["会心ダメージ"]=a),min:0,step:e.substatStep("会心ダメージ"),onChange:a[47]||(a[47]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,sl)),[[l.Jo,e.artifactStatsSub["会心ダメージ"]]]):((0,n.uX)(),(0,n.CE)("span",il,(0,s.v_)(e.displayStatValue("会心ダメージ",e.artifactStatsSub["会心ダメージ"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[48]||(a[48]=a=>e.artifactStats["会心ダメージ"]=a),min:e.substatMin("会心ダメージ"),step:e.substatStep("会心ダメージ"),onChange:a[49]||(a[49]=a=>e.artifactStatsOnChange("会心ダメージ",e.targetValue(a)))},null,40,ol)),[[l.Jo,e.artifactStats["会心ダメージ"]]]):((0,n.uX)(),(0,n.CE)("span",cl,(0,s.v_)(e.displayStatValue("会心ダメージ",e.artifactStats["会心ダメージ"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("元素チャージ効率")),1),(0,n.Lk)("td",ul,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[50]||(a[50]=a=>e.artifactStatsSub["元素チャージ効率"]=a),min:0,step:e.substatStep("元素チャージ効率"),onChange:a[51]||(a[51]=(...a)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...a))},null,40,rl)),[[l.Jo,e.artifactStatsSub["元素チャージ効率"]]]):((0,n.uX)(),(0,n.CE)("span",pl,(0,s.v_)(e.displayStatValue("元素チャージ効率",e.artifactStatsSub["元素チャージ効率"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":a[52]||(a[52]=a=>e.artifactStats["元素チャージ効率"]=a),min:e.substatMin("元素チャージ効率"),step:e.substatStep("元素チャージ効率"),onChange:a[53]||(a[53]=a=>e.artifactStatsOnChange("元素チャージ効率",e.targetValue(a)))},null,40,dl)),[[l.Jo,e.artifactStats["元素チャージ効率"]]]):((0,n.uX)(),(0,n.CE)("span",ml,(0,s.v_)(e.displayStatValue("元素チャージ効率",e.artifactStats["元素チャージ効率"])),1))],64))])])])])]),(0,n.Lk)("div",kl,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"input-mode-tab-1",type:"radio",value:"1","onUpdate:modelValue":a[54]||(a[54]=a=>e.artifactInputModeTab=a)},null,512),[[l.XL,e.artifactInputModeTab]]),(0,n.Lk)("label",fl,(0,s.v_)(e.displayName("簡易設定")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"input-mode-tab-2",type:"radio",value:"2","onUpdate:modelValue":a[55]||(a[55]=a=>e.artifactInputModeTab=a)},null,512),[[l.XL,e.artifactInputModeTab]]),(0,n.Lk)("label",vl,(0,s.v_)(e.displayName("個別設定")),1)]),(0,n.Lk)("div",bl,["1"==e.artifactInputModeTab?((0,n.uX)(),(0,n.CE)("fieldset",yl,[(0,n.Lk)("table",gl,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("優先するサブ効果")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("上昇値")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("初期+強化")),1),(0,n.Lk)("td",hl,"合計 "+(0,s.v_)(e.upTotalCount)+" 回",1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)([...Array(e.prioritySubstats.length)].map(((e,a)=>a)),(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.prioritySubstats[t]=a,onChange:a[56]||(a[56]=(...a)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...a))},[a[83]||(a[83]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatList,(a=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayName(a)),9,Cl)))),128))],40,Ll),[[l.u1,e.prioritySubstats[t]]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.prioritySubstatIndices[t]=a,onChange:a[57]||(a[57]=(...a)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatValueList(t),((e,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(Math.round(10*e)/10),9,El)))),128))],40,Sl),[[l.u1,e.prioritySubstatIndices[t]]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.prioritySubstatCounts[t]=a,onChange:a[58]||(a[58]=(...a)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatCountList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e},(0,s.v_)(" × "+e),9,Rl)))),128))],40,_l),[[l.u1,e.prioritySubstatCounts[t]]])]),(0,n.bo)((0,n.Lk)("td",Il,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[59]||(a[59]=a=>e.gensenEnabledRef=a)},null,512),[[l.lH,e.gensenEnabledRef]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("一括変更")),1)])],512),[[l.aG,0==t]]),(0,n.bo)((0,n.Lk)("td",Ol,[(0,n.bo)((0,n.Lk)("select",{class:"gensen","onUpdate:modelValue":a[60]||(a[60]=a=>e.gensenRef=a),onChange:a[61]||(a[61]=(...a)=>e.gensenOnChange&&e.gensenOnChange(...a)),disabled:!e.gensenEnabledRef},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.gensenMasterList,(a=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a.key},(0,s.v_)(e.displayName(a.key)),9,Xl)))),128))],40,Nl),[[l.u1,e.gensenRef]])],512),[[l.aG,1==t]])])))),128))])])])):(0,n.Q3)("",!0),"2"==e.artifactInputModeTab?((0,n.uX)(),(0,n.CE)("div",Al,[(0,n.Lk)("div",wl,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"1","onUpdate:modelValue":a[62]||(a[62]=a=>e.artifactCatTabSelected=a),onChange:a[63]||(a[63]=(...a)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/flower_of_life.png",alt:e.displayName("生の花")},null,8,Vl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"2","onUpdate:modelValue":a[64]||(a[64]=a=>e.artifactCatTabSelected=a),onChange:a[65]||(a[65]=(...a)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/plume_of_death.png",alt:e.displayName("死の羽")},null,8,Ml)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"3","onUpdate:modelValue":a[66]||(a[66]=a=>e.artifactCatTabSelected=a),onChange:a[67]||(a[67]=(...a)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/sands_of_eon.png",alt:e.displayName("時の砂")},null,8,Kl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"4","onUpdate:modelValue":a[68]||(a[68]=a=>e.artifactCatTabSelected=a),onChange:a[69]||(a[69]=(...a)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/goblet_of_eonothem.png",alt:e.displayName("空の杯")},null,8,Tl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"5","onUpdate:modelValue":a[70]||(a[70]=a=>e.artifactCatTabSelected=a),onChange:a[71]||(a[71]=(...a)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/circlet_of_logos.png",alt:e.displayName("理の冠")},null,8,Dl)])]),e.isArtifactSelectListShow||e.isNewArtifactInputShow||e.isArtifactChangeInputShow?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Fl,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactListCat,((e,a)=>((0,n.uX)(),(0,n.Wv)(u,{key:a,artifact:e},null,8,["artifact"])))),128)),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:a[72]||(a[72]=(...a)=>e.artifactSelectOnClick&&e.artifactSelectOnClick(...a))},(0,s.v_)(e.displayName("選択")),1),(0,n.Lk)("button",{type:"button",onClick:a[73]||(a[73]=(...a)=>e.artifactNewOnClick&&e.artifactNewOnClick(...a))},(0,s.v_)(e.displayName("新規")),1),e.artifactListCat.length?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:a[74]||(a[74]=(...a)=>e.artifactRemoveOnClick&&e.artifactRemoveOnClick(...a))},(0,s.v_)(e.displayName("解除")),1)):(0,n.Q3)("",!0)])])),e.isArtifactSelectListShow?((0,n.uX)(),(0,n.CE)("div",Wl,[(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:a[75]||(a[75]=a=>e.isArtifactSelectListShow=!e.isArtifactSelectListShow)},(0,s.v_)(e.displayName("閉じる")),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactOwnArrCatId(e.artifactCatTabSelected),(a=>((0,n.uX)(),(0,n.Wv)(u,{key:a.id,artifact:a.artifact,id:a.id,score:a.score,control:"selectable",selected:e.artifactSelected(a.artifact),"onSelect:artifact":e.selectArtifact},null,8,["artifact","id","score","selected","onSelect:artifact"])))),128))])):(0,n.Q3)("",!0),e.isNewArtifactInputShow?((0,n.uX)(),(0,n.CE)("div",Ul,[(0,n.bF)(u,{artifact:e.newArtifact,id:0,control:"editable",initial:!0,"onUpdate:artifact":e.updateNewArtifact},null,8,["artifact","onUpdate:artifact"]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:a[76]||(a[76]=(...a)=>e.newArtifactAddOnClick&&e.newArtifactAddOnClick(...a)),disabled:!e.isNewArtifactAddable},(0,s.v_)(e.displayName("適用")),9,jl),(0,n.Lk)("button",{type:"button",onClick:a[77]||(a[77]=(...a)=>e.isNewArtifactInputShowEndProc&&e.isNewArtifactInputShowEndProc(...a))},(0,s.v_)(e.displayName("キャンセル")),1)])])):(0,n.Q3)("",!0),e.isArtifactChangeInputShow?((0,n.uX)(),(0,n.CE)("div",xl,[(0,n.bF)(r,{before:e.artifactBefore,after:e.artifactAfter,"onApply:artifactChange":e.applyArtifactChange,"onCancel:artifactChange":e.cancelArtifactChange},null,8,["before","after","onApply:artifactChange","onCancel:artifactChange"])])):(0,n.Q3)("",!0),a[84]||(a[84]=(0,n.Lk)("p",null," 聖遺物の入れ替えではなく、0から設定する場合は、「全てクリア」を実行してから行ってください。 ",-1))])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),(0,n.Lk)("div",null,[(0,n.bF)(p,{visible:e.ocrResultVisible,ocrResult:e.ocrResult,"onCancel:artifactDetailOcrResult":e.cancelArtifactDetailOcrResult,"onAccept:artifactDetailOcrResult":e.acceptArtifactDetailOcrResult},null,8,["visible","ocrResult","onCancel:artifactDetailOcrResult","onAccept:artifactDetailOcrResult"])]),(0,n.bo)((0,n.Lk)("div",null,a[85]||(a[85]=[(0,n.Lk)("canvas",{id:"artifact-stats-canvas"},null,-1)]),512),[[l.aG,!1]])],64)}const Ql={class:"modal"},Pl={class:"modal-content"},Bl={class:"ocr-result"};function ql(e,a,t,i,o,c){return(0,n.uX)(),(0,n.Wv)(n.Im,{to:"body"},[(0,n.bo)((0,n.Lk)("div",Ql,[(0,n.Lk)("div",Pl,[(0,n.Lk)("table",Bl,[a[2]||(a[2]=(0,n.Lk)("caption",null,"OCR RESULT",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.items,(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a.key},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatName(a.key)),1),(0,n.Lk)("td",null,(0,s.v_)(e.displayStatValue(a.key,a.value)),1)])))),128))]),a[3]||(a[3]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("button",{type:"button",onClick:a[0]||(a[0]=(...a)=>e.ok&&e.ok(...a))}," OK "),(0,n.Lk)("button",{type:"button",onClick:a[1]||(a[1]=(...a)=>e.cancel&&e.cancel(...a))}," CANCEL ")])],512),[[l.aG,e.visible]])])}var Yl=(0,n.pM)({name:"ArtifactDetailOcrResult",props:{visible:{type:Boolean,required:!0,default:!1},ocrResult:{type:Object,required:!0}},emits:["cancel:artifact-detail-ocr-result","accept:artifact-detail-ocr-result"],setup(e,a){const{displayStatName:t,displayStatValue:l}=(0,q.A)(),s=(0,n.EW)((()=>Object.keys(e.ocrResult).map((a=>({key:a,value:e.ocrResult[a]}))))),i=()=>{a.emit("cancel:artifact-detail-ocr-result")},o=()=>{a.emit("accept:artifact-detail-ocr-result")};return{displayStatName:t,displayStatValue:l,items:s,cancel:i,ok:o}}});const Jl=(0,J.A)(Yl,[["render",ql],["__scopeId","data-v-7f3f3a1f"]]);var zl=Jl,Gl=t(3345);const $l={class:"artifact"},Zl={class:"artifact"},en={key:0,class:"artifact-before-after"},an={colspan:"2"},tn=["src","alt"],ln={colspan:"2"},nn={key:0,class:"artifact-before-after"},sn={colspan:"2"},on=["src","alt"],cn={colspan:"2"},un={key:0},rn={colspan:"2"},pn={class:"artifact-stat"},dn={colspan:"2"},mn={style:{"margin-top":"5px"}};function kn(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)("div",$l,[(0,n.Lk)("table",Zl,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[e.before?((0,n.uX)(),(0,n.CE)("table",en,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",an,(0,s.v_)(e.displayName("現在装備")),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,[(0,n.Lk)("img",{class:"artifact-icon",src:e.artifactImgSrc(e.before),alt:e.displayName(e.before.name)},null,8,tn)]),(0,n.Lk)("td",null,[(0,n.eW)((0,s.v_)(e.displayStatStr(e.before.mainStat,e.before.mainStatValue))+" ",1),a[3]||(a[3]=(0,n.Lk)("br",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(new Array(e.before.rarity),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",key:e})))),128))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.before.subStats,(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a.name},[(0,n.Lk)("td",ln,(0,s.v_)(e.displayStatStr(a.name,a.value)),1)])))),128))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("td",null,[e.after?((0,n.uX)(),(0,n.CE)("table",nn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",sn,(0,s.v_)(e.displayName("変更後")),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,[(0,n.Lk)("img",{class:"artifact-icon",src:e.artifactImgSrc(e.after),alt:e.displayName(e.after.name)},null,8,on)]),(0,n.Lk)("td",null,[(0,n.eW)((0,s.v_)(e.displayStatStr(e.after.mainStat,e.after.mainStatValue))+" ",1),a[4]||(a[4]=(0,n.Lk)("br",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(new Array(e.after.rarity),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",key:e})))),128))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.after.subStats,(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a.name},[(0,n.Lk)("td",cn,(0,s.v_)(e.displayStatStr(a.name,a.value)),1)])))),128))])])):(0,n.Q3)("",!0)])]),e.isStatsChange?((0,n.uX)(),(0,n.CE)("tr",un,[(0,n.Lk)("td",rn,[(0,n.Lk)("table",pn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",dn,(0,s.v_)(e.displayName("ステータス変化")),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainStatDiffList,(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a.key},[(0,n.Lk)("td",null,(0,s.v_)(e.displayName(a.key)),1),(0,n.Lk)("td",{class:(0,s.C4)("value "+e.statValueClass(a.value))},(0,s.v_)((a.value>=0?"+":"")+e.displayStatValue(a.key,a.value)),3)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.subStatDiffList,(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a.key},[(0,n.Lk)("td",null,(0,s.v_)(e.displayName(a.key)),1),(0,n.Lk)("td",{class:(0,s.C4)("value "+e.statValueClass(a.value))},(0,s.v_)((a.value>=0?"+":"")+e.displayStatValue(a.key,a.value)),3)])))),128))])])])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",mn,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=a=>e.isStatsChange=a)},null,512),[[l.lH,e.isStatsChange]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("ステータス変化分を適用する")),1)]),a[5]||(a[5]=(0,n.Lk)("br",null,null,-1)),a[6]||(a[6]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("button",{type:"button",onClick:a[1]||(a[1]=(...a)=>e.applyOnClick&&e.applyOnClick(...a))},(0,s.v_)(e.displayName("適用")),1),(0,n.Lk)("button",{type:"button",onClick:a[2]||(a[2]=(...a)=>e.cancelOnClick&&e.cancelOnClick(...a))},(0,s.v_)(e.displayName("キャンセル")),1)])])}var fn=(0,n.pM)({name:"ArtifactChangeInput",props:{before:{type:Object},after:{type:Object}},emits:["apply:artifact-change","cancel:artifact-change"],setup(e,a){const{displayName:t,displayStatValue:l}=(0,q.A)(),s=(0,x.KR)(!0),i=e=>e?.setname?(0,Pe.ft)(e.setname,e.cat_id):Pe.M2;function o(e,a){let t=e.replace(/%$/,"");return a>=0&&(t+="+"),t+=l(e,a),t}const c=(0,n.EW)((()=>{const a=[];if(e.after){const t=e.after.mainStat;let l=e.after.mainStatValue;e.before&&(t==e.before.mainStat&&e.before.mainStatValue?l-=e.before.mainStatValue:a.push({key:e.before.mainStat,value:-e.before.mainStatValue})),t&&l&&a.push({key:t,value:l})}return a})),u=(0,n.EW)((()=>{const a=[];for(const t of Qe.tB){const l=t;let n=0;if(e.after)for(const a of e.after.subStats)l==a.name&&(n+=a.value);if(e.before)for(const a of e.before.subStats)l==a.name&&(n-=a.value);0!=n&&a.push({key:l,value:n})}return a})),r=e=>e>=0?"plus":"minus",p=()=>{s.value?a.emit("apply:artifact-change",s.value,u.value):a.emit("apply:artifact-change",s.value,[])},d=()=>{a.emit("cancel:artifact-change")};return{displayName:t,displayStatValue:l,isStatsChange:s,artifactImgSrc:i,mainStatDiffList:c,subStatDiffList:u,displayStatStr:o,statValueClass:r,applyOnClick:p,cancelOnClick:d}}});const vn=(0,J.A)(fn,[["render",kn],["__scopeId","data-v-7c9ac9da"]]);var bn=vn,yn=t(3216),gn=t.n(yn);const{createWorker:hn}=gn();let Ln="0123456789.%+";function Cn(e){return new Promise((function(a,t){const l=new FileReader;l.onload=function(){a(l.result)},l.onerror=function(e){t(e)},l.readAsDataURL(e)}))}function Sn(e){return new Promise((function(a,t){const l=new Image;l.onload=function(){a(l)},l.onerror=function(e){t(e)},l.src=e.toString()}))}async function En(e){const a=await Cn(e),t=await Sn(a),l=document.getElementById("artifact-stats-canvas"),n=l.getContext("2d"),s=2;l.width=t.width*s,l.height=t.height*s,n.drawImage(t,0,0,l.width,l.height);const i=n.getImageData(0,0,l.width,l.height);for(let o=0;o<i.height;o++)for(let e=0;e<i.width;e++){const a=4*o*i.width+4*e,t=(i.data[a]+i.data[a+1]+i.data[a+2])/3;i.data[a]=255-(t<64?0:i.data[a]),i.data[a+1]=255-(t<64?0:i.data[a+1]),i.data[a+2]=255-(t<64?0:i.data[a+2])}return n.putImageData(i,0,0,0,0,i.width,i.height),l}function _n(e){console.log(e),e=e.replace(/[,\s]/g,""),e=e.replace(/[Ａ-Ｚａ-ｚ０-９]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})),e=e.replace(/[①②③④⑤⑥⑦⑧⑨]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-("①".charCodeAt(0)-"1".charCodeAt(0)))})),[["⑪","11"],["⑫","12"],["⑬","13"],["⑭","14"],["⑮","15"],["⑯","16"],["⑰","17"],["⑱","18"],["⑲","19"],["⑳","20"]].forEach((a=>{e=e.replace(new RegExp(a[0],"g"),a[1])})),console.log(e);const a={};return["HP上限","攻撃力","防御力","元素.*?知","会心率","会心ダメージ","元素チャージ効率"].forEach((t=>{let l=t;"HP上限"==t&&(l="HP"),"元素.*?知"==t&&(l="元素熟知");const n=new RegExp(t+"\\+([0-9\\.]+)"),s=n.exec(e);s?(["HP","攻撃力","防御力","元素熟知"].includes(l)?a[l]=Number(s[1].replace(".","")):a[l]=Number(s[1]),console.log(l,a[l])):a[l]=0})),a}async function Rn(e){const a=await En(e),t=hn({logger:e=>console.debug(e)});await t.load(),await t.loadLanguage("jpn"),await t.initialize("jpn"),await t.setParameters({tessedit_char_whitelist:Ln,preserve_interword_spaces:"1"});const{data:{text:l}}=await t.recognize(a);await t.terminate();const n=_n(l);return n}async function In(e){let a;const t=e.currentTarget,l=t.files;if(l&&l[0]){const e=l[0];e.type.match("image.*")&&(t.files=null,t.value="",a=await Rn(e))}return console.log("resizePinnedImage",a),a}["HP上限","攻撃力","防御力","元素熟知","会心率","会心ダメージ","元素チャージ効率","基本ステータス","高級ステータス","元素ステータス","スタミナ上限","与える治療効果","受ける治療効果","クールタイム短縮","シールド強化","炎元素ダメージ","水元素ダメージ","風元素ダメージ","雷元素ダメージ","草元素ダメージ","氷元素ダメージ","岩元素ダメージ","物理ダメージ","？"].forEach((e=>{e.split("").forEach((e=>{-1==Ln.indexOf(e)&&(Ln+=e)}))}));var On=t(2112),Nn=1,Xn=(0,n.pM)({name:"ArtifactDetailInput",props:{visible:Boolean,artifactDetailInput:{type:Object,required:!0},isSubStatOnly:Boolean,nextStatRows:Array},components:{ArtifactDetailOcrResult:zl,ArtifactItem:Gl.A,ArtifactChangeInput:bn},emits:["update:artifact-detail"],setup(e,a){const{displayName:t,targetValue:l,displayStatValue:s}=(0,q.A)(),i="artifact_list",o=(0,x.Kh)(e.artifactDetailInput),c=o.聖遺物メイン効果,u=o.聖遺物優先するサブ効果,r=o.聖遺物優先するサブ効果上昇値,p=o.聖遺物優先するサブ効果上昇回数,d=o.聖遺物ステータス,m=o.聖遺物ステータスメイン効果,k=o.聖遺物ステータスサブ効果,f=o.artifact_list,v=(0,x.Kh)(j().cloneDeep(Qe.wE)),b=(0,x.Kh)([]),y=(0,x.Kh)(j().cloneDeep(Qe.wE)),g=(0,x.KR)(!1),h=(0,x.KR)(!1),L=Pe.Rm,C=(0,x.KR)(Pe.Rm[2]),S=(0,x.KR)(!1),E=(0,x.KR)(!1),_=(0,x.KR)(!1),R=(0,x.KR)("1"),I=(0,x.KR)(1),O=(0,x.KR)(!1),N=(0,n.EW)((()=>{let e=0;for(let a=0;a<u.length;a++)u[a]&&(e+=p[a]);return Math.min(45,40+Math.floor(Math.max(0,(e-12)/5)))})),X=(0,n.EW)((()=>{if(!y.name)return!1;if(!y.rarity)return!1;if(!y.setname)return!1;if(!y.cat_id)return!1;if(!y.mainStat)return!1;if(!y.mainStatValue)return!1;for(const e of y.subStats){if(!e.name)return!1;if(!e.value)return!1}return!0})),A=(0,n.EW)((()=>{const e=Number(I.value),a=f.filter((a=>a.cat_id==e));return a})),w=(0,n.EW)((()=>{const e=A.value;return e.length>0?e[0]:void 0})),V=(e,a)=>(0,Qe.Yk)(u,e,a),M=e=>e in m?m[e]:0,K=e=>["HP","攻撃力","防御力","元素熟知"].includes(e)?1:.1,T=()=>{Z(),S.value=!1},D=e=>j().isEqual(e,w.value);function F(a){let t=0;return e.nextStatRows&&e.nextStatRows.forEach((e=>{a.subStats.forEach((a=>{a.name==e[0]&&(t+=a.value*e[4]/e[1][e[2]])}))})),t}function W(){b.forEach((e=>{e.score=F(e.artifact)}))}const U=e=>{e=Number(e);const a=b.filter((a=>a.artifact.cat_id==e)),t=f.filter((a=>a.cat_id==e)),l=t.length>0?t[0]:void 0;return a.sort(((e,a)=>{if(e.artifact.setname!=a.artifact.setname){if(l){if(e.artifact.setname==l.setname)return-1;if(a.artifact.setname==l.setname)return 1;if(e.artifact.mainStat!=a.artifact.mainStat){if(e.artifact.mainStat==l.mainStat)return-1;if(a.artifact.mainStat==l.mainStat)return 1}}}else if(e.artifact.mainStat!=a.artifact.mainStat&&l){if(e.artifact.mainStat==l.mainStat)return-1;if(a.artifact.mainStat==l.mainStat)return 1}return a.score-e.score}))},H=()=>{E.value=!1,_.value=!1,S.value=!0},Q=()=>{(0,On.BW)(y,Qe.wE),y.cat_id=Number(I.value),S.value=!1,E.value=!1,_.value=!0},P=()=>{Z(),S.value=!1,_.value=!1,E.value=!0},B=e=>{S.value=!1;const a=b.filter((a=>a.id==e));a.length>0&&((0,On.BW)(v,a[0].artifact),E.value=!0),document.getElementById("artifact-sub-input")?.scrollIntoView({behavior:"smooth"})},Y=(e,a)=>{console.log(a),0==e&&(0,On.BW)(y,a)},J=()=>{_.value&&((0,On.BW)(v,y),E.value=!0),z()},z=()=>{_.value=!1},G=async(e,t)=>{if(E.value=!1,e){const e=w.value?.mainStat,a=w.value?.mainStatValue,l=v?.mainStat,n=v?.mainStatValue,s=v?.rarity;e&&a&&(m[e]-=a),l&&n&&(s&&(c[Number(I.value)-1]=s+"_"+l),m[l]+=n);for(const i of t)k[i.key]+=i.value}if(v?.name){const e=f.filter((e=>e.cat_id==Number(I.value))).length;if(e>0){for(let a=0;a<f.length;a++)if(f[a].cat_id==Number(I.value)){f.splice(a,1,j().cloneDeep(v));break}}else f.push(j().cloneDeep(v))}else for(let a=0;a<f.length;a++)if(f[a].cat_id==Number(I.value)){f.splice(a,1);break}Z(),ee(),(0,Ka.S_)(o),await(0,n.dY)(),a.emit("update:artifact-detail",o)},$=()=>{Z(),E.value=!1},Z=()=>{(0,On.BW)(v,Qe.wE)},ee=()=>{(0,Ka.Jo)(m,c)},ae=()=>{if(o.聖遺物優先するサブ効果Disabled)return;const e=[];for(let a=0;a<o.聖遺物優先するサブ効果.length;a++)e.push(V(a));(0,Ka.om)(k,c,u,r,e,p)};ee(),ae(),(0,Ka.S_)(o);const te=async()=>{ee(),(0,Ka.S_)(o),await(0,n.dY)(),a.emit("update:artifact-detail",o)},le=async(e,t)=>{Object.keys(d).filter((a=>!e||a==e)).forEach((a=>{a==e&&void 0!==t&&(k[a]=Number(t)),k[a]=d[a]-m[a],k[a]<0&&(k[a]=0,d[a]=m[a])})),(0,Ka.S_)(o),await(0,n.dY)(),a.emit("update:artifact-detail",o)},ne=async()=>{(0,Ka.S_)(o),await(0,n.dY)(),a.emit("update:artifact-detail",o)},se=async()=>{o.聖遺物優先するサブ効果Disabled=!1,ae(),(0,Ka.S_)(o),await(0,n.dY)(),a.emit("update:artifact-detail",o)},ie=async()=>{o.聖遺物優先するサブ効果Disabled=!1,h.value=!1,C.value&&C.value.key&&(r.splice(0,r.length,...C.value.values),p.splice(0,p.length,...C.value.counts),ae(),(0,Ka.S_)(o),await(0,n.dY)(),a.emit("update:artifact-detail",o))},oe=async()=>{o.聖遺物優先するサブ効果Disabled=!0;for(const e of Object.keys(k))k[e]=0;(0,Ka.S_)(o),await(0,n.dY)(),a.emit("update:artifact-detail",o)},ce=(0,x.KR)(!1),ue=(0,x.KR)(!1),re=(0,x.Kh)({}),pe=async e=>{ce.value=!0;const a=await In(e);ce.value=!1,a&&((0,On.BW)(re,a),ue.value=!0)},de=()=>{ue.value=!1},me=()=>{if(de(),re){o.聖遺物優先するサブ効果Disabled=!0;for(const e of Object.keys(k))k[e]=e in re?re[e]:0;for(const[e,a]of c.entries())a.endsWith("ダメージバフ")||"与える治療効果"==a||c.splice(e,1,"");te()}},ke=async()=>{O.value=!1;for(let e=0;e<c.length;e++)c[e]="";ee(),await oe(),f.splice(0,f.length)},fe=()=>{if(i in localStorage){const e=JSON.parse(localStorage[i]),a=e.filter((e=>"setname"in e)).map((e=>({id:Nn++,artifact:e,score:0})));b.splice(0,b.length,...a),W()}};return fe(),(0,n.wB)(e,(e=>{e.nextStatRows&&W()})),{displayName:t,targetValue:l,displayStatValue:s,mainstat1List:Qe.dU,mainstat2List:Qe.Ro,mainstat3List:Qe.Fv,mainstat4List:Qe.iF,mainstat5List:Qe.de,substatMin:M,substatStep:K,prioritySubstatList:Qe.ZI,prioritySubstatValueList:V,prioritySubstatCountList:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],mainstats:c,prioritySubstats:u,prioritySubstatIndices:r,prioritySubstatCounts:p,artifactStats:d,artifactStatsSub:k,upTotalCount:N,editableRef:g,gensenEnabledRef:h,gensenRef:C,gensenMasterList:L,gensenOnChange:ie,artifactStatsOnChange:le,artifactStatsSubOnChange:ne,updateMainstats:te,updatePrioritySubstats:se,isArtifactSelectListShow:S,isArtifactChangeInputShow:E,isNewArtifactInputShow:_,artifactListCat:A,artifactOwnArrCatId:U,newArtifact:y,isNewArtifactAddable:X,artifactCatTabOnChange:T,artifactSelectOnClick:H,artifactNewOnClick:Q,artifactRemoveOnClick:P,artifactInputModeTab:R,artifactCatTabSelected:I,artifactBefore:w,artifactAfter:v,selectArtifact:B,artifactSelected:D,updateNewArtifact:Y,applyArtifactChange:G,cancelArtifactChange:$,newArtifactAddOnClick:J,isNewArtifactInputShowEndProc:z,loadArtifactStatsByOcr:pe,isScanning:ce,ocrResultVisible:ue,ocrResult:re,cancelArtifactDetailOcrResult:de,acceptArtifactDetailOcrResult:me,initializeArtifactStatsSub:oe,canInitializeStats:O,initializeAll:ke}}});const An=(0,J.A)(Xn,[["render",Hl],["__scopeId","data-v-54720362"]]);var wn=An;const Vn=["onUpdate:modelValue","onChange"],Mn=["onUpdate:modelValue","onChange"],Kn=["value"],Tn=["onUpdate:modelValue","min","max","step","onBlur"],Dn={style:{"text-align":"center"}},Fn={class:"open-close"},Wn={key:0,class:"option-description"};function Un(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.checkboxList,(a=>((0,n.uX)(),(0,n.CE)("label",{key:a.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.conditionValues[a.name]=t,onChange:t=>e.updateCondition(t,a)},null,40,Vn),[[l.lH,e.conditionValues[a.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.name)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.selectList,(a=>((0,n.uX)(),(0,n.CE)("label",{key:a.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.name)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.conditionValues[a.name]=t,onChange:t=>e.updateCondition(t,a)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.options,((a,t)=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayOptionName(a)),9,Kn)))),128))],40,Mn),[[l.u1,e.conditionValues[a.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.numberList,(a=>((0,n.uX)(),(0,n.CE)("label",{key:a.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.name)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.conditionValues[a.name]=t,min:a.min,max:a.max,step:a.step,onBlur:t=>e.updateCondition(t,a)},null,40,Tn),[[l.Jo,e.conditionValues[a.name]]])])))),128)),(0,n.Lk)("div",Dn,[(0,n.Lk)("label",Fn,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=a=>e.isDisplayDescription=a)},null,512),[[l.lH,e.isDisplayDescription]]),a[1]||(a[1]=(0,n.Lk)("span",null,null,-1))])]),e.isDisplayDescription?((0,n.uX)(),(0,n.CE)("ul",Wn,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))])):(0,n.Q3)("",!0)])}var jn=(0,n.pM)({name:"ConditionInput",props:{characterInput:{type:Object,required:!0}},emits:["update:condition"],setup(e,a){const{displayName:t,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,q.A)(),o=(0,x.Kh)(j().cloneDeep(Qe.yQ.checkboxList)),c=(0,x.Kh)(j().cloneDeep(Qe.yQ.selectList)),u=(0,x.Kh)(j().cloneDeep(Qe.yQ.numberList)),r=(0,x.Kh)(j().cloneDeep(Qe.yQ.conditionValues)),p=(0,x.Kh)(j().cloneDeep(Qe.yQ.conditionAdjustments)),d=(0,x.KR)(!1),m=(0,n.EW)((()=>{const e=[];for(const a of Object.keys(p)){const t=p[a];let n=l(a).replace("%","");if(null===t);else if((0,On.kf)(t)){if(0===t)continue;t>=0&&("別枠乗算"===a.split(".")[0]?n+="=":n+="+"),n+=s(a,t)}else t&&(n+="="+t);e.push(n)}return e})),k=(0,n.EW)((()=>(0,Qe._y)(e.characterInput))),f=e=>{j().isEqual(o,e.checkboxList)||o.splice(0,o.length,...e.checkboxList),j().isEqual(c,e.selectList)||c.splice(0,c.length,...e.selectList),j().isEqual(u,e.numberList)||u.splice(0,u.length,...e.numberList),j().isEqual(r,e.conditionValues)||(0,On.BW)(r,e.conditionValues),j().isEqual(p,e.conditionAdjustments)||(0,On.BW)(p,e.conditionAdjustments)},v=async(e,t)=>{let l;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(l=k.value.get(t.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(l=k.value.get(t.name)),l&&l.forEach((e=>{o.filter((a=>a.name==e)).length>0&&(r[e]=!1),c.filter((a=>a.name==e)).length>0&&(r[e]=0)})),await(0,n.dY)(),a.emit("update:condition",r)};return(0,n.wB)(e,(()=>{k.value})),{displayName:t,displayOptionName:i,checkboxList:o,selectList:c,numberList:u,conditionValues:r,isDisplayDescription:d,displayStatAjustmentList:m,initialize:f,updateCondition:v}}});const xn=(0,J.A)(jn,[["render",Un],["__scopeId","data-v-a99f1346"]]);var Hn=xn;const Qn={key:0,class:"stats"},Pn={colspan:"3"},Bn={class:"open-close"},qn=["onUpdate:modelValue"],Yn=["onUpdate:modelValue"],Jn={class:"stat-value"},zn={class:"left"},Gn={colspan:"2",class:"right"},$n=["disabled"],Zn={key:1,class:"two-table"},es={class:"stats"},as={colspan:"2"},ts={class:"open-close"},ls=["onUpdate:modelValue"],ns={class:"stat-value"},ss={class:"stats"},is={colspan:"2"},os={class:"open-close"},cs=["onUpdate:modelValue"],us={class:"stat-value"},rs={class:"left"};function ps(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",null,[e.editable?((0,n.uX)(),(0,n.CE)("table",Qn,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.categoryList,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Pn,[(0,n.Lk)("label",Bn,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.categoryOpenClose[t]=a},null,8,qn),[[l.lH,e.categoryOpenClose[t]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(t),(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(t)),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.statAdjustments[t]=a,onChange:a[0]||(a[0]=(...a)=>e.adjustmentsOnChange&&e.adjustmentsOnChange(...a))},null,40,Yn),[[l.Jo,e.statAdjustments[t]]])]),(0,n.Lk)("td",Jn,(0,s.v_)(e.displayStatValue(t,e.statsObj[t])),1)])))),128))],64)))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",zn,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=a=>e.editable=a)},null,512),[[l.lH,e.editable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値入力モード")),1)])]),(0,n.Lk)("td",Gn,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=a=>e.initializable=a)},null,512),[[l.lH,e.initializable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値0初期化")),1)]),(0,n.Lk)("button",{type:"button",disabled:!e.initializable,onClick:a[3]||(a[3]=(...a)=>e.initializeAdjustments&&e.initializeAdjustments(...a))},(0,s.v_)(e.displayName("実行")),9,$n)])])])])):(0,n.Q3)("",!0),e.editable?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("table",Zn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("table",es,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.category1List,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",as,[(0,n.Lk)("label",ts,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t=>e.categoryOpenClose[a]=t},null,8,ls),[[l.lH,e.categoryOpenClose[a]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(a),(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(a)),1),(0,n.Lk)("td",ns,(0,s.v_)(e.displayStatValue(a,e.statsObj[a])),1)])))),128))],64)))),128))])])]),(0,n.Lk)("td",null,[(0,n.Lk)("table",ss,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.category2List,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",is,[(0,n.Lk)("label",os,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t=>e.categoryOpenClose[a]=t},null,8,cs),[[l.lH,e.categoryOpenClose[a]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(a),(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(a)),1),(0,n.Lk)("td",us,(0,s.v_)(e.displayStatValue(a,e.statsObj[a])),1)])))),128))],64)))),128))])])])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",rs,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=a=>e.editable=a)},null,512),[[l.lH,e.editable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値入力モード")),1)])])])])]))])}var ds=(0,n.pM)({name:"StatsInput1",props:{statsInput:{type:Object,required:!0},category1List:{type:Array,required:!0},category2List:{type:Array,required:!0}},emits:["update:stat-adjustments"],setup(e,a){const{displayName:t,displayStatAbbrev:l,displayStatValue:s}=(0,q.A)(),i=(0,x.Kh)(e.statsInput),o=(0,x.KR)(!1),c=(0,x.KR)(!1),u=e=>Qe.w_.get(e),r=i.statsObj,p=i.statAdjustments,d=[...e.category1List,...e.category2List],m=(0,x.KR)({});for(const n of d)m.value[n]=!1;const k=e=>u(e)?.filter((a=>m.value[e]||i.statsObj&&i.statsObj[a]||i.statAdjustments&&i.statAdjustments[a]))??[],f=async()=>{await(0,n.dY)(),a.emit("update:stat-adjustments",i.statAdjustments)},v=()=>{for(const e of d){const a=u(e);if(a)for(const e of a)i.statAdjustments[e]=0}f()};return v(),{displayName:t,displayStatAbbrev:l,displayStatValue:s,categoryList:d,statList:u,visibleStatList:k,statsObj:r,statAdjustments:p,categoryOpenClose:m,adjustmentsOnChange:f,editable:o,initializable:c,initializeAdjustments:v}}});const ms=(0,J.A)(ds,[["render",ps],["__scopeId","data-v-1597255b"]]);var ks=ms;const fs={key:0,class:"next-step"},vs={key:0},bs={class:"right"},ys=["value"],gs={class:"reaction-area"},hs=["src","alt","onClick"],Ls={class:"tooltip"},Cs={class:"next-stat"},Ss={key:0},Es={class:"name"},_s={class:"step"},Rs=["onUpdate:modelValue","onChange"],Is=["value"],Os={class:"count"},Ns=["onUpdate:modelValue"],Xs={class:"damage"},As={key:1};function ws(e,a,t,i,o,c){return e.visible?((0,n.uX)(),(0,n.CE)("div",fs,[e.toggleSwitch?((0,n.uX)(),(0,n.CE)("fieldset",vs,[(0,n.Lk)("legend",{onClick:a[0]||(a[0]=a=>e.toggleSwitch=!e.toggleSwitch)},"  "+(0,s.v_)(e.displayName("NEXT STEP"))+"  ",1),(0,n.Lk)("div",bs,[(0,n.bo)((0,n.Lk)("select",{class:"evaluation-item","onUpdate:modelValue":a[1]||(a[1]=a=>e.evaluationItem=a),onChange:a[2]||(a[2]=(...a)=>e.evaluationItemOnChange&&e.evaluationItemOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.evaluationItemList,((e,a)=>((0,n.uX)(),(0,n.CE)("option",{key:a,value:e},(0,s.v_)(e.replace("."," ")),9,ys)))),128))],544),[[l.u1,e.evaluationItem]]),(0,n.Lk)("div",gs,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.amplifyingReactionList,(a=>((0,n.uX)(),(0,n.CE)("div",{class:"reaction with-tooltip",key:a},[(0,n.Lk)("img",{class:(0,s.C4)("reaction"+(e.selectedAmplifyingReaction==a?" selected":"")),src:e.reactionImgSrc(a),alt:a,onClick:t=>e.reactionImgOnClick(a)},null,10,hs),(0,n.Lk)("div",Ls,(0,s.v_)(e.displayName(a)),1)])))),128))])]),(0,n.Lk)("table",Cs,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.nextStatRows,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t[0]},[t[3]||t[4]?((0,n.uX)(),(0,n.CE)("tr",Ss,[(0,n.Lk)("th",Es,(0,s.v_)(e.displayName(t[0])),1),(0,n.Lk)("td",_s,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>t[2]=e,onChange:a=>e.nextStatStepOnChange(t)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t[1],((e,a)=>((0,n.uX)(),(0,n.CE)("option",{key:a,value:a},(0,s.v_)(Math.round(10*e)/10),9,Is)))),128))],40,Rs),[[l.u1,t[2]]])]),(0,n.Lk)("td",null,(0,s.v_)(Math.round(1e3*t[4])/1e3+"%"),1),(0,n.Lk)("td",Os,[(0,n.bo)((0,n.Lk)("input",{type:"range",min:"-3",max:"5","onUpdate:modelValue":e=>t[3]=e,onChange:a[3]||(a[3]=(...a)=>e.nextStatOnChange&&e.nextStatOnChange(...a))},null,40,Ns),[[l.Jo,t[3]]])]),(0,n.Lk)("td",null,(0,s.v_)(e.displayNextStatValue(t)),1)])):(0,n.Q3)("",!0)],64)))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("th",Xs,[(0,n.eW)((0,s.v_)(e.isStop?e.displayName("停止中"):e.displayName("稼働中"))+" ",1),(0,n.Lk)("button",{type:"button",onClick:a[4]||(a[4]=(...a)=>e.stopButtonOnClick&&e.stopButtonOnClick(...a))},(0,s.v_)(e.isStop?e.displayName("再開"):e.displayName("停止")),1)]),a[9]||(a[9]=(0,n.Lk)("td",null,null,-1)),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",onClick:a[5]||(a[5]=(...a)=>e.resetButtonOnClick&&e.resetButtonOnClick(...a))}," Reset ")]),(0,n.Lk)("td",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=a=>e.containsDealMoreDamage=a),onChange:a[7]||(a[7]=(...a)=>e.containsDealMoreDamageOnChange&&e.containsDealMoreDamageOnChange(...a))},null,544),[[l.lH,e.containsDealMoreDamage]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("与えるダメージ")),1)])]),a[10]||(a[10]=(0,n.Lk)("td",null,null,-1))])])])])):((0,n.uX)(),(0,n.CE)("div",As,[(0,n.Lk)("label",{onClick:a[8]||(a[8]=a=>e.toggleSwitch=!e.toggleSwitch)},(0,s.v_)(e.displayName("+ NEXT STEP +")),1)]))])):(0,n.Q3)("",!0)}var Vs=(0,n.pM)({name:"NextStat",props:{visible:Boolean,characterInput:{type:Object,required:!0},artifactDetailInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},optionInput:{type:Object,required:!0},statsInput:{type:Object,required:!0},damageResult:{type:Object,required:!0},rotationDamageInfo:{type:Object}},emits:["update:stat-adjustments","update:next-stat-rows"],setup(e,a){const{displayName:t,displayStatValue:l}=(0,q.A)(),s="ローテーション合計ダメージ",i=["HP%","攻撃力%","防御力%","元素熟知","会心率","会心ダメージ","元素チャージ効率","HP","攻撃力","防御力"],o=(0,x.KR)(e.visible),c=(0,x.KR)(""),u=(0,x.Kh)([]),r=(0,x.KR)(""),p="nextStepStopFlg",d=(0,x.KR)(!1),m=(0,x.KR)(!1),k=localStorage.getItem(p);k&&(d.value=JSON.parse(k));const f=(0,n.EW)((()=>{let a=[];e.rotationDamageInfo?.rotationDamages&&a.push(s);for(const t of["通常攻撃","落下攻撃","重撃","元素スキル","元素爆発","その他"]){const l=e.damageResult[t];if(Array.isArray(l))for(const e of l){if(!e)continue;if(e[0]?.endsWith("合計ダメージ"))continue;if(!e[5]?.endsWith("ダメージ"))continue;const l=t+"."+e[0];a.push(l)}}return a})),v=(0,n.EW)((()=>{let a="物理";if(e.damageResult&&c.value){const t=c.value.split(".");if(2==t.length){const l=t[0],n=t[1];if(l in e.damageResult){const t=e.damageResult[l].filter((e=>e[0]==n));if(t.length){const e=t[0];e[1]&&(a=e[1])}}}}return a})),b=(0,n.EW)((()=>{const e=[];return v.value&&v.value in Pe.NX&&e.push(...Object.keys(Pe.NX[v.value]).filter((e=>["蒸発","溶解","超激化","草激化"].includes(e)))),e})),y=e=>{const a=(0,Ka.UH)(e,v.value);return a?Pe.cu[a]:Pe.M2},g=e=>e&&e[3]?e[3]*e[1][e[2]]:0,h=e=>{let a="";const t=g(e);return t>0&&(a+="+"),a+=l(e[0],t),a};function L(){const e=[];for(const a of i)e.push([a,(0,Qe.GX)(a),2,0,0]);m.value&&e.push(["与えるダメージ",(0,Qe.GX)("攻撃力%"),2,0,0]),u.splice(0,u.length,...e)}function C(a,t){let l=0;if(a==s)e.rotationDamageInfo&&(l=(0,Ka.OY)(e.rotationDamageInfo.rotationDamages,t));else{const e=a.split("."),n=t[e[0]].filter((a=>a[0]==e[1]));n.length&&(l=(0,Ka.OD)(n[0],2,t.元素反応,r.value))}return l}function S(a,t,l){if(d.value)return;t||(t=j().cloneDeep(Qe.R7)),l||(l=j().cloneDeep(e.statsInput));let n=0;const s="HP"!=a[0]?a[0]:"HP+",i=a[1][a[2]];if(i&&e.rotationDamageInfo){const a=C(c.value,e.damageResult);s in l.statAdjustmentsEx?l.statAdjustmentsEx[s]+=i:l.statAdjustmentsEx[s]=i,(0,Ka.s2)(l,e.characterInput,e.artifactDetailInput,e.conditionInput,e.optionInput),(0,Ka.h9)(t,e.characterInput,e.conditionInput,l);const o=C(c.value,t);o&&a&&(n=o/a-1,n*=100),l.statAdjustmentsEx[s]-=i}a[4]=n}function E(){if(c.value){const a=j().cloneDeep(Qe.R7),t=j().cloneDeep(e.statsInput);for(const e of u)S(e,a,t)}u.sort(((e,a)=>a[4]-e[4])),a.emit("update:next-stat-rows",u)}function _(){if(f.value.length){let a;if(f.value.length>1&&e.characterInput?.characterMaster["NEXT STEP"]){const t=e.characterInput.characterMaster["NEXT STEP"];f.value.includes(t)?a=t:console.warn(t,f.value)}a||(a=f.value.includes(c.value)?c.value:f.value.includes(s)?s:f.value[f.value.length-1]),c.value=a}}const R=()=>{E()},I=e=>{r.value==e?r.value="":r.value=e,E()},O=e=>{S(e),u.sort(((e,a)=>a[4]-e[4]))},N=async()=>{await(0,n.dY)();const e={};u.forEach((a=>{a[3]&&(e[a[0]]=g(a))})),a.emit("update:stat-adjustments",e)},X=async()=>{L(),await N()},A=()=>{d.value=!d.value,localStorage.setItem(p,String(d.value)),d.value||E()},w=()=>{L(),E()};return(0,n.wB)([e.characterInput,e.statsInput],(()=>{E()})),(0,n.wB)([e.damageResult,e.rotationDamageInfo],(()=>{_()})),(0,n.sV)((()=>{L(),_(),E()})),{displayName:t,displayStatValue:l,toggleSwitch:o,evaluationItem:c,nextStatRows:u,selectedAmplifyingReaction:r,isStop:d,containsDealMoreDamage:m,evaluationItemList:f,amplifyingReactionList:b,reactionImgSrc:y,displayNextStatValue:h,initializeEvaluationItem:_,setupNextStatRows:E,evaluationItemOnChange:R,reactionImgOnClick:I,nextStatStepOnChange:O,nextStatOnChange:N,resetButtonOnClick:X,stopButtonOnClick:A,containsDealMoreDamageOnChange:w}}});const Ms=(0,J.A)(Vs,[["render",ws],["__scopeId","data-v-ee0680f6"]]);var Ks=Ms;const Ts={key:0,class:"member-area"},Ds={class:"member"},Fs=["src","alt"],Ws=["src"],Us=["src","alt","onClick"],js=["src"];function xs(e,a,t,l,s,i){return e.teamMembers.length?((0,n.uX)(),(0,n.CE)("div",Ts,[(0,n.Lk)("div",Ds,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(e.character),alt:e.displayName(e.character)},null,8,Fs),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(e.character),alt:"vision"},null,8,Ws)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.teamMembers,(a=>((0,n.uX)(),(0,n.CE)("div",{class:"member",key:a},[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(a),alt:e.displayName(a),onClick:t=>e.removeFromTeamOnClick(a)},null,8,Us),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(a),alt:"vision"},null,8,js)])))),128))])):(0,n.Q3)("",!0)}var Hs=(0,n.pM)({name:"EasyTeamInput",props:{character:{type:String,required:!0},teamMembers:{type:Array,required:!0}},emits:["update:team-members"],setup(e,a){const{displayName:t,displayOptionName:l}=(0,q.A)();function n(e){a.emit("update:team-members",e)}const s=a=>{n([...e.teamMembers,a])},i=a=>{n(e.teamMembers.filter((e=>e!=a)))},o=e=>Pe.Zn[e].icon_url,c=e=>Pe.cu[Pe.Zn[e].元素];return{displayName:t,displayOptionName:l,addToTeamOnClick:s,removeFromTeamOnClick:i,characterIconSrc:o,characterVisionIconSrc:c}}});const Qs=(0,J.A)(Hs,[["render",xs],["__scopeId","data-v-8f0bc762"]]);var Ps=Qs;const Bs={class:"elemental-resonance"},qs=["onUpdate:modelValue","onChange"],Ys=["onChange"],Js={class:"option-description"};function zs(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",Bs,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalResonanceList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.key},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a=>e.elementalResonanceChecked[t.key]=a,onChange:a=>e.onChange(t.key)},null,40,qs),[[l.lH,e.elementalResonanceChecked[t.key]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.名前)),1),"草元素共鳴"==t.key?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:0,"onUpdate:modelValue":a[0]||(a[0]=a=>e.dendroOption=a),onChange:a=>e.onChange(t.key)},a[1]||(a[1]=[(0,n.Lk)("option",{value:"0"},null,-1),(0,n.Lk)("option",{value:"20"},"+20",-1),(0,n.Lk)("option",{value:"30"},"+30",-1),(0,n.Lk)("option",{value:"50"},"+50",-1)]),40,Ys)),[[l.u1,e.dendroOption]]):(0,n.Q3)("",!0)])))),128)),a[2]||(a[2]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",Js,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))]),a[3]||(a[3]=(0,n.Lk)("hr",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.descriptionList,((a,t)=>((0,n.uX)(),(0,n.CE)("article",{key:t,class:(0,s.C4)(e.elementClass(a[0]))},(0,s.v_)(a[1]),3)))),128))])}var Gs=(0,n.pM)({name:"ElementalResonanceInput",props:{elementalResonance:{type:Object,required:!0}},emits:["update:elemental-resonance"],setup(e,a){const{displayName:t,displayStatName:l,displayStatValue:s}=(0,q.A)(),i=Pe.Zs,o=(0,x.Kh)({});i.forEach((e=>{o[e.key]=!1}));const c=(0,x.KR)(0),u=(0,x.Kh)({}),r=(0,n.EW)((()=>{const a=[],t=e.elementalResonance?.conditionAdjustments;if(t)for(const e of Object.keys(t)){const n=t[e];let i=l(e).replace("%","");if(null===n);else if((0,On.kf)(n)){if(0===n)continue;n>=0&&("別枠乗算"===e.split(".")[0]?i+="=":i+="+"),i+=s(e,n)}else n&&(i+="="+n);a.push(i)}return a})),p=(0,n.EW)((()=>{const e=[];for(const a of Object.keys(o).filter((e=>o[e])))e.push([a,Pe.u[a].説明]);return e})),d=e=>{let a="";return e&&(a=Pe.KM[e.substring(0,1)]),a},m=async()=>{await(0,n.dY)(),a.emit("update:elemental-resonance",u)},k=async e=>{if(e&&o[e])if("元素共鳴なし"==e)for(const a of Object.keys(o).filter((e=>"元素共鳴なし"!=e)))o[a]=!1;else Object.keys(o).filter((e=>"元素共鳴なし"!=e&&o[e])).length>2&&(o[e]=!1),o["元素共鳴なし"]=!1;await(0,n.dY)(),Object.keys(o).forEach((e=>{u[e]=o[e]})),c.value?u["dendroOption"]=c.value:u["dendroOption"]=0,m()},f=e=>{(0,On.BW)(u,e.conditionValues),Object.keys(o).forEach((e=>{o[e]=e in u&&Boolean(u[e])})),"dendroOption"in u&&(c.value=Number(u["dendroOption"])),m()};return(0,n.sV)((()=>{(0,On.BW)(u,e.elementalResonance.conditionValues),m()})),(0,n.wB)(e,(()=>{r.value})),{displayName:t,elementalResonanceList:i,elementalResonanceChecked:o,dendroOption:c,displayStatAjustmentList:r,descriptionList:p,elementClass:d,onChange:k,initializeValues:f}}});const $s=(0,J.A)(Gs,[["render",zs],["__scopeId","data-v-d7d64184"]]);var Zs=$s;const ei={class:"team-option"},ai={key:0,class:"supporter"},ti={class:"left"},li=["id","onUpdate:modelValue"],ni=["for"],si={class:"character"},ii=["src","alt"],oi=["src"],ci={class:"tooltip"},ui=["onClick"],ri=["disabled","onClick"],pi={key:0,class:"builddata-selector"},di=["onUpdate:modelValue"],mi=["value"],ki={class:"equipment"},fi={class:"with-tooltip"},vi=["src"],bi={class:"tooltip"},yi={class:"with-tooltip"},gi=["src"],hi={class:"tooltip"},Li={class:"with-tooltip"},Ci=["src"],Si={class:"tooltip"},Ei=["onUpdate:modelValue","disabled","onChange"],_i=["onUpdate:modelValue","disabled","onChange"],Ri=["value"],Ii=["onUpdate:modelValue","min","max","step","disabled","onBlur"],Oi=["id","onUpdate:modelValue"],Ni=["for"],Xi={class:"character"},Ai=["src","alt"],wi=["src"],Vi={class:"tooltip"},Mi=["onClick"],Ki=["disabled","onClick"],Ti={class:"option-description"};function Di(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("fieldset",ei,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.SUPPORTER_KEY_LIST,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[e.supporterOpenClose[t]?(0,n.bo)(((0,n.uX)(),(0,n.CE)("fieldset",ai,[(0,n.Lk)("div",ti,[(0,n.Lk)("div",{class:(0,s.C4)("supporter"+e.supporterOptionSelectedClass(t))},[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"supporter-"+t,type:"checkbox","onUpdate:modelValue":a=>e.supporterOpenClose[t]=a},null,8,li),[[l.lH,e.supporterOpenClose[t]]]),(0,n.Lk)("label",{class:"fold with-tooltip",for:"supporter-"+t},[(0,n.Lk)("div",si,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(t),alt:e.displayName(t)},null,8,ii),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(t),alt:"vision"},null,8,oi)]),(0,n.Lk)("span",ci,(0,s.v_)(e.displayName(t)),1)],8,ni),e.teamMembers.includes(t)?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:a=>e.removeFromTeamOnClick(t)},a[3]||(a[3]=[(0,n.Lk)("span",{class:"material-symbols-outlined remove"}," person_remove ",-1)]),8,ui)):((0,n.uX)(),(0,n.CE)("button",{key:1,type:"button",disabled:e.teamMembers.length>=3,onClick:a=>e.addToTeamOnClick(t)},a[4]||(a[4]=[(0,n.Lk)("span",{class:"material-symbols-outlined add"}," person_add ",-1)]),8,ri))],2),e.buildnameList(t).length?((0,n.uX)(),(0,n.CE)("div",pi,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.selectedBuildname[t]=a,onChange:a[0]||(a[0]=(...a)=>e.buildnameSelectionOnChange&&e.buildnameSelectionOnChange(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.buildnameList(t),(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e},(0,s.v_)(e),9,mi)))),128))],40,di),[[l.u1,e.selectedBuildname[t]]])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",ki,[(0,n.Lk)("div",fi,[(0,n.Lk)("img",{src:e.weaponIconSrc(t),alt:"weapon"},null,8,vi),(0,n.Lk)("span",bi,(0,s.v_)(e.weaponName(t)),1)]),(0,n.Lk)("div",yi,[(0,n.Lk)("img",{src:e.artifactSetIconSrc(t,0),alt:"artifact set"},null,8,gi),(0,n.Lk)("span",hi,(0,s.v_)(e.artifactSetName(t,0)),1)]),(0,n.Lk)("div",Li,[(0,n.Lk)("img",{src:e.artifactSetIconSrc(t,1),alt:"artifact set"},null,8,Ci),(0,n.Lk)("span",Si,(0,s.v_)(e.artifactSetName(t,1)),1)])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterCheckboxList(t),(a=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:a.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.conditionValues[a.name]=t,disabled:e.conditionDisabled(a),onChange:t=>e.valueOnChange(t,a)},null,40,Ei),[[l.lH,e.conditionValues[a.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.displayName)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterSelectList(t),(a=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:a.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.displayName)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.conditionValues[a.name]=t,disabled:e.conditionDisabled(a),onChange:t=>e.valueOnChange(t,a)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.options,((a,t)=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:a},(0,s.v_)(e.displayOptionName(a)),9,Ri)))),128))],40,_i),[[l.u1,e.conditionValues[a.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterNumberList(t),(a=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:a.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.displayName)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.conditionValues[a.name]=t,min:a.min,max:a.max,step:a.step,disabled:e.conditionDisabled(a),onBlur:t=>e.valueOnChange(t,a)},null,40,Ii),[[l.Jo,e.conditionValues[a.name]]])])))),128))])],512)),[[l.aG,e.supporterVisible(t)]]):(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,s.C4)("supporter-else"+e.elementBgClass(t)+e.supporterOptionSelectedClass(t))},[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"supporter-else-"+t,type:"checkbox","onUpdate:modelValue":a=>e.supporterOpenClose[t]=a},null,8,Oi),[[l.lH,e.supporterOpenClose[t]]]),(0,n.Lk)("label",{class:"fold with-tooltip",for:"supporter-else-"+t},[(0,n.Lk)("div",Xi,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(t),alt:e.displayName(t)},null,8,Ai),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(t),alt:"vision"},null,8,wi)]),(0,n.Lk)("span",Vi,(0,s.v_)(e.displayName(t)),1)],8,Ni),e.teamMembers.includes(t)?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:a=>e.removeFromTeamOnClick(t)},a[5]||(a[5]=[(0,n.Lk)("span",{class:"material-symbols-outlined remove"}," person_remove ",-1)]),8,Mi)):((0,n.uX)(),(0,n.CE)("button",{key:1,type:"button",disabled:e.teamMembers.length>=3,onClick:a=>e.addToTeamOnClick(t)},a[6]||(a[6]=[(0,n.Lk)("span",{class:"material-symbols-outlined add"}," person_add ",-1)]),8,Ki))],2)),[[l.aG,e.supporterVisible(t)]])],64)))),128)),a[7]||(a[7]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",Ti,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))]),(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName("すべて閉じる"))+" ",1),(0,n.Lk)("button",{class:"execute",type:"button",onClick:a[1]||(a[1]=(...a)=>e.closeAllSupporters&&e.closeAllSupporters(...a))},(0,s.v_)(e.displayName("実行")),1)]),(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName("すべてクリア"))+" ",1),(0,n.Lk)("button",{class:"execute",type:"button",onClick:a[2]||(a[2]=(...a)=>e.clearAllSupporterOptions&&e.clearAllSupporterOptions(...a))},(0,s.v_)(e.displayName("実行")),1)])]),a[8]||(a[8]=(0,n.Lk)("p",{class:"notice"},[(0,n.eW)(" キャラクターの天賦レベルやステータスによって効果量が変動する種類のオプションはデフォルト名称の構成保存データが存在する場合に選択可能になります。 "),(0,n.Lk)("br"),(0,n.eW)(" 構成保存データのデフォルト名称：あなたの{キャラクターの名前} ")],-1))],64)}var Fi=(0,n.pM)({name:"TeamOptionInput",props:{character:{type:String,required:!0},teamMembers:{type:Array,required:!0},conditionInput:{type:Object,required:!0}},emits:["update:team-option","update:buildname-selection","update:team-members"],setup(e,a){const{displayName:t,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,q.A)(),o=Object.keys(Pe.Zn);o.sort(((e,a)=>Pe.gN.indexOf(Pe.Zn[e].元素)-Pe.gN.indexOf(Pe.Zn[a].元素)));const c=(0,x.Kh)({});for(const n of o)c[n]=!1;const u=(0,x.Kh)({}),r=(0,x.Kh)({}),p=(0,x.Kh)([]),d=(0,x.Kh)({}),m=(0,x.Kh)({}),k=(0,n.EW)((()=>e.conditionInput.optionDetails1)),f=(0,n.EW)((()=>e.conditionInput.optionDetails2)),v=(0,n.EW)((()=>e.conditionInput.conditionMap)),b=(0,n.EW)((()=>e.conditionInput.exclusionMap)),y=(0,n.EW)((()=>e.conditionInput.checkboxList)),g=(0,n.EW)((()=>e.conditionInput.selectList)),h=(0,n.EW)((()=>e.conditionInput.numberList)),L=e=>y.value.filter((a=>a.name.startsWith(e+"*"))),C=e=>g.value.filter((a=>a.name.startsWith(e+"*"))),S=e=>h.value.filter((a=>a.name.startsWith(e+"*"))),E=a=>a!=e.character,_=e=>L(e).filter((e=>m[e.name])).length>0||C(e).filter((e=>!e.required&&m[e.name])).length>0?" selected":"",R=e=>" "+Pe.or[Pe.Zn[e].元素],I=e=>Pe.Zn[e].icon_url,O=e=>Pe.cu[Pe.Zn[e].元素],N=e=>{const a=d[e];return a?.characterInput?.weaponMaster?.icon_url??Pe.M2},X=e=>{const a=d[e];return a?.characterInput?.weapon??""},A=(e,a)=>{const t=d[e]?.characterInput?.artifactSetMasters;return j().isArray(t)?t[a].icon_url?.replace(/\.png$/,"/flower_of_life.png")??Pe.M2:Pe.M2},w=(e,a)=>{const t=d[e]?.characterInput?.artifactSetMasters;return j().isArray(t)?t[a].key??"":""};function V(e,a){const t=(0,Qe.F0)(e);return a==t?(0,Qe.no)(e):a.replace(new RegExp("^"+t+"_"),"")}const M=e=>{const a=new RegExp("^構成_"+e.replace("(","\\(").replace(")","\\)")+"(_|$)"),t=Object.keys(localStorage).filter((e=>a.test(e))),l=t.map((a=>V(e,a))),n=(0,Qe.no)(e),s=l.filter((e=>e!=n)).sort();return l.includes(n)&&s.unshift(n),s},K=e=>M(e).length>0,T=e=>{const a=e.name.split("*")[0];if(0===M(a).length){for(const a of k.value)if(j().isString(a.条件)&&a.条件.startsWith(e.name)&&a.数値?.includes("$"))return!0;for(const a of f.value)if(j().isString(a.条件)&&a.条件.startsWith(e.name)&&a.数値?.includes("$"))return!0}return!1},D=(0,n.EW)((()=>{const a=[];for(const t of Object.keys(e.conditionInput.conditionAdjustments)){let n=l(t).replace("%","");const i=e.conditionInput.conditionAdjustments[t];t.endsWith("元素付与")||null===i||((0,On.kf)(i)?(i>=0&&(n+=["別枠乗算"].includes(t.split(".")[0])?"=":"+"),n+=s(t,i)):i&&(n+="="+i)),a.push(n)}return a}));o.forEach((e=>{u[e]=!1;const a=M(e);a.length>0&&(r[e]=a[0])}));const F=async()=>{await(0,n.dY)(),a.emit("update:team-option",m)},W=async(e,a)=>{let t;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(t=b.value.get(a.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(t=b.value.get(a.name)),t&&t.forEach((e=>{y.value.filter((a=>a.name==e)).length>0&&(m[e]=!1),g.value.filter((a=>a.name==e)).length>0&&(m[e]=0)})),F()},U=()=>{a.emit("update:buildname-selection",r)};function H(e){a.emit("update:team-members",e)}const Q=a=>{H([...e.teamMembers,a])},P=a=>{H(e.teamMembers.filter((e=>e!=a)))},B=()=>{for(const e of Object.keys(c))c[e]=!1},Y=()=>{for(const e of y.value)m[e.name]=!1;for(const e of g.value)m[e.name]=0;for(const e of h.value)m[e.name]=e.initial;F()};function J(){v.value.forEach(((e,a)=>{null===e?a in m||(m[a]=!1):j().isArray(e)?a in m||(m[a]=0):j().isPlainObject(e)&&(a in m||(m[a]=e.initial))}))}const z=e=>{for(const a of o)M(a).length?r[a]||(r[a]=M(a)[0]):r[a]=void 0;Object.keys(e).forEach((a=>{j().isEqual(d[a],e[a])||(d[a]=e[a])})),J(),F()},G=e=>{(0,On.BW)(m,e.conditionValues),J(),F()};return(0,n.sV)((()=>{j().isEqual(p,e.teamMembers)&&p.splice(0,p.length,...e.teamMembers),(0,On.BW)(m,e.conditionInput.conditionValues),J(),F(),U()})),(0,n.wB)(e,(()=>{j().isEqual(p,e.teamMembers)&&p.splice(0,p.length,...e.teamMembers),J()})),{displayName:t,displayOptionName:i,SUPPORTER_KEY_LIST:o,supporterCheckboxList:L,supporterSelectList:C,supporterNumberList:S,conditionValues:m,supporterVisible:E,supporterOptionSelectedClass:_,conditionDisabled:T,supporterOpenClose:c,closeAllSupporters:B,clearAllSupporterOptions:Y,builddataSelectable:K,builddataSelectorVisible:u,buildnameList:M,selectedBuildname:r,elementBgClass:R,characterIconSrc:I,characterVisionIconSrc:O,weaponIconSrc:N,weaponName:X,artifactSetIconSrc:A,artifactSetName:w,displayStatAjustmentList:D,valueOnChange:W,buildnameSelectionOnChange:U,addToTeamOnClick:Q,removeFromTeamOnClick:P,initializeSupporters:z,initializeValues:G}}});const Wi=(0,J.A)(Fi,[["render",Di],["__scopeId","data-v-0520bb8a"]]);var Ui=Wi;const ji=["onUpdate:modelValue","value","onChange"],xi=["onUpdate:modelValue","onChange"],Hi=["value"],Qi=["onUpdate:modelValue","min","max","step","onBlur"],Pi={class:"option-description"};function Bi(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.checkboxList,(a=>((0,n.uX)(),(0,n.CE)("label",{key:a.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.conditionValues[a.name]=t,value:a,onChange:t=>e.valueOnChange(t,a)},null,40,ji),[[l.lH,e.conditionValues[a.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.name)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.selectList,(a=>((0,n.uX)(),(0,n.CE)("label",{key:a.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.name)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.conditionValues[a.name]=t,onChange:t=>e.valueOnChange(t,a)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.options,((a,t)=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:a},(0,s.v_)(e.displayOptionName(a)),9,Hi)))),128))],40,xi),[[l.u1,e.conditionValues[a.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.numberList,(a=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:a.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.name)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.conditionValues[a.name]=t,min:a.min,max:a.max,step:a.step,onBlur:t=>e.valueOnChange(t,a)},null,40,Qi),[[l.Jo,e.conditionValues[a.name]]])])))),128)),a[0]||(a[0]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",Pi,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))])])}var qi=(0,n.pM)({name:"MiscOptionInput",props:{conditionInput:{type:Object,required:!0}},emits:["update:misc-option"],setup(e,a){const{displayName:t,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,q.A)(),o=(0,x.Kh)({}),c=(0,n.EW)((()=>e.conditionInput.conditionMap)),u=(0,n.EW)((()=>e.conditionInput.exclusionMap)),r=(0,n.EW)((()=>e.conditionInput.checkboxList)),p=(0,n.EW)((()=>e.conditionInput.selectList)),d=(0,n.EW)((()=>e.conditionInput.numberList)),m=(0,n.EW)((()=>{const a=[];for(const t of Object.keys(e.conditionInput.conditionAdjustments)){let n=l(t).replace("%","");const i=e.conditionInput.conditionAdjustments[t];null!==i&&((0,On.kf)(i)?(i>=0&&(n+=["別枠乗算"].includes(t.split(".")[0])?"=":"+"),n+=s(t,i)):i&&(n+="="+i)),a.push(n)}return a})),k=async()=>{await(0,n.dY)(),a.emit("update:misc-option",o)},f=async(e,a)=>{let t;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(t=u.value.get(a.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(t=u.value.get(a.name)),t&&t.forEach((e=>{r.value.filter((a=>a.name==e)).length>0&&(o[e]=!1),p.value.filter((a=>a.name==e)).length>0&&(o[e]=0)})),k()},v=e=>{c.value.forEach(((a,t)=>{void 0!==e.conditionValues[t]?o[t]=e.conditionValues[t]:null===a?o[t]=!1:j().isArray(a)?o[t]=0:j().isPlainObject(a)?o[t]=a.initial:o[t]=0})),k()};return(0,n.sV)((()=>{v(e.conditionInput)})),{displayName:t,displayOptionName:i,checkboxList:r,selectList:p,numberList:d,conditionValues:o,displayStatAjustmentList:m,valueOnChange:f,initializeValues:v}}});const Yi=(0,J.A)(qi,[["render",Bi],["__scopeId","data-v-835a4e2c"]]);var Ji=Yi;const zi={class:"elemental-reaction"},Gi={for:"増幅反応-なし"},$i={for:"増幅反応-蒸発_炎",class:"pyro"},Zi={key:0,class:"savepoint"},eo={for:"増幅反応-蒸発_水",class:"hydro"},ao={key:0,class:"savepoint"},to={for:"増幅反応-溶解_氷",class:"cryo"},lo={key:0,class:"savepoint"},no={for:"増幅反応-溶解_炎",class:"pyro"},so={key:0,class:"savepoint"},io={for:"増幅反応-超激化"},oo={key:0,class:"savepoint"},co={for:"増幅反応-草激化"},uo={key:0,class:"savepoint"},ro={key:6,class:"pyro"},po={key:0,class:"savepoint"},mo={key:7,class:"electro"},ko={key:0,class:"savepoint"},fo={key:8,class:"cryo"},vo={key:0,class:"savepoint"},bo={key:10},yo={key:0,class:"savepoint"},go={key:11,class:"pyro"},ho={key:0,class:"savepoint"},Lo={key:12,class:"dendro"},Co={key:0,class:"savepoint"},So={key:13,class:"dendro"},Eo={key:0,class:"savepoint"},_o={key:14,class:"dendro"},Ro={key:0,class:"savepoint"},Io={key:15},Oo={key:0,class:"savepoint"},No={key:0,class:"result v-style"},Xo=["onClick"],Ao=["rowspan"],wo=["innerHTML"],Vo={key:0,class:"savepoint"},Mo={key:0,class:"savepoint"},Ko={key:0,class:"savepoint"},To={key:1,class:"result h-style"},Do=["onClick"],Fo=["colspan"],Wo={class:"result damage-result"},Uo={key:0},jo={class:"notes"},xo={class:"right"};function Ho(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",zi,[(0,n.Lk)("input",{id:"増幅反応-なし",type:"radio",value:"なし",name:"増幅反応-name",onChange:a[0]||(a[0]=a=>e.増幅反応="なし"),checked:""},null,32),(0,n.Lk)("label",Gi,(0,s.v_)(e.displayName("反応なし")),1),e.damageResult.元素反応.蒸発倍率_炎?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("input",{id:"増幅反応-蒸発_炎",type:"radio",value:"蒸発_炎",name:"増幅反応-name",onChange:a[1]||(a[1]=a=>e.増幅反応="蒸発_炎")},null,32),(0,n.Lk)("label",$i,[(0,n.eW)((0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.蒸発倍率_炎)/100),1),e.copiedDamageResult?.元素反応?.蒸発倍率_炎?((0,n.uX)(),(0,n.CE)("span",Zi,[a[10]||(a[10]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.蒸発倍率_炎)/100),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.蒸発倍率_水?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("input",{id:"増幅反応-蒸発_水",type:"radio",value:"蒸発_水",name:"増幅反応-name",onChange:a[2]||(a[2]=a=>e.増幅反応="蒸発_水")},null,32),(0,n.Lk)("label",eo,[(0,n.eW)((0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.蒸発倍率_水)/100),1),e.copiedDamageResult?.元素反応?.蒸発倍率_水?((0,n.uX)(),(0,n.CE)("span",ao,[a[11]||(a[11]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.蒸発倍率_水)/100),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.溶解倍率_氷?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.Lk)("input",{id:"増幅反応-溶解_氷",type:"radio",value:"溶解_氷",name:"増幅反応-name",onChange:a[3]||(a[3]=a=>e.増幅反応="溶解_氷")},null,32),(0,n.Lk)("label",to,[(0,n.eW)((0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.溶解倍率_氷)/100),1),e.copiedDamageResult?.元素反応?.溶解倍率_氷?((0,n.uX)(),(0,n.CE)("span",lo,[a[12]||(a[12]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.溶解倍率_氷)/100),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.溶解倍率_炎?((0,n.uX)(),(0,n.CE)(n.FK,{key:3},[(0,n.Lk)("input",{id:"増幅反応-溶解_炎",type:"radio",value:"溶解_炎",name:"増幅反応-name",onChange:a[4]||(a[4]=a=>e.増幅反応="溶解_炎")},null,32),(0,n.Lk)("label",no,[(0,n.eW)((0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.溶解倍率_炎)/100),1),e.copiedDamageResult?.元素反応?.溶解倍率_炎?((0,n.uX)(),(0,n.CE)("span",so,[a[13]||(a[13]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.溶解倍率_炎)/100),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.超激化ダメージ?((0,n.uX)(),(0,n.CE)(n.FK,{key:4},[(0,n.Lk)("input",{id:"増幅反応-超激化",type:"radio",value:"超激化",name:"増幅反応-name",onChange:a[5]||(a[5]=a=>e.増幅反応="超激化")},null,32),(0,n.Lk)("label",io,[(0,n.eW)((0,s.v_)(e.displayName("超激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.超激化ダメージ)),1),e.copiedDamageResult?.元素反応?.超激化ダメージ?((0,n.uX)(),(0,n.CE)("span",oo,[a[14]||(a[14]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超激化ダメージ)),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.草激化ダメージ?((0,n.uX)(),(0,n.CE)(n.FK,{key:5},[(0,n.Lk)("input",{id:"増幅反応-草激化",type:"radio",value:"草激化",name:"増幅反応-name",onChange:a[6]||(a[6]=a=>e.増幅反応="草激化")},null,32),(0,n.Lk)("label",co,[(0,n.eW)((0,s.v_)(e.displayName("草激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.草激化ダメージ)),1),e.copiedDamageResult?.元素反応?.草激化ダメージ?((0,n.uX)(),(0,n.CE)("span",uo,[a[15]||(a[15]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("草激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.草激化ダメージ)),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.過負荷ダメージ?((0,n.uX)(),(0,n.CE)("label",ro,[(0,n.eW)((0,s.v_)(e.displayName("過負荷"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.過負荷ダメージ)),1),e.copiedDamageResult?.元素反応?.過負荷ダメージ?((0,n.uX)(),(0,n.CE)("span",po,[a[16]||(a[16]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("過負荷"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.過負荷ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.感電ダメージ?((0,n.uX)(),(0,n.CE)("label",mo,[(0,n.eW)((0,s.v_)(e.displayName("感電"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.感電ダメージ)),1),e.copiedDamageResult?.元素反応?.感電ダメージ?((0,n.uX)(),(0,n.CE)("span",ko,[a[17]||(a[17]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("感電"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.感電ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.超電導ダメージ?((0,n.uX)(),(0,n.CE)("label",fo,[(0,n.eW)((0,s.v_)(e.displayName("超電導"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.超電導ダメージ)),1),e.copiedDamageResult?.元素反応?.超電導ダメージ?((0,n.uX)(),(0,n.CE)("span",vo,[a[18]||(a[18]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超電導"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超電導ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.拡散ダメージ?((0,n.uX)(),(0,n.CE)("label",{key:9,class:(0,s.C4)(e.elementClass(e.damageResult.元素反応.拡散元素))},[(0,n.eW)((0,s.v_)(e.displayName("拡散"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.swirlDmg)),1)],2)):(0,n.Q3)("",!0),e.damageResult.元素反応.結晶吸収量?((0,n.uX)(),(0,n.CE)("label",bo,[(0,n.eW)((0,s.v_)(e.displayName("結晶"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.結晶吸収量)),1),e.copiedDamageResult?.元素反応?.結晶吸収量?((0,n.uX)(),(0,n.CE)("span",yo,[a[19]||(a[19]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("結晶"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.結晶吸収量)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.燃焼ダメージ?((0,n.uX)(),(0,n.CE)("label",go,[(0,n.eW)((0,s.v_)(e.displayName("燃焼"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("燃焼ダメージ"))),1),e.copiedDamageResult?.元素反応?.燃焼ダメージ?((0,n.uX)(),(0,n.CE)("span",ho,[a[20]||(a[20]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("燃焼"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.燃焼ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.開花ダメージ?((0,n.uX)(),(0,n.CE)("label",Lo,[(0,n.eW)((0,s.v_)(e.displayName("開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.開花ダメージ?((0,n.uX)(),(0,n.CE)("span",Co,[a[21]||(a[21]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.開花ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.烈開花ダメージ?((0,n.uX)(),(0,n.CE)("label",So,[(0,n.eW)((0,s.v_)(e.displayName("烈開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("烈開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.烈開花ダメージ?((0,n.uX)(),(0,n.CE)("span",Eo,[a[22]||(a[22]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("烈開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.烈開花ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.超開花ダメージ?((0,n.uX)(),(0,n.CE)("label",_o,[(0,n.eW)((0,s.v_)(e.displayName("超開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("超開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.超開花ダメージ?((0,n.uX)(),(0,n.CE)("span",Ro,[a[23]||(a[23]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超開花ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.氷砕きダメージ?((0,n.uX)(),(0,n.CE)("label",Io,[(0,n.eW)((0,s.v_)(e.displayName("氷砕き"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("氷砕きダメージ"))),1),e.copiedDamageResult?.元素反応?.氷砕きダメージ?((0,n.uX)(),(0,n.CE)("span",Oo,[a[24]||(a[24]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("氷砕き"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.氷砕きダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),(0,n.Lk)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.CATEGORY_LIST,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[e.damageResult[t]&&e.itemList(t).length>0?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},["1"==e.resultStyleRef?((0,n.uX)(),(0,n.CE)("table",No,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",{onClick:a=>e.categoryOnClick(t)},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(t)),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("期待値")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("非会心")),1)],8,Xo)]),(0,n.Lk)("tbody",null,[e.categoryOpenClose[t]?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(e.itemList(t),((l,i)=>((0,n.uX)(),(0,n.CE)("tr",{key:i},[l[l.length-1]?((0,n.uX)(),(0,n.CE)("th",{key:0,class:"with-tooltip",rowspan:l[l.length-1]},[(0,n.Lk)("span",null,(0,s.v_)(e.displayNameV(l[0])),1),e.displayDamageParam(l)?((0,n.uX)(),(0,n.CE)("span",{key:0,class:"tooltip",innerHTML:e.displayDamageParam(l)},null,8,wo)):(0,n.Q3)("",!0)],8,Ao)):(0,n.Q3)("",!0),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,2,t))+" ",1),e.displayCopiedDamageValue(i,2,t)?((0,n.uX)(),(0,n.CE)("span",Vo,[a[25]||(a[25]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,2,t)),1)])):(0,n.Q3)("",!0)],2),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,3,t))+" ",1),e.displayCopiedDamageValue(i,3,t)?((0,n.uX)(),(0,n.CE)("span",Mo,[a[26]||(a[26]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,3,t)),1)])):(0,n.Q3)("",!0)],2),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,4,t))+" ",1),e.displayCopiedDamageValue(i,4,t)?((0,n.uX)(),(0,n.CE)("span",Ko,[a[27]||(a[27]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,4,t)),1)])):(0,n.Q3)("",!0)],2)])))),128)):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),"0"==e.resultStyleRef?((0,n.uX)(),(0,n.CE)("table",To,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",{onClick:a=>e.categoryOnClick(t)},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(t)),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(t),(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a[0]},[a[a.length-1]?((0,n.uX)(),(0,n.CE)("th",{key:0,colspan:a[a.length-1]},(0,s.v_)(e.displayNameH(a[0],t)),9,Fo)):(0,n.Q3)("",!0)],64)))),128))],8,Do)]),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("期待値")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(t),(a=>((0,n.uX)(),(0,n.CE)("td",{key:a[0],class:(0,s.C4)("damage-value "+e.elementClass(a[1],a[5]))},(0,s.v_)(e.displayDamageValue(a,2,t)),3)))),128))]),e.categoryOpenClose[t]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(t),(a=>((0,n.uX)(),(0,n.CE)("td",{key:a[0],class:(0,s.C4)("damage-value "+e.elementClass(a[1],a[5]))},(0,s.v_)(e.displayDamageValue(a,3,t)),3)))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("非会心")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(t),(a=>((0,n.uX)(),(0,n.CE)("td",{key:a[0],class:(0,s.C4)("damage-value "+e.elementClass(a[1],a[5]))},(0,s.v_)(e.displayDamageValue(a,4,t)),3)))),128))])],64)):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0)],64)):(0,n.Q3)("",!0)],64)))),128)),a[28]||(a[28]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("table",Wo,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("被ダメージ")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.damageTakenList,(a=>((0,n.uX)(),(0,n.CE)("td",{class:"damage-value",key:a.key},[(0,n.Lk)("span",{class:(0,s.C4)(e.elementClass(a.key))},(0,s.v_)(Math.round(a.value)),3)])))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("耐久スコア")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.resScoreList,(a=>((0,n.uX)(),(0,n.CE)("td",{class:"damage-value",key:a.key},[(0,n.Lk)("span",{class:(0,s.C4)(e.elementClass(a.key))},(0,s.v_)(Math.round(a.value)),3)])))),128))])])])]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:a[7]||(a[7]=(...a)=>e.copyDamageResult&&e.copyDamageResult(...a))},(0,s.v_)(e.displayName("比較用に現在値を記憶")),1),(0,n.Lk)("button",{type:"button",onClick:a[8]||(a[8]=(...a)=>e.clearCopiedDamageResult&&e.clearCopiedDamageResult(...a))},(0,s.v_)(e.displayName("削除")),1)]),e.damageResult.キャラクター注釈.length>0?((0,n.uX)(),(0,n.CE)("div",Uo,[(0,n.Lk)("ul",jo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.damageResult.キャラクター注釈,((e,a)=>((0,n.uX)(),(0,n.CE)("li",{key:a},(0,s.v_)(e),1)))),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",xo,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[9]||(a[9]=a=>e.resultStyleRef=a)},a[29]||(a[29]=[(0,n.Lk)("option",{value:"1"},"V-style",-1),(0,n.Lk)("option",{value:"0"},"H-style",-1)]),512),[[l.u1,e.resultStyleRef]])])])],64)}var Qo=(0,n.pM)({name:"DamageResult",props:{damageResult:{type:Object,required:!0}},setup(e){const{displayName:a}=(0,q.A)(),t=["通常攻撃","重撃","落下攻撃","元素スキル","元素爆発","その他"],l=(0,x.KR)("なし"),s=(0,x.KR)("1"),i=(0,x.Kh)({}),o=(0,x.Kh)({});(0,n.wB)(e.damageResult,(e=>{("蒸発_炎"==l.value&&0===e.元素反応.蒸発倍率_炎||"蒸発_水"==l.value&&0===e.元素反応.蒸発倍率_水||"溶解_氷"==l.value&&0===e.元素反応.溶解倍率_氷||"溶解_炎"==l.value&&0===e.元素反応.溶解倍率_炎||"超激化"==l.value&&0===e.元素反応.超激化ダメージ||"草激化"==l.value&&0===e.元素反応.草激化ダメージ)&&(l.value="なし",document.getElementById("増幅反応-なし").checked=!0)}));const c=(0,n.EW)((()=>{let a=e.damageResult.元素反応.拡散ダメージ;return"蒸発_炎"==l.value&&"炎"==e.damageResult.元素反応.拡散元素?a*=e.damageResult.元素反応.蒸発倍率_炎:"蒸発_水"==l.value&&"水"==e.damageResult.元素反応.拡散元素?a*=e.damageResult.元素反応.蒸発倍率_水:"溶解_氷"==l.value&&"氷"==e.damageResult.元素反応.拡散元素?a*=e.damageResult.元素反応.溶解倍率_氷:"溶解_炎"==l.value&&"炎"==e.damageResult.元素反応.拡散元素?a*=e.damageResult.元素反応.溶解倍率_炎:"超激化"==l.value&&"雷"==e.damageResult.元素反応.拡散元素&&(a+=e.damageResult.元素反応.超激化ダメージ),a})),u=(0,n.EW)((()=>{const a=e.damageResult.被ダメージ.filter((e=>"物理"==e.key));for(const t of e.damageResult.被ダメージ.filter((e=>"物理"!=e.key))){const e=a.map((e=>e.value));e.includes(t.value)||a.push(t)}return a})),r=(0,n.EW)((()=>{const a=e.damageResult.耐久スコア.filter((e=>"物理"==e.key));for(const t of e.damageResult.耐久スコア.filter((e=>"物理"!=e.key))){const e=a.map((e=>e.value));e.includes(t.value)||a.push(t)}return a})),p=(e,a)=>{let t="";return"HP回復"===a?t="healing":"HP消費"===a?t="hpcost":e&&(t=Pe.KM[e]),t},d=a=>{let t=e.damageResult.元素反応[a];if(t&&j().isNumber(t)){const l=e.damageResult.元素反応[a+"会心率"];if(l&&j().isNumber(l)){const n=e.damageResult.元素反応[a+"会心ダメージ"];n&&j().isNumber(n)&&(t*=((100+n)/100*l+(100-l))/100)}}else t=0;return t};function m(e){let a="";return"蒸発_炎"===l.value&&"炎"===e||"蒸発_水"===l.value&&"水"===e?a="蒸発":"溶解_氷"===l.value&&"氷"===e||"溶解_炎"===l.value&&"炎"===e?a="溶解":"超激化"===l.value&&"雷"===e?a="超激化":"草激化"===l.value&&"草"===e&&(a="草激化"),a}const k=(a,t,l)=>{let n=Number(a[t]);if(!n)return"-";if(!a[5]||!["シールド"].includes(a[5])){const s=a[1],i=m(s),o="通常攻撃"===l&&"合計ダメージ"===a[0]?b.value:1;n=(0,Ka.OD)(a,t,e.damageResult.元素反応,i,o)}return n=n<10?Math.round(100*n)/100:n<100?Math.round(10*n)/10:Math.round(n),n},f=(e,a,t)=>{let l=0;if(t in i){const n=i.元素反応;let s;const o=i[t],c=v(t)[e];if(e<o.length&&c[0]==o[e][0])s=o[e];else{const a=o.filter((e=>e[0]==c[0]));if(0==a.length)return;if(s=a[0],a.length>1)for(let l=0;l<v(t).length;l++)v(t)[l][0]==c[0]&&l<e&&(s=a[1])}if(void 0===s)return 0;if(l=Number(s[a]),!l)return"-";if(!s[5]||!["シールド"].includes(s[5])){const e=s[1];let i=m(e);const o="通常攻撃"===t&&"合計ダメージ"===s[0]?b.value:1;l=(0,Ka.OD)(s,a,n,i,o)}l=l<10?Math.round(100*l)/100:l<100?Math.round(10*l)/10:Math.round(l)}return l},v=a=>{const t=[],l=e.damageResult[a].filter((e=>e[0]&&!e[0].startsWith("非表示")));for(let e=0;e<l.length;e++){let a=1;a=e>0&&l[e][0]==l[e-1][0]?0:l.slice(e).filter((a=>a[0]==l[e][0])).length,t.push([...l[e],a])}return t},b=(0,n.EW)((()=>v("通常攻撃").filter((e=>e[0].endsWith("段ダメージ")&&!e[0].startsWith("非表示_"))).length));for(const n of t)o[n]=!0;const y=e=>{o[e]=!o[e]},g=e=>{if(e&&"ja-jp"==He.A.global.locale.value&&e.length>10){let a=e;return a=a.replace(/の攻撃ダメージ$/,"").replace(/のダメージ$/,"").replace(/ダメージ$/,""),a}return a(e)},h=(e,t)=>{if(e&&"ja-jp"==He.A.global.locale.value&&v(t).length>2){let a=e;return a=a.replace(/の攻撃ダメージ$/,"").replace(/のダメージ$/,"").replace(/ダメージ$/,""),a}return a(e)},L=e=>{let t="";if(!e||!e[5]||["HP回復","シールド","表示","HP消費"].includes(e[5]))return"";if(t+=a("ダメージバフ"),t+=":&nbsp;",t+=Math.round(1e3*(e[7]-1))/10,t+="%<br>",e[2]&&e[3]&&e[4]){let l=e[2]-e[4];l/=e[3]-e[4],l=Math.round(1e3*l)/10;const n=Math.round(1e3*(e[3]/e[4]-1))/10;t+=a("会心"),t+=":&nbsp;",t+=l,t+="%/",t+=n,t+="%<br>"}return e[6]&&(t+=e[6],t+="Hit"+(e[6]>1?"s":""),t+="<br>"),t},C=()=>{(0,On.BW)(i,j().cloneDeep(e.damageResult))},S=()=>{(0,On.BW)(i,{})};return{displayName:a,displayNameV:g,displayNameH:h,"増幅反応":l,swirlDmg:c,reactionDmg:d,elementClass:p,displayDamageValue:k,displayDamageParam:L,CATEGORY_LIST:t,itemList:v,categoryOpenClose:o,categoryOnClick:y,resultStyleRef:s,displayCopiedDamageValue:f,copiedDamageResult:i,damageTakenList:u,resScoreList:r,copyDamageResult:C,clearCopiedDamageResult:S}}});const Po=(0,J.A)(Qo,[["render",Ho],["__scopeId","data-v-2cd0874e"]]);var Bo=Po;const qo={class:"total-damage"},Yo={class:"damage-name"},Jo={class:"total-damage-value"},zo={class:"action-list"},Go=["onClick"],$o=["src","alt"],Zo={class:"customized-result"},ec={class:"category handle with-tooltip"},ac=["src","alt"],tc={class:"tooltip"},lc={class:"damage"},nc={class:"damage-name"},sc={class:"reaction-list"},ic=["onClick"],oc=["src","alt"],cc={class:"tooltip"},uc=["onUpdate:modelValue","onChange"],rc=["onClick"],pc={class:"savedata"},dc=["value"];function mc(e,a,t,i,o,c){const u=(0,n.g2)("draggable");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("fieldset",null,[(0,n.Lk)("table",qo,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Yo,(0,s.v_)(e.displayName("ローテーション合計ダメージ")),1),(0,n.Lk)("td",Jo,(0,s.v_)(Math.round(e.totalDamage)),1)])])]),a[6]||(a[6]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",zo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList,(a=>((0,n.uX)(),(0,n.CE)("li",{key:a.id},[(0,n.Lk)("div",{class:"add-item",onClick:t=>e.addItem(a)},[(0,n.Lk)("img",{class:(0,s.C4)("action"+e.itemImgClass(a)),src:a.src,alt:e.displayName(a.name)},null,10,$o)],8,Go),(0,n.Lk)("div",null,(0,s.v_)(e.displayName(a.name)),1)])))),128))]),a[7]||(a[7]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("table",Zo,[(0,n.bF)(u,{list:e.rotationDamageCustomList,"item-key":"id",group:"action",sort:!0,handle:".handle"},{item:(0,n.k6)((({element:t,index:i})=>[(0,n.Lk)("tr",null,[(0,n.Lk)("th",ec,[(0,n.Lk)("img",{class:(0,s.C4)("action"+e.itemImgClass(t)),src:t.src,alt:e.displayName(t.name)},null,10,ac),(0,n.Lk)("div",tc,(0,s.v_)(e.displayName(t.name)),1)]),(0,n.Lk)("td",lc,[(0,n.Lk)("table",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getDamageResultArr(t,e.damageResult),((i,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:o},[(0,n.Lk)("th",nc,(0,s.v_)(e.displayName(i[0])),1),(0,n.Lk)("td",sc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.amplifyingReactionList(t,o),(a=>((0,n.uX)(),(0,n.CE)("div",{class:"reaction with-tooltip",key:a[0],onClick:l=>e.reactionOnClick(t,o,a)},[(0,n.Lk)("span",null,(0,s.v_)(e.reactionCount(t,o,a)),1),(0,n.Lk)("img",{class:(0,s.C4)("reaction"+e.reactionUnselectedClass(t,o,a)),src:a[1],alt:e.displayName(a[0])},null,10,oc),(0,n.Lk)("div",cc,(0,s.v_)(e.displayName(a[0])),1)],8,ic)))),128))]),(0,n.Lk)("td",null,[a[4]||(a[4]=(0,n.eW)(" × ")),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":e=>t.counts[o]=e,min:"0",onChange:a=>e.countOnChange(t,o)},null,40,uc),[[l.Jo,t.counts[o]]])]),(0,n.Lk)("td",{class:(0,s.C4)("damage-value"+e.elementColorClass(t,o))},(0,s.v_)(Math.round(e.damageValue(t,o))),3)])))),128))])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",onClick:a=>e.doDelete(i)},a[5]||(a[5]=[(0,n.Lk)("span",{class:"material-symbols-outlined"}," close ",-1)]),8,rc)])])])),_:1},8,["list"])])]),(0,n.Lk)("div",pc,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.savedataIndex=a),onChange:a[1]||(a[1]=(...a)=>e.load&&e.load(...a))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.savedataList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e[0],key:e[0]},(0,s.v_)(e[1]),9,dc)))),128))],544),[[l.u1,e.savedataIndex]]),(0,n.Lk)("button",{type:"button",onClick:a[2]||(a[2]=(...a)=>e.save&&e.save(...a))},"Save"),(0,n.Lk)("button",{type:"button",onClick:a[3]||(a[3]=(...a)=>e.remove&&e.remove(...a))},"Remove")]),a[8]||(a[8]=(0,n.Lk)("p",{class:"notice"}," 天賦アイコンまたは元素反応アイコンをクリックしてスキルローテーションを設定してください。 ",-1))],64)}var kc=t(1527),fc=t.n(kc);let vc=1;var bc=(0,n.pM)({name:"RotationDamage",components:{draggable:fc()},props:{characterMaster:{type:Object,required:!0},damageResult:{type:Object,required:!0}},emits:["update:rotation-damage"],setup(e,a){const{displayName:t,targetValue:l}=(0,q.A)(),{characterMaster:s}=(0,x.QW)(e),i=(0,x.Kh)([]),o=(0,n.EW)((()=>(0,Ka.OY)(c.value,e.damageResult))),c=(0,n.EW)((()=>{let e=[];for(const a of i)e.push({name:a.name,category:a.category,reactions:a.reactions,counts:a.counts});return e}));function u(){const e={totalDamage:o.value,rotationDamages:c.value};a.emit("update:rotation-damage",e)}const r=(0,n.EW)((()=>{const a=[];return["通常攻撃","落下攻撃","重撃","元素スキル","元素爆発","その他"].forEach((t=>{if(!(t in e.damageResult))return;const l={};if(l.category=t,l.id=vc++,l.name=t,"その他"==t)l.src=Pe.M2;else{const e=["重撃","落下攻撃"].includes(t)?"通常攻撃":t;l.src=s.value[e].icon_url}l.reactions=[],l.counts=[];const n=(0,Ka.ok)(l,e.damageResult);if(0!=n.length){for(let e=0;e<n.length;e++)l.reactions.push({}),["落下期間のダメージ"].includes(n[e][0])||"弓"==s.value.武器&&"重撃"==t&&n.length>3&&e<2?l.counts.push(0):l.counts.push(1);a.push(l)}})),Ka.$H.forEach((t=>{if(e.damageResult.元素反応[t]){const l=t.replace(/ダメージ$/,"");let n;n="拡散ダメージ"==t?e.damageResult.元素反応.拡散元素:Ka.jU.get(t);const s={};s.id=vc++,s.name=l,s.src=Pe.cu[n],s.category=t,s.reactions=[{}],s.counts=[1],a.push(s)}})),a})),p=e=>Ka.$H.includes(e.category)?" reaction ":"",d=e=>{const a=s.value.名前,t="ROTATION_"+a+"_"+e;return t},m=(0,x.KR)(1),k=new Map([["通常攻撃","N"],["重撃","C"],["落下攻撃","P"],["元素スキル","E"],["元素爆発","Q"]]),f="**** NEW DATA ****",v=(0,x.KR)(0),b=(0,n.EW)((()=>{const e=[],a=s.value.名前,t=Object.keys(localStorage).filter((e=>e.startsWith("ROTATION_"+a+"_"))),l=t.map((e=>Number(e.replace("ROTATION_"+a+"_",""))));let n=Math.max(0,...l);for(let s=1;s<=n;s++){const a=d(s);let t=s+" : ";if(a in localStorage){const e=localStorage.getItem(a),l=JSON.parse(e);Array.isArray(l)&&l.forEach((e=>{if(k.has(e.name)){const a=k.get(e.name);if(t+=a,["N","C","P"].includes(a)){const a=Math.max(...e.counts);a&&(t+=a)}}else t+="*"}))}else t+=f;e.push([s,t,v.value])}const i=n+1,o=i+" : "+f;return e.push([i,o,v.value]),e})),y=()=>{if(i.length>0){const e=d(m.value),a=JSON.stringify(i);localStorage.setItem(e,a),v.value++}},g=()=>{const e=d(m.value);if(e in localStorage){const a=localStorage.getItem(e),t=JSON.parse(a);Array.isArray(t)&&i.splice(0,i.length,...t),u()}};g();const h=()=>{const e=d(m.value);e in localStorage&&(localStorage.removeItem(e),v.value++)},L=({id:e})=>{const a=r.value.filter((a=>a.id==e))[0],t=j().cloneDeep(a);return t.id=e++,t},C=e=>{i.push(L(e))};function S(e,a){const t=(0,Ka.UH)(e,a);return t?Pe.cu[t]:Pe.M2}const E=(a,t)=>{const l=[],n=(0,Ka.ok)(a,e.damageResult),s=n[t],i=s[1];if(i){const a=[];"炎"===i?(e.damageResult.元素反応.蒸発倍率_炎>0&&a.push("蒸発"),e.damageResult.元素反応.溶解倍率_炎>0&&a.push("溶解")):"水"===i?e.damageResult.元素反応.蒸発倍率_水>0&&a.push("蒸発"):"氷"===i?e.damageResult.元素反応.溶解倍率_氷>0&&a.push("溶解"):"雷"===i?e.damageResult.元素反応.超激化ダメージ>0&&a.push("超激化"):"草"===i&&e.damageResult.元素反応.草激化ダメージ>0&&a.push("草激化"),a.forEach((e=>{l.push([e,S(e,i)])}))}return l},_=(e,a,t)=>{let l="";const n=e.reactions[a];return t[0]in n&&n[t[0]]&&(l=n[t[0]]),l},R=(e,a,t)=>{let l;return l=_(e,a,t)?"":" unselected ",l},I=(a,t,l)=>{const n=a.reactions[t];let s=a.counts[t];const i=(0,Ka.ok)(a,e.damageResult)[t];["超激化","草激化"].includes(l[0])&&i[6]&&(s*=i[6]),l[0]in n?n[l[0]]<s?n[l[0]]++:n[l[0]]=0:n[l[0]]=1},O=(e,a)=>{const t=e.reactions[a],l=e.counts[a];Object.keys(t).forEach((e=>{l<t[e]&&(t[e]=l)}))},N=(a,t)=>(0,Ka.kr)(a,t,e.damageResult),X=(a,t)=>{const l=(0,Ka.ok)(a,e.damageResult),n=l[t];return n[1]?" "+Pe.KM[n[1]]+" ":""},A=e=>{i.splice(e,1)};return(0,n.wB)(i,(()=>{u()})),(0,n.wB)(s,(()=>{i.splice(0,i.length),m.value=1,g()})),{displayName:t,targetValue:l,itemList:r,itemImgClass:p,addItem:C,getDamageResultArr:Ka.ok,clone:L,rotationDamageCustomList:i,amplifyingReactionList:E,reactionCount:_,reactionUnselectedClass:R,reactionOnClick:I,countOnChange:O,damageValue:N,elementColorClass:X,doDelete:A,totalDamage:o,savedataIndex:m,savedataList:b,save:y,load:g,remove:h}}});const yc=(0,J.A)(bc,[["render",mc],["__scopeId","data-v-0f9639e6"]]);var gc=yc;function hc(e,a,t,l,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("button",{type:"button",onClick:a[0]||(a[0]=a=>e.$emit("share:twitter"))},a[1]||(a[1]=[(0,n.Lk)("img",{width:"32",height:"32",src:"images/Twitter social icons - rounded square - blue.png",alt:"Twitter"},null,-1)]))])}var Lc=(0,n.pM)({name:"ShareSns",emits:["share:twitter"]});const Cc=(0,J.A)(Lc,[["render",hc],["__scopeId","data-v-358e4396"]]);var Sc=Cc;function Ec(e,a,t,l,s,i){return a[0]||(a[0]=(0,n.Fv)('<h2 data-v-11ceccae>げんかるく</h2><fieldset data-v-11ceccae><legend data-v-11ceccae>構成保存の対象範囲</legend><button type="button" data-v-11ceccae>キャラクター</button><button type="button" data-v-11ceccae>武器</button><button type="button" data-v-11ceccae>聖遺物セット効果</button><button type="button" data-v-11ceccae>聖遺物メイン効果</button><button type="button" data-v-11ceccae>聖遺物サブ効果</button><button type="button" data-v-11ceccae>オプション条件</button><hr data-v-11ceccae><a href="SavedataList.html" data-v-11ceccae>保存構成リンク集</a></fieldset><fieldset data-v-11ceccae><legend data-v-11ceccae>聖遺物詳細画面OCR</legend><div class="description" data-v-11ceccae> キャラクター＞聖遺物＞聖遺物詳細のスクリーンショットから聖遺物のステータスを設定する機能です。 読み取り精度はいまひとつなので、実行後に目視にて確認、修正願います。 本機能はすべてブラウザ内で処理されます。外部へのデータ送信などはありません。 </div></fieldset><fieldset data-v-11ceccae><legend data-v-11ceccae>被ダメージ表示</legend><div class="description" data-v-11ceccae> 基礎ダメージ10000に対する被ダメージ(推定値)を表示します。<br data-v-11ceccae> 基礎ダメージはざっくり防御力0の場合の被ダメージです。 </div></fieldset><fieldset data-v-11ceccae><legend data-v-11ceccae>NEXT STEP</legend><div class="description" data-v-11ceccae> 選択したダメージアクションについて、現在のステータスから聖遺物サブ効果1回上昇分ステータスが変化した場合のダメージの上昇率を計算します。 次にどのステータスを伸ばすべきかの参考情報となります。<br data-v-11ceccae> 比較的高い計算力を要求する機能のため、動作が重い場合は下部の停止ボタンから機能を止めて下さい。 </div></fieldset><fieldset data-v-11ceccae><legend data-v-11ceccae>内部リンク</legend><p data-v-11ceccae><a href="GoogleDrive.html" data-v-11ceccae>Google Drive連携 (テスト中)</a></p><p data-v-11ceccae><a href="StatList.html" data-v-11ceccae>キャラクターステータス一覧</a></p><p data-v-11ceccae><a href="TeamOptionList.html" data-v-11ceccae>強化・弱体効果一覧</a></p><p data-v-11ceccae><a href="CritTarget.html" data-v-11ceccae>会心目標</a></p><p data-v-11ceccae><a href="RecommendationList.html" data-v-11ceccae>おすすめセット一覧</a></p><p data-v-11ceccae><a href="index2.html" data-v-11ceccae>旧バージョン(V2)</a></p><p data-v-11ceccae><a href="RotationVisualizer.html" data-v-11ceccae>げんろーて</a></p></fieldset>',6))}var _c=(0,n.pM)({name:"AboutMyApp"});const Rc=(0,J.A)(_c,[["render",Ec],["__scopeId","data-v-11ceccae"]]);var Ic=Rc;const Oc={class:"left"},Nc=["disabled"];function Xc(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("fieldset",null,[a[15]||(a[15]=(0,n.Lk)("legend",null,"おまけ",-1)),(0,n.Lk)("div",Oc,[(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=a=>e.configurationInputRea["全武器解放"]=a),onChange:a[1]||(a[1]=a=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["全武器解放"]]]),a[8]||(a[8]=(0,n.Lk)("span",null,"全ての武器が選択可能になる",-1))]),a[9]||(a[9]=(0,n.Lk)("div",{class:"notice"}," ※正規の武器タイプ以外の武器を選択した場合、構成保存できなくなります。 ",-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=a=>e.configurationInputRea["聖遺物詳細サブ効果オンリー"]=a),onChange:a[3]||(a[3]=a=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["聖遺物詳細サブ効果オンリー"]]]),a[10]||(a[10]=(0,n.Lk)("span",null,"聖遺物詳細の表示値をサブ効果のみの合計にする",-1))]),a[11]||(a[11]=(0,n.Lk)("div",{class:"notice"},[(0,n.eW)(" 聖遺物詳細の表示値からメイン効果分が除外されます。"),(0,n.Lk)("br")],-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=a=>e.configurationInputRea["聖遺物サブ効果計算停止"]=a),onChange:a[5]||(a[5]=a=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["聖遺物サブ効果計算停止"]]]),a[12]||(a[12]=(0,n.Lk)("span",null,"聖遺物サブ効果の自動計算を止める",-1))]),a[13]||(a[13]=(0,n.Lk)("div",{class:"notice"},[(0,n.eW)(" 聖遺物サブ効果が自動計算されなくなります。"),(0,n.Lk)("br"),(0,n.eW)(" 手動で入力して下さい。 ")],-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=a=>e.initializeArtifactStatsSubClickableRef=a)},null,512),[[l.lH,e.initializeArtifactStatsSubClickableRef]]),a[14]||(a[14]=(0,n.Lk)("span",null,"聖遺物サブ効果0初期化",-1))]),(0,n.Lk)("button",{type:"button",disabled:!e.initializeArtifactStatsSubClickableRef,onClick:a[7]||(a[7]=(...a)=>e.initializeArtifactStatsSub&&e.initializeArtifactStatsSub(...a))},(0,s.v_)(e.displayName("実行")),9,Nc)])])]),(0,n.Lk)("div",null,(0,s.v_)(e.screen.width)+" , "+(0,s.v_)(e.screen.height),1)],64)}var Ac=(0,n.pM)({name:"ConfigurationInput",props:{configurationInput:{type:Object,required:!0}},emits:["update:configuration-input","order:initialize-artifact-stats-sub"],setup(e,a){const{displayName:t}=(0,q.A)(),l=(0,x.Kh)(e.configurationInput),n=(0,x.KR)(!1),s=()=>{a.emit("order:initialize-artifact-stats-sub"),n.value=!1};return{displayName:t,configurationInputRea:l,initializeArtifactStatsSubClickableRef:n,initializeArtifactStatsSub:s,screen:screen}}});const wc=(0,J.A)(Ac,[["render",Xc],["__scopeId","data-v-4d61b92a"]]);var Vc=wc;const Mc={class:"own-list"},Kc=["src","alt","onClick"],Tc={class:"tooltip"},Dc=["src","alt"],Fc={class:"constellation"},Wc=["disabled"],Uc=["disabled"];function jc(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("ul",Mc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterList,(a=>((0,n.uX)(),(0,n.CE)("li",{key:a.key},[(0,n.Lk)("img",{class:(0,s.C4)("character"+e.bgImageClass(a)+e.notOwnedClass(a)),src:a.icon_url,alt:a.key,onClick:t=>e.onClick(a)},null,10,Kc),(0,n.Lk)("div",Tc,(0,s.v_)(e.displayName(a.key)),1),(0,n.Lk)("img",{class:"vision",src:e.visionSrc(a),alt:a.元素},null,8,Dc),(0,n.Lk)("div",Fc,(0,s.v_)(e.constellationObj[a.key]),1)])))),128))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=a=>e.savable=a),disabled:!e.changed},null,8,Wc),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("キャラクター所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:a[1]||(a[1]=(...a)=>e.save&&e.save(...a)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,Uc)],64)}var xc=(0,n.pM)({name:"CharacterOwnList",setup(){const{displayName:e}=(0,q.A)(),a=e=>Pe.cu[e.元素],t=e=>" "+Pe.$A[e.レアリティ],l=Pe.AB,n=(0,x.Kh)({});for(const r of l)n[r.key]=null;if(localStorage["キャラクター所持状況"]){const e=JSON.parse(localStorage["キャラクター所持状況"]);Object.keys(e).forEach((a=>{(0,On.kf)(e[a])&&(n[a]=Number(e[a]))}))}const s=(0,x.KR)(!1),i=(0,x.KR)(!1),o=e=>null==n[e.key]?" not-owned":"",c=e=>{if(null===n[e.key])n[e.key]=0;else if(6==n[e.key])n[e.key]=null;else{let a=n[e.key];n[e.key]=a+1}s.value=!0},u=()=>{const e={};Object.keys(n).filter((e=>null!==n[e])).forEach((a=>{e[a]=n[a]})),localStorage.setItem("キャラクター所持状況",JSON.stringify(e)),i.value=!1,s.value=!1};return{displayName:e,visionSrc:a,bgImageClass:t,characterList:l,constellationObj:n,onClick:c,changed:s,savable:i,save:u,notOwnedClass:o}}});const Hc=(0,J.A)(xc,[["render",jc],["__scopeId","data-v-2dba67b9"]]);var Qc=Hc;const Pc={class:"select-list"},Bc=["value"],qc=["src","alt"],Yc={key:0,class:"own-list"},Jc=["src","alt","onClick"],zc={class:"tooltip"},Gc={class:"refine"},$c=["disabled"],Zc=["disabled"];function eu(e,a,t,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("ul",Pc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponTypeList,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t},[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio","onUpdate:modelValue":a[0]||(a[0]=a=>e.selectedWeaponType=a),value:t,name:"weapon-own-list-type"},null,8,Bc),[[l.XL,e.selectedWeaponType]]),(0,n.Lk)("img",{class:"filter",src:e.weaponSrc(t),alt:t},null,8,qc)])])))),128))]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponTypeList,(a=>((0,n.uX)(),(0,n.CE)("div",{key:a},[a==e.selectedWeaponType?((0,n.uX)(),(0,n.CE)("ul",Yc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponList(a),(a=>((0,n.uX)(),(0,n.CE)("li",{key:a.key},[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(a)+e.notOwnedClass(a)),src:a.icon_url,alt:a.key,onClick:t=>e.onClick(a)},null,10,Jc),(0,n.Lk)("div",zc,(0,s.v_)(e.displayName(a.key)),1),(0,n.Lk)("div",Gc,(0,s.v_)(e.refineObj[a.key]),1)])))),128))])):(0,n.Q3)("",!0)])))),128)),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=a=>e.savable=a),disabled:!e.changed},null,8,$c),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("武器所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:a[2]||(a[2]=(...a)=>e.save&&e.save(...a)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,Zc)],64)}var au=(0,n.pM)({name:"WeaponOwnList",setup(){const{displayName:e,targetValue:a}=(0,q.A)(),t=e=>" "+Pe.$A[e.レアリティ],l=(0,n.EW)((()=>Object.keys(Pe.uM))),s=e=>Pe.uM[e],i=e=>Pe.Nc[e],o=(0,x.KR)(l.value[0]),c=(0,x.Kh)({});for(const n of l.value)for(const e of i(n))c[e.key]=null;if(localStorage["武器所持状況"]){const e=JSON.parse(localStorage["武器所持状況"]);Object.keys(e).forEach((a=>{(0,On.kf)(e[a])&&(c[a]=Number(e[a]))}))}const u=(0,x.KR)(!1),r=(0,x.KR)(!1),p=e=>null==c[e.key]?" not-owned":"",d=e=>{if(null===c[e.key])c[e.key]=1;else if(5==c[e.key])c[e.key]=null;else{let a=c[e.key];c[e.key]=a+1}u.value=!0},m=()=>{const e={};Object.keys(c).filter((e=>null!==c[e])).forEach((a=>{e[a]=c[a]})),localStorage.setItem("武器所持状況",JSON.stringify(e)),r.value=!1,u.value=!1};return{displayName:e,targetValue:a,bgImageClass:t,weaponTypeList:l,weaponSrc:s,weaponList:i,selectedWeaponType:o,refineObj:c,onClick:d,changed:u,savable:r,save:m,notOwnedClass:p}}});const tu=(0,J.A)(au,[["render",eu],["__scopeId","data-v-4c7e45c8"]]);var lu=tu;const nu={class:"cat-select"},su=["alt"],iu=["alt"],ou=["alt"],cu=["alt"],uu=["alt"],ru={class:"artifact-list"},pu={style:{"margin-top":"10px"}},du=["disabled"],mu=["disabled"],ku={style:{"margin-top":"10px"}},fu=["disabled"],vu=["disabled"];function bu(e,a,t,i,o,c){const u=(0,n.g2)("ArtifactItem");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",nu,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"1","onUpdate:modelValue":a[0]||(a[0]=a=>e.artifactCatTabSelected=a),onChange:a[1]||(a[1]=(...a)=>e.catOnChange&&e.catOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/flower_of_life.png",alt:e.displayName("生の花")},null,8,su)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"2","onUpdate:modelValue":a[2]||(a[2]=a=>e.artifactCatTabSelected=a),onChange:a[3]||(a[3]=(...a)=>e.catOnChange&&e.catOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/plume_of_death.png",alt:e.displayName("死の羽")},null,8,iu)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"3","onUpdate:modelValue":a[4]||(a[4]=a=>e.artifactCatTabSelected=a),onChange:a[5]||(a[5]=(...a)=>e.catOnChange&&e.catOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/sands_of_eon.png",alt:e.displayName("時の砂")},null,8,ou)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"4","onUpdate:modelValue":a[6]||(a[6]=a=>e.artifactCatTabSelected=a),onChange:a[7]||(a[7]=(...a)=>e.catOnChange&&e.catOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/goblet_of_eonothem.png",alt:e.displayName("空の杯")},null,8,cu)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"5","onUpdate:modelValue":a[8]||(a[8]=a=>e.artifactCatTabSelected=a),onChange:a[9]||(a[9]=(...a)=>e.catOnChange&&e.catOnChange(...a))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/circlet_of_logos.png",alt:e.displayName("理の冠")},null,8,uu)])]),(0,n.Lk)("div",ru,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactOwnArrCatId(e.artifactCatTabSelected),(a=>((0,n.uX)(),(0,n.Wv)(u,{key:a.id,artifact:a.artifact,id:a.id,control:e.artifactControl,selected:a.selected,"onUpdate:artifact":e.updateArtifact,"onSelect:artifact":e.selectArtifact},null,8,["artifact","id","control","selected","onUpdate:artifact","onSelect:artifact"])))),128))]),(0,n.Lk)("div",pu,[e.controlMode?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("button",{type:"button",onClick:a[10]||(a[10]=(...a)=>e.removeOnClick&&e.removeOnClick(...a))},(0,s.v_)(e.displayName("削除")),1),(0,n.Lk)("button",{type:"button",onClick:a[11]||(a[11]=(...a)=>e.newArtifactOnClick&&e.newArtifactOnClick(...a))},(0,s.v_)(e.displayName("新規聖遺物")),1),(0,n.Lk)("button",{type:"button",onClick:a[12]||(a[12]=(...a)=>e.reloadOnClick&&e.reloadOnClick(...a))},(0,s.v_)(e.displayName("最新")),1)],64)),"remove"==e.controlMode?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("button",{type:"button",disabled:0==e.selectCount,onClick:a[13]||(a[13]=(...a)=>e.removeExecOnClick&&e.removeExecOnClick(...a))},(0,s.v_)(e.displayName("削除実行")),9,du),(0,n.Lk)("button",{type:"button",onClick:a[14]||(a[14]=(...a)=>e.removeModeEndProc&&e.removeModeEndProc(...a))},(0,s.v_)(e.displayName("キャンセル")),1)],64)):(0,n.Q3)("",!0),"new-artifact"==e.controlMode?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.bF)(u,{artifact:e.newArtifact,id:0,control:"editable",initial:!0,"onUpdate:artifact":e.updateArtifact},null,8,["artifact","onUpdate:artifact"]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:a[15]||(a[15]=(...a)=>e.newArtifactAddOnClick&&e.newArtifactAddOnClick(...a)),disabled:!e.addable},(0,s.v_)(e.displayName("聖遺物追加")),9,mu),(0,n.Lk)("button",{type:"button",onClick:a[16]||(a[16]=(...a)=>e.newArtifactModeEndProc&&e.newArtifactModeEndProc(...a))},(0,s.v_)(e.displayName("キャンセル")),1)])],64)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",ku,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[17]||(a[17]=a=>e.savable=a),disabled:!e.changed},null,8,fu),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("聖遺物所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:a[18]||(a[18]=(...a)=>e.save&&e.save(...a)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,vu)])],64)}var yu=1,gu=(0,n.pM)({name:"ArtifactOwnList",components:{ArtifactItem:Gl.A},setup(){const{displayName:e,displayStatValue:a,targetValue:t}=(0,q.A)(),l="artifact_list",s=(0,x.KR)(1),i=(0,x.Kh)([]),o=(0,x.Kh)(j().cloneDeep(Qe.wE)),c=(0,x.KR)("editable"),u=(0,x.KR)(""),r=(0,x.KR)(!1),p=(0,x.KR)(!1),d=(0,n.EW)((()=>i.filter((e=>e.selected)).length)),m=(0,n.EW)((()=>{if(!o.name)return!1;if(!o.rarity)return!1;if(!o.setname)return!1;if(!o.cat_id)return!1;if(!o.mainStat)return!1;if(!o.mainStatValue)return!1;for(const e of o.subStats){if(!e.name)return!1;if(!e.value)return!1}return 0==i.filter((e=>j().isEqual(e.artifact,o))).length})),k=e=>{const a=i.filter((a=>a.artifact.cat_id==Number(e)));return a.sort(((e,a)=>{if(e.artifact.setname!=a.artifact.setname){const t=Object.keys(Pe.Z3),l=t.indexOf(e.artifact.setname),n=t.indexOf(a.artifact.setname);return l-n}if(e.artifact.mainStat!=a.artifact.mainStat){const t=Object.keys(Qe.Ty),l=t.indexOf(e.artifact.mainStat),n=t.indexOf(a.artifact.mainStat);return l-n}return 0}))},f=[["",0],["HP",4780],["攻撃力",311],["攻撃力%",46.6],["炎元素ダメージバフ",46.6],["会心率",31.1]],v=()=>{g(),C(),o.cat_id=Number(s.value),o.mainStat=String(f[o.cat_id][0]),o.mainStatValue=Number(f[o.cat_id][1])},b=()=>{u.value="remove",c.value="selectable"},y=()=>{const e=i.filter((e=>!e.selected));i.splice(0,i.length,...e),g(),r.value=!0},g=()=>{u.value="",i.forEach((e=>{e.selected=!1})),c.value="editable"},h=()=>{u.value="new-artifact",c.value=""},L=()=>{const e={id:yu++,artifact:j().cloneDeep(o),selected:!1};i.push(e),C(),r.value=!0},C=()=>{u.value="",c.value="editable"},S=()=>{I(),r.value=!1},E=(e,a)=>{if(0==e)return void(0,On.BW)(o,a);let t=0;for(;t<i.length;t++)if(i[t].id==e){i[t].artifact=a;break}r.value=!0},_=e=>{let a=0;for(;a<i.length;a++)if(i[a].id==e){i[a].selected=!i[a].selected;break}},R=()=>{const e=i.map((e=>e.artifact));localStorage.setItem(l,JSON.stringify(e)),r.value=!1,p.value=!1},I=()=>{if(l in localStorage){const e=JSON.parse(localStorage[l]),a=e.filter((e=>"setname"in e)).map((e=>({id:yu++,artifact:e,selected:!1})));i.splice(0,i.length,...a)}};return I(),{displayName:e,displayStatValue:a,targetValue:t,artifactCatTabSelected:s,newArtifact:o,artifactControl:c,controlMode:u,selectCount:d,addable:m,artifactOwnArrCatId:k,changed:r,savable:p,catOnChange:v,removeOnClick:b,removeExecOnClick:y,removeModeEndProc:g,newArtifactOnClick:h,newArtifactAddOnClick:L,newArtifactModeEndProc:C,reloadOnClick:S,updateArtifact:E,selectArtifact:_,save:R}}});const hu=(0,J.A)(gu,[["render",bu],["__scopeId","data-v-9dcf17ca"]]);var Lu=hu;const Cu={key:0},Su={for:"artifact-score-formula",class:"toggle-switch header"},Eu={value:"-1"},_u=["value"],Ru={class:"formula-detail"},Iu=["onUpdate:modelValue"],Ou={class:"formula-detail"},Nu=["disabled"];function Xu(e,a,t,i,o,c){return e.visible?((0,n.uX)(),(0,n.CE)("div",Cu,[(0,n.bo)((0,n.Lk)("input",{id:"artifact-score-formula",type:"checkbox",class:"hidden","onUpdate:modelValue":a[0]||(a[0]=a=>e.expanded=a)},null,512),[[l.lH,e.expanded]]),(0,n.Lk)("label",Su,(0,s.v_)(e.displayName("聖遺物スコア計算式")),1),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=a=>e.selectedIndex=a),onChange:a[2]||(a[2]=(...a)=>e.selectOnChange&&e.selectOnChange(...a))},[(0,n.Lk)("option",Eu,(0,s.v_)(e.artifactScoreFormulaName(e.currentFormula)),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactScoreFormulaList,((a,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:t},"   "+(0,s.v_)(e.artifactScoreFormulaName(a)),9,_u)))),128))],544),[[l.u1,e.selectedIndex]]),(0,n.Lk)("div",Ru,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.currentFormula,((t,i)=>((0,n.uX)(),(0,n.CE)("div",{class:"right",key:i},[(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName(t[0]))+" × ",1),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":e=>t[1]=e,onChange:a[3]||(a[3]=a=>e.changed=!0)},null,40,Iu),[[l.Jo,t[1]]])])])))),128))]),(0,n.Lk)("div",Ou,[(0,n.Lk)("button",{type:"button",disabled:!e.changed,onClick:a[4]||(a[4]=(...a)=>e.applyFormula&&e.applyFormula(...a))},"Apply",8,Nu)])],512),[[l.aG,e.expanded]])])):(0,n.Q3)("",!0)}var Au=(0,n.pM)({name:"ArtifactScoreFormula",emits:["apply:formula"],props:{visible:Boolean},setup(e,a){const{displayName:t}=(0,q.A)(),l=(0,x.KR)(!1),n=(0,x.KR)(!1),s=(0,x.Kh)([]);Pe.Od.forEach((e=>{s.push(e)}));const i=(0,x.KR)(-1),o=(0,x.Kh)(j().cloneDeep(s[0])),c=()=>{if(-1==i.value)return;const e=j().cloneDeep(s[i.value]);o.splice(0,o.length,...e),n.value=!0},u=e=>{let a=[];return e.forEach((e=>{let l=t(e[0]);1!=e[1]&&(l+="*"+e[1]),a.push(l)})),a.join("+")},r=()=>{a.emit("apply:formula",o),n.value=!1},p=e=>{o.splice(0,o.length,...j().cloneDeep(e)),i.value=-1,n.value=!1};return{displayName:t,expanded:l,artifactScoreFormulaList:s,artifactScoreFormulaName:u,selectedIndex:i,currentFormula:o,selectOnChange:c,changed:n,applyFormula:r,initialize:p}}});const wu=(0,J.A)(Au,[["render",Xu],["__scopeId","data-v-79e749d5"]]);var Vu=wu,Mu=(0,n.pM)({name:"App",props:{characterInput:{type:Object,required:!0},artifactDetailInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},recommendationList:{type:Array,required:!0},recommendation:{type:Object,required:!0},urldata:{type:Object},teamMembers:{type:Array}},components:{AboutMyApp:Ic,ArtifactDetailInput:wn,ArtifactOwnList:Lu,ArtifactScoreFormula:Vu,ArtifactSetSelect:et.A,CharacterInfo:Fa,CharacterInput:Ye,CharacterOwnList:Qc,CharacterSelect:$.A,ConditionInput:Hn,ConfigurationInput:Vc,DamageResult:Bo,EasyTeamInput:Ps,ElementalResonanceInput:Zs,MiscOptionInput:Ji,NextStat:Ks,RotationDamage:gc,ShareSns:Sc,StatsInput:ks,TeamOptionInput:Ui,TitleAndHeader:G,WeaponOwnList:lu,WeaponSelect:Za},setup(e){const{setI18nLanguage:a,displayName:t}=(0,q.A)(),l=(0,x.KR)([]),s=Object.keys(Pe.Zn),i=["基本ステータス","高級ステータス"],o=["元素ステータス·ダメージ","ダメージバフ","実数ダメージ加算","元素反応バフ"],c=["基礎ステータス","元素ステータス·耐性"],u=["その他","ステータス連動","チーム内最高値"],r=["敵ステータス·元素耐性"],p=["敵ステータス·その他"],d=Pe.zA,m=(0,x.KR)(),k=(0,x.KR)(),f=(0,x.KR)(),v=(0,x.KR)(),b=(0,x.KR)(),y=(0,x.KR)(),g=(0,x.KR)(),h=(0,x.KR)(),L=(0,x.KR)(),C=(0,x.KR)(),S=(0,x.Kh)((0,Qe.D$)()),E=(0,x.Kh)((0,Qe.fD)()),_=(0,x.Kh)((0,Qe.BP)()),R=(0,x.Kh)((0,Qe.Xs)()),I=(0,x.Kh)((0,Qe.b7)()),O=(0,x.KR)(d[0]),N=(0,x.Kh)((0,Qe.GQ)()),X=(0,x.Kh)([]),A=(0,x.KR)({}),w=(0,x.Kh)({}),V=(0,x.Kh)({"全武器解放":!1,"聖遺物詳細サブ効果オンリー":!1,"聖遺物サブ効果計算停止":!1}),M=(0,x.Kh)(j().cloneDeep(Pe.Od[0])),K=(0,x.Kh)([]),T=(0,Qe.Xs)(),D=(0,x.Kh)([]),F=(0,x.Kh)({totalDamage:0,rotationDamages:[]});(0,On.BW)(S,e.characterInput),(0,On.BW)(E,e.artifactDetailInput),(0,On.BW)(_,e.conditionInput),X.splice(0,X.length,...e.recommendationList),(0,On.BW)(A,e.recommendation),I.statAdjustments["敵レベル"]=90,I.statAdjustments["敵防御力"]=0;const W=(0,x.KR)(!1),U=(0,x.KR)(0),H=(0,x.KR)(!1),Q=(0,x.KR)(!1),P=(0,x.KR)(!1),B=(0,x.KR)(0),Y=S.artifactSets,J=(0,x.KR)(!0),z=(0,x.KR)(!0),G=(0,x.KR)(!0),$=(0,x.KR)(!0),Z=(0,x.KR)(1),ee=(0,x.KR)(1),ae=(0,x.KR)(!1),te=(0,x.KR)(!1),le=(0,x.KR)(!1),ne=(0,x.KR)(!1),se=(0,x.KR)(0);(0,n.sV)((async()=>{a("en-us"),a("ja-jp"),e.recommendation.build?.artifactScoring&&ge(e.recommendation.build.artifactScoring),(0,Qe.fY)(R),await(0,n.dY)(),await Promise.all(s.map((e=>(0,Ka._J)(T,e)))),await he(),await Ce(S.character,e.teamMembers)}));const ie=(0,n.EW)((()=>V.全武器解放?void 0:S.characterMaster.武器)),oe=(0,n.EW)((()=>(0,Ka.zd)(S,E,M))),ce=(0,n.EW)((()=>V["聖遺物詳細サブ効果オンリー"])),ue=(0,n.EW)((()=>{const e=["特殊通常攻撃","特殊重撃","特殊落下攻撃"],a=[!1,!1,!1],t=Object.keys(S.characterMaster).filter((a=>e.includes(a))).map((e=>[e,S.characterMaster[e]]));if(t.length>0)for(const l of t){const t=e.indexOf(l[0]),n=l[1];n.条件 in _.conditionValues&&_.conditionValues[n.条件]&&(a[t]=!0)}return a})),re=(0,n.EW)((()=>[S.damageDetailMyCharacter,S.damageDetailMyWeapon,S.damageDetailMyArtifactSets])),pe=(0,n.EW)((()=>{const e={};return Qe.Nk.forEach((a=>{e[a]=I.statsObj[a]})),e})),de=(0,n.EW)((()=>{const e=(0,Qe.II)(S,E,_),a=(0,Qe.cq)(S.character,R);return[e,a]})),me=(0,n.EW)((()=>{se.value;const[e,a]=de.value,t=(0,Qe.F0)(S.character,S.buildname),l=(0,Qe.Uo)(S.character,S.buildname);let n=!1;return j().isEqual(JSON.stringify(e),localStorage.getItem(t))&&j().isEqual(JSON.stringify(a),localStorage.getItem(l))||(n=!0),n})),ke=async()=>{H.value=!H.value,H.value&&(await(0,n.dY)(),document.querySelector(".pane2")?.scrollIntoView({block:"nearest"}))},fe=async()=>{Q.value=!Q.value,Q.value&&(P.value=!1,J.value=!1,W.value=!1,await(0,n.dY)(),document.querySelector(".pane4")?.scrollIntoView({block:"nearest"}))},ve=async e=>{e==B.value?P.value=!P.value:(B.value=e,P.value=!0),P.value&&(Q.value=!1,J.value=!1,W.value=!1,await(0,n.dY)(),document.querySelector(".pane4")?.scrollIntoView({block:"nearest"}))},be=()=>{J.value=!J.value,J.value&&(Q.value=!1,P.value=!1,W.value=!1)},ye=e=>{U.value==e?W.value=!W.value:(U.value=e,W.value=!0),W.value&&(Q.value=!1,P.value=!1,J.value=!1)},ge=e=>{M.splice(0,M.length,...e)};async function he(){const e=Object.keys(w),a=[];s.forEach((t=>{const l=(0,Qe.F0)(t);let n=l,s=(0,Qe.no)(t);e.includes(t)&&(s=w[t],n=(0,Qe.F0)(t,s));let i=localStorage[n];if(i)a.push({key:t,value:i,buildname:s});else{const e=Object.keys(localStorage).filter((e=>e.startsWith(l)));e.length&&(n=e.sort()[0],i=localStorage[n],s=n.replace(new RegExp("^"+l+"_"),""),a.push({key:t,value:i,buildname:s}),w[t]=s)}}));const t=[];a.forEach((e=>{const a=K.filter((a=>a.key==e.key));a.length&&j().isEqual(a[0].value,e.value)&&!["雷電将軍"].includes(e.key)||t.push(e)}));const l=a.map((e=>e.key)),n=K.filter((e=>!l.includes(e.key))).map((e=>e.key));if(K.splice(0,K.length,...a),t.length){const e=t.map((e=>(0,Ka._J)(R,e.key,e.value,S.character)));await Promise.all(e)}s.filter((e=>!K.map((e=>e.key)).includes(e))).forEach((e=>{R.supporters[e]=T.supporters[e]})),(0,Qe.ux)(R),y.value&&(console.log("App","supporters",l,n),y.value.initializeSupporters(R.supporters))}function Le(){(0,Ka.s2)(I,S,E,_,R),(0,Qe.OE)(_,S,I.statsObj),v.value&&v.value.initialize(_),(0,Ka.s2)(I,S,E,_,R),(0,Ka.h9)(N,S,_,I),C.value&&C.value.setupNextStatRows(),se.value++}const Ce=async function(a,t){console.debug("updateCharacter",a,t),L.value&&L.value.clearCopiedDamageResult(),H.value=!1,S.character=a,S.characterMaster=await(0,Pe.Td)(a);let l=0;if("キャラクター所持状況"in localStorage){const e=JSON.parse(localStorage["キャラクター所持状況"]);a in e&&e[a]&&(l=Number(e[a]))}const s=(0,Qe.E_)(S.characterMaster);l>s&&(l=s),S.命ノ星座=l,S.通常攻撃レベル=8,S.元素スキルレベル=8,S.元素爆発レベル=8;const i=S.characterMaster.元素スキル.名前,o=S.characterMaster.元素爆発.名前;for(let e=1;e<=l;e++){if(3!=e&&5!=e)continue;const a=S.characterMaster.命ノ星座[String(e)];a&&a.説明&&(i&&-1!=a.説明.indexOf(i)?S.元素スキルレベル+=3:o&&-1!=a.説明.indexOf(o)&&(S.元素爆発レベル+=3))}const c=e.urldata&&e.urldata.キャラクター==a?e.urldata:void 0;X.splice(0,X.length,...(0,Qe.Y5)(S.characterMaster,c)),A.value=X[0],S.recommendationSelectedIndex=0,t?R.teamMembers.splice(0,R.teamMembers.length,...t):R.teamMembers.splice(0,R.teamMembers.length),ge(Pe.Od[0]),await he(),(0,Ka.V5)(R,pe.value,a),await Se(A.value),y.value&&y.value.initializeSupporters(R.supporters),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},Se=async e=>{if(console.log("App","recommendation",e),await(0,Qe.g4)(S,E,_,R,e.build,e.name),!("精錬ランク"in e.build)){const e=S.weapon;let a,t=[1,1,1,5,3,1][S.weaponMaster.レアリティ];if("武器所持状況"in localStorage){const t=JSON.parse(localStorage["武器所持状況"]);e in t&&t[e]&&(a=Number(t[e]))}a?t=a:void 0!==S.weaponMaster.精錬ランク&&(t=S.weaponMaster.精錬ランク);const l=S.weaponMaster.レアリティ<3?1:5;t>l&&(t=l),S.武器精錬ランク=Number(t)}(0,Qe.Lk)(S),(0,Qe.Oq)(S),(0,Qe.pL)(S),(0,Qe.D2)(S),(0,Qe.N2)(_,S,R),await De(),(0,Ka.Jo)(E.聖遺物ステータスメイン効果,E.聖遺物メイン効果);let a=!E.聖遺物優先するサブ効果Disabled;if("聖遺物サブ効果計算停止"in V&&V.聖遺物サブ効果計算停止&&(a=!1),a){const e=[];for(let a=0;a<E.聖遺物優先するサブ効果.length;a++)e.push((0,Qe.Yk)(E.聖遺物優先するサブ効果,a));(0,Ka.om)(E.聖遺物ステータスサブ効果,E.聖遺物メイン効果,E.聖遺物優先するサブ効果,E.聖遺物優先するサブ効果上昇値,e,E.聖遺物優先するサブ効果上昇回数)}(0,Ka.S_)(E);const t=(0,Ka.WI)(R.elementalResonance.conditionValues,_);if((0,On.BW)(R.elementalResonance.conditionAdjustments,t),Le(),e.overwrite?S.buildname=e.name:S.buildname="",S.removeDisabled=!e.overwrite,await(0,n.dY)(),b.value&&b.value.initializeValues(R.elementalResonance),y.value&&y.value.initializeValues(R.teamOption),g.value&&g.value.initializeValues(R.miscOption),C.value&&(C.value.initializeEvaluationItem(),C.value.setupNextStatRows()),"artifactScoring"in e.build){const a=e.build.artifactScoring;ge(a),h.value&&h.value.initialize(M)}},Ee=e=>{Object.keys(e).forEach((a=>{a in S&&(S[a]=e[a])})),(0,Qe.Lk)(S),(0,Qe.N2)(_,S,R),Le()},_e=async e=>{S.weapon=e,S.weaponMaster=await(0,Pe.cd)(e);const a=[4,4,4,6,6,6][S.weaponMaster.レアリティ];S.武器突破レベル>a&&(S.武器突破レベル=a,S.武器レベル=[20,40,50,60,70,80,90][a]);let t,l=[1,1,1,5,3,1][S.weaponMaster.レアリティ];if("武器所持状況"in localStorage){const a=JSON.parse(localStorage["武器所持状況"]);e in a&&a[e]&&(t=Number(a[e]))}t?l=t:void 0!==S.weaponMaster.精錬ランク&&(l=S.weaponMaster.精錬ランク);const s=S.weaponMaster.レアリティ<3?1:5;l>s&&(l=s),S.武器精錬ランク=Number(l),(0,Qe.Oq)(S),(0,Qe.N2)(_,S,R),Le(),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},Re=e=>{Object.keys(e).forEach((a=>{S&&a in S&&(S[a]=e[a])})),(0,Qe.Oq)(S),(0,Qe.N2)(_,S,R),Le()},Ie=async e=>{Y[B.value]=e;const a=Pe.Z3[e];S.artifactSetMasters.splice(B.value,1,a),(0,Qe.pL)(S),(0,Qe.N2)(_,S,R),Le(),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},Oe=e=>{E.聖遺物メイン効果.splice(0,E.聖遺物メイン効果.length,...e.聖遺物メイン効果),E.聖遺物優先するサブ効果.splice(0,E.聖遺物優先するサブ効果.length,...e.聖遺物優先するサブ効果),E.聖遺物優先するサブ効果上昇値.splice(0,E.聖遺物優先するサブ効果上昇値.length,...e.聖遺物優先するサブ効果上昇値),E.聖遺物優先するサブ効果上昇回数.splice(0,E.聖遺物優先するサブ効果上昇回数.length,...e.聖遺物優先するサブ効果上昇回数);for(const a of Object.keys(e.聖遺物ステータス))E.聖遺物ステータス[a]=e.聖遺物ステータス[a];E.artifact_list.splice(0,E.artifact_list.length,...e.artifact_list),Le(),V.聖遺物サブ効果計算停止=e.聖遺物優先するサブ効果Disabled},Ne=()=>{I.enemyMaster=O.value,Le()},Xe=e=>{e&&Object.keys(e).forEach((a=>{I.statAdjustments[a]=e[a]})),Le()},Ae=e=>{(0,On.BW)(_.conditionValues,e);const a=(0,Ka.WI)(R.elementalResonance.conditionValues,_);(0,On.BW)(R.elementalResonance.conditionAdjustments,a),Le()},we=e=>{if(e&&Object.keys(e).length){j().isEqual(R.elementalResonance.conditionValues,e)||(0,On.BW)(R.elementalResonance.conditionValues,e),(0,Qe.N2)(_,S,R);const a=(0,Ka.WI)(R.elementalResonance.conditionValues,_);(0,On.BW)(R.elementalResonance.conditionAdjustments,a),Le()}},Ve=e=>{e&&(j().isEqual(R.miscOption.conditionValues,e)||(0,On.BW)(R.miscOption.conditionValues,e),(0,Ka.QQ)(R),Le())},Me=e=>{e&&(j().isEqual(R.teamOption.conditionValues,e)||(0,On.BW)(R.teamOption.conditionValues,e),(0,Ka.V5)(R,pe.value,S.character),Le())},Ke=async e=>{(0,On.BW)(w,e),await he(),(0,Ka.V5)(R,pe.value,S.character),Le()},Te=async e=>{R.teamMembers.splice(0,R.teamMembers.length,...e),await De(),(0,Ka.V5)(R,pe.value,S.character),Le()};async function De(){await(0,Qe.c0)(S,_,R),await(0,Qe.Ww)(S,R)&&b.value&&b.value.initializeValues(R.elementalResonance),console.log("App","conditionValues",_.conditionValues)}const Fe=e=>{e&&(I.statAdjustmentsEx=e,Xe())},We=e=>{Array.isArray(e)&&D.splice(0,D.length,...e)},Ue=e=>{F.totalDamage=e.totalDamage,F.rotationDamages.splice(0,F.rotationDamages.length,...e.rotationDamages)},je=e=>{console.debug(e),e.全武器解放&&console.log("全武器解放"),e.聖遺物サブ効果計算停止&&(E.聖遺物優先するサブ効果Disabled=!0)},xe=()=>{f.value&&f.value.initializeArtifactStatsSub()},He=()=>{(0,Qe.q6)(S,E,_)},Be=async a=>{const[t,l]=de.value,n=(0,Qe.F0)(S.character,a),s=(0,Qe.Uo)(S.character,a);localStorage.setItem(n,JSON.stringify(t)),localStorage.setItem(s,JSON.stringify(l));const i=M,o=(0,Qe.y$)(S.character,a);localStorage.setItem(o,JSON.stringify(i));const c=e.urldata&&e.urldata.キャラクター==S.character?e.urldata:void 0;X.splice(0,X.length,...(0,Qe.Y5)(S.characterMaster,c)),await he(),n==(0,Qe.F0)(S.character)&&(S.buildname=(0,Qe.no)(S.character));const u="artifact_list";if(E.artifact_list&&E.artifact_list.length){let e=[],a=localStorage.getItem(u);a&&(e=JSON.parse(a));let t=!1;for(const l of E.artifact_list)0==e.filter((e=>j().isEqual(e,l))).length&&(e.push(l),t=!0);t&&localStorage.setItem(u,JSON.stringify(e))}S.removeDisabled=!1,se.value++},qe=async a=>{let t=S.character;const l=[(0,Qe.no)(S.character)];a&&!l.includes(a)&&(t+="_"+a);const n="構成_"+t;localStorage.removeItem(n);const s="オプション構成_"+t;localStorage.removeItem(s);const i="ArtifactScoring_"+t;localStorage.removeItem(i);const o=e.urldata&&e.urldata.キャラクター==S.character?e.urldata:void 0;X.splice(0,X.length,...(0,Qe.Y5)(S.characterMaster,o)),await he(),S.removeDisabled=!0,se.value++},Ye=()=>{localStorage.clear(),ne.value=!1},Je=e=>e&&j().isPlainObject(e)?Object.keys(e):[],ze=(e,a)=>e&&j().isPlainObject(e)?e[a]:void 0;return{displayName:t,HTML_LOGGER:l,CHARACTER_STATS_CATEGORY1_LIST:i,CHARACTER_STATS_CATEGORY2_LIST:o,CHARACTER_STATS2_CATEGORY1_LIST:c,CHARACTER_STATS2_CATEGORY2_LIST:u,ENEMY_STATS_CATEGORY1_LIST:r,ENEMY_STATS_CATEGORY2_LIST:p,ENEMY_LIST:d,characterSelectVmRef:m,characterInputVmRef:k,artifactDetailInputVmRef:f,conditionInputVmRef:v,elementalResonanceInputVmRef:b,teamOptionInputVmRef:y,miscOptionInputVmRef:g,artifactScoreFormulaVmRef:h,damageResultVmRef:L,nextStatVmRef:C,characterInputRea:S,artifactDetailInputRea:E,conditionInputRea:_,optionInputRea:R,statsInput:I,selectedEnemyRef:O,damageResult:N,recommendationListRea:X,recommendationRef:A,configurationInputRea:V,artifactScoringStats:M,savedSupporters:K,nextStatRows:D,rotationDamageInfo:F,characterInfoVisibleRef:W,characterInfoModeRef:U,characterSelectVisibleRef:H,weaponSelectVisibleRef:Q,artifactSetSelectVisibleRef:P,artifactSetIndexRef:B,artifactSets:Y,artifactDetailInputVisibleRef:J,pane6Toggle1Ref:z,pane6Toggle2Ref:G,pane6Toggle3Ref:$,statInputTabRef:Z,optionInputTabRef:ee,ownListToggle1Ref:ae,ownListToggle2Ref:te,ownListToggle3Ref:le,enableClearLocalStorage:ne,builddataSavable:me,weaponType:ie,artifactScore:oe,isSubStatOnly:ce,normalAttackReplacing:ue,myDamageDatailArr:re,topStats:pe,openCharacterSelect:ke,openWeaponSelect:fe,openArtifactSetSelect:ve,openArtifactDetailInput:be,openCharacterInfo:ye,applyArtifactScoreFormula:ge,updateCharacter:Ce,updateRecommendation:Se,updateCharacterInputCharacter:Ee,updateWeapon:_e,updateCharacterInputWeapon:Re,updateArtifactSet:Ie,updateArtifactDetail:Oe,updateEnemy:Ne,updateStatAdjustments:Xe,updateCondition:Ae,updateElementalResonance:we,updateMiscOption:Ve,updateTeamOption:Me,updateBuildnameSelection:Ke,updateTeamMembers:Te,updateNextStatAdjustments:Fe,updateNextStatRows:We,updateRotationDamage:Ue,updateConfigurationInput:je,orderInitializeArtifactStatsSub:xe,openTwitter:He,saveToStorage:Be,removeFromStorage:qe,clearLocalStorage:Ye,objectKeys:Je,getValue:ze}}});const Ku=(0,J.A)(Mu,[["render",W],["__scopeId","data-v-e7ee4adc"]]);var Tu=Ku;function Du(e){const a={};try{const t=e.split(",");let l,n=0;for((Pe.Zi.forEach(((e,s)=>{let i=t[n];switch(s){case"キャラクター":Object.keys(Pe.Zn).forEach((e=>{if("import"in Pe.Zn[e]){const a=(0,On.P8)(Pe.Zn[e]["import"]),t=a.split("_")[a.split("_").length-1];i==t&&(l=e,i=l)}}));break;case"武器":if(l){const e=Pe.Zn[l]["武器"],a=Pe._U[e];let t;Object.keys(a).forEach((a=>{if("import"in Pe._U[e][a]){const l=(0,On.P8)(Pe._U[e][a]["import"]),n=l.split("_")[l.split("_").length-1];i==n&&(t=a)}})),t||(t=Object.keys(Pe._U[e]).filter((e=>e.startsWith("西風")))[0]),i=t}break;case"聖遺物セット効果1":case"聖遺物セット効果2":i?Object.keys(Pe.Z3).forEach((e=>{if("image"in Pe.Z3[e]){const a=(0,On.P8)(Pe.Z3[e]["image"]),t=a.split("_")[a.split("_").length-1];i==t&&(i=e)}})):i="NONE";break;case"聖遺物メイン効果1":case"聖遺物メイン効果2":case"聖遺物メイン効果3":case"聖遺物メイン効果4":case"聖遺物メイン効果5":i&&(i=i.split("_")[0]+"_"+Pe.ts.get(i.split("_")[1]));break}s.match(/^聖遺物優先するサブ効果\d$/)&&i&&(i=Pe.ts.get(i)),null!=e&&(0,On.kf)(e)?a[s]=i?Number(i):0:a[s]=i||"",n++})));n<t.length;n++){const e=t[n];let l,s;if(1!=e.indexOf("=")){const t=e.split("=");l=t[0],s=t[1],a[l]=s}}return a}catch(t){throw console.error(t),t}}function Fu(){const e=new Date;let a=Number.MAX_SAFE_INTEGER,t=Pe.AB[0].key;for(const l of Pe.AB)if(l["誕生日"]){const n=l["誕生日"].split("/"),s=new Date(e.getFullYear(),Number(n[0])-1,Number(n[1]),0,0,0,0),i=e.getTime()-s.getTime();if(i<0)continue;i<a&&(a=i,t=l.key)}return t}async function Wu(){const e=(0,Qe.D$)(),a=(0,Qe.fD)(),t=(0,Qe.BP)(),n=(0,Qe.Xs)(),s=new URLSearchParams(window.location.search);let i,o,c,u;if(s.has("allin")){const e=s.get("allin");e?(c=Du(e),i=c.キャラクター):console.error("query strings are not valid!")}else{if([i,o,c,u]=(0,Qe.uI)(),i||(i=Fu()),o&&!c){const e=localStorage.getItem((0,Qe.F0)(i,o));e&&(c=JSON.parse(e))}c&&void 0!==u&&(void 0===c.options&&(c.options={}),c.options.teamMembers=u)}e.character=i,e.characterMaster=await(0,Pe.Td)(e.character);const r=(0,Qe.Y5)(e.characterMaster,c);let p;o&&(p=r.filter((e=>e.name==o))[0]),p||(p=r[0]),await(0,Qe.g4)(e,a,t,n,p.build),(0,l.Ef)(Tu,{characterInput:e,artifactDetailInput:a,conditionInput:t,recommendationList:r,recommendation:p,urldata:c,teamMembers:n.teamMembers}).use(He.A).mount("#app")}Wu()},8330:function(e){e.exports={rE:"3.6.13"}}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var s=a[l]={id:l,loaded:!1,exports:{}};return e[l].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,s){if(!l){var i=1/0;for(r=0;r<e.length;r++){l=e[r][0],n=e[r][1],s=e[r][2];for(var o=!0,c=0;c<l.length;c++)(!1&s||i>=s)&&Object.keys(t.O).every((function(e){return t.O[e](l[c])}))?l.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(r--,1);var u=n();void 0!==u&&(a=u)}}return a}s=s||0;for(var r=e.length;r>0&&e[r-1][2]>s;r--)e[r]=e[r-1];e[r]=[l,n,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.j=57}(),function(){var e={57:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,s,i=l[0],o=l[1],c=l[2],u=0;if(i.some((function(a){return 0!==e[a]}))){for(n in o)t.o(o,n)&&(t.m[n]=o[n]);if(c)var r=c(t)}for(a&&a(l);u<i.length;u++)s=i[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(r)},l=self["webpackChunkgencalc"]=self["webpackChunkgencalc"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504,996],(function(){return t(4896)}));l=t.O(l)})();
//# sourceMappingURL=index.9c2f9043.js.map