{"version":3,"file":"js/GoogleDriveTest.1e1167b1.js","mappings":"sFAEA,MAAMA,EAAeC,KAAMC,EAAAA,EAAAA,IAAa,mBAAmBD,EAAEA,KAAIE,EAAAA,EAAAA,MAAcF,GACzEG,EAA2BJ,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,mBAAoB,KAC/GC,EAA2BN,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,QAAS,KACpGE,EAA2BP,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,IAAK,CAAEG,MAAO,CAAC,aAAa,OAAO,cAAc,SAAW,EAClIH,EAAAA,EAAAA,GAAoB,IAAK,CAAEI,KAAM,MAAQ,mBACpD,KACEC,EAA2BV,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,IAAK,KAAM,8EAA+E,KACzKM,EAA2BX,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,MAAO,CAAEO,MAAO,SAAW,MAAO,KACjHC,EAAa,CAAC,YACdC,EAAa,CAAC,YACdC,EAA2Bf,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KAClGW,EAAa,CAAC,YACdC,EAA4BjB,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KACnGa,EAAc,CAAEN,MAAO,mBACvBO,EAA4BnB,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,UAAW,KAAM,wBAAyB,KAC1He,EAA4BpB,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,EACnFA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,SAChCA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,iBAChCA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,SAChCA,EAAAA,EAAAA,GAAoB,QAC/B,KACEgB,EAAc,CAAC,WACfC,EAAc,CAAC,WAAY,WAC3BC,EAAc,CAAC,WAAY,WAC3BC,EAA4BxB,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KACnGoB,EAA4BzB,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KACnGqB,EAA4B1B,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KACnGsB,EAAc,CAAC,YACfC,EAAc,CAAC,YACfC,EAA4B7B,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KACnGyB,EAAc,CAAElB,MAAO,kBACvBmB,EAA4B/B,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,UAAW,KAAM,sBAAuB,KACxH2B,EAA4BhC,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,EACnFA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,QAChCA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,YAC3C,KACE4B,EAAc,CAAEC,IAAK,GACrBC,EAA4BnC,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,CAAE+B,QAAS,KAAO,QAAS,KACjHC,EAAc,CAClBF,GAEIG,EAA4BtC,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KACnGkC,EAA4BvC,GAAa,KAAmBK,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KAEnG,SAAUmC,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,KAAM,CACzD7C,EACAE,EACAC,EACAG,EACAC,GACAN,EAAAA,EAAAA,GAAoB,MAAO,KAAM,EAC/BA,EAAAA,EAAAA,GAAoB,SAAU,CAC5B6C,KAAM,SACNC,QAAST,EAAO,KAAOA,EAAO,GAEtC,IAAIU,IAAUX,EAAKY,OAASZ,EAAKY,SAASD,IAClCE,UAAWb,EAAKc,aACfC,EAAAA,EAAAA,IAAiBf,EAAKgB,WAAa,SAAW,eAAgB,EAAG5C,IACpER,EAAAA,EAAAA,GAAoB,SAAU,CAC5B6C,KAAM,SACNC,QAAST,EAAO,KAAOA,EAAO,GAEtC,IAAIU,IAAUX,EAAKiB,QAAUjB,EAAKiB,UAAUN,IACpCE,UAAWb,EAAKgB,YAAchB,EAAKkB,cAClC,QAAS,EAAG7C,KAEjBC,GACAV,EAAAA,EAAAA,GAAoB,MAAO,KAAM,EAC/BA,EAAAA,EAAAA,GAAoB,SAAU,CAC5B6C,KAAM,SACNC,QAAST,EAAO,KAAOA,EAAO,GAEtC,IAAIU,IAAUX,EAAKmB,iBAAmBnB,EAAKmB,mBAAmBR,IACtDE,UAAWb,EAAKgB,YAAchB,EAAKkB,cAClC,2BAA4B,EAAG3C,KAEpCC,GACAZ,EAAAA,EAAAA,GAAoB,QAASa,EAAa,CACxCC,EACAC,IACC2B,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,MAAMY,EAAAA,EAAAA,IAAYpB,EAAKqB,gBAAiBC,KAChFhB,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,KAAM,CAC9CpC,OAAOoD,EAAAA,EAAAA,IAAgBvB,EAAKwB,WAAWF,EAAKG,KAC5ChC,IAAK6B,EAAKG,GACVf,QAAUgB,GAAiB1B,EAAK2B,gBAAgB3B,EAAK4B,aAAcN,IAClE,EACD1D,EAAAA,EAAAA,GAAoB,KAAM,MAAMmD,EAAAA,EAAAA,IAAiBO,EAAKO,MAAO,IAC7DjE,EAAAA,EAAAA,GAAoB,KAAM,MAAMmD,EAAAA,EAAAA,IAAiBO,EAAKQ,cAAe,IACrElE,EAAAA,EAAAA,GAAoB,KAAM,MAAMmD,EAAAA,EAAAA,IAAiBO,EAAKS,MAAO,IAC7DnE,EAAAA,EAAAA,GAAoB,KAAM,KAAM,EAC9BA,EAAAA,EAAAA,GAAoB,SAAU,CAC5B6C,KAAM,SACNI,SAAUb,EAAKkB,aACfR,QAAUgB,GAAiB1B,EAAKgC,eAAeV,EAAKG,KACnD,KAAM,EAAG5C,IACZjB,EAAAA,EAAAA,GAAoB,SAAU,CAC5B6C,KAAM,SACNI,SAAUb,EAAKkB,aACfR,QAAUgB,GAAiB1B,EAAKiC,kBAAkBX,EAAKG,KACtD,KAAM,EAAG3C,MAEb,GAAIF,MACL,QAENG,EACAC,EACAC,GACArB,EAAAA,EAAAA,GAAoB,MAAO,KAAM,EAC/BA,EAAAA,EAAAA,GAAoB,SAAU,CAC5B6C,KAAM,SACNC,QAAST,EAAO,KAAOA,EAAO,GAEtC,IAAIU,IAAUX,EAAKkC,wBAA0BlC,EAAKkC,0BAA0BvB,KACnE,eACHwB,EAAAA,EAAAA,IAAiB,QACjBvE,EAAAA,EAAAA,GAAoB,SAAU,CAC5B6C,KAAM,SACNC,QAAST,EAAO,KAAOA,EAAO,GAEtC,IAAIU,IAAUX,EAAKoC,mBAAqBpC,EAAKoC,qBAAqBzB,IAC1DE,UAAWb,EAAKqC,WAAarC,EAAKkB,cACjC,SAAU,EAAGhC,IAChBtB,EAAAA,EAAAA,GAAoB,SAAU,CAC5B6C,KAAM,SACNC,QAAST,EAAO,KAAOA,EAAO,GAEtC,IAAIU,IAAUX,EAAKsC,mBAAqBtC,EAAKsC,qBAAqB3B,IAC1DE,UAAWb,EAAKuC,WAAavC,EAAKkB,cACjC,QAAS,EAAG/B,KAEjBC,GACAxB,EAAAA,EAAAA,GAAoB,QAASyB,EAAa,CACxCC,EACAC,EACsD,GAArDS,EAAKwC,eAAeC,QAAOC,GAAa,GAARA,EAAE,KAASC,SACvCrC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,KAAMf,EAAaI,MACrDU,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,CAAEf,IAAK,IAAK2B,EAAAA,EAAAA,IAAYpB,EAAKwC,eAAeC,QAAOC,GAAa,GAARA,EAAE,MAAWE,KAC7GtC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,KAAM,CAC9Cd,IAAKmD,EAAW,IACf,EACDhF,EAAAA,EAAAA,GAAoB,KAAM,MAAMmD,EAAAA,EAAAA,IAAiB6B,EAAW,IAAK,IACjEhF,EAAAA,EAAAA,GAAoB,KAAM,MAAMmD,EAAAA,EAAAA,IAAiB,CAAC,KAAM,OAAQ,SAAU,UAAU6B,EAAW,KAAM,QAErG,QAEV/C,EACAC,GACC,GACL,C,6DCvIA,GAAe+C,EAAAA,EAAAA,IAAgB,CAC7BhB,KAAM,YACNiB,KAAAA,GACE,MAAMC,EAAY,2EACZC,EAAS,gDACTC,EAAU,0CACVC,EAAgB,6DAChBC,EAAe,mBAEfrC,GAAasC,EAAAA,EAAAA,KAAI,GAEvB,SAASC,IACPC,QAAQC,IAAI,kBACZC,KAAKC,OAAOC,KAAK,CACfC,OAAQV,EACRW,cAAe,CAACV,KACfW,MAAK,KACN/C,EAAWgD,OAAQ,CAAI,GAE3B,EAEAC,EAAAA,EAAAA,KAAU,KACR,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IAAM,oCACbH,EAAOI,OAASC,iBACdb,KAAKc,KAAK,SAAU,CAClBC,SAAU,WACRlB,GACF,EACAmB,QAAS,WACPC,MAAM,8BACR,EACAC,QAAS,IACTC,UAAW,WACTF,MAAM,iDACR,GAEJ,EACAR,SAASW,KAAKC,YAAYb,EAAO,IAGnC,MAAMc,GAAgBC,EAAAA,EAAAA,IAAS,CAAC,GAC1BC,GAAeD,EAAAA,EAAAA,IAAS,CAAC,GACzBE,GAAgBF,EAAAA,EAAAA,IAAS,CAAC,GAC1B1D,GAAiB0D,EAAAA,EAAAA,IAAS,IAC1BnD,GAAemD,EAAAA,EAAAA,IAAS,CAAC,GACzBG,GAAiBH,EAAAA,EAAAA,IAAS,CAAC,GAC3B7D,GAAekC,EAAAA,EAAAA,KAAI,GAEnBpC,GAAamE,EAAAA,EAAAA,KAAS,MACnBL,EAAcM,eAGjB5C,GAAiB2C,EAAAA,EAAAA,KAAS,KAC9B,MAAME,EAA6B,GAC7BC,EAAYC,OAAOC,KAAKR,GAAcS,OACtCC,EAAaH,OAAOC,KAAKP,GAAeQ,OAe9C,OAdAH,EAAUK,SAAQlG,IACZiG,EAAWE,SAASnG,GAClBoG,IAAAA,QAAUb,EAAavF,GAAMwF,EAAcxF,IAC7C4F,EAAOS,KAAK,CAACrG,EAAK,IAElB4F,EAAOS,KAAK,CAACrG,EAAK,IAGpB4F,EAAOS,KAAK,CAACrG,EAAK,G,IAGtBiG,EAAWjD,QAAOhD,IAAQ6F,EAAUM,SAASnG,KAAMkG,SAAQlG,IACzD4F,EAAOS,KAAK,CAACrG,EAAK,GAAG,IAEhB4F,CAAM,IAGTU,GAAuBZ,EAAAA,EAAAA,KAAS,IACyB,GAAtD3C,EAAesB,MAAMrB,QAAOuD,GAAa,GAARA,EAAE,KAASrD,SAG/CN,GAAY8C,EAAAA,EAAAA,KAAS,KACjBF,IAAkBc,EAAqBjC,QAG3CvB,GAAY4C,EAAAA,EAAAA,KAAS,IAClBF,IAAkBc,EAAqBjC,QAI1ClD,EAAQA,MACZqF,EAAAA,EAAAA,KAAgBC,IACdA,EAAOC,SAASC,OAAOC,gBAAgB,CACrCC,UAAWvD,EACXwD,MAAOvD,EACPwD,OAAQ,GACRjC,SAAUkC,IACJA,EAASrB,eACX9B,QAAQC,IAAIkD,GACZ3B,EAAcM,aAAeqB,EAASrB,aACtCN,EAAc4B,WAAaC,OAAOF,EAASC,YAC3C5B,EAAcyB,MAAQE,EAASF,MAC/BzB,EAAc8B,WAAaH,EAASG,WAEpCzF,IACAe,I,IAGH2E,oBAAoB,GACvB,EAIE5F,EAASA,KACT6D,EAAcM,eAChBa,EAAAA,EAAAA,KAAgBC,IACdA,EAAOC,SAASC,OAAOU,OAAOhC,EAAcM,aAAa,IAG7D2B,EAAejC,EAAe,CAAC,GAC/BiC,EAAe9B,EAAe,CAAC,GAC/B5D,EAAe2F,OAAO,EAAG3F,EAAesB,QACxCoE,EAAenF,EAAc,CAAC,GAC9BmF,EAAe7B,EAAgB,CAAC,EAAE,EAI9B/D,EAAkBkD,gBAChB4C,IAAmBpD,MAAM4C,IAC7BnD,QAAQC,IAAIkD,GACRA,GAAUS,OAASrB,IAAAA,QAAUY,EAASS,SACxC7F,EAAe2F,OAAO,EAAG3F,EAAesB,UAAW8D,EAASS,OAC5D5D,QAAQC,IAAIlC,G,IAGhB0F,EAAenF,EAAc,CAAC,EAAE,EAI5BI,EAAiBqC,UACrB,MAAM8C,EAAS1F,GAAUJ,EAAe,GAAGI,SACrC2F,EAAgBD,EAAQ,CAAEE,IAAK,UAAWxD,MAAM4C,IACpD,GAAIA,GAAU7B,KAAM,CAClB,MAAM0C,EAAOC,KAAKC,MAAMf,GAAU7B,MAClCmC,EAAe9B,EAAeqC,GAC9B,MAAMG,EAAepG,EAAeoB,QAAOiF,GAAQA,EAAKjG,GAAKA,IACzDgG,EAAa9E,QACfoE,EAAe7B,EAAgBuC,EAAa,G,MAG9C9F,EAAAA,EAAAA,IAAgBuD,EAAgB,CAAC,E,IAGrChD,GAAwB,EAIpBD,EAAoBoC,gBAClBsD,EAAmBlG,SACnBN,IACFS,GAAgBA,EAAaH,IAAMA,IACrCE,EAAAA,EAAAA,IAAgBC,EAAc,CAAC,E,EAK7BQ,EAAoBiC,UAIxB,GAHAnC,UACM0F,EAAmBzE,EAAc6B,EAAc,0BAC/C7D,IACFE,EAAesB,OAAS,GAAI,CAC9B,MAAMkF,EAAa,GACnB,IAAK,IAAIC,EAAI,GAAIA,EAAIzG,EAAesB,OAAQmF,IAC1CD,EAAW/B,KAAKzE,EAAeyG,GAAGrG,UAE9BsG,QAAQC,IAAIH,EAAWI,KAAKP,GAAcC,EAAmBD,EAAKjG,M,GAKtEa,EAAoBA,KACxByE,EAAemB,aAAcjD,GAC7B/C,GAAwB,EAIpBA,EAAyBA,KAC7B6E,EAAe/B,EAAckD,aAAa,EAGtCC,EAAuB9D,UAC3B,MAAMoC,QAAsBQ,IACxBR,GAAUS,OAASrB,IAAAA,QAAUY,EAASS,SACxC7F,EAAe2F,OAAO,EAAG3F,EAAesB,UAAW8D,EAASS,aACtDa,QAAQC,IAAIvB,EAASS,MAAMe,KAAKP,GAAcC,EAAmBD,EAAKjG,O,EAI1EsF,EAAiBA,CAACqB,EAAajE,KACnCoB,OAAOC,KAAK4C,GAAK3F,QAAOhD,KAASA,KAAO0E,KAAMwB,SAAQlG,WAC5C2I,EAAY3I,EAAI,IAE1B8F,OAAOC,KAAKrB,GAAKwB,SAAQlG,IACtB2I,EAAY3I,GAAQ0E,EAAY1E,EAAI,GACrC,EAUJ4E,eAAeuD,EAAmB/F,EAAcwG,EAAcC,EAAqBC,GACjFrH,EAAa4C,OAAQ,EACrB,MAAM0E,EAAW,uBACXC,EAAkB,CACtBC,WAAY,aAEVH,GACFhD,OAAOC,KAAK+C,GAAQ5C,SAAQlG,IAC1BgJ,EAAWhJ,GAAO8I,EAAO9I,EAAI,IAGjC,MAAMkJ,EAA8B,GACpCA,EAAM7C,KAAK,CAAC,WAAY,CACtBjE,KAAMA,EACN+G,QAAS,CAAC,kBACT,CAAE,eAAgB,sBACrBD,EAAM7C,KAAK,CAAC,QAASuC,EAAS,CAAE,eAAgBC,KAEhD,IACE,MAAM7B,QAAiBjD,KAAKC,OAAOoF,QAAQ,CACzCC,KAAM,yBACNC,OAAQ,OACRR,OAAQE,EACRO,QAAS,CACP,eAAgB,+BAA+BR,KAEjD5D,KAAMqE,EAAkBN,EAAOH,KAGjC,OADAlF,QAAQ4F,MAAMzC,GACPA,C,CACP,MAAO0C,GACPC,EAAoBD,E,CACpB,QACAjI,EAAa4C,OAAQ,C,CAEzB,CAwCA,SAASmF,EAAkBN,EAA6BH,GACtD,MAAMnD,EAAmB,GAgBzB,OAfAsD,EAAMhD,SAAQ0D,IACZ,MAAMzE,EAAOyE,EAAK,GACZL,EAAUK,EAAK,GACrBhE,EAAOS,KAAK,KAAK0C,KACjBjD,OAAOC,KAAKwD,GAASrD,SAAQlG,IAC3B4F,EAAOS,KAAK,GAAGrG,MAAQuJ,EAAQvJ,KAAO,IAExC4F,EAAOS,KAAK,IACRD,IAAAA,SAAWjB,GACbS,EAAOS,KAAKlB,GACHiB,IAAAA,cAAgBjB,IACzBS,EAAOS,KAAKyB,KAAK+B,UAAU1E,G,IAG/BS,EAAOS,KAAK,KAAK0C,OACVnD,EAAOkE,KAAK,OACrB,CAOAlF,eAAe4C,EAAiBsB,GAC9BrH,EAAa4C,OAAQ,EACrB,MAAM2E,EAAkB,CACtBe,QAAS,oBACTC,SAAU,GACVC,OAAQ,gBACRC,OAAQ,sDAENpB,GACFhD,OAAOC,KAAK+C,GAAQ5C,SAAQlG,IAC1BgJ,EAAWhJ,GAAO8I,EAAO9I,EAAI,IAGjC,IACE,MAAMgH,QAAiBjD,KAAKC,OAAOoF,QAAQ,CACzCC,KAAM,iBACNC,OAAQ,MACRR,OAAQE,IAGV,GADAnF,QAAQ4F,MAAMzC,GACVA,EAASpB,OACX,OAAOoB,EAASpB,OAElB,MAAMoB,C,CACN,MAAO0C,GACPC,EAAoBD,E,CACpB,QACAjI,EAAa4C,OAAQ,C,CAEzB,CAQAO,eAAe+C,EAAgBwC,EAAgBrB,GAC7CrH,EAAa4C,OAAQ,EACrB,MAAM2E,EAAkB,CAAC,EAErBF,GACFhD,OAAOC,KAAK+C,GAAQ5C,SAAQlG,IAC1BgJ,EAAWhJ,GAAO8I,EAAO9I,EAAI,IAGjC,IACE,MAAMgH,QAAiBjD,KAAKC,OAAOoF,QAAQ,CACzCC,KAAM,kBAAkBc,IACxBb,OAAQ,MACRR,OAAQE,IAGV,OADAnF,QAAQ4F,MAAMzC,GACPA,C,CACP,MAAO0C,GACPC,EAAoBD,E,CACpB,QACAjI,EAAa4C,OAAQ,C,CAEzB,CAQAO,eAAesD,EAAmBiC,EAAgBrB,GAChDrH,EAAa4C,OAAQ,EACrB,MAAM2E,EAAkB,CAAC,EAErBF,GACFhD,OAAOC,KAAK+C,GAAQ5C,SAAQlG,IAC1BgJ,EAAWhJ,GAAO8I,EAAO9I,EAAI,IAGjC,IACE,MAAMgH,QAAiBjD,KAAKC,OAAOoF,QAAQ,CACzCC,KAAM,kBAAkBc,IACxBb,OAAQ,SACRR,OAAQE,IAGV,OADAnF,QAAQ4F,MAAMzC,GACPA,C,CACP,MAAO0C,GACPC,EAAoBD,E,CACpB,QACAjI,EAAa4C,OAAQ,C,CAEzB,CAEA,SAASsF,EAAoBD,GAC3B7F,QAAQuG,MAAMV,GACd1E,MAAM0E,GAENpC,EAAejC,EAAe,CAAC,GAC/BiC,EAAe9B,EAAe,CAAC,GAC/B5D,EAAe2F,OAAO,EAAG3F,EAAesB,QACxCoE,EAAenF,EAAc,CAAC,GAC9BmF,EAAe7B,EAAgB,CAAC,EAClC,CAEA,MAAM1D,EAAcC,IAClB,MAAMqI,EAAU,GAGhB,OAFIlI,GAAgBA,EAAaH,IAAMA,GAAIqI,EAAQhE,KAAK,YACpDZ,GAAkBA,EAAezD,IAAMA,GAAIqI,EAAQhE,KAAK,cACrDgE,EAAQP,KAAK,IAAI,EAG1B,MAAO,CACL3I,QACAK,SACAE,kBACAa,iBACAC,oBACAG,oBACAE,oBACAJ,yBACAiG,uBACArH,aACAE,aACAE,eACAsB,iBACAH,YACAE,YAEAlB,iBACAO,eACAsD,iBACA1D,aAEAG,gBAAeA,EAAAA,GAEnB,I,QCrcF,MAAMoI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAShK,GAAQ,CAAC,YAAY,qBAEzF,Q,UCLAsE,eAAe2F,KACXC,EAAAA,EAAAA,IAAUC,EAAK,CAAC,GACbC,IAAIC,EAAAA,GAAMC,MAAM,OACvB,CAEAL,G,GCRIM,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CACjD/I,GAAI+I,EACJK,QAAQ,EACRF,QAAS,CAAC,GAUX,OANAG,EAAoBN,GAAUO,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG3EK,EAAOC,QAAS,EAGTD,EAAOD,OACf,CAGAJ,EAAoBS,EAAIF,E,WC5BxB,IAAIG,EAAW,GACfV,EAAoBW,EAAI,SAAS7F,EAAQ8F,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASzD,EAAI,EAAGA,EAAImD,EAAStI,OAAQmF,IAAK,CACrCqD,EAAWF,EAASnD,GAAG,GACvBsD,EAAKH,EAASnD,GAAG,GACjBuD,EAAWJ,EAASnD,GAAG,GAE3B,IAJA,IAGI0D,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAASxI,OAAQ8I,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAa9F,OAAOC,KAAK+E,EAAoBW,GAAGQ,OAAM,SAASjM,GAAO,OAAO8K,EAAoBW,EAAEzL,GAAK0L,EAASM,GAAK,IAChKN,EAASnE,OAAOyE,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbP,EAASjE,OAAOc,IAAK,GACrB,IAAI6D,EAAIP,SACEV,IAANiB,IAAiBtG,EAASsG,EAC/B,CACD,CACA,OAAOtG,CArBP,CAJCgG,EAAWA,GAAY,EACvB,IAAI,IAAIvD,EAAImD,EAAStI,OAAQmF,EAAI,GAAKmD,EAASnD,EAAI,GAAG,GAAKuD,EAAUvD,IAAKmD,EAASnD,GAAKmD,EAASnD,EAAI,GACrGmD,EAASnD,GAAK,CAACqD,EAAUC,EAAIC,EAwB/B,C,eC5BAd,EAAoB/M,EAAI,SAASoN,GAChC,IAAIgB,EAAShB,GAAUA,EAAOiB,WAC7B,WAAa,OAAOjB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAL,EAAoBuB,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,C,eCNArB,EAAoBuB,EAAI,SAASnB,EAASqB,GACzC,IAAI,IAAIvM,KAAOuM,EACXzB,EAAoB0B,EAAED,EAAYvM,KAAS8K,EAAoB0B,EAAEtB,EAASlL,IAC5E8F,OAAO2G,eAAevB,EAASlL,EAAK,CAAE0M,YAAY,EAAMC,IAAKJ,EAAWvM,IAG3E,C,eCPA8K,EAAoB8B,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,EAChB,CAAE,MAAOxG,GACR,GAAsB,kBAAXyG,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBlC,EAAoB0B,EAAI,SAASS,EAAKC,GAAQ,OAAOpH,OAAOqH,UAAUC,eAAe9B,KAAK2B,EAAKC,EAAO,C,eCCtGpC,EAAoBoB,EAAI,SAAShB,GACX,qBAAXmC,QAA0BA,OAAOC,aAC1CxH,OAAO2G,eAAevB,EAASmC,OAAOC,YAAa,CAAEjJ,MAAO,WAE7DyB,OAAO2G,eAAevB,EAAS,aAAc,CAAE7G,OAAO,GACvD,C,eCNAyG,EAAoByC,IAAM,SAASpC,GAGlC,OAFAA,EAAOqC,MAAQ,GACVrC,EAAOsC,WAAUtC,EAAOsC,SAAW,IACjCtC,CACR,C,eCJAL,EAAoBkB,EAAI,G,eCKxB,IAAI0B,EAAkB,CACrB,IAAK,GAaN5C,EAAoBW,EAAEO,EAAI,SAAS2B,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BC,GAC/D,IAKI/C,EAAU4C,EALVjC,EAAWoC,EAAK,GAChBC,EAAcD,EAAK,GACnBE,EAAUF,EAAK,GAGIzF,EAAI,EAC3B,GAAGqD,EAASuC,MAAK,SAASjM,GAAM,OAA+B,IAAxB0L,EAAgB1L,EAAW,IAAI,CACrE,IAAI+I,KAAYgD,EACZjD,EAAoB0B,EAAEuB,EAAahD,KACrCD,EAAoBS,EAAER,GAAYgD,EAAYhD,IAGhD,GAAGiD,EAAS,IAAIpI,EAASoI,EAAQlD,EAClC,CAEA,IADG+C,GAA4BA,EAA2BC,GACrDzF,EAAIqD,EAASxI,OAAQmF,IACzBsF,EAAUjC,EAASrD,GAChByC,EAAoB0B,EAAEkB,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO7C,EAAoBW,EAAE7F,EAC9B,EAEIsI,EAAqBC,KAAK,uBAAyBA,KAAK,wBAA0B,GACtFD,EAAmBhI,QAAQ0H,EAAqBQ,KAAK,KAAM,IAC3DF,EAAmB7H,KAAOuH,EAAqBQ,KAAK,KAAMF,EAAmB7H,KAAK+H,KAAKF,G,IC/CvF,IAAIG,EAAsBvD,EAAoBW,OAAER,EAAW,CAAC,IAAI,KAAK,WAAa,OAAOH,EAAoB,IAAM,IACnHuD,EAAsBvD,EAAoBW,EAAE4C,E","sources":["webpack://gencalc/./src/pages/GoogleDrive/App.vue?6415","webpack://gencalc/./src/pages/GoogleDrive/App.vue?eb96","webpack://gencalc/./src/pages/GoogleDrive/App.vue","webpack://gencalc/./src/pages/GoogleDrive/main.ts","webpack://gencalc/webpack/bootstrap","webpack://gencalc/webpack/runtime/chunk loaded","webpack://gencalc/webpack/runtime/compat get default export","webpack://gencalc/webpack/runtime/define property getters","webpack://gencalc/webpack/runtime/global","webpack://gencalc/webpack/runtime/hasOwnProperty shorthand","webpack://gencalc/webpack/runtime/make namespace object","webpack://gencalc/webpack/runtime/node module decorator","webpack://gencalc/webpack/runtime/runtimeId","webpack://gencalc/webpack/runtime/jsonp chunk loading","webpack://gencalc/webpack/startup"],"sourcesContent":["import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3486839c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Google Drive 連携\", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"テスト中\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { style: {\"text-align\":\"left\",\"margin-left\":\"2rem\"} }, [\n  /*#__PURE__*/_createElementVNode(\"a\", { href: \"./\" }, \"Back to げんかるく\")\n], -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"本画面では、Google Driveのアプリデータフォルダを介して、ブラウザ間および端末間で《げんかるく》のデータを共有するための機能を提供します。\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"usage\" }, null, -1))\nconst _hoisted_6 = [\"disabled\"]\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_11 = { class: \"list-of-appdata\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"caption\", null, \"Google Drive上のアプリデータ\", -1))\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"tr\", null, [\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"name\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"modifiedTime\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"size\"),\n  /*#__PURE__*/_createElementVNode(\"th\")\n], -1))\nconst _hoisted_14 = [\"onClick\"]\nconst _hoisted_15 = [\"disabled\", \"onClick\"]\nconst _hoisted_16 = [\"disabled\", \"onClick\"]\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_20 = [\"disabled\"]\nconst _hoisted_21 = [\"disabled\"]\nconst _hoisted_22 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_23 = { class: \"remote-appdata\" }\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"caption\", null, \" ローカルデータと取得データの差分 \", -1))\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"tr\", null, [\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"key\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"status\")\n], -1))\nconst _hoisted_26 = { key: 0 }\nconst _hoisted_27 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", { colspan: \"2\" }, \"差分なし\", -1))\nconst _hoisted_28 = [\n  _hoisted_27\n]\nconst _hoisted_29 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_30 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _hoisted_3,\n    _hoisted_4,\n    _hoisted_5,\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.login && _ctx.login(...args))),\n        disabled: !_ctx.gapiInited\n      }, _toDisplayString(_ctx.isSignedIn ? 'リフレッシュ' : 'Googleでログイン'), 9, _hoisted_6),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.logoff && _ctx.logoff(...args))),\n        disabled: !_ctx.isSignedIn || _ctx.isProcessing\n      }, \"ログアウト\", 8, _hoisted_7)\n    ]),\n    _hoisted_8,\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.handleListClick && _ctx.handleListClick(...args))),\n        disabled: !_ctx.isSignedIn || _ctx.isProcessing\n      }, \"Google Drive上の退避データ一覧を取得\", 8, _hoisted_9)\n    ]),\n    _hoisted_10,\n    _createElementVNode(\"table\", _hoisted_11, [\n      _hoisted_12,\n      _hoisted_13,\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.remoteFileList, (item) => {\n        return (_openBlock(), _createElementBlock(\"tr\", {\n          class: _normalizeClass(_ctx.loaTrClass(item.id)),\n          key: item.id,\n          onClick: ($event: any) => (_ctx.overwriteObject(_ctx.selectedFile, item))\n        }, [\n          _createElementVNode(\"td\", null, _toDisplayString(item.name), 1),\n          _createElementVNode(\"td\", null, _toDisplayString(item.modifiedTime), 1),\n          _createElementVNode(\"td\", null, _toDisplayString(item.size), 1),\n          _createElementVNode(\"td\", null, [\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              disabled: _ctx.isProcessing,\n              onClick: ($event: any) => (_ctx.handleGetClick(item.id))\n            }, \"取得\", 8, _hoisted_15),\n            _createElementVNode(\"button\", {\n              type: \"button\",\n              disabled: _ctx.isProcessing,\n              onClick: ($event: any) => (_ctx.handleDeleteClick(item.id))\n            }, \"削除\", 8, _hoisted_16)\n          ])\n        ], 10, _hoisted_14))\n      }), 128))\n    ]),\n    _hoisted_17,\n    _hoisted_18,\n    _hoisted_19,\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.handleReloadLocalClick && _ctx.handleReloadLocalClick(...args)))\n      }, \"ローカルデータ再読込\"),\n      _createTextVNode(\"   \"),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.handleExportClick && _ctx.handleExportClick(...args))),\n        disabled: !_ctx.canExport || _ctx.isProcessing\n      }, \"エクスポート\", 8, _hoisted_20),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.handleImportClick && _ctx.handleImportClick(...args))),\n        disabled: !_ctx.canImport || _ctx.isProcessing\n      }, \"インポート\", 8, _hoisted_21)\n    ]),\n    _hoisted_22,\n    _createElementVNode(\"table\", _hoisted_23, [\n      _hoisted_24,\n      _hoisted_25,\n      (_ctx.comparisonList.filter(s => s[1] != 0).length == 0)\n        ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_26, _hoisted_28))\n        : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.comparisonList.filter(s => s[1] != 0), (comparison) => {\n            return (_openBlock(), _createElementBlock(\"tr\", {\n              key: comparison[0]\n            }, [\n              _createElementVNode(\"td\", null, _toDisplayString(comparison[0]), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(['同値', '差異あり', 'ローカルのみ', 'リモートのみ'][comparison[1]]), 1)\n            ]))\n          }), 128))\n    ]),\n    _hoisted_29,\n    _hoisted_30\n  ], 64))\n}","\r\nimport { computed, defineComponent, onMounted, reactive, ref } from \"vue\";\r\nimport _ from \"lodash\";\r\nimport { googleSdkLoaded } from \"vue3-google-login\";\r\nimport { overwriteObject } from \"@/common\";\r\n/// <reference path=\"../../node_modules/@types/gapi/index.d.ts\" />\r\n\r\ntype TokenClientResponse = {\r\n  access_token: string,\r\n  expires_in: number,\r\n  scope: string,\r\n  token_type: string,\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-namespace\r\ndeclare namespace gapi { }\r\nexport default defineComponent({\r\n  name: \"VueGoogle\",\r\n  setup() {\r\n    const CLIENT_ID = '507502242382-a7d868j5089106u313q7hd6js3i375l2.apps.googleusercontent.com';\r\n    const SCOPES = 'https://www.googleapis.com/auth/drive.appdata';\r\n    const API_KEY = 'AIzaSyCMehcHxbFkrej2jq_CT4TuAqQz01MTW6g';\r\n    const DISCOVERY_DOC = 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest';\r\n    const APPDATA_NAME = 'appdata_all.json';\r\n\r\n    const gapiInited = ref(false);\r\n\r\n    function initGapiClient() {\r\n      console.log('initGapiClient');\r\n      gapi.client.init({\r\n        apiKey: API_KEY,\r\n        discoveryDocs: [DISCOVERY_DOC],\r\n      }).then(() => {\r\n        gapiInited.value = true;\r\n      })\r\n    }\r\n\r\n    onMounted(() => {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://apis.google.com/js/api.js';\r\n      script.onload = async function () {\r\n        gapi.load('client', {\r\n          callback: function () {\r\n            initGapiClient();\r\n          },\r\n          onerror: function () {\r\n            alert('gapi.client failed to load!');\r\n          },\r\n          timeout: 30000, // 30 seconds\r\n          ontimeout: function () {\r\n            alert('gapi.client could not load in a timely manner!');\r\n          },\r\n        });\r\n      };\r\n      document.body.appendChild(script);\r\n    })\r\n\r\n    const tokenResponse = reactive({} as TokenClientResponse);\r\n    const localAppdata = reactive({} as any);\r\n    const remoteAppdata = reactive({} as any);\r\n    const remoteFileList = reactive([] as any[]);\r\n    const selectedFile = reactive({} as any);\r\n    const downloadedFile = reactive({} as any);\r\n    const isProcessing = ref(false);\r\n\r\n    const isSignedIn = computed(() => {\r\n      return tokenResponse.access_token ? true : false;\r\n    })\r\n\r\n    const comparisonList = computed(() => {\r\n      const result: [string, number][] = [];\r\n      const localKeys = Object.keys(localAppdata).sort();\r\n      const remoteKeys = Object.keys(remoteAppdata).sort();\r\n      localKeys.forEach(key => {\r\n        if (remoteKeys.includes(key)) {\r\n          if (_.isEqual(localAppdata[key], remoteAppdata[key])) {\r\n            result.push([key, 0]); // 同値\r\n          } else {\r\n            result.push([key, 1]); // 差異あり\r\n          }\r\n        } else {\r\n          result.push([key, 2]);  // ローカルのみ\r\n        }\r\n      })\r\n      remoteKeys.filter(key => !localKeys.includes(key)).forEach(key => {\r\n        result.push([key, 3]);  // リモートのみ\r\n      })\r\n      return result;\r\n    })\r\n\r\n    const isSameLocalAndRemote = computed(() => {\r\n      return comparisonList.value.filter(e => e[1] != 0).length == 0;\r\n    })\r\n\r\n    const canExport = computed(() => {\r\n      return !remoteAppdata || !isSameLocalAndRemote.value;\r\n    })\r\n\r\n    const canImport = computed(() => {\r\n      return remoteAppdata && !isSameLocalAndRemote.value;\r\n    })\r\n\r\n    /** Googleでログイン */\r\n    const login = () => {\r\n      googleSdkLoaded(google => {\r\n        google.accounts.oauth2.initTokenClient({\r\n          client_id: CLIENT_ID,\r\n          scope: SCOPES,\r\n          prompt: '',\r\n          callback: response => {\r\n            if (response.access_token) {\r\n              console.log(response);\r\n              tokenResponse.access_token = response.access_token;\r\n              tokenResponse.expires_in = Number(response.expires_in);\r\n              tokenResponse.scope = response.scope;\r\n              tokenResponse.token_type = response.token_type;\r\n\r\n              handleListClick();\r\n              handleReloadLocalClick();\r\n            }\r\n          }\r\n        }).requestAccessToken();\r\n      });\r\n    }\r\n\r\n    /** サインアウト */\r\n    const logoff = () => {\r\n      if (tokenResponse.access_token) {\r\n        googleSdkLoaded(google => {\r\n          google.accounts.oauth2.revoke(tokenResponse.access_token);\r\n        });\r\n      }\r\n      overrideObject(tokenResponse, {});\r\n      overrideObject(remoteAppdata, {});\r\n      remoteFileList.splice(0, remoteFileList.length);\r\n      overrideObject(selectedFile, {});\r\n      overrideObject(downloadedFile, {});\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataの一覧を取得します */\r\n    const handleListClick = async () => {\r\n      await requestFilesList().then((response: any) => {\r\n        console.log(response);\r\n        if (response?.files && _.isArray(response.files)) {\r\n          remoteFileList.splice(0, remoteFileList.length, ...response.files);\r\n          console.log(remoteFileList);\r\n        }\r\n      });\r\n      overrideObject(selectedFile, {});\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataをダウンロードします */\r\n    const handleGetClick = async (id?: string) => {\r\n      const workId = id ? id : remoteFileList[0].id;\r\n      await requestFilesGet(workId, { alt: 'media' }).then((response: any) => {\r\n        if (response?.body) {\r\n          const json = JSON.parse(response?.body);\r\n          overrideObject(remoteAppdata, json);\r\n          const workFileList = remoteFileList.filter(file => file.id = id);\r\n          if (workFileList.length) {\r\n            overrideObject(downloadedFile, workFileList[0]);\r\n          }\r\n        } else {\r\n          overwriteObject(downloadedFile, {});\r\n        }\r\n      })\r\n      handleReloadLocalClick();\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataを削除します */\r\n    const handleDeleteClick = async (id: string) => {\r\n      await requestFilesDelete(id);\r\n      await handleListClick();\r\n      if (selectedFile && selectedFile.id == id) {\r\n        overwriteObject(selectedFile, {});\r\n      }\r\n    }\r\n\r\n    /** ローカルストレージのAppdataをリモート(Google Drive)にアップロードします */\r\n    const handleExportClick = async () => {\r\n      handleReloadLocalClick();\r\n      await requestFilesCreate(APPDATA_NAME, localAppdata, 'application/json');\r\n      await handleListClick();\r\n      if (remoteFileList.length > 10) {\r\n        const deleteList = [];\r\n        for (let i = 10; i < remoteFileList.length; i++) {\r\n          deleteList.push(remoteFileList[i].id);\r\n        }\r\n        await Promise.all(deleteList.map((file: any) => requestFilesDelete(file.id)));\r\n      }\r\n    }\r\n\r\n    /** ダウンロード済みのリモートのAppdataをローカルストレージにコピー(上書き)します */\r\n    const handleImportClick = () => {\r\n      overrideObject(localStorage, remoteAppdata);\r\n      handleReloadLocalClick();\r\n    }\r\n\r\n    /** ローカルのAppdataをローカルストレージから再読み込みします */\r\n    const handleReloadLocalClick = () => {\r\n      overrideObject(localAppdata, localStorage);\r\n    }\r\n\r\n    const handleRemoveAllClick = async () => {\r\n      const response: any = await requestFilesList();\r\n      if (response?.files && _.isArray(response.files)) {\r\n        remoteFileList.splice(0, remoteFileList.length, ...response.files);\r\n        await Promise.all(response.files.map((file: any) => requestFilesDelete(file.id)));\r\n      }\r\n    }\r\n\r\n    const overrideObject = (dst: object, src: object) => {\r\n      Object.keys(dst).filter(key => !(key in src)).forEach(key => {\r\n        delete (dst as any)[key];\r\n      })\r\n      Object.keys(src).forEach(key => {\r\n        (dst as any)[key] = (src as any)[key];\r\n      })\r\n    }\r\n\r\n    /**\r\n     * files.create\r\n     * \r\n     * @param name ファイルの名前\r\n     * @param contentType Content-Type\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesCreate(name: string, content: any, contentType: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const boundary = '----====----====----';\r\n      const workParams: any = {\r\n        uploadType: 'multipart',\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      const parts: [string, any, any][] = [];\r\n      parts.push(['metadata', {\r\n        name: name,\r\n        parents: ['appDataFolder'],\r\n      }, { 'Content-Type': 'application/json' }]);\r\n      parts.push(['media', content, { 'Content-Type': contentType }]);\r\n\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: '/upload/drive/v3/files',\r\n          method: 'POST',\r\n          params: workParams,\r\n          headers: {\r\n            'Content-Type': `multipart/related; boundary=${boundary}`\r\n          },\r\n          body: makeMultipartBody(parts, boundary),\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    // /**\r\n    //  * files.update\r\n    //  * \r\n    //  * @param id ファイルのID\r\n    //  * @param contentType Content-Type\r\n    //  * @param params APIのパラメータ\r\n    //  */\r\n    // async function requestFilesUpdate(id: string, content: any, contentType: string, params?: any) {\r\n    //   const boundary = '----====----====----';\r\n    //   const workParams: any = {\r\n    //     uploadType: 'multipart',\r\n    //   };\r\n    //   if (params) {\r\n    //     Object.keys(params).forEach(key => {\r\n    //       workParams[key] = params[key];\r\n    //     });\r\n    //   }\r\n    //   const parts: [string, any, any][] = [];\r\n    //   parts.push(['metadata', {}, { 'Content-Type': 'application/json' }]);\r\n    //   parts.push(['media', content, { 'Content-Type': contentType }]);\r\n\r\n    //   try {\r\n    //     const response = await gapi.client.request({\r\n    //       path: `/upload/drive/v3/files/${id}`,\r\n    //       method: 'PATCH',\r\n    //       params: workParams,\r\n    //       headers: {\r\n    //         'Content-Type': `multipart/related; boundary=${boundary}`\r\n    //       },\r\n    //       body: makeMultipartBody(parts, boundary),\r\n    //     });\r\n    //     console.debug(response);\r\n    //     return response;\r\n    //   } catch (err) {\r\n    //     handleGapiException(err);\r\n    //   }\r\n    // }\r\n\r\n    function makeMultipartBody(parts: [string, any, any][], boundary: string) {\r\n      const result: string[] = [];\r\n      parts.forEach(part => {\r\n        const body = part[1];\r\n        const headers = part[2];\r\n        result.push(`--${boundary}`);\r\n        Object.keys(headers).forEach(key => {\r\n          result.push(`${key}: ${headers[key]}`);\r\n        })\r\n        result.push('');\r\n        if (_.isString(body)) {\r\n          result.push(body);\r\n        } else if (_.isPlainObject(body)) {\r\n          result.push(JSON.stringify(body));\r\n        }\r\n      })\r\n      result.push(`--${boundary}--`);\r\n      return result.join('\\r\\n');\r\n    }\r\n\r\n    /**\r\n     * files.list\r\n     * \r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesList(params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n        orderBy: 'modifiedTime desc',\r\n        pageSize: 10,\r\n        spaces: 'appDataFolder',\r\n        fields: 'nextPageToken, files(id, name, modifiedTime, size)',\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: 'drive/v3/files',\r\n          method: 'GET',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        if (response.result) {\r\n          return response.result;\r\n        }\r\n        throw response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * files.get\r\n     * \r\n     * @param fileId ファイルのID\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesGet(fileId: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: `drive/v3/files/${fileId}`,\r\n          method: 'GET',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * files.delete\r\n     * \r\n     * @param fileId ファイルのID\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesDelete(fileId: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: `drive/v3/files/${fileId}`,\r\n          method: 'DELETE',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    function handleGapiException(err: unknown) {\r\n      console.error(err);\r\n      alert(err);\r\n\r\n      overrideObject(tokenResponse, {});\r\n      overrideObject(remoteAppdata, {});\r\n      remoteFileList.splice(0, remoteFileList.length);\r\n      overrideObject(selectedFile, {});\r\n      overrideObject(downloadedFile, {});\r\n    }\r\n\r\n    const loaTrClass = (id: string) => {\r\n      const classes = [];\r\n      if (selectedFile && selectedFile.id == id) classes.push('selected');\r\n      if (downloadedFile && downloadedFile.id == id) classes.push('downloaded');\r\n      return classes.join(' ');\r\n    }\r\n\r\n    return {\r\n      login,\r\n      logoff,\r\n      handleListClick,\r\n      handleGetClick,\r\n      handleDeleteClick,\r\n      handleExportClick,\r\n      handleImportClick,\r\n      handleReloadLocalClick,\r\n      handleRemoveAllClick,\r\n      gapiInited,\r\n      isSignedIn,\r\n      isProcessing,\r\n      comparisonList,\r\n      canExport,\r\n      canImport,\r\n\r\n      remoteFileList,\r\n      selectedFile,\r\n      downloadedFile,\r\n      loaTrClass,\r\n\r\n      overwriteObject,\r\n    };\r\n  },\r\n});\r\n","import { render } from \"./App.vue?vue&type=template&id=3486839c&scoped=true&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3486839c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3486839c\"]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport i18n from '@/i18n';\r\n\r\nasync function main() {\r\n    createApp(App, {\r\n    }).use(i18n).mount('#app')\r\n}\r\n\r\nmain();\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 436;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t436: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgencalc\"] = self[\"webpackChunkgencalc\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998,64], function() { return __webpack_require__(923); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","style","href","_hoisted_4","_hoisted_5","class","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","key","_hoisted_27","colspan","_hoisted_28","_hoisted_29","_hoisted_30","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_Fragment","type","onClick","args","login","disabled","gapiInited","_toDisplayString","isSignedIn","logoff","isProcessing","handleListClick","_renderList","remoteFileList","item","_normalizeClass","loaTrClass","id","$event","overwriteObject","selectedFile","name","modifiedTime","size","handleGetClick","handleDeleteClick","handleReloadLocalClick","_createTextVNode","handleExportClick","canExport","handleImportClick","canImport","comparisonList","filter","s","length","comparison","defineComponent","setup","CLIENT_ID","SCOPES","API_KEY","DISCOVERY_DOC","APPDATA_NAME","ref","initGapiClient","console","log","gapi","client","init","apiKey","discoveryDocs","then","value","onMounted","script","document","createElement","src","onload","async","load","callback","onerror","alert","timeout","ontimeout","body","appendChild","tokenResponse","reactive","localAppdata","remoteAppdata","downloadedFile","computed","access_token","result","localKeys","Object","keys","sort","remoteKeys","forEach","includes","_","push","isSameLocalAndRemote","e","googleSdkLoaded","google","accounts","oauth2","initTokenClient","client_id","scope","prompt","response","expires_in","Number","token_type","requestAccessToken","revoke","overrideObject","splice","requestFilesList","files","workId","requestFilesGet","alt","json","JSON","parse","workFileList","file","requestFilesDelete","requestFilesCreate","deleteList","i","Promise","all","map","localStorage","handleRemoveAllClick","dst","content","contentType","params","boundary","workParams","uploadType","parts","parents","request","path","method","headers","makeMultipartBody","debug","err","handleGapiException","part","stringify","join","orderBy","pageSize","spaces","fields","fileId","error","classes","__exports__","main","createApp","App","use","i18n","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}