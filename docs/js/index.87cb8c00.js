(function(){"use strict";var e={163:function(e,t,a){a(4603),a(7566),a(8721);var l=a(5130),n=a(6768),s=a(4232);const i={class:"base-container"},o={class:"pane1"},c={class:"pane2"},u={class:"pane3",style:{"margin-bottom":"15px"}},r={class:"pane4"},p={class:"pane6"},d={class:"toggle-switch",for:"pane6-toggle-1"},m={class:"toggle-switch",for:"pane6-toggle-2"},k={class:"toggle-switch",for:"pane6-toggle-3"},f={key:0,style:{"margin-bottom":"10px"}},v={key:1,style:{"margin-bottom":"10px"}},b={class:"tab-switch"},y={for:"status-input-tab-1"},g={for:"status-input-tab-2"},h={for:"status-input-tab-3"},L={class:"enemy"},C=["value"],S={class:"enemy-level"},E={key:2,style:{"margin-bottom":"10px"}},_={class:"tab-switch"},R={for:"option-input-tab-1"},I={for:"option-input-tab-2"},O={for:"option-input-tab-3"},N={key:0},X={key:1},A={class:"result-pane"},w={class:"pane5"},V={class:"bottom-pane"},M={class:"toggle-switch no-border",for:"own-list-toggle-1"},K={class:"toggle-switch no-border",for:"own-list-toggle-2"},T={class:"toggle-switch no-border",for:"own-list-toggle-3"},D=["disabled"],F={class:"pane7"};function W(e,t,a,W,U,j){const x=(0,n.g2)("TitleAndHeader"),H=(0,n.g2)("CharacterSelect"),Q=(0,n.g2)("CharacterInput"),P=(0,n.g2)("CharacterInfo"),B=(0,n.g2)("WeaponSelect"),q=(0,n.g2)("ArtifactSetSelect"),Y=(0,n.g2)("ArtifactDetailInput"),J=(0,n.g2)("ArtifactScoreFormula"),z=(0,n.g2)("ConditionInput"),G=(0,n.g2)("StatsInput"),$=(0,n.g2)("NextStat"),Z=(0,n.g2)("EasyTeamInput"),ee=(0,n.g2)("ElementalResonanceInput"),te=(0,n.g2)("TeamOptionInput"),ae=(0,n.g2)("MiscOptionInput"),le=(0,n.g2)("DamageResult"),ne=(0,n.g2)("RotationDamage"),se=(0,n.g2)("ShareSns"),ie=(0,n.g2)("CharacterOwnList"),oe=(0,n.g2)("WeaponOwnList"),ce=(0,n.g2)("ArtifactOwnList"),ue=(0,n.g2)("AboutMyApp"),re=(0,n.g2)("ConfigurationInput");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",i,[(0,n.Lk)("div",o,[(0,n.bF)(x)]),(0,n.Lk)("div",c,[(0,n.bF)(H,{character:e.characterInputRea.character,visible:e.characterSelectVisibleRef,"onUpdate:character":t[0]||(t[0]=t=>e.updateCharacter(t))},null,8,["character","visible"])]),(0,n.Lk)("div",u,[(0,n.bF)(Q,{ref:"characterInputVmRef",characterInput:e.characterInputRea,"recommendation-list":e.recommendationListRea,recommendation:e.recommendationRef,"builddata-savable":e.builddataSavable,"artifact-set-select-visible":e.artifactSetSelectVisibleRef,"artifact-score":e.artifactScore,"onOpen:characterSelect":e.openCharacterSelect,onSaveToStorage:t[1]||(t[1]=t=>e.saveToStorage(t)),onRemoveFromStorage:t[2]||(t[2]=t=>e.removeFromStorage(t)),"onUpdate:recommendation":t[3]||(t[3]=t=>e.updateRecommendation(t)),"onOpen:weaponSelect":e.openWeaponSelect,"onOpen:artifactSetSelect":t[4]||(t[4]=t=>e.openArtifactSetSelect(t)),"onOpen:artifactDetailInput":e.openArtifactDetailInput,"onUpdate:characterInputCharacter":t[5]||(t[5]=t=>e.updateCharacterInputCharacter(t)),"onUpdate:characterInputWeapon":t[6]||(t[6]=t=>e.updateCharacterInputWeapon(t)),"onOpen:characterInfo":t[7]||(t[7]=t=>e.openCharacterInfo(t))},null,8,["characterInput","recommendation-list","recommendation","builddata-savable","artifact-set-select-visible","artifact-score","onOpen:characterSelect","onOpen:weaponSelect","onOpen:artifactDetailInput"])]),(0,n.Lk)("div",r,[(0,n.bF)(P,{visible:e.characterInfoVisibleRef,mode:e.characterInfoModeRef,"character-master":e.characterInputRea.characterMaster,ascension:e.characterInputRea.突破レベル,level:e.characterInputRea.レベル,"normal-attack-level":e.characterInputRea.通常攻撃レベル,"elemental-skill-level":e.characterInputRea.元素スキルレベル,"elemental-burst-level":e.characterInputRea.元素爆発レベル,"normal-attack-replacing":e.normalAttackReplacing},null,8,["visible","mode","character-master","ascension","level","normal-attack-level","elemental-skill-level","elemental-burst-level","normal-attack-replacing"]),(0,n.bF)(B,{visible:e.weaponSelectVisibleRef,weapon:e.characterInputRea.weapon,"weapon-type":e.weaponType,"weapon-master":e.characterInputRea.weaponMaster,ascension:e.characterInputRea.武器突破レベル,level:e.characterInputRea.武器レベル,"onUpdate:weapon":t[8]||(t[8]=t=>e.updateWeapon(t))},null,8,["visible","weapon","weapon-type","weapon-master","ascension","level"]),(0,n.bF)(q,{visible:e.artifactSetSelectVisibleRef,index:e.artifactSetIndexRef,"artifact-set":e.artifactSets[e.artifactSetIndexRef],"artifact-set-masters":e.characterInputRea.artifactSetMasters,"onUpdate:artifactSet":t[9]||(t[9]=t=>e.updateArtifactSet(t))},null,8,["visible","index","artifact-set","artifact-set-masters"]),(0,n.bF)(Y,{ref:"artifactDetailInputVmRef",visible:e.artifactDetailInputVisibleRef,"artifact-detail-input":e.artifactDetailInputRea,"is-sub-stat-only":e.isSubStatOnly,"next-stat-rows":e.nextStatRows,"onUpdate:artifactDetail":t[10]||(t[10]=t=>e.updateArtifactDetail(t))},null,8,["visible","artifact-detail-input","is-sub-stat-only","next-stat-rows"]),(0,n.bF)(J,{ref:"artifactScoreFormulaVmRef",visible:e.artifactDetailInputVisibleRef,"onApply:formula":e.applyArtifactScoreFormula},null,8,["visible","onApply:formula"])]),(0,n.Lk)("div",p,[(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-1",type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=t=>e.pane6Toggle1Ref=t)},null,512),[[l.lH,e.pane6Toggle1Ref]]),(0,n.Lk)("label",d,(0,s.v_)(e.displayName("オプション条件")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-2",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=t=>e.pane6Toggle2Ref=t)},null,512),[[l.lH,e.pane6Toggle2Ref]]),(0,n.Lk)("label",m,(0,s.v_)(e.displayName("ステータス")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-3",type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=t=>e.pane6Toggle3Ref=t)},null,512),[[l.lH,e.pane6Toggle3Ref]]),(0,n.Lk)("label",k,(0,s.v_)(e.displayName("バフ/デバフ")),1)]),e.pane6Toggle1Ref?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(z,{ref:"conditionInputVmRef","character-input":e.characterInputRea,"onUpdate:condition":e.updateCondition},null,8,["character-input","onUpdate:condition"])])):(0,n.Q3)("",!0),e.pane6Toggle2Ref?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.Lk)("div",b,[(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[14]||(t[14]=t=>e.statInputTabRef=t)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",y,(0,s.v_)(e.displayName("ステータス1")),1),(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-2",type:"radio",value:"2","onUpdate:modelValue":t[15]||(t[15]=t=>e.statInputTabRef=t)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",g,(0,s.v_)(e.displayName("ステータス2")),1),(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-3",type:"radio",value:"3","onUpdate:modelValue":t[16]||(t[16]=t=>e.statInputTabRef=t)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",h,(0,s.v_)(e.displayName("敵")),1)]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(G,{"stats-input":e.statsInput,"category1-list":e.CHARACTER_STATS_CATEGORY1_LIST,category2List:e.CHARACTER_STATS_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2List","onUpdate:statAdjustments"])],512),[[l.aG,1==e.statInputTabRef]]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(G,{"stats-input":e.statsInput,"category1-list":e.CHARACTER_STATS2_CATEGORY1_LIST,"category2-list":e.CHARACTER_STATS2_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2-list","onUpdate:statAdjustments"])],512),[[l.aG,2==e.statInputTabRef]]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.Lk)("label",L,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[17]||(t[17]=t=>e.selectedEnemyRef=t),onChange:t[18]||(t[18]=(...t)=>e.updateEnemy&&e.updateEnemy(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.ENEMY_LIST,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t.key},(0,s.v_)(e.displayName(t.key)),9,C)))),128))],544),[[l.u1,e.selectedEnemyRef]])]),(0,n.Lk)("label",S,[t[29]||(t[29]=(0,n.eW)("Lv. ")),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[19]||(t[19]=t=>e.statsInput.statAdjustments["敵レベル"]=t),min:"1",onChange:t[20]||(t[20]=t=>e.updateStatAdjustments())},null,544),[[l.Jo,e.statsInput.statAdjustments["敵レベル"]]])]),(0,n.bF)(G,{"stats-input":e.statsInput,"category1-list":e.ENEMY_STATS_CATEGORY1_LIST,"category2-list":e.ENEMY_STATS_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2-list","onUpdate:statAdjustments"])],512),[[l.aG,3==e.statInputTabRef]]),(0,n.Lk)("div",null,[(0,n.bF)($,{ref:"nextStatVmRef",visible:!0,"character-input":e.characterInputRea,"artifact-detail-input":e.artifactDetailInputRea,"condition-input":e.conditionInputRea,"option-input":e.optionInputRea,"stats-input":e.statsInput,"damage-result":e.damageResult,"rotation-damage-info":e.rotationDamageInfo,"onUpdate:statAdjustments":e.updateNextStatAdjustments,"onUpdate:nextStatRows":e.updateNextStatRows},null,8,["character-input","artifact-detail-input","condition-input","option-input","stats-input","damage-result","rotation-damage-info","onUpdate:statAdjustments","onUpdate:nextStatRows"])])])):(0,n.Q3)("",!0),e.pane6Toggle3Ref?((0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("div",_,[(0,n.bo)((0,n.Lk)("input",{id:"option-input-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[21]||(t[21]=t=>e.optionInputTabRef=t)},null,512),[[l.XL,e.optionInputTabRef]]),(0,n.Lk)("label",R,(0,s.v_)(e.displayName("元素共鳴")),1),(0,n.bo)((0,n.Lk)("input",{id:"option-input-tab-2",type:"radio",value:"2","onUpdate:modelValue":t[22]||(t[22]=t=>e.optionInputTabRef=t)},null,512),[[l.XL,e.optionInputTabRef]]),(0,n.Lk)("label",I,(0,s.v_)(e.displayName("チーム")),1),(0,n.bo)((0,n.Lk)("input",{id:"option-input-tab-3",type:"radio",value:"3","onUpdate:modelValue":t[23]||(t[23]=t=>e.optionInputTabRef=t)},null,512),[[l.XL,e.optionInputTabRef]]),(0,n.Lk)("label",O,(0,s.v_)(e.displayName("その他")),1)]),(0,n.bF)(Z,{character:e.characterInputRea.character,"team-members":e.optionInputRea.teamMembers,"onUpdate:teamMembers":e.updateTeamMembers},null,8,["character","team-members","onUpdate:teamMembers"]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(ee,{ref:"elementalResonanceInputVmRef","elemental-resonance":e.optionInputRea.elementalResonance,"onUpdate:elementalResonance":e.updateElementalResonance},null,8,["elemental-resonance","onUpdate:elementalResonance"])],512),[[l.aG,1==e.optionInputTabRef]]),2==e.optionInputTabRef?((0,n.uX)(),(0,n.CE)("div",N,[(0,n.bF)(te,{ref:"teamOptionInputVmRef",character:e.characterInputRea.character,"team-members":e.optionInputRea.teamMembers,"condition-input":e.optionInputRea.teamOption,"onUpdate:teamOption":e.updateTeamOption,"onUpdate:buildnameSelection":e.updateBuildnameSelection,"onUpdate:teamMembers":e.updateTeamMembers},null,8,["character","team-members","condition-input","onUpdate:teamOption","onUpdate:buildnameSelection","onUpdate:teamMembers"])])):(0,n.Q3)("",!0),3==e.optionInputTabRef?((0,n.uX)(),(0,n.CE)("div",X,[(0,n.bF)(ae,{ref:"miscOptionInputVmRef","condition-input":e.optionInputRea.miscOption,"onUpdate:miscOption":e.updateMiscOption},null,8,["condition-input","onUpdate:miscOption"])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",A,[(0,n.bF)(le,{ref:"damageResultVmRef","damage-result":e.damageResult},null,8,["damage-result"])]),(0,n.Lk)("div",w,[(0,n.bF)(ne,{"character-master":e.characterInputRea.characterMaster,"damage-result":e.damageResult,"onUpdate:rotationDamage":e.updateRotationDamage},null,8,["character-master","damage-result","onUpdate:rotationDamage"]),(0,n.bF)(se,{"onShare:twitter":e.openTwitter},null,8,["onShare:twitter"])]),(0,n.Lk)("div",V,[(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-1",type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=t=>e.ownListToggle1Ref=t)},null,512),[[l.lH,e.ownListToggle1Ref]]),(0,n.Lk)("label",M,(0,s.v_)(e.displayName("キャラクター所持状況")),1)]),e.ownListToggle1Ref?((0,n.uX)(),(0,n.Wv)(ie,{key:0})):(0,n.Q3)("",!0),(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-2",type:"checkbox","onUpdate:modelValue":t[25]||(t[25]=t=>e.ownListToggle2Ref=t)},null,512),[[l.lH,e.ownListToggle2Ref]]),(0,n.Lk)("label",K,(0,s.v_)(e.displayName("武器所持状況")),1)]),e.ownListToggle2Ref?((0,n.uX)(),(0,n.Wv)(oe,{key:1})):(0,n.Q3)("",!0),(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-3",type:"checkbox","onUpdate:modelValue":t[26]||(t[26]=t=>e.ownListToggle3Ref=t)},null,512),[[l.lH,e.ownListToggle3Ref]]),(0,n.Lk)("label",T,(0,s.v_)(e.displayName("聖遺物所持状況")),1)]),e.ownListToggle3Ref?((0,n.uX)(),(0,n.Wv)(ce,{key:2})):(0,n.Q3)("",!0),t[30]||(t[30]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[27]||(t[27]=t=>e.enableClearLocalStorage=t)},null,512),[[l.lH,e.enableClearLocalStorage]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("ローカルストレージをクリアする")),1)]),(0,n.Lk)("button",{type:"button",onClick:t[28]||(t[28]=(...t)=>e.clearLocalStorage&&e.clearLocalStorage(...t)),disabled:!e.enableClearLocalStorage},(0,s.v_)(e.displayName("実行")),9,D),(0,n.Lk)("p",null,(0,s.v_)(e.displayName("全ての保存データを削除します")),1)]),(0,n.Lk)("div",F,[(0,n.bF)(ue),(0,n.bF)(re,{"configuration-input":e.configurationInputRea,"onUpdate:configurationInput":e.updateConfigurationInput,"onOrder:initializeArtifactStatsSub":e.orderInitializeArtifactStatsSub},null,8,["configuration-input","onUpdate:configurationInput","onOrder:initializeArtifactStatsSub"])]),t[31]||(t[31]=(0,n.Lk)("hr",null,null,-1)),t[32]||(t[32]=(0,n.Lk)("div",{class:"footer"},[(0,n.Lk)("hr"),(0,n.Lk)("p",null,"© 2021 asagume"),(0,n.Lk)("p",{class:"left"}," 本サイト内の画像はHoYoverse/COGNOSPHEREの著作物です。 Copyright © COGNOSPHERE. All Rights Reserved. ")],-1))]),(0,n.Q3)("",!0)],64)}a(4114);var U=a(8626),j=a.n(U),x=a(144);const H={class:"bottom-right"},Q=["value"];function P(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",null,[(0,n.Lk)("legend",null,"げんかるく - 原神ダメージシミュレーター Ver."+(0,s.v_)(e.version),1),t[3]||(t[3]=(0,n.Fv)('<p data-v-28ec6d24><a href="ArtifactSetList.html" data-v-28ec6d24>聖遺物セット効果一覧</a><a href="BirthdayCalendar.html" data-v-28ec6d24>誕生日カレンダー</a></p><p data-v-28ec6d24><a href="WeaponList.html?kind=Sword" data-v-28ec6d24>片手剣一覧</a><a href="WeaponList.html?kind=Claymore" data-v-28ec6d24>両手剣一覧</a><a href="WeaponList.html?kind=Polearm" data-v-28ec6d24>長柄武器一覧</a><a href="WeaponList.html?kind=Bow" data-v-28ec6d24>弓一覧</a><a href="WeaponList.html?kind=Catalyst" data-v-28ec6d24>法器一覧</a></p><p data-v-28ec6d24><a href="RandomTeam.html" data-v-28ec6d24>ランダムチーム編成メーカー</a><a href="HoYoDictionary.html" data-v-28ec6d24>原神の辞書</a></p><p style="margin-bottom:4rem;" data-v-28ec6d24><a href="EnkaNetwork3.html" data-v-28ec6d24>DATA IMPORTER</a><a href="TeamManager.html" data-v-28ec6d24>チーム編成</a></p><div class="top-left" data-v-28ec6d24><a href="history.html" data-v-28ec6d24>更新履歴</a></div><div class="top-right" data-v-28ec6d24><a href="https://zawazawa.jp/gencalc/topic/1" target="_blank" rel="noopener noreferrer" data-v-28ec6d24>バグ報告·要望</a></div><div class="bottom-left" data-v-28ec6d24></div>',7)),(0,n.Lk)("label",H,[t[2]||(t[2]=(0,n.eW)(" Language ")),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.locale=t),onChange:t[1]||(t[1]=t=>e.localeOnChange(e.targetValue(t)))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.localeList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e.value,key:e.value},(0,s.v_)(e.name),9,Q)))),128))],544),[[l.u1,e.locale]])])])}var B=a(5384),q=a(5682),Y=(0,n.pM)({name:"TitleAndHeader",setup(){const{locale:e}=(0,B.s9)({useScope:"global"}),{localeList:t,setI18nLanguage:l,displayName:n,targetValue:s}=(0,q.A)(),i=e=>{e&&l(e)};return{locale:e,localeList:t,displayName:n,targetValue:s,localeOnChange:i,version:a(8330).rE}}}),J=a(1241);const z=(0,J.A)(Y,[["render",P],["__scopeId","data-v-28ec6d24"]]);var G=z,$=a(5063);const Z={style:{width:"20%"}},ee=["value"],te=["value"],ae=["value"],le={style:{position:"relative",width:"30%"}},ne=["src","alt"],se=["src","alt"],ie={class:"icon"},oe=["src","alt"],ce={class:"tooltip"},ue={style:{width:"20%"}},re=["value"],pe=["value"],de=["value"],me={class:"talent-and-artifact"},ke={class:"icon"},fe=["src","alt"],ve={class:"tooltip"},be={class:"icon"},ye=["src","alt"],ge={class:"tooltip"},he={class:"icon"},Le=["src","alt"],Ce={class:"tooltip"},Se={class:"icon"},Ee=["src","alt"],_e={class:"tooltip"},Re={class:"icon"},Ie=["src","alt"],Oe={class:"tooltip"},Ne={class:"artifact-detail-button icon"},Xe=["src","alt"],Ae={class:"artifact-score"},we={class:"tooltip"},Ve=["value"],Me=["value"],Ke=["value"],Te={style:{"table-layout":"fixed"}},De={colspan:"3"},Fe=["disabled"],We=["disabled"],Ue={colspan:"6"},je=["value"];function xe(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("table",null,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:(0,s.C4)("name "+e.colorClass(e.characterMaster)),colspan:"2"},[(0,n.Lk)("span",{onClick:t[0]||(t[0]=t=>e.$emit("open:character-info",1))},[(0,n.eW)((0,s.v_)(e.displayName(e.characterMaster.名前))+" ",1),t[32]||(t[32]=(0,n.Lk)("span",{class:"material-symbols-outlined"}," info ",-1))])],2),(0,n.Lk)("td",{colspan:"2",class:(0,s.C4)("title "+e.colorClass(e.characterMaster))},[(0,n.bo)((0,n.Lk)("span",null,(0,s.v_)(e.displayName(e.characterMaster.baseInfo.称号)),513),[[l.aG,e.characterMaster.baseInfo.称号]])],2)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",Z,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.characterInputRea.突破レベル=t),onChange:t[2]||(t[2]=(...t)=>e.ascensionOnChange&&e.ascensionOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.ascensionRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," A"+(0,s.v_)(e),9,ee)))),128))],544),[[l.u1,e.characterInputRea.突破レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.characterInputRea.レベル=t),onChange:t[4]||(t[4]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.levelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,te)))),128))],544),[[l.u1,e.characterInputRea.レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.characterInputRea.命ノ星座=t),onChange:t[6]||(t[6]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.constellationRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," C"+(0,s.v_)(e),9,ae)))),128))],544),[[l.u1,e.characterInputRea.命ノ星座]])]),(0,n.Lk)("td",le,[(0,n.Lk)("img",{class:(0,s.C4)("character"+e.bgImageClass(e.characterMaster)),src:e.characterMaster.icon_url,alt:e.characterMaster.名前,onClick:t[7]||(t[7]=t=>e.$emit("open:character-select"))},null,10,ne),(0,n.Lk)("img",{class:"vision",src:e.visionSrc(e.characterMaster),alt:e.characterMaster.元素},null,8,se)]),(0,n.Lk)("td",ie,[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(e.weaponMaster)),src:e.weaponMaster["icon_url"],alt:e.weaponMaster.名前,onClick:t[8]||(t[8]=t=>e.$emit("open:weapon-select"))},null,10,oe),(0,n.Lk)("div",ce,(0,s.v_)(e.displayName(e.weaponMaster.名前)),1)]),(0,n.Lk)("td",ue,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.characterInputRea.武器突破レベル=t),onChange:t[10]||(t[10]=(...t)=>e.weaponAscensionOnChange&&e.weaponAscensionOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponAscensionRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," A"+(0,s.v_)(e),9,re)))),128))],544),[[l.u1,e.characterInputRea.武器突破レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.characterInputRea.武器レベル=t),onChange:t[12]||(t[12]=(...t)=>e.weaponOnChange&&e.weaponOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,pe)))),128))],544),[[l.u1,e.characterInputRea.武器レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.characterInputRea.武器精錬ランク=t),onChange:t[14]||(t[14]=(...t)=>e.weaponOnChange&&e.weaponOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponRefineRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," R"+(0,s.v_)(e),9,de)))),128))],544),[[l.u1,e.characterInputRea.武器精錬ランク]])])])])]),(0,n.Lk)("table",me,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",ke,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["通常攻撃"]["icon_url"],alt:e.characterMaster["通常攻撃"]["名前"],onClick:t[15]||(t[15]=t=>e.$emit("open:character-info",2))},null,10,fe),(0,n.Lk)("div",ve,(0,s.v_)(e.displayName(e.characterMaster["通常攻撃"]["名前"])),1)]),(0,n.Lk)("td",be,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["元素スキル"]["icon_url"],alt:e.characterMaster["元素スキル"]["名前"],onClick:t[16]||(t[16]=t=>e.$emit("open:character-info",3))},null,10,ye),(0,n.Lk)("div",ge,(0,s.v_)(e.displayName(e.characterMaster["元素スキル"]["名前"])),1)]),(0,n.Lk)("td",he,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["元素爆発"]["icon_url"],alt:e.characterMaster["元素爆発"]["名前"],onClick:t[17]||(t[17]=t=>e.$emit("open:character-info",4))},null,10,Le),(0,n.Lk)("div",Ce,(0,s.v_)(e.displayName(e.characterMaster["元素爆発"]["名前"])),1)]),(0,n.Lk)("td",Se,[(0,n.Lk)("label",{onClick:t[18]||(t[18]=t=>e.openArtifactSetSelect(0))},[(0,n.Lk)("img",{class:(0,s.C4)("artifact-set"+e.artifactSetSelectClass(0)),src:e.getArtifactIconUrl(e.artifactSetMasters[0].key),alt:e.artifactSetMasters[0].key},null,10,Ee)]),(0,n.Lk)("div",_e,(0,s.v_)(e.displayName(e.artifactSetMasters[0].key)),1)]),(0,n.Lk)("td",Re,[(0,n.Lk)("label",{onClick:t[19]||(t[19]=t=>e.openArtifactSetSelect(1))},[(0,n.Lk)("img",{class:(0,s.C4)("artifact-set"+e.artifactSetSelectClass(1)),src:e.getArtifactIconUrl(e.artifactSetMasters[1].key),alt:e.artifactSetMasters[1].key},null,10,Ie)]),(0,n.Lk)("div",Oe,(0,s.v_)(e.displayName(e.artifactSetMasters[1].key)),1)]),(0,n.Lk)("td",Ne,[(0,n.Lk)("label",{onClick:t[20]||(t[20]=t=>e.$emit("open:artifact-detail-input"))},[(0,n.Lk)("img",{class:"artifact-set",src:e.IMG_SRC_DUMMY,alt:e.displayName("聖遺物ステータス")},null,8,Xe),t[35]||(t[35]=(0,n.Lk)("img",{class:"left-icon",src:"images/artifact.png",alt:"artifact"},null,-1)),t[36]||(t[36]=(0,n.Lk)("img",{class:"right-icon",src:"images/artifact.png",alt:"artifact"},null,-1)),(0,n.Lk)("div",Ae,[t[33]||(t[33]=(0,n.eW)(" score ")),t[34]||(t[34]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(Math.round(10*e.artifactScore)/10),1)])]),(0,n.Lk)("div",we,(0,s.v_)(e.displayName("聖遺物詳細")),1)])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[21]||(t[21]=t=>e.characterInputRea.通常攻撃レベル=t),onChange:t[22]||(t[22]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.normalAttackLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,Ve)))),128))],544),[[l.u1,e.characterInputRea.通常攻撃レベル]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[23]||(t[23]=t=>e.characterInputRea.元素スキルレベル=t),onChange:t[24]||(t[24]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalSkillLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,Me)))),128))],544),[[l.u1,e.characterInputRea.元素スキルレベル]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[25]||(t[25]=t=>e.characterInputRea.元素爆発レベル=t),onChange:t[26]||(t[26]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalBurstLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,Ke)))),128))],544),[[l.u1,e.characterInputRea.元素爆発レベル]])])])])]),(0,n.Lk)("table",Te,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[t[37]||(t[37]=(0,n.Lk)("td",null,"buildname",-1)),(0,n.Lk)("td",De,[(0,n.bo)((0,n.Lk)("input",{class:"save-name",type:"text","onUpdate:modelValue":t[27]||(t[27]=t=>e.characterInputRea.buildname=t),maxlength:"20",placeholder:"input build name"},null,512),[[l.Jo,e.characterInputRea.buildname]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",disabled:e.saveDisabled,onClick:t[28]||(t[28]=(...t)=>e.saveOnClick&&e.saveOnClick(...t))}," Save ",8,Fe)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",disabled:e.characterInputRea.removeDisabled,onClick:t[29]||(t[29]=(...t)=>e.removeOnClick&&e.removeOnClick(...t))}," Remove ",8,We)])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",Ue,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[30]||(t[30]=t=>e.characterInputRea.recommendationSelectedIndex=t),onChange:t[31]||(t[31]=t=>e.recommendationOnChange(e.targetValue(t))),placeholder:"select preset or saved build"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.recommendationList,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayBuildName(t)),9,je)))),128))],544),[[l.u1,e.characterInputRea.recommendationSelectedIndex]])])])])])],64)}var He=a(2277),Qe=a(1493),Pe=a(6924),Be=(0,n.pM)({name:"CharacterInput",props:{characterInput:{type:Object,required:!0},recommendationList:{type:Array,required:!0},recommendation:{type:Object,required:!0},builddataSavable:{type:Boolean,required:!0},artifactSetSelectVisible:{type:Boolean},artifactScore:{type:Number,required:!0}},emits:["open:character-select","open:character-info","update:recommendation","save-to-storage","remove-from-storage","open:weapon-select","open:artifact-set-select","open:artifact-detail-input","update:character-input-character","update:character-input-weapon","open:character-info"],setup(e,t){const{displayName:a,targetValue:l}=(0,q.A)(),s=(0,x.Kh)(e.characterInput),i=(0,x.KR)("0"),o=(0,x.KR)(0),c=(0,n.EW)((()=>[0,1,2,3,4,5,6])),u=(0,n.EW)((()=>Qe.BY[s.突破レベル])),r=(0,n.EW)((()=>s.characterMaster)),p=(0,n.EW)((()=>s.weaponMaster)),d=(0,n.EW)((()=>s.artifactSetMasters??[Qe.Ej,Qe.Ej])),m=(0,n.EW)((()=>s.characterMaster.武器!=s.weaponMaster.種類||!e.builddataSavable)),k=(0,n.EW)((()=>Array.from({length:(0,Qe.E_)(r.value)+1},((e,t)=>t)))),f=(0,n.EW)((()=>Array.from({length:(0,Qe.Zq)(r.value,"通常攻撃")},((e,t)=>t+1)))),v=(0,n.EW)((()=>Array.from({length:(0,Qe.Zq)(r.value,"元素スキル")},((e,t)=>t+1)))),b=(0,n.EW)((()=>Array.from({length:(0,Qe.Zq)(r.value,"元素爆発")},((e,t)=>t+1)))),y=(0,n.EW)((()=>{const e=p.value.レアリティ<3?4:6;return Array.from({length:e+1},((e,t)=>t))})),g=(0,n.EW)((()=>Qe.BY[s.武器突破レベル])),h=(0,n.EW)((()=>{const e=p.value.レアリティ<3?1:5;return Array.from({length:e},((e,t)=>t+1))})),L=e=>{if("ja-jp"==He.A.global.locale.value)return e.name;if(e.overwrite)return e.name;let t="";t+=a(e.build["武器"]),t+=" - ",e.build["聖遺物セット効果1"]&&(t+=a(e.build["聖遺物セット効果1"])),e.build["聖遺物セット効果2"]&&e.build["聖遺物セット効果2"]!=e.build["聖遺物セット効果1"]&&(t+="/",t+=a(e.build["聖遺物セット効果2"])),t+="[";for(const a of["聖遺物メイン効果3","聖遺物メイン効果4","聖遺物メイン効果5"]){const l=e.build[a].split("_");t+=Pe.hM.get(l[1])}return t+="]",t},C=e=>Pe.cu[e.元素],S=e=>" "+Pe.$A[e.レアリティ],E=e=>Pe.KM[e.元素],_=e=>Pe.or[e.元素],R=async()=>{s.removeDisabled=!0,await(0,n.dY)(),t.emit("save-to-storage",s.buildname)},I=async()=>{s.removeDisabled=!1,await(0,n.dY)(),t.emit("remove-from-storage",s.buildname)},O=async()=>{const e=u.value[0],t=u.value[u.value.length-1];s.レベル<e?s.レベル=e:s.レベル>t&&(s.レベル=t),await(0,n.dY)(),V()},N=async a=>{if(!e.recommendationList||!a)return;await(0,n.dY)();const l=e.recommendationList[Number(a)];t.emit("update:recommendation",l)},X=async()=>{const e=g.value[0],t=g.value[g.value.length-1];s.武器レベル<e?s.武器レベル=e:s.武器レベル>t&&(s.武器レベル=t),await(0,n.dY)(),M()},A=t=>e.artifactSetSelectVisible&&t==o.value?" selected":"",w=e=>{o.value=e,t.emit("open:artifact-set-select",e)},V=async()=>{const e={};e.突破レベル=s.突破レベル,e.レベル=s.レベル,e.命ノ星座=s.命ノ星座,e.通常攻撃レベル=s.通常攻撃レベル,e.元素スキルレベル=s.元素スキルレベル,e.元素爆発レベル=s.元素爆発レベル,await(0,n.dY)(),t.emit("update:character-input-character",e)},M=async()=>{const e={};e.武器突破レベル=s.武器突破レベル,e.武器レベル=s.武器レベル,e.武器精錬ランク=s.武器精錬ランク,await(0,n.dY)(),t.emit("update:character-input-weapon",e)};return{displayName:a,targetValue:l,getArtifactIconUrl:Pe.ft,displayBuildName:L,visionSrc:C,bgImageClass:S,colorClass:E,bgColorClass:_,characterInputRea:s,characterMaster:r,weaponMaster:p,artifactSetMasters:d,recommendationOnChange:N,saveDisabled:m,saveOnClick:R,removeOnClick:I,ascensionRange:c,levelRange:u,constellationRange:k,ascensionOnChange:O,weaponAscensionRange:y,weaponLevelRange:g,weaponRefineRange:h,weaponAscensionOnChange:X,storageOrRecommendationRef:i,normalAttackLevelRange:f,elementalSkillLevelRange:v,elementalBurstLevelRange:b,openArtifactSetSelect:w,artifactSetSelectClass:A,characterOnChange:V,weaponOnChange:M,IMG_SRC_DUMMY:Pe.M2}}});const qe=(0,J.A)(Be,[["render",xe],["__scopeId","data-v-c7eb6be2"]]);var Ye=qe;const Je={class:"character-info status"},ze={class:"character-info"},Ge={rowspan:"2"},$e=["src","alt"],Ze={class:"title"},et=["innerHTML"],tt={class:"character-info"},at={rowspan:"2"},lt=["src","alt"],nt={class:"title"},st=["innerHTML"],it={key:1,class:"character-info"},ot={colspan:"2",class:"title"},ct=["innerHTML"],ut={key:0},rt={class:"key"},pt={class:"value"},dt={key:0},mt={class:"key"},kt={class:"value"},ft={key:0},vt={class:"key"},bt={class:"value"},yt={key:2,class:"character-info"},gt={colspan:"2",class:"title"},ht={class:"key"},Lt={class:"value"},Ct=["innerHTML"],St={key:0},Et={class:"key"},_t={class:"value"},Rt={key:3,class:"character-info"},It={colspan:"2",class:"title"},Ot={class:"key"},Nt={class:"value"},Xt=["innerHTML"],At={key:0},wt={class:"key"},Vt={class:"value"};function Mt(e,t,a,l,i,o){return e.visible?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[1==e.mode?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("table",Je,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("ステータス")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.statsInfoList,((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("td",null,(0,s.v_)(e.displayStatValue(t.key,t.value)),1)])))),128))])]),(0,n.Lk)("table",ze,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("命ノ星座")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.constellationInfoList,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",Ge,[(0,n.Lk)("img",{class:"icon",src:t.icon_url,alt:t.名前},null,8,$e)]),(0,n.Lk)("th",Ze,(0,s.v_)(e.displayName("第"+(a+1)+"重"))+" "+(0,s.v_)(e.displayName(t.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"description",innerHTML:t.説明},null,8,et)])],64)))),128))])]),(0,n.Lk)("table",tt,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("固有天賦")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.passiveTalentInfoList,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",at,[(0,n.Lk)("img",{class:"icon",src:t.icon_url,alt:t.名前},null,8,lt)]),(0,n.Lk)("th",nt,(0,s.v_)(e.displayName(t.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"description",innerHTML:t.説明},null,8,st)])],64)))),128))])])],64)):(0,n.Q3)("",!0),2==e.mode?((0,n.uX)(),(0,n.CE)("table",it,[t[0]||(t[0]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",ot,(0,s.v_)(e.displayName(e.characterMaster.通常攻撃.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.通常攻撃.説明},null,8,ct)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("通常攻撃").詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",ut,[(0,n.Lk)("th",rt,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",pt,(0,s.v_)(e.talentValue(t.数値,e.levelNormalAttack("通常攻撃"))),1)])):(0,n.Q3)("",!0)],64)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("重撃").詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",dt,[(0,n.Lk)("th",mt,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",kt,(0,s.v_)(e.talentValue(t.数値,e.levelNormalAttack("重撃"))),1)])):(0,n.Q3)("",!0)],64)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("落下攻撃").詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",ft,[(0,n.Lk)("th",vt,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",bt,(0,s.v_)(e.talentValue(t.数値,e.levelNormalAttack("落下攻撃"))),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0),3==e.mode?((0,n.uX)(),(0,n.CE)("table",yt,[t[1]||(t[1]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",gt,(0,s.v_)(e.displayName(e.characterMaster.元素スキル.名前)),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentAttributes(e.characterMaster.元素スキル,e.elementalSkillLevel),((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",ht,(0,s.v_)(e.displayName(t[0])),1),(0,n.Lk)("td",Lt,(0,s.v_)(t[1]),1)])))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.元素スキル.説明},null,8,Ct)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterMaster.元素スキル.詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",St,[(0,n.Lk)("th",Et,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",_t,(0,s.v_)(e.talentValue(t.数値,e.elementalSkillLevel)),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0),4==e.mode?((0,n.uX)(),(0,n.CE)("table",Rt,[t[2]||(t[2]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",It,(0,s.v_)(e.displayName(e.characterMaster.元素爆発.名前)),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentAttributes(e.characterMaster.元素爆発,e.elementalBurstLevel),((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",Ot,(0,s.v_)(e.displayName(t[0])),1),(0,n.Lk)("td",Nt,(0,s.v_)(t[1]),1)])))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.元素爆発.説明},null,8,Xt)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterMaster.元素爆発.詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",At,[(0,n.Lk)("th",wt,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",Vt,(0,s.v_)(e.talentValue(t.数値,e.elementalBurstLevel)),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0)],64)):(0,n.Q3)("",!0)}var Kt=a(725),Tt=(0,n.pM)({name:"CharacterInfo",props:{visible:{type:Boolean,required:!0},mode:{type:Number,required:!0},characterMaster:{type:Object,required:!0},ascension:{type:Number,required:!0},level:{type:Number,required:!0},normalAttackLevel:{type:Number,required:!0},elementalSkillLevel:{type:Number,required:!0},elementalBurstLevel:{type:Number,required:!0},normalAttackReplacing:{type:Array,required:!0}},setup(e){const{displayName:t,displayStatValue:a}=(0,q.A)(),l=(0,n.EW)((()=>{const t=[];if("ステータス"in e.characterMaster)for(const a of Object.keys(e.characterMaster.ステータス)){const l=e.characterMaster.ステータス[a],n=(0,Kt.Fd)(l,e.ascension,e.level);t.push({key:a,value:n})}return t})),s=(0,n.EW)((()=>{const t=[];if("命ノ星座"in e.characterMaster)for(const a of Object.keys(e.characterMaster.命ノ星座))t.push(e.characterMaster.命ノ星座[a]);return t})),i=(0,n.EW)((()=>{const t=[];if("固有天賦"in e.characterMaster)for(const a of e.characterMaster.固有天賦)t.push(a);return t})),o=t=>{let a;return"通常攻撃"==t?a=e.normalAttackReplacing[0]?e.characterMaster.特殊通常攻撃:e.characterMaster.通常攻撃:"重撃"==t?a=e.normalAttackReplacing[1]?e.characterMaster.特殊重撃:e.characterMaster.重撃:"落下攻撃"==t&&(a=e.normalAttackReplacing[2]?e.characterMaster.特殊落下攻撃:e.characterMaster.落下攻撃),a},c=t=>{let a=e.normalAttackLevel;const l=o(t);if("種類"in l)switch(l["種類"]){case"元素スキルダメージ":a=e.elementalSkillLevel;break;case"元素爆発ダメージ":a=e.elementalBurstLevel;break}return a},u=(e,t)=>{const a=[];return["時間","クールタイム","元素エネルギー"].forEach((l=>{const n=Object.keys(e).filter((e=>e.endsWith(l)));for(const s of n){let l=e[s];j().isPlainObject(l)&&(l=l[String(t)]),a.push([s,l])}})),a},r=(e,t)=>j().isPlainObject(e)?e[String(t)]:e;return{displayName:t,displayStatValue:a,statsInfoList:l,constellationInfoList:s,passiveTalentInfoList:i,talentNormalAttack:o,levelNormalAttack:c,talentAttributes:u,talentValue:r}}});const Dt=(0,J.A)(Tt,[["render",Mt],["__scopeId","data-v-554c4cca"]]);var Ft=Dt;const Wt={key:0},Ut={class:"title"},jt={class:"stat"},xt={class:"stat-value"},Ht={class:"stat"},Qt={class:"stat-value"},Pt={class:"title",colspan:"3"},Bt=["innerHTML"],qt={class:"select-list"},Yt=["src","alt","onClick"],Jt={class:"tooltip"};function zt(e,t,a,l,i,o){return e.visible?((0,n.uX)(),(0,n.CE)("div",Wt,[(0,n.Lk)("table",null,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Ut,(0,s.v_)(e.displayName(e.weaponMaster.名前)),1),(0,n.Lk)("th",jt,(0,s.v_)(e.displayName("基礎攻撃力")),1),(0,n.Lk)("td",xt,(0,s.v_)(e.displayStatValue("基礎攻撃力",e.stats[0].value)),1)])]),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Array.from({length:e.weaponMaster.レアリティ},((e,t)=>t)),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",alt:"star",key:e})))),128))]),(0,n.Lk)("th",Ht,[e.stats[1]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)((0,s.v_)(e.displayName(e.stats[1].key)),1)],64)):(0,n.Q3)("",!0)]),(0,n.Lk)("td",Qt,[e.stats[1]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)((0,s.v_)(e.displayStatValue(e.stats[1].key,e.stats[1].value)),1)],64)):(0,n.Q3)("",!0)])]),e.weaponMaster.武器スキル?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Pt,(0,s.v_)(e.weaponMaster.武器スキル.名前),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"3",class:"description",innerHTML:e.weaponMaster.武器スキル.説明},null,8,Bt)])],64)):(0,n.Q3)("",!0)])]),(0,n.Lk)("ul",qt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.filteredList,(t=>((0,n.uX)(),(0,n.CE)("li",{class:"icon",key:t.key},[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(t)+e.selectedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.updateWeapon(t.key)},null,10,Yt),(0,n.Lk)("div",Jt,(0,s.v_)(e.displayName(t.key)),1)])))),128))])])):(0,n.Q3)("",!0)}var Gt=(0,n.pM)({name:"WeaponSelect",props:{visible:{type:Boolean,required:!0},weapon:{type:String,required:!0},weaponType:{type:String},weaponMaster:{type:Object,required:!0},ascension:{type:Number,required:!0},level:{type:Number,required:!0}},emits:["update:weapon"],setup(e,t){const{displayName:a,displayStatValue:l}=(0,q.A)(),s=e=>" "+Pe.$A[e.レアリティ],i=t=>t.key==e.weapon?" selected":"",o=(0,x.KR)(e.weapon),c=(0,n.EW)((()=>{const t=[];if(e.weaponMaster&&e.weaponMaster.ステータス&&void 0!==e.ascension&&void 0!==e.level)for(const a of Object.keys(e.weaponMaster.ステータス))t.push({key:a,value:(0,Kt.Fd)(e.weaponMaster.ステータス[a],e.ascension,e.level)});return t})),u=(0,n.EW)((()=>{if(e.weaponType)return Pe.Nc[e.weaponType];const t=[];return Object.keys(Pe.Nc).forEach((e=>{const a=Pe.Nc[e];t.push(...a)})),t})),r=async e=>{o.value=e,await(0,n.dY)(),t.emit("update:weapon",e)};return{displayName:a,displayStatValue:l,bgImageClass:s,selectedClass:i,filteredList:u,updateWeapon:r,stats:c}}});const $t=(0,J.A)(Gt,[["render",zt],["__scopeId","data-v-52cbcd47"]]);var Zt=$t,ea=a(9390);const ta={key:0},aa={class:"two"},la=["value"],na={class:"two"},sa=["value"],ia={class:"three"},oa=["value"],ca={class:"three"},ua=["value"],ra={class:"three"},pa=["value"],da={class:"detail"},ma={class:"stat-value"},ka=["step"],fa={key:1},va=["min","step"],ba={key:1},ya={class:"stat-value"},ga=["step"],ha={key:1},La=["min","step"],Ca={key:1},Sa={class:"stat-value"},Ea=["step"],_a={key:1},Ra=["min","step"],Ia={key:1},Oa={class:"stat-value"},Na=["step"],Xa={key:1},Aa=["min","step"],wa={key:1},Va={class:"stat-value"},Ma=["step"],Ka={key:1},Ta=["min","step"],Da={key:1},Fa={class:"stat-value"},Wa=["step"],Ua={key:1},ja=["min","step"],xa={key:1},Ha={class:"stat-value"},Qa=["step"],Pa={key:1},Ba=["min","step"],qa={key:1},Ya={rowspan:"4",colspan:"2",style:{"border-color":"transparent"}},Ja={class:"button"},za={style:{position:"relative"}},Ga={key:0,class:"wait-icon",src:"images/icon_loader_f_ww_01_s1.gif",width:"25",height:"25"},$a=["disabled"],Za={class:"stat-value"},el=["step"],tl={key:1},al=["min","step"],ll={key:1},nl={class:"stat-value"},sl=["step"],il={key:1},ol=["min","step"],cl={key:1},ul={class:"stat-value"},rl=["step"],pl={key:1},dl=["min","step"],ml={key:1},kl={class:"tab-switch"},fl={for:"input-mode-tab-1"},vl={for:"input-mode-tab-2"},bl={class:"sub-input",id:"artifact-sub-input"},yl={key:0},gl={class:"priority-substat"},hl={style:{"border-color":"transparent"}},Ll=["onUpdate:modelValue"],Cl=["value"],Sl=["onUpdate:modelValue"],El=["value"],_l=["onUpdate:modelValue"],Rl=["value"],Il={style:{"border-color":"transparent"}},Ol={style:{"border-color":"transparent"}},Nl=["disabled"],Xl=["value"],Al={key:1,class:"artifact-cat-select"},wl={class:"cat-select"},Vl=["alt"],Ml=["alt"],Kl=["alt"],Tl=["alt"],Dl=["alt"],Fl={key:0},Wl={key:1,class:"artifact-select-list"},Ul={key:2},jl=["disabled"],xl={key:3};function Hl(e,t,a,i,o,c){const u=(0,n.g2)("ArtifactItem"),r=(0,n.g2)("ArtifactChangeInput"),p=(0,n.g2)("ArtifactDetailOcrResult");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e.visible?((0,n.uX)(),(0,n.CE)("div",ta,[(0,n.Lk)("fieldset",null,[(0,n.Lk)("legend",null,(0,s.v_)(e.displayName("聖遺物詳細")),1),(0,n.Lk)("label",aa,[(0,n.eW)((0,s.v_)(e.displayName("生の花"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.mainstats[0]=t),onChange:t[1]||(t[1]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[78]||(t[78]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat1List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,la)))),128))],544),[[l.u1,e.mainstats[0]]])]),(0,n.Lk)("label",na,[(0,n.eW)((0,s.v_)(e.displayName("死の羽"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.mainstats[1]=t),onChange:t[3]||(t[3]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[79]||(t[79]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat2List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,sa)))),128))],544),[[l.u1,e.mainstats[1]]])]),(0,n.Lk)("label",ia,[(0,n.eW)((0,s.v_)(e.displayName("時の砂"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.mainstats[2]=t),onChange:t[5]||(t[5]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[80]||(t[80]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat3List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,oa)))),128))],544),[[l.u1,e.mainstats[2]]])]),(0,n.Lk)("label",ca,[(0,n.eW)((0,s.v_)(e.displayName("空の杯"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.mainstats[3]=t),onChange:t[7]||(t[7]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[81]||(t[81]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat4List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,ua)))),128))],544),[[l.u1,e.mainstats[3]]])]),(0,n.Lk)("label",ra,[(0,n.eW)((0,s.v_)(e.displayName("理の冠"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.mainstats[4]=t),onChange:t[9]||(t[9]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[82]||(t[82]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat5List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,pa)))),128))],544),[[l.u1,e.mainstats[4]]])]),(0,n.Lk)("table",da,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("HP")),1),(0,n.Lk)("td",ma,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[10]||(t[10]=t=>e.artifactStatsSub["HP"]=t),min:0,step:e.substatStep("HP"),onChange:t[11]||(t[11]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,ka)),[[l.Jo,e.artifactStatsSub["HP"]]]):((0,n.uX)(),(0,n.CE)("span",fa,(0,s.v_)(e.displayStatValue("HP",e.artifactStatsSub["HP"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[12]||(t[12]=t=>e.artifactStats["HP"]=t),min:e.substatMin("HP"),step:e.substatStep("HP"),onChange:t[13]||(t[13]=t=>e.artifactStatsOnChange("HP",e.targetValue(t)))},null,40,va)),[[l.Jo,e.artifactStats["HP"]]]):((0,n.uX)(),(0,n.CE)("span",ba,(0,s.v_)(e.displayStatValue("HP",e.artifactStats["HP"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("HP%")),1),(0,n.Lk)("td",ya,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[14]||(t[14]=t=>e.artifactStatsSub["HP%"]=t),min:0,step:e.substatStep("HP%"),onChange:t[15]||(t[15]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,ga)),[[l.Jo,e.artifactStatsSub["HP%"]]]):((0,n.uX)(),(0,n.CE)("span",ha,(0,s.v_)(e.displayStatValue("HP%",e.artifactStatsSub["HP%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[16]||(t[16]=t=>e.artifactStats["HP%"]=t),min:e.substatMin("HP%"),step:e.substatStep("HP%"),onChange:t[17]||(t[17]=t=>e.artifactStatsOnChange("HP%",e.targetValue(t)))},null,40,La)),[[l.Jo,e.artifactStats["HP%"]]]):((0,n.uX)(),(0,n.CE)("span",Ca,(0,s.v_)(e.displayStatValue("HP%",e.artifactStats["HP%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("攻撃力")),1),(0,n.Lk)("td",Sa,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[18]||(t[18]=t=>e.artifactStatsSub["攻撃力"]=t),min:0,step:e.substatStep("攻撃力"),onChange:t[19]||(t[19]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Ea)),[[l.Jo,e.artifactStatsSub["攻撃力"]]]):((0,n.uX)(),(0,n.CE)("span",_a,(0,s.v_)(e.displayStatValue("攻撃力",e.artifactStatsSub["攻撃力"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[20]||(t[20]=t=>e.artifactStats["攻撃力"]=t),min:e.substatMin("攻撃力"),step:e.substatStep("攻撃力"),onChange:t[21]||(t[21]=t=>e.artifactStatsOnChange("攻撃力",e.targetValue(t)))},null,40,Ra)),[[l.Jo,e.artifactStats["攻撃力"]]]):((0,n.uX)(),(0,n.CE)("span",Ia,(0,s.v_)(e.displayStatValue("攻撃力",e.artifactStats["攻撃力"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("攻撃力%")),1),(0,n.Lk)("td",Oa,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[22]||(t[22]=t=>e.artifactStatsSub["攻撃力%"]=t),min:0,step:e.substatStep("攻撃力%"),onChange:t[23]||(t[23]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Na)),[[l.Jo,e.artifactStatsSub["攻撃力%"]]]):((0,n.uX)(),(0,n.CE)("span",Xa,(0,s.v_)(e.displayStatValue("攻撃力%",e.artifactStatsSub["攻撃力%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[24]||(t[24]=t=>e.artifactStats["攻撃力%"]=t),min:e.substatMin("攻撃力%"),step:e.substatStep("攻撃力%"),onChange:t[25]||(t[25]=t=>e.artifactStatsOnChange("攻撃力%",e.targetValue(t)))},null,40,Aa)),[[l.Jo,e.artifactStats["攻撃力%"]]]):((0,n.uX)(),(0,n.CE)("span",wa,(0,s.v_)(e.displayStatValue("攻撃力%",e.artifactStats["攻撃力%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("防御力")),1),(0,n.Lk)("td",Va,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[26]||(t[26]=t=>e.artifactStatsSub["防御力"]=t),min:0,step:e.substatStep("防御力"),onChange:t[27]||(t[27]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Ma)),[[l.Jo,e.artifactStatsSub["防御力"]]]):((0,n.uX)(),(0,n.CE)("span",Ka,(0,s.v_)(e.displayStatValue("防御力",e.artifactStatsSub["防御力"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[28]||(t[28]=t=>e.artifactStats["防御力"]=t),min:e.substatMin("防御力"),step:e.substatStep("防御力"),onChange:t[29]||(t[29]=t=>e.artifactStatsOnChange("防御力",e.targetValue(t)))},null,40,Ta)),[[l.Jo,e.artifactStats["防御力"]]]):((0,n.uX)(),(0,n.CE)("span",Da,(0,s.v_)(e.displayStatValue("防御力",e.artifactStats["防御力"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("防御力%")),1),(0,n.Lk)("td",Fa,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[30]||(t[30]=t=>e.artifactStatsSub["防御力%"]=t),min:0,step:e.substatStep("防御力%"),onChange:t[31]||(t[31]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Wa)),[[l.Jo,e.artifactStatsSub["防御力%"]]]):((0,n.uX)(),(0,n.CE)("span",Ua,(0,s.v_)(e.displayStatValue("防御力%",e.artifactStatsSub["防御力%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[32]||(t[32]=t=>e.artifactStats["防御力%"]=t),min:e.substatMin("防御力%"),step:e.substatStep("防御力%"),onChange:t[33]||(t[33]=t=>e.artifactStatsOnChange("防御力%",e.targetValue(t)))},null,40,ja)),[[l.Jo,e.artifactStats["防御力%"]]]):((0,n.uX)(),(0,n.CE)("span",xa,(0,s.v_)(e.displayStatValue("防御力%",e.artifactStats["防御力%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("元素熟知")),1),(0,n.Lk)("td",Ha,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[34]||(t[34]=t=>e.artifactStatsSub["元素熟知"]=t),min:0,step:e.substatStep("元素熟知"),onChange:t[35]||(t[35]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Qa)),[[l.Jo,e.artifactStatsSub["元素熟知"]]]):((0,n.uX)(),(0,n.CE)("span",Pa,(0,s.v_)(e.displayStatValue("元素熟知",e.artifactStatsSub["元素熟知"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[36]||(t[36]=t=>e.artifactStats["元素熟知"]=t),min:e.substatMin("元素熟知"),step:e.substatStep("元素熟知"),onChange:t[37]||(t[37]=t=>e.artifactStatsOnChange("元素熟知",e.targetValue(t)))},null,40,Ba)),[[l.Jo,e.artifactStats["元素熟知"]]]):((0,n.uX)(),(0,n.CE)("span",qa,(0,s.v_)(e.displayStatValue("元素熟知",e.artifactStats["元素熟知"])),1))],64))]),(0,n.Lk)("td",Ya,[(0,n.Lk)("div",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[38]||(t[38]=t=>e.editableRef=t)},null,512),[[l.lH,e.editableRef]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("直接入力モード")),1)])]),(0,n.Lk)("div",null,[(0,n.Lk)("label",Ja,[(0,n.eW)((0,s.v_)(e.displayName("聖遺物詳細画面OCR"))+" ",1),(0,n.Lk)("input",{class:"hidden",type:"file",id:"artifact-stats-image",onChange:t[39]||(t[39]=t=>e.loadArtifactStatsByOcr(t))},null,32)])]),(0,n.Lk)("div",za,[e.isScanning?((0,n.uX)(),(0,n.CE)("img",Ga)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[40]||(t[40]=t=>e.canInitializeStats=t)},null,512),[[l.lH,e.canInitializeStats]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("全てクリア")),1)]),(0,n.Lk)("button",{onClick:t[41]||(t[41]=(...t)=>e.initializeAll&&e.initializeAll(...t)),disabled:!e.canInitializeStats},(0,s.v_)(e.displayName("実行")),9,$a)])])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心率")),1),(0,n.Lk)("td",Za,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[42]||(t[42]=t=>e.artifactStatsSub["会心率"]=t),min:0,step:e.substatStep("会心率"),onChange:t[43]||(t[43]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,el)),[[l.Jo,e.artifactStatsSub["会心率"]]]):((0,n.uX)(),(0,n.CE)("span",tl,(0,s.v_)(e.displayStatValue("会心率",e.artifactStatsSub["会心率"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[44]||(t[44]=t=>e.artifactStats["会心率"]=t),min:e.substatMin("会心率"),step:e.substatStep("会心率"),onChange:t[45]||(t[45]=t=>e.artifactStatsOnChange("会心率",e.targetValue(t)))},null,40,al)),[[l.Jo,e.artifactStats["会心率"]]]):((0,n.uX)(),(0,n.CE)("span",ll,(0,s.v_)(e.displayStatValue("会心率",e.artifactStats["会心率"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心ダメージ")),1),(0,n.Lk)("td",nl,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[46]||(t[46]=t=>e.artifactStatsSub["会心ダメージ"]=t),min:0,step:e.substatStep("会心ダメージ"),onChange:t[47]||(t[47]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,sl)),[[l.Jo,e.artifactStatsSub["会心ダメージ"]]]):((0,n.uX)(),(0,n.CE)("span",il,(0,s.v_)(e.displayStatValue("会心ダメージ",e.artifactStatsSub["会心ダメージ"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[48]||(t[48]=t=>e.artifactStats["会心ダメージ"]=t),min:e.substatMin("会心ダメージ"),step:e.substatStep("会心ダメージ"),onChange:t[49]||(t[49]=t=>e.artifactStatsOnChange("会心ダメージ",e.targetValue(t)))},null,40,ol)),[[l.Jo,e.artifactStats["会心ダメージ"]]]):((0,n.uX)(),(0,n.CE)("span",cl,(0,s.v_)(e.displayStatValue("会心ダメージ",e.artifactStats["会心ダメージ"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("元素チャージ効率")),1),(0,n.Lk)("td",ul,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[50]||(t[50]=t=>e.artifactStatsSub["元素チャージ効率"]=t),min:0,step:e.substatStep("元素チャージ効率"),onChange:t[51]||(t[51]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,rl)),[[l.Jo,e.artifactStatsSub["元素チャージ効率"]]]):((0,n.uX)(),(0,n.CE)("span",pl,(0,s.v_)(e.displayStatValue("元素チャージ効率",e.artifactStatsSub["元素チャージ効率"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[52]||(t[52]=t=>e.artifactStats["元素チャージ効率"]=t),min:e.substatMin("元素チャージ効率"),step:e.substatStep("元素チャージ効率"),onChange:t[53]||(t[53]=t=>e.artifactStatsOnChange("元素チャージ効率",e.targetValue(t)))},null,40,dl)),[[l.Jo,e.artifactStats["元素チャージ効率"]]]):((0,n.uX)(),(0,n.CE)("span",ml,(0,s.v_)(e.displayStatValue("元素チャージ効率",e.artifactStats["元素チャージ効率"])),1))],64))])])])])]),(0,n.Lk)("div",kl,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"input-mode-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[54]||(t[54]=t=>e.artifactInputModeTab=t)},null,512),[[l.XL,e.artifactInputModeTab]]),(0,n.Lk)("label",fl,(0,s.v_)(e.displayName("簡易設定")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"input-mode-tab-2",type:"radio",value:"2","onUpdate:modelValue":t[55]||(t[55]=t=>e.artifactInputModeTab=t)},null,512),[[l.XL,e.artifactInputModeTab]]),(0,n.Lk)("label",vl,(0,s.v_)(e.displayName("個別設定")),1)]),(0,n.Lk)("div",bl,["1"==e.artifactInputModeTab?((0,n.uX)(),(0,n.CE)("fieldset",yl,[(0,n.Lk)("table",gl,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("優先するサブ効果")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("上昇値")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("初期+強化")),1),(0,n.Lk)("td",hl,"合計 "+(0,s.v_)(e.upTotalCount)+" 回",1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)([...Array(e.prioritySubstats.length)].map(((e,t)=>t)),(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.prioritySubstats[a]=t,onChange:t[56]||(t[56]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[t[83]||(t[83]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatList,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,Cl)))),128))],40,Ll),[[l.u1,e.prioritySubstats[a]]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.prioritySubstatIndices[a]=t,onChange:t[57]||(t[57]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatValueList(a),((e,t)=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(Math.round(10*e)/10),9,El)))),128))],40,Sl),[[l.u1,e.prioritySubstatIndices[a]]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.prioritySubstatCounts[a]=t,onChange:t[58]||(t[58]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatCountList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e},(0,s.v_)(" × "+e),9,Rl)))),128))],40,_l),[[l.u1,e.prioritySubstatCounts[a]]])]),(0,n.bo)((0,n.Lk)("td",Il,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[59]||(t[59]=t=>e.gensenEnabledRef=t)},null,512),[[l.lH,e.gensenEnabledRef]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("一括変更")),1)])],512),[[l.aG,0==a]]),(0,n.bo)((0,n.Lk)("td",Ol,[(0,n.bo)((0,n.Lk)("select",{class:"gensen","onUpdate:modelValue":t[60]||(t[60]=t=>e.gensenRef=t),onChange:t[61]||(t[61]=(...t)=>e.gensenOnChange&&e.gensenOnChange(...t)),disabled:!e.gensenEnabledRef},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.gensenMasterList,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t.key},(0,s.v_)(e.displayName(t.key)),9,Xl)))),128))],40,Nl),[[l.u1,e.gensenRef]])],512),[[l.aG,1==a]])])))),128))])])])):(0,n.Q3)("",!0),"2"==e.artifactInputModeTab?((0,n.uX)(),(0,n.CE)("div",Al,[(0,n.Lk)("div",wl,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"1","onUpdate:modelValue":t[62]||(t[62]=t=>e.artifactCatTabSelected=t),onChange:t[63]||(t[63]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/flower_of_life.png",alt:e.displayName("生の花")},null,8,Vl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"2","onUpdate:modelValue":t[64]||(t[64]=t=>e.artifactCatTabSelected=t),onChange:t[65]||(t[65]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/plume_of_death.png",alt:e.displayName("死の羽")},null,8,Ml)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"3","onUpdate:modelValue":t[66]||(t[66]=t=>e.artifactCatTabSelected=t),onChange:t[67]||(t[67]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/sands_of_eon.png",alt:e.displayName("時の砂")},null,8,Kl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"4","onUpdate:modelValue":t[68]||(t[68]=t=>e.artifactCatTabSelected=t),onChange:t[69]||(t[69]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/goblet_of_eonothem.png",alt:e.displayName("空の杯")},null,8,Tl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"5","onUpdate:modelValue":t[70]||(t[70]=t=>e.artifactCatTabSelected=t),onChange:t[71]||(t[71]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/circlet_of_logos.png",alt:e.displayName("理の冠")},null,8,Dl)])]),e.isArtifactSelectListShow||e.isNewArtifactInputShow||e.isArtifactChangeInputShow?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Fl,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactListCat,((e,t)=>((0,n.uX)(),(0,n.Wv)(u,{key:t,artifact:e},null,8,["artifact"])))),128)),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[72]||(t[72]=(...t)=>e.artifactSelectOnClick&&e.artifactSelectOnClick(...t))},(0,s.v_)(e.displayName("選択")),1),(0,n.Lk)("button",{type:"button",onClick:t[73]||(t[73]=(...t)=>e.artifactNewOnClick&&e.artifactNewOnClick(...t))},(0,s.v_)(e.displayName("新規")),1),e.artifactListCat.length?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:t[74]||(t[74]=(...t)=>e.artifactRemoveOnClick&&e.artifactRemoveOnClick(...t))},(0,s.v_)(e.displayName("解除")),1)):(0,n.Q3)("",!0)])])),e.isArtifactSelectListShow?((0,n.uX)(),(0,n.CE)("div",Wl,[(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[75]||(t[75]=t=>e.isArtifactSelectListShow=!e.isArtifactSelectListShow)},(0,s.v_)(e.displayName("閉じる")),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactOwnArrCatId(e.artifactCatTabSelected),(t=>((0,n.uX)(),(0,n.Wv)(u,{key:t.id,artifact:t.artifact,id:t.id,score:t.score,control:"selectable",selected:e.artifactSelected(t.artifact),"onSelect:artifact":e.selectArtifact},null,8,["artifact","id","score","selected","onSelect:artifact"])))),128))])):(0,n.Q3)("",!0),e.isNewArtifactInputShow?((0,n.uX)(),(0,n.CE)("div",Ul,[(0,n.bF)(u,{artifact:e.newArtifact,id:0,control:"editable",initial:!0,"onUpdate:artifact":e.updateNewArtifact},null,8,["artifact","onUpdate:artifact"]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[76]||(t[76]=(...t)=>e.newArtifactAddOnClick&&e.newArtifactAddOnClick(...t)),disabled:!e.isNewArtifactAddable},(0,s.v_)(e.displayName("適用")),9,jl),(0,n.Lk)("button",{type:"button",onClick:t[77]||(t[77]=(...t)=>e.isNewArtifactInputShowEndProc&&e.isNewArtifactInputShowEndProc(...t))},(0,s.v_)(e.displayName("キャンセル")),1)])])):(0,n.Q3)("",!0),e.isArtifactChangeInputShow?((0,n.uX)(),(0,n.CE)("div",xl,[(0,n.bF)(r,{before:e.artifactBefore,after:e.artifactAfter,"onApply:artifactChange":e.applyArtifactChange,"onCancel:artifactChange":e.cancelArtifactChange},null,8,["before","after","onApply:artifactChange","onCancel:artifactChange"])])):(0,n.Q3)("",!0),t[84]||(t[84]=(0,n.Lk)("p",null," 聖遺物の入れ替えではなく、0から設定する場合は、「全てクリア」を実行してから行ってください。 ",-1))])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),(0,n.Lk)("div",null,[(0,n.bF)(p,{visible:e.ocrResultVisible,ocrResult:e.ocrResult,"onCancel:artifactDetailOcrResult":e.cancelArtifactDetailOcrResult,"onAccept:artifactDetailOcrResult":e.acceptArtifactDetailOcrResult},null,8,["visible","ocrResult","onCancel:artifactDetailOcrResult","onAccept:artifactDetailOcrResult"])]),(0,n.bo)((0,n.Lk)("div",null,t[85]||(t[85]=[(0,n.Lk)("canvas",{id:"artifact-stats-canvas"},null,-1)]),512),[[l.aG,!1]])],64)}const Ql={class:"modal"},Pl={class:"modal-content"},Bl={class:"ocr-result"};function ql(e,t,a,i,o,c){return(0,n.uX)(),(0,n.Wv)(n.Im,{to:"body"},[(0,n.bo)((0,n.Lk)("div",Ql,[(0,n.Lk)("div",Pl,[(0,n.Lk)("table",Bl,[t[2]||(t[2]=(0,n.Lk)("caption",null,"OCR RESULT",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.items,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.key},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatName(t.key)),1),(0,n.Lk)("td",null,(0,s.v_)(e.displayStatValue(t.key,t.value)),1)])))),128))]),t[3]||(t[3]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.ok&&e.ok(...t))}," OK "),(0,n.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.cancel&&e.cancel(...t))}," CANCEL ")])],512),[[l.aG,e.visible]])])}var Yl=(0,n.pM)({name:"ArtifactDetailOcrResult",props:{visible:{type:Boolean,required:!0,default:!1},ocrResult:{type:Object,required:!0}},emits:["cancel:artifact-detail-ocr-result","accept:artifact-detail-ocr-result"],setup(e,t){const{displayStatName:a,displayStatValue:l}=(0,q.A)(),s=(0,n.EW)((()=>Object.keys(e.ocrResult).map((t=>({key:t,value:e.ocrResult[t]}))))),i=()=>{t.emit("cancel:artifact-detail-ocr-result")},o=()=>{t.emit("accept:artifact-detail-ocr-result")};return{displayStatName:a,displayStatValue:l,items:s,cancel:i,ok:o}}});const Jl=(0,J.A)(Yl,[["render",ql],["__scopeId","data-v-7f3f3a1f"]]);var zl=Jl,Gl=a(3345);const $l={class:"artifact"},Zl={class:"artifact"},en={key:0,class:"artifact-before-after"},tn={colspan:"2"},an=["src","alt"],ln={colspan:"2"},nn={key:0,class:"artifact-before-after"},sn={colspan:"2"},on=["src","alt"],cn={colspan:"2"},un={key:0},rn={colspan:"2"},pn={class:"artifact-stat"},dn={colspan:"2"},mn={style:{"margin-top":"5px"}};function kn(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)("div",$l,[(0,n.Lk)("table",Zl,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[e.before?((0,n.uX)(),(0,n.CE)("table",en,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",tn,(0,s.v_)(e.displayName("現在装備")),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,[(0,n.Lk)("img",{class:"artifact-icon",src:e.artifactImgSrc(e.before),alt:e.displayName(e.before.name)},null,8,an)]),(0,n.Lk)("td",null,[(0,n.eW)((0,s.v_)(e.displayStatStr(e.before.mainStat,e.before.mainStatValue))+" ",1),t[3]||(t[3]=(0,n.Lk)("br",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(new Array(e.before.rarity),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",key:e})))),128))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.before.subStats,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.name},[(0,n.Lk)("td",ln,(0,s.v_)(e.displayStatStr(t.name,t.value)),1)])))),128))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("td",null,[e.after?((0,n.uX)(),(0,n.CE)("table",nn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",sn,(0,s.v_)(e.displayName("変更後")),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,[(0,n.Lk)("img",{class:"artifact-icon",src:e.artifactImgSrc(e.after),alt:e.displayName(e.after.name)},null,8,on)]),(0,n.Lk)("td",null,[(0,n.eW)((0,s.v_)(e.displayStatStr(e.after.mainStat,e.after.mainStatValue))+" ",1),t[4]||(t[4]=(0,n.Lk)("br",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(new Array(e.after.rarity),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",key:e})))),128))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.after.subStats,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.name},[(0,n.Lk)("td",cn,(0,s.v_)(e.displayStatStr(t.name,t.value)),1)])))),128))])])):(0,n.Q3)("",!0)])]),e.isStatsChange?((0,n.uX)(),(0,n.CE)("tr",un,[(0,n.Lk)("td",rn,[(0,n.Lk)("table",pn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",dn,(0,s.v_)(e.displayName("ステータス変化")),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainStatDiffList,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.key},[(0,n.Lk)("td",null,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("td",{class:(0,s.C4)("value "+e.statValueClass(t.value))},(0,s.v_)((t.value>=0?"+":"")+e.displayStatValue(t.key,t.value)),3)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.subStatDiffList,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.key},[(0,n.Lk)("td",null,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("td",{class:(0,s.C4)("value "+e.statValueClass(t.value))},(0,s.v_)((t.value>=0?"+":"")+e.displayStatValue(t.key,t.value)),3)])))),128))])])])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",mn,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.isStatsChange=t)},null,512),[[l.lH,e.isStatsChange]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("ステータス変化分を適用する")),1)]),t[5]||(t[5]=(0,n.Lk)("br",null,null,-1)),t[6]||(t[6]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.applyOnClick&&e.applyOnClick(...t))},(0,s.v_)(e.displayName("適用")),1),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.cancelOnClick&&e.cancelOnClick(...t))},(0,s.v_)(e.displayName("キャンセル")),1)])])}var fn=(0,n.pM)({name:"ArtifactChangeInput",props:{before:{type:Object},after:{type:Object}},emits:["apply:artifact-change","cancel:artifact-change"],setup(e,t){const{displayName:a,displayStatValue:l}=(0,q.A)(),s=(0,x.KR)(!0),i=e=>e?.setname?(0,Pe.ft)(e.setname,e.cat_id):Pe.M2;function o(e,t){let a=e.replace(/%$/,"");return t>=0&&(a+="+"),a+=l(e,t),a}const c=(0,n.EW)((()=>{const t=[];if(e.after){const a=e.after.mainStat;let l=e.after.mainStatValue;e.before&&(a==e.before.mainStat&&e.before.mainStatValue?l-=e.before.mainStatValue:t.push({key:e.before.mainStat,value:-e.before.mainStatValue})),a&&l&&t.push({key:a,value:l})}return t})),u=(0,n.EW)((()=>{const t=[];for(const a of Qe.tB){const l=a;let n=0;if(e.after)for(const t of e.after.subStats)l==t.name&&(n+=t.value);if(e.before)for(const t of e.before.subStats)l==t.name&&(n-=t.value);0!=n&&t.push({key:l,value:n})}return t})),r=e=>e>=0?"plus":"minus",p=()=>{s.value?t.emit("apply:artifact-change",s.value,u.value):t.emit("apply:artifact-change",s.value,[])},d=()=>{t.emit("cancel:artifact-change")};return{displayName:a,displayStatValue:l,isStatsChange:s,artifactImgSrc:i,mainStatDiffList:c,subStatDiffList:u,displayStatStr:o,statValueClass:r,applyOnClick:p,cancelOnClick:d}}});const vn=(0,J.A)(fn,[["render",kn],["__scopeId","data-v-7c9ac9da"]]);var bn=vn,yn=a(3216),gn=a.n(yn);const{createWorker:hn}=gn();let Ln="0123456789.%+";function Cn(e){return new Promise((function(t,a){const l=new FileReader;l.onload=function(){t(l.result)},l.onerror=function(e){a(e)},l.readAsDataURL(e)}))}function Sn(e){return new Promise((function(t,a){const l=new Image;l.onload=function(){t(l)},l.onerror=function(e){a(e)},l.src=e.toString()}))}async function En(e){const t=await Cn(e),a=await Sn(t),l=document.getElementById("artifact-stats-canvas"),n=l.getContext("2d"),s=2;l.width=a.width*s,l.height=a.height*s,n.drawImage(a,0,0,l.width,l.height);const i=n.getImageData(0,0,l.width,l.height);for(let o=0;o<i.height;o++)for(let e=0;e<i.width;e++){const t=4*o*i.width+4*e,a=(i.data[t]+i.data[t+1]+i.data[t+2])/3;i.data[t]=255-(a<64?0:i.data[t]),i.data[t+1]=255-(a<64?0:i.data[t+1]),i.data[t+2]=255-(a<64?0:i.data[t+2])}return n.putImageData(i,0,0,0,0,i.width,i.height),l}function _n(e){console.log(e),e=e.replace(/[,\s]/g,""),e=e.replace(/[Ａ-Ｚａ-ｚ０-９]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})),e=e.replace(/[①②③④⑤⑥⑦⑧⑨]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-("①".charCodeAt(0)-"1".charCodeAt(0)))})),[["⑪","11"],["⑫","12"],["⑬","13"],["⑭","14"],["⑮","15"],["⑯","16"],["⑰","17"],["⑱","18"],["⑲","19"],["⑳","20"]].forEach((t=>{e=e.replace(new RegExp(t[0],"g"),t[1])})),console.log(e);const t={};return["HP上限","攻撃力","防御力","元素.*?知","会心率","会心ダメージ","元素チャージ効率"].forEach((a=>{let l=a;"HP上限"==a&&(l="HP"),"元素.*?知"==a&&(l="元素熟知");const n=new RegExp(a+"\\+([0-9\\.]+)"),s=n.exec(e);s?(["HP","攻撃力","防御力","元素熟知"].includes(l)?t[l]=Number(s[1].replace(".","")):t[l]=Number(s[1]),console.log(l,t[l])):t[l]=0})),t}async function Rn(e){const t=await En(e),a=hn({logger:e=>console.debug(e)});await a.load(),await a.loadLanguage("jpn"),await a.initialize("jpn"),await a.setParameters({tessedit_char_whitelist:Ln,preserve_interword_spaces:"1"});const{data:{text:l}}=await a.recognize(t);await a.terminate();const n=_n(l);return n}async function In(e){let t;const a=e.currentTarget,l=a.files;if(l&&l[0]){const e=l[0];e.type.match("image.*")&&(a.files=null,a.value="",t=await Rn(e))}return console.log("resizePinnedImage",t),t}["HP上限","攻撃力","防御力","元素熟知","会心率","会心ダメージ","元素チャージ効率","基本ステータス","高級ステータス","元素ステータス","スタミナ上限","与える治療効果","受ける治療効果","クールタイム短縮","シールド強化","炎元素ダメージ","水元素ダメージ","風元素ダメージ","雷元素ダメージ","草元素ダメージ","氷元素ダメージ","岩元素ダメージ","物理ダメージ","？"].forEach((e=>{e.split("").forEach((e=>{-1==Ln.indexOf(e)&&(Ln+=e)}))}));var On=a(2112),Nn=1,Xn=(0,n.pM)({name:"ArtifactDetailInput",props:{visible:Boolean,artifactDetailInput:{type:Object,required:!0},isSubStatOnly:Boolean,nextStatRows:Array},components:{ArtifactDetailOcrResult:zl,ArtifactItem:Gl.A,ArtifactChangeInput:bn},emits:["update:artifact-detail"],setup(e,t){const{displayName:a,targetValue:l,displayStatValue:s}=(0,q.A)(),i="artifact_list",o=(0,x.Kh)(e.artifactDetailInput),c=o.聖遺物メイン効果,u=o.聖遺物優先するサブ効果,r=o.聖遺物優先するサブ効果上昇値,p=o.聖遺物優先するサブ効果上昇回数,d=o.聖遺物ステータス,m=o.聖遺物ステータスメイン効果,k=o.聖遺物ステータスサブ効果,f=o.artifact_list,v=(0,x.Kh)(j().cloneDeep(Qe.wE)),b=(0,x.Kh)([]),y=(0,x.Kh)(j().cloneDeep(Qe.wE)),g=(0,x.KR)(!1),h=(0,x.KR)(!1),L=Pe.Rm,C=(0,x.KR)(Pe.Rm[2]),S=(0,x.KR)(!1),E=(0,x.KR)(!1),_=(0,x.KR)(!1),R=(0,x.KR)("1"),I=(0,x.KR)(1),O=(0,x.KR)(!1),N=(0,n.EW)((()=>{let e=0;for(let t=0;t<u.length;t++)u[t]&&(e+=p[t]);return Math.min(45,40+Math.floor(Math.max(0,(e-12)/5)))})),X=(0,n.EW)((()=>{if(!y.name)return!1;if(!y.rarity)return!1;if(!y.setname)return!1;if(!y.cat_id)return!1;if(!y.mainStat)return!1;if(!y.mainStatValue)return!1;for(const e of y.subStats){if(!e.name)return!1;if(!e.value)return!1}return!0})),A=(0,n.EW)((()=>{const e=Number(I.value),t=f.filter((t=>t.cat_id==e));return t})),w=(0,n.EW)((()=>{const e=A.value;return e.length>0?e[0]:void 0})),V=(e,t)=>(0,Qe.Yk)(u,e,t),M=e=>e in m?m[e]:0,K=e=>["HP","攻撃力","防御力","元素熟知"].includes(e)?1:.1,T=()=>{Z(),S.value=!1},D=e=>j().isEqual(e,w.value);function F(t){let a=0;return e.nextStatRows&&e.nextStatRows.forEach((e=>{t.subStats.forEach((t=>{t.name==e[0]&&(a+=t.value*e[4]/e[1][e[2]])}))})),a}function W(){b.forEach((e=>{e.score=F(e.artifact)}))}const U=e=>{e=Number(e);const t=b.filter((t=>t.artifact.cat_id==e)),a=f.filter((t=>t.cat_id==e)),l=a.length>0?a[0]:void 0;return t.sort(((e,t)=>{if(e.artifact.setname!=t.artifact.setname){if(l){if(e.artifact.setname==l.setname)return-1;if(t.artifact.setname==l.setname)return 1;if(e.artifact.mainStat!=t.artifact.mainStat){if(e.artifact.mainStat==l.mainStat)return-1;if(t.artifact.mainStat==l.mainStat)return 1}}}else if(e.artifact.mainStat!=t.artifact.mainStat&&l){if(e.artifact.mainStat==l.mainStat)return-1;if(t.artifact.mainStat==l.mainStat)return 1}return t.score-e.score}))},H=()=>{E.value=!1,_.value=!1,S.value=!0},Q=()=>{(0,On.BW)(y,Qe.wE),y.cat_id=Number(I.value),S.value=!1,E.value=!1,_.value=!0},P=()=>{Z(),S.value=!1,_.value=!1,E.value=!0},B=e=>{S.value=!1;const t=b.filter((t=>t.id==e));t.length>0&&((0,On.BW)(v,t[0].artifact),E.value=!0),document.getElementById("artifact-sub-input")?.scrollIntoView({behavior:"smooth"})},Y=(e,t)=>{console.log(t),0==e&&(0,On.BW)(y,t)},J=()=>{_.value&&((0,On.BW)(v,y),E.value=!0),z()},z=()=>{_.value=!1},G=async(e,a)=>{if(E.value=!1,e){const e=w.value?.mainStat,t=w.value?.mainStatValue,l=v?.mainStat,n=v?.mainStatValue,s=v?.rarity;e&&t&&(m[e]-=t),l&&n&&(s&&(c[Number(I.value)-1]=s+"_"+l),m[l]+=n);for(const i of a)k[i.key]+=i.value}if(v?.name){const e=f.filter((e=>e.cat_id==Number(I.value))).length;if(e>0){for(let t=0;t<f.length;t++)if(f[t].cat_id==Number(I.value)){f.splice(t,1,j().cloneDeep(v));break}}else f.push(j().cloneDeep(v))}else for(let t=0;t<f.length;t++)if(f[t].cat_id==Number(I.value)){f.splice(t,1);break}Z(),ee(),(0,Kt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},$=()=>{Z(),E.value=!1},Z=()=>{(0,On.BW)(v,Qe.wE)},ee=()=>{(0,Kt.Jo)(m,c)},te=()=>{if(o.聖遺物優先するサブ効果Disabled)return;const e=[];for(let t=0;t<o.聖遺物優先するサブ効果.length;t++)e.push(V(t));(0,Kt.om)(k,c,u,r,e,p)};ee(),te(),(0,Kt.S_)(o);const ae=async()=>{ee(),(0,Kt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},le=async(e,a)=>{Object.keys(d).filter((t=>!e||t==e)).forEach((t=>{t==e&&void 0!==a&&(k[t]=Number(a)),k[t]=d[t]-m[t],k[t]<0&&(k[t]=0,d[t]=m[t])})),(0,Kt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},ne=async()=>{(0,Kt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},se=async()=>{o.聖遺物優先するサブ効果Disabled=!1,te(),(0,Kt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},ie=async()=>{o.聖遺物優先するサブ効果Disabled=!1,h.value=!1,C.value&&C.value.key&&(r.splice(0,r.length,...C.value.values),p.splice(0,p.length,...C.value.counts),te(),(0,Kt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o))},oe=async()=>{o.聖遺物優先するサブ効果Disabled=!0;for(const e of Object.keys(k))k[e]=0;(0,Kt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},ce=(0,x.KR)(!1),ue=(0,x.KR)(!1),re=(0,x.Kh)({}),pe=async e=>{ce.value=!0;const t=await In(e);ce.value=!1,t&&((0,On.BW)(re,t),ue.value=!0)},de=()=>{ue.value=!1},me=()=>{if(de(),re){o.聖遺物優先するサブ効果Disabled=!0;for(const e of Object.keys(k))k[e]=e in re?re[e]:0;for(const[e,t]of c.entries())t.endsWith("ダメージバフ")||"与える治療効果"==t||c.splice(e,1,"");ae()}},ke=async()=>{O.value=!1;for(let e=0;e<c.length;e++)c[e]="";ee(),await oe(),f.splice(0,f.length)},fe=()=>{if(i in localStorage){const e=JSON.parse(localStorage[i]),t=e.filter((e=>"setname"in e)).map((e=>({id:Nn++,artifact:e,score:0})));b.splice(0,b.length,...t),W()}};return fe(),(0,n.wB)(e,(e=>{e.nextStatRows&&W()})),{displayName:a,targetValue:l,displayStatValue:s,mainstat1List:Qe.dU,mainstat2List:Qe.Ro,mainstat3List:Qe.Fv,mainstat4List:Qe.iF,mainstat5List:Qe.de,substatMin:M,substatStep:K,prioritySubstatList:Qe.ZI,prioritySubstatValueList:V,prioritySubstatCountList:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],mainstats:c,prioritySubstats:u,prioritySubstatIndices:r,prioritySubstatCounts:p,artifactStats:d,artifactStatsSub:k,upTotalCount:N,editableRef:g,gensenEnabledRef:h,gensenRef:C,gensenMasterList:L,gensenOnChange:ie,artifactStatsOnChange:le,artifactStatsSubOnChange:ne,updateMainstats:ae,updatePrioritySubstats:se,isArtifactSelectListShow:S,isArtifactChangeInputShow:E,isNewArtifactInputShow:_,artifactListCat:A,artifactOwnArrCatId:U,newArtifact:y,isNewArtifactAddable:X,artifactCatTabOnChange:T,artifactSelectOnClick:H,artifactNewOnClick:Q,artifactRemoveOnClick:P,artifactInputModeTab:R,artifactCatTabSelected:I,artifactBefore:w,artifactAfter:v,selectArtifact:B,artifactSelected:D,updateNewArtifact:Y,applyArtifactChange:G,cancelArtifactChange:$,newArtifactAddOnClick:J,isNewArtifactInputShowEndProc:z,loadArtifactStatsByOcr:pe,isScanning:ce,ocrResultVisible:ue,ocrResult:re,cancelArtifactDetailOcrResult:de,acceptArtifactDetailOcrResult:me,initializeArtifactStatsSub:oe,canInitializeStats:O,initializeAll:ke}}});const An=(0,J.A)(Xn,[["render",Hl],["__scopeId","data-v-54720362"]]);var wn=An;const Vn=["onUpdate:modelValue","onChange"],Mn=["onUpdate:modelValue","onChange"],Kn=["value"],Tn=["onUpdate:modelValue","min","max","step","onBlur"],Dn={style:{"text-align":"center"}},Fn={class:"open-close"},Wn={key:0,class:"option-description"};function Un(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.checkboxList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,onChange:a=>e.updateCondition(a,t)},null,40,Vn),[[l.lH,e.conditionValues[t.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.selectList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.conditionValues[t.name]=a,onChange:a=>e.updateCondition(a,t)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayOptionName(t)),9,Kn)))),128))],40,Mn),[[l.u1,e.conditionValues[t.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.numberList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,min:t.min,max:t.max,step:t.step,onBlur:a=>e.updateCondition(a,t)},null,40,Tn),[[l.Jo,e.conditionValues[t.name]]])])))),128)),(0,n.Lk)("div",Dn,[(0,n.Lk)("label",Fn,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.isDisplayDescription=t)},null,512),[[l.lH,e.isDisplayDescription]]),t[1]||(t[1]=(0,n.Lk)("span",null,null,-1))])]),e.isDisplayDescription?((0,n.uX)(),(0,n.CE)("ul",Wn,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))])):(0,n.Q3)("",!0)])}var jn=(0,n.pM)({name:"ConditionInput",props:{characterInput:{type:Object,required:!0}},emits:["update:condition"],setup(e,t){const{displayName:a,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,q.A)(),o=(0,x.Kh)(j().cloneDeep(Qe.yQ.checkboxList)),c=(0,x.Kh)(j().cloneDeep(Qe.yQ.selectList)),u=(0,x.Kh)(j().cloneDeep(Qe.yQ.numberList)),r=(0,x.Kh)(j().cloneDeep(Qe.yQ.conditionValues)),p=(0,x.Kh)(j().cloneDeep(Qe.yQ.conditionAdjustments)),d=(0,x.KR)(!1),m=(0,n.EW)((()=>{const e=[];for(const t of Object.keys(p)){const a=p[t];let n=l(t).replace("%","");if(null===a);else if((0,On.kf)(a)){if(0===a)continue;a>=0&&("別枠乗算"===t.split(".")[0]?n+="=":n+="+"),n+=s(t,a)}else a&&(n+="="+a);e.push(n)}return e})),k=(0,n.EW)((()=>(0,Qe._y)(e.characterInput))),f=e=>{j().isEqual(o,e.checkboxList)||o.splice(0,o.length,...e.checkboxList),j().isEqual(c,e.selectList)||c.splice(0,c.length,...e.selectList),j().isEqual(u,e.numberList)||u.splice(0,u.length,...e.numberList),j().isEqual(r,e.conditionValues)||(0,On.BW)(r,e.conditionValues),j().isEqual(p,e.conditionAdjustments)||(0,On.BW)(p,e.conditionAdjustments)},v=async(e,a)=>{let l;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(l=k.value.get(a.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(l=k.value.get(a.name)),l&&l.forEach((e=>{o.filter((t=>t.name==e)).length>0&&(r[e]=!1),c.filter((t=>t.name==e)).length>0&&(r[e]=0)})),await(0,n.dY)(),t.emit("update:condition",r)};return(0,n.wB)(e,(()=>{k.value})),{displayName:a,displayOptionName:i,checkboxList:o,selectList:c,numberList:u,conditionValues:r,isDisplayDescription:d,displayStatAjustmentList:m,initialize:f,updateCondition:v}}});const xn=(0,J.A)(jn,[["render",Un],["__scopeId","data-v-a99f1346"]]);var Hn=xn;const Qn={key:0,class:"stats"},Pn={colspan:"3"},Bn={class:"open-close"},qn=["onUpdate:modelValue"],Yn=["onUpdate:modelValue"],Jn={class:"stat-value"},zn={class:"left"},Gn={colspan:"2",class:"right"},$n=["disabled"],Zn={key:1,class:"two-table"},es={class:"stats"},ts={colspan:"2"},as={class:"open-close"},ls=["onUpdate:modelValue"],ns={class:"stat-value"},ss={class:"stats"},is={colspan:"2"},os={class:"open-close"},cs=["onUpdate:modelValue"],us={class:"stat-value"},rs={class:"left"};function ps(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",null,[e.editable?((0,n.uX)(),(0,n.CE)("table",Qn,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.categoryList,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Pn,[(0,n.Lk)("label",Bn,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t=>e.categoryOpenClose[a]=t},null,8,qn),[[l.lH,e.categoryOpenClose[a]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(a),(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(a)),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.statAdjustments[a]=t,onChange:t[0]||(t[0]=(...t)=>e.adjustmentsOnChange&&e.adjustmentsOnChange(...t))},null,40,Yn),[[l.Jo,e.statAdjustments[a]]])]),(0,n.Lk)("td",Jn,(0,s.v_)(e.displayStatValue(a,e.statsObj[a])),1)])))),128))],64)))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",zn,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.editable=t)},null,512),[[l.lH,e.editable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値入力モード")),1)])]),(0,n.Lk)("td",Gn,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.initializable=t)},null,512),[[l.lH,e.initializable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値0初期化")),1)]),(0,n.Lk)("button",{type:"button",disabled:!e.initializable,onClick:t[3]||(t[3]=(...t)=>e.initializeAdjustments&&e.initializeAdjustments(...t))},(0,s.v_)(e.displayName("実行")),9,$n)])])])])):(0,n.Q3)("",!0),e.editable?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("table",Zn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("table",es,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.category1List,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",ts,[(0,n.Lk)("label",as,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.categoryOpenClose[t]=a},null,8,ls),[[l.lH,e.categoryOpenClose[t]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(t),(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(t)),1),(0,n.Lk)("td",ns,(0,s.v_)(e.displayStatValue(t,e.statsObj[t])),1)])))),128))],64)))),128))])])]),(0,n.Lk)("td",null,[(0,n.Lk)("table",ss,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.category2List,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",is,[(0,n.Lk)("label",os,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.categoryOpenClose[t]=a},null,8,cs),[[l.lH,e.categoryOpenClose[t]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(t),(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(t)),1),(0,n.Lk)("td",us,(0,s.v_)(e.displayStatValue(t,e.statsObj[t])),1)])))),128))],64)))),128))])])])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",rs,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.editable=t)},null,512),[[l.lH,e.editable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値入力モード")),1)])])])])]))])}var ds=(0,n.pM)({name:"StatsInput1",props:{statsInput:{type:Object,required:!0},category1List:{type:Array,required:!0},category2List:{type:Array,required:!0}},emits:["update:stat-adjustments"],setup(e,t){const{displayName:a,displayStatAbbrev:l,displayStatValue:s}=(0,q.A)(),i=(0,x.Kh)(e.statsInput),o=(0,x.KR)(!1),c=(0,x.KR)(!1),u=e=>Qe.w_.get(e),r=i.statsObj,p=i.statAdjustments,d=[...e.category1List,...e.category2List],m=(0,x.KR)({});for(const n of d)m.value[n]=!1;const k=e=>u(e)?.filter((t=>m.value[e]||i.statsObj&&i.statsObj[t]||i.statAdjustments&&i.statAdjustments[t]))??[],f=async()=>{await(0,n.dY)(),t.emit("update:stat-adjustments",i.statAdjustments)},v=()=>{for(const e of d){const t=u(e);if(t)for(const e of t)i.statAdjustments[e]=0}f()};return v(),{displayName:a,displayStatAbbrev:l,displayStatValue:s,categoryList:d,statList:u,visibleStatList:k,statsObj:r,statAdjustments:p,categoryOpenClose:m,adjustmentsOnChange:f,editable:o,initializable:c,initializeAdjustments:v}}});const ms=(0,J.A)(ds,[["render",ps],["__scopeId","data-v-1597255b"]]);var ks=ms;const fs={key:0,class:"next-step"},vs={key:0},bs={class:"right"},ys=["value"],gs={class:"reaction-area"},hs=["src","alt","onClick"],Ls={class:"tooltip"},Cs={class:"next-stat"},Ss={key:0},Es={class:"name"},_s={class:"step"},Rs=["onUpdate:modelValue","onChange"],Is=["value"],Os={class:"count"},Ns=["onUpdate:modelValue"],Xs={class:"damage"},As={key:1};function ws(e,t,a,i,o,c){return e.visible?((0,n.uX)(),(0,n.CE)("div",fs,[e.toggleSwitch?((0,n.uX)(),(0,n.CE)("fieldset",vs,[(0,n.Lk)("legend",{onClick:t[0]||(t[0]=t=>e.toggleSwitch=!e.toggleSwitch)},"  "+(0,s.v_)(e.displayName("NEXT STEP"))+"  ",1),(0,n.Lk)("div",bs,[(0,n.bo)((0,n.Lk)("select",{class:"evaluation-item","onUpdate:modelValue":t[1]||(t[1]=t=>e.evaluationItem=t),onChange:t[2]||(t[2]=(...t)=>e.evaluationItemOnChange&&e.evaluationItemOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.evaluationItemList,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e},(0,s.v_)(e.replace("."," ")),9,ys)))),128))],544),[[l.u1,e.evaluationItem]]),(0,n.Lk)("div",gs,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.amplifyingReactionList,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"reaction with-tooltip",key:t},[(0,n.Lk)("img",{class:(0,s.C4)("reaction"+(e.selectedAmplifyingReaction==t?" selected":"")),src:e.reactionImgSrc(t),alt:t,onClick:a=>e.reactionImgOnClick(t)},null,10,hs),(0,n.Lk)("div",Ls,(0,s.v_)(e.displayName(t)),1)])))),128))])]),(0,n.Lk)("table",Cs,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.nextStatRows,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a[0]},[a[3]||a[4]?((0,n.uX)(),(0,n.CE)("tr",Ss,[(0,n.Lk)("th",Es,(0,s.v_)(e.displayName(a[0])),1),(0,n.Lk)("td",_s,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>a[2]=e,onChange:t=>e.nextStatStepOnChange(a)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a[1],((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:t},(0,s.v_)(Math.round(10*e)/10),9,Is)))),128))],40,Rs),[[l.u1,a[2]]])]),(0,n.Lk)("td",null,(0,s.v_)(Math.round(1e3*a[4])/1e3+"%"),1),(0,n.Lk)("td",Os,[(0,n.bo)((0,n.Lk)("input",{type:"range",min:"-3",max:"5","onUpdate:modelValue":e=>a[3]=e,onChange:t[3]||(t[3]=(...t)=>e.nextStatOnChange&&e.nextStatOnChange(...t))},null,40,Ns),[[l.Jo,a[3]]])]),(0,n.Lk)("td",null,(0,s.v_)(e.displayNextStatValue(a)),1)])):(0,n.Q3)("",!0)],64)))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("th",Xs,[(0,n.eW)((0,s.v_)(e.isStop?e.displayName("停止中"):e.displayName("稼働中"))+" ",1),(0,n.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...t)=>e.stopButtonOnClick&&e.stopButtonOnClick(...t))},(0,s.v_)(e.isStop?e.displayName("再開"):e.displayName("停止")),1)]),t[9]||(t[9]=(0,n.Lk)("td",null,null,-1)),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.resetButtonOnClick&&e.resetButtonOnClick(...t))}," Reset ")]),(0,n.Lk)("td",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=t=>e.containsDealMoreDamage=t),onChange:t[7]||(t[7]=(...t)=>e.containsDealMoreDamageOnChange&&e.containsDealMoreDamageOnChange(...t))},null,544),[[l.lH,e.containsDealMoreDamage]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("与えるダメージ")),1)])]),t[10]||(t[10]=(0,n.Lk)("td",null,null,-1))])])])])):((0,n.uX)(),(0,n.CE)("div",As,[(0,n.Lk)("label",{onClick:t[8]||(t[8]=t=>e.toggleSwitch=!e.toggleSwitch)},(0,s.v_)(e.displayName("+ NEXT STEP +")),1)]))])):(0,n.Q3)("",!0)}var Vs=(0,n.pM)({name:"NextStat",props:{visible:Boolean,characterInput:{type:Object,required:!0},artifactDetailInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},optionInput:{type:Object,required:!0},statsInput:{type:Object,required:!0},damageResult:{type:Object,required:!0},rotationDamageInfo:{type:Object}},emits:["update:stat-adjustments","update:next-stat-rows"],setup(e,t){const{displayName:a,displayStatValue:l}=(0,q.A)(),s="ローテーション合計ダメージ",i=["HP%","攻撃力%","防御力%","元素熟知","会心率","会心ダメージ","元素チャージ効率","HP","攻撃力","防御力"],o=(0,x.KR)(e.visible),c=(0,x.KR)(""),u=(0,x.Kh)([]),r=(0,x.KR)(""),p="nextStepStopFlg",d=(0,x.KR)(!1),m=(0,x.KR)(!1),k=localStorage.getItem(p);k&&(d.value=JSON.parse(k));const f=(0,n.EW)((()=>{let t=[];e.rotationDamageInfo?.rotationDamages&&t.push(s);for(const a of["通常攻撃","落下攻撃","重撃","元素スキル","元素爆発","その他"]){const l=e.damageResult[a];if(Array.isArray(l))for(const e of l){if(!e)continue;if(e[0]?.endsWith("合計ダメージ"))continue;if(!e[5]?.endsWith("ダメージ"))continue;const l=a+"."+e[0];t.push(l)}}return t})),v=(0,n.EW)((()=>{let t="物理";if(e.damageResult&&c.value){const a=c.value.split(".");if(2==a.length){const l=a[0],n=a[1];if(l in e.damageResult){const a=e.damageResult[l].filter((e=>e[0]==n));if(a.length){const e=a[0];e[1]&&(t=e[1])}}}}return t})),b=(0,n.EW)((()=>{const e=[];return v.value&&v.value in Pe.NX&&e.push(...Object.keys(Pe.NX[v.value]).filter((e=>["蒸発","溶解","超激化","草激化"].includes(e)))),e})),y=e=>{const t=(0,Kt.UH)(e,v.value);return t?Pe.cu[t]:Pe.M2},g=e=>e&&e[3]?e[3]*e[1][e[2]]:0,h=e=>{let t="";const a=g(e);return a>0&&(t+="+"),t+=l(e[0],a),t};function L(){const e=[];for(const t of i)e.push([t,(0,Qe.GX)(t),2,0,0]);m.value&&e.push(["与えるダメージ",(0,Qe.GX)("攻撃力%"),2,0,0]),u.splice(0,u.length,...e)}function C(t,a){let l=0;if(t==s)e.rotationDamageInfo&&(l=(0,Kt.OY)(e.rotationDamageInfo.rotationDamages,a));else{const e=t.split("."),n=a[e[0]].filter((t=>t[0]==e[1]));n.length&&(l=(0,Kt.OD)(n[0],2,a.元素反応,r.value))}return l}function S(t,a,l){if(d.value)return;a||(a=j().cloneDeep(Qe.R7)),l||(l=j().cloneDeep(e.statsInput));let n=0;const s="HP"!=t[0]?t[0]:"HP+",i=t[1][t[2]];if(i&&e.rotationDamageInfo){const t=C(c.value,e.damageResult);s in l.statAdjustmentsEx?l.statAdjustmentsEx[s]+=i:l.statAdjustmentsEx[s]=i,(0,Kt.s2)(l,e.characterInput,e.artifactDetailInput,e.conditionInput,e.optionInput),(0,Kt.h9)(a,e.characterInput,e.conditionInput,l);const o=C(c.value,a);o&&t&&(n=o/t-1,n*=100),l.statAdjustmentsEx[s]-=i}t[4]=n}function E(){if(c.value){const t=j().cloneDeep(Qe.R7),a=j().cloneDeep(e.statsInput);for(const e of u)S(e,t,a)}u.sort(((e,t)=>t[4]-e[4])),t.emit("update:next-stat-rows",u)}function _(){if(f.value.length){let t;if(f.value.length>1&&e.characterInput?.characterMaster["NEXT STEP"]){const a=e.characterInput.characterMaster["NEXT STEP"];f.value.includes(a)?t=a:console.warn(a,f.value)}t||(t=f.value.includes(c.value)?c.value:f.value.includes(s)?s:f.value[f.value.length-1]),c.value=t}}const R=()=>{E()},I=e=>{r.value==e?r.value="":r.value=e,E()},O=e=>{S(e),u.sort(((e,t)=>t[4]-e[4]))},N=async()=>{await(0,n.dY)();const e={};u.forEach((t=>{t[3]&&(e[t[0]]=g(t))})),t.emit("update:stat-adjustments",e)},X=async()=>{L(),await N()},A=()=>{d.value=!d.value,localStorage.setItem(p,String(d.value)),d.value||E()},w=()=>{L(),E()};return(0,n.wB)([e.characterInput,e.statsInput],(()=>{E()})),(0,n.wB)([e.damageResult,e.rotationDamageInfo],(()=>{_()})),(0,n.sV)((()=>{L(),_(),E()})),{displayName:a,displayStatValue:l,toggleSwitch:o,evaluationItem:c,nextStatRows:u,selectedAmplifyingReaction:r,isStop:d,containsDealMoreDamage:m,evaluationItemList:f,amplifyingReactionList:b,reactionImgSrc:y,displayNextStatValue:h,initializeEvaluationItem:_,setupNextStatRows:E,evaluationItemOnChange:R,reactionImgOnClick:I,nextStatStepOnChange:O,nextStatOnChange:N,resetButtonOnClick:X,stopButtonOnClick:A,containsDealMoreDamageOnChange:w}}});const Ms=(0,J.A)(Vs,[["render",ws],["__scopeId","data-v-ee0680f6"]]);var Ks=Ms;const Ts={key:0,class:"member-area"},Ds={class:"member"},Fs=["src","alt"],Ws=["src"],Us=["src","alt","onClick"],js=["src"];function xs(e,t,a,l,s,i){return e.teamMembers.length?((0,n.uX)(),(0,n.CE)("div",Ts,[(0,n.Lk)("div",Ds,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(e.character),alt:e.displayName(e.character)},null,8,Fs),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(e.character),alt:"vision"},null,8,Ws)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.teamMembers,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"member",key:t},[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(t),alt:e.displayName(t),onClick:a=>e.removeFromTeamOnClick(t)},null,8,Us),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(t),alt:"vision"},null,8,js)])))),128))])):(0,n.Q3)("",!0)}var Hs=(0,n.pM)({name:"EasyTeamInput",props:{character:{type:String,required:!0},teamMembers:{type:Array,required:!0}},emits:["update:team-members"],setup(e,t){const{displayName:a,displayOptionName:l}=(0,q.A)();function n(e){t.emit("update:team-members",e)}const s=t=>{n([...e.teamMembers,t])},i=t=>{n(e.teamMembers.filter((e=>e!=t)))},o=e=>Pe.Zn[e].icon_url,c=e=>Pe.cu[Pe.Zn[e].元素];return{displayName:a,displayOptionName:l,addToTeamOnClick:s,removeFromTeamOnClick:i,characterIconSrc:o,characterVisionIconSrc:c}}});const Qs=(0,J.A)(Hs,[["render",xs],["__scopeId","data-v-8f0bc762"]]);var Ps=Qs;const Bs={class:"elemental-resonance"},qs=["onUpdate:modelValue","onChange"],Ys=["onChange"],Js={class:"option-description"};function zs(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",Bs,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalResonanceList,(a=>((0,n.uX)(),(0,n.CE)("label",{key:a.key},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.elementalResonanceChecked[a.key]=t,onChange:t=>e.onChange(a.key)},null,40,qs),[[l.lH,e.elementalResonanceChecked[a.key]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.名前)),1),"草元素共鳴"==a.key?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dendroOption=t),onChange:t=>e.onChange(a.key)},t[1]||(t[1]=[(0,n.Lk)("option",{value:"0"},null,-1),(0,n.Lk)("option",{value:"20"},"+20",-1),(0,n.Lk)("option",{value:"30"},"+30",-1),(0,n.Lk)("option",{value:"50"},"+50",-1)]),40,Ys)),[[l.u1,e.dendroOption]]):(0,n.Q3)("",!0)])))),128)),t[2]||(t[2]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",Js,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))]),t[3]||(t[3]=(0,n.Lk)("hr",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.descriptionList,((t,a)=>((0,n.uX)(),(0,n.CE)("article",{key:a,class:(0,s.C4)(e.elementClass(t[0]))},(0,s.v_)(t[1]),3)))),128))])}var Gs=(0,n.pM)({name:"ElementalResonanceInput",props:{elementalResonance:{type:Object,required:!0}},emits:["update:elemental-resonance"],setup(e,t){const{displayName:a,displayStatName:l,displayStatValue:s}=(0,q.A)(),i=Pe.Zs,o=(0,x.Kh)({});i.forEach((e=>{o[e.key]=!1}));const c=(0,x.KR)(0),u=(0,x.Kh)({}),r=(0,n.EW)((()=>{const t=[],a=e.elementalResonance?.conditionAdjustments;if(a)for(const e of Object.keys(a)){const n=a[e];let i=l(e).replace("%","");if(null===n);else if((0,On.kf)(n)){if(0===n)continue;n>=0&&("別枠乗算"===e.split(".")[0]?i+="=":i+="+"),i+=s(e,n)}else n&&(i+="="+n);t.push(i)}return t})),p=(0,n.EW)((()=>{const e=[];for(const t of Object.keys(o).filter((e=>o[e])))e.push([t,Pe.u[t].説明]);return e})),d=e=>{let t="";return e&&(t=Pe.KM[e.substring(0,1)]),t},m=async()=>{await(0,n.dY)(),t.emit("update:elemental-resonance",u)},k=async e=>{if(e&&o[e])if("元素共鳴なし"==e)for(const t of Object.keys(o).filter((e=>"元素共鳴なし"!=e)))o[t]=!1;else Object.keys(o).filter((e=>"元素共鳴なし"!=e&&o[e])).length>2&&(o[e]=!1),o["元素共鳴なし"]=!1;await(0,n.dY)(),Object.keys(o).forEach((e=>{u[e]=o[e]})),c.value?u["dendroOption"]=c.value:u["dendroOption"]=0,m()},f=e=>{(0,On.BW)(u,e.conditionValues),Object.keys(o).forEach((e=>{o[e]=e in u&&Boolean(u[e])})),"dendroOption"in u&&(c.value=Number(u["dendroOption"])),m()};return(0,n.sV)((()=>{(0,On.BW)(u,e.elementalResonance.conditionValues),m()})),(0,n.wB)(e,(()=>{r.value})),{displayName:a,elementalResonanceList:i,elementalResonanceChecked:o,dendroOption:c,displayStatAjustmentList:r,descriptionList:p,elementClass:d,onChange:k,initializeValues:f}}});const $s=(0,J.A)(Gs,[["render",zs],["__scopeId","data-v-d7d64184"]]);var Zs=$s;const ei={class:"team-option"},ti={key:0,class:"supporter"},ai={class:"left"},li=["id","onUpdate:modelValue"],ni=["for"],si={class:"character"},ii=["src","alt"],oi=["src"],ci={class:"tooltip"},ui=["onClick"],ri=["disabled","onClick"],pi={key:0,class:"builddata-selector"},di=["onUpdate:modelValue"],mi=["value"],ki={class:"equipment"},fi={class:"with-tooltip"},vi=["src"],bi={class:"tooltip"},yi={class:"with-tooltip"},gi=["src"],hi={class:"tooltip"},Li={class:"with-tooltip"},Ci=["src"],Si={class:"tooltip"},Ei=["onUpdate:modelValue","disabled","onChange"],_i=["onUpdate:modelValue","disabled","onChange"],Ri=["value"],Ii=["onUpdate:modelValue","min","max","step","disabled","onBlur"],Oi=["id","onUpdate:modelValue"],Ni=["for"],Xi={class:"character"},Ai=["src","alt"],wi=["src"],Vi={class:"tooltip"},Mi=["onClick"],Ki=["disabled","onClick"],Ti={class:"option-description"};function Di(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("fieldset",ei,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.SUPPORTER_KEY_LIST,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[e.supporterOpenClose[a]?(0,n.bo)(((0,n.uX)(),(0,n.CE)("fieldset",ti,[(0,n.Lk)("div",ai,[(0,n.Lk)("div",{class:(0,s.C4)("supporter"+e.supporterOptionSelectedClass(a))},[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"supporter-"+a,type:"checkbox","onUpdate:modelValue":t=>e.supporterOpenClose[a]=t},null,8,li),[[l.lH,e.supporterOpenClose[a]]]),(0,n.Lk)("label",{class:"fold with-tooltip",for:"supporter-"+a},[(0,n.Lk)("div",si,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(a),alt:e.displayName(a)},null,8,ii),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(a),alt:"vision"},null,8,oi)]),(0,n.Lk)("span",ci,(0,s.v_)(e.displayName(a)),1)],8,ni),e.teamMembers.includes(a)?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:t=>e.removeFromTeamOnClick(a)},t[3]||(t[3]=[(0,n.Lk)("span",{class:"material-symbols-outlined remove"}," person_remove ",-1)]),8,ui)):((0,n.uX)(),(0,n.CE)("button",{key:1,type:"button",disabled:e.teamMembers.length>=3,onClick:t=>e.addToTeamOnClick(a)},t[4]||(t[4]=[(0,n.Lk)("span",{class:"material-symbols-outlined add"}," person_add ",-1)]),8,ri))],2),e.buildnameList(a).length?((0,n.uX)(),(0,n.CE)("div",pi,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.selectedBuildname[a]=t,onChange:t[0]||(t[0]=(...t)=>e.buildnameSelectionOnChange&&e.buildnameSelectionOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.buildnameList(a),(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e},(0,s.v_)(e),9,mi)))),128))],40,di),[[l.u1,e.selectedBuildname[a]]])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",ki,[(0,n.Lk)("div",fi,[(0,n.Lk)("img",{src:e.weaponIconSrc(a),alt:"weapon"},null,8,vi),(0,n.Lk)("span",bi,(0,s.v_)(e.weaponName(a)),1)]),(0,n.Lk)("div",yi,[(0,n.Lk)("img",{src:e.artifactSetIconSrc(a,0),alt:"artifact set"},null,8,gi),(0,n.Lk)("span",hi,(0,s.v_)(e.artifactSetName(a,0)),1)]),(0,n.Lk)("div",Li,[(0,n.Lk)("img",{src:e.artifactSetIconSrc(a,1),alt:"artifact set"},null,8,Ci),(0,n.Lk)("span",Si,(0,s.v_)(e.artifactSetName(a,1)),1)])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterCheckboxList(a),(t=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:t.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,disabled:e.conditionDisabled(t),onChange:a=>e.valueOnChange(a,t)},null,40,Ei),[[l.lH,e.conditionValues[t.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.displayName)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterSelectList(a),(t=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.displayName)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.conditionValues[t.name]=a,disabled:e.conditionDisabled(t),onChange:a=>e.valueOnChange(a,t)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:t},(0,s.v_)(e.displayOptionName(t)),9,Ri)))),128))],40,_i),[[l.u1,e.conditionValues[t.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterNumberList(a),(t=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.displayName)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,min:t.min,max:t.max,step:t.step,disabled:e.conditionDisabled(t),onBlur:a=>e.valueOnChange(a,t)},null,40,Ii),[[l.Jo,e.conditionValues[t.name]]])])))),128))])],512)),[[l.aG,e.supporterVisible(a)]]):(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,s.C4)("supporter-else"+e.elementBgClass(a)+e.supporterOptionSelectedClass(a))},[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"supporter-else-"+a,type:"checkbox","onUpdate:modelValue":t=>e.supporterOpenClose[a]=t},null,8,Oi),[[l.lH,e.supporterOpenClose[a]]]),(0,n.Lk)("label",{class:"fold with-tooltip",for:"supporter-else-"+a},[(0,n.Lk)("div",Xi,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(a),alt:e.displayName(a)},null,8,Ai),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(a),alt:"vision"},null,8,wi)]),(0,n.Lk)("span",Vi,(0,s.v_)(e.displayName(a)),1)],8,Ni),e.teamMembers.includes(a)?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:t=>e.removeFromTeamOnClick(a)},t[5]||(t[5]=[(0,n.Lk)("span",{class:"material-symbols-outlined remove"}," person_remove ",-1)]),8,Mi)):((0,n.uX)(),(0,n.CE)("button",{key:1,type:"button",disabled:e.teamMembers.length>=3,onClick:t=>e.addToTeamOnClick(a)},t[6]||(t[6]=[(0,n.Lk)("span",{class:"material-symbols-outlined add"}," person_add ",-1)]),8,Ki))],2)),[[l.aG,e.supporterVisible(a)]])],64)))),128)),t[7]||(t[7]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",Ti,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))]),(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName("すべて閉じる"))+" ",1),(0,n.Lk)("button",{class:"execute",type:"button",onClick:t[1]||(t[1]=(...t)=>e.closeAllSupporters&&e.closeAllSupporters(...t))},(0,s.v_)(e.displayName("実行")),1)]),(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName("すべてクリア"))+" ",1),(0,n.Lk)("button",{class:"execute",type:"button",onClick:t[2]||(t[2]=(...t)=>e.clearAllSupporterOptions&&e.clearAllSupporterOptions(...t))},(0,s.v_)(e.displayName("実行")),1)])]),t[8]||(t[8]=(0,n.Lk)("p",{class:"notice"},[(0,n.eW)(" キャラクターの天賦レベルやステータスによって効果量が変動する種類のオプションはデフォルト名称の構成保存データが存在する場合に選択可能になります。 "),(0,n.Lk)("br"),(0,n.eW)(" 構成保存データのデフォルト名称：あなたの{キャラクターの名前} ")],-1))],64)}var Fi=(0,n.pM)({name:"TeamOptionInput",props:{character:{type:String,required:!0},teamMembers:{type:Array,required:!0},conditionInput:{type:Object,required:!0}},emits:["update:team-option","update:buildname-selection","update:team-members"],setup(e,t){const{displayName:a,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,q.A)(),o=Object.keys(Pe.Zn);o.sort(((e,t)=>Pe.gN.indexOf(Pe.Zn[e].元素)-Pe.gN.indexOf(Pe.Zn[t].元素)));const c=(0,x.Kh)({});for(const n of o)c[n]=!1;const u=(0,x.Kh)({}),r=(0,x.Kh)({}),p=(0,x.Kh)([]),d=(0,x.Kh)({}),m=(0,x.Kh)({}),k=(0,n.EW)((()=>e.conditionInput.optionDetails1)),f=(0,n.EW)((()=>e.conditionInput.optionDetails2)),v=(0,n.EW)((()=>e.conditionInput.conditionMap)),b=(0,n.EW)((()=>e.conditionInput.exclusionMap)),y=(0,n.EW)((()=>e.conditionInput.checkboxList)),g=(0,n.EW)((()=>e.conditionInput.selectList)),h=(0,n.EW)((()=>e.conditionInput.numberList)),L=e=>y.value.filter((t=>t.name.startsWith(e+"*"))),C=e=>g.value.filter((t=>t.name.startsWith(e+"*"))),S=e=>h.value.filter((t=>t.name.startsWith(e+"*"))),E=t=>t!=e.character,_=e=>L(e).filter((e=>m[e.name])).length>0||C(e).filter((e=>!e.required&&m[e.name])).length>0?" selected":"",R=e=>" "+Pe.or[Pe.Zn[e].元素],I=e=>Pe.Zn[e].icon_url,O=e=>Pe.cu[Pe.Zn[e].元素],N=e=>{const t=d[e];return t?.characterInput?.weaponMaster?.icon_url??Pe.M2},X=e=>{const t=d[e];return t?.characterInput?.weapon??""},A=(e,t)=>{const a=d[e]?.characterInput?.artifactSetMasters;return j().isArray(a)?a[t].icon_url?.replace(/\.png$/,"/flower_of_life.png")??Pe.M2:Pe.M2},w=(e,t)=>{const a=d[e]?.characterInput?.artifactSetMasters;return j().isArray(a)?a[t].key??"":""};function V(e,t){const a=(0,Qe.F0)(e);return t==a?(0,Qe.no)(e):t.replace(new RegExp("^"+a+"_"),"")}const M=e=>{const t=new RegExp("^構成_"+e.replace("(","\\(").replace(")","\\)")+"(_|$)"),a=Object.keys(localStorage).filter((e=>t.test(e))),l=a.map((t=>V(e,t))),n=(0,Qe.no)(e),s=l.filter((e=>e!=n)).sort();return l.includes(n)&&s.unshift(n),s},K=e=>M(e).length>0,T=e=>{const t=e.name.split("*")[0];if(0===M(t).length){for(const t of k.value)if(j().isString(t.条件)&&t.条件.startsWith(e.name)&&t.数値?.includes("$"))return!0;for(const t of f.value)if(j().isString(t.条件)&&t.条件.startsWith(e.name)&&t.数値?.includes("$"))return!0}return!1},D=(0,n.EW)((()=>{const t=[];for(const a of Object.keys(e.conditionInput.conditionAdjustments)){let n=l(a).replace("%","");const i=e.conditionInput.conditionAdjustments[a];a.endsWith("元素付与")||null===i||((0,On.kf)(i)?(i>=0&&(n+=["別枠乗算"].includes(a.split(".")[0])?"=":"+"),n+=s(a,i)):i&&(n+="="+i)),t.push(n)}return t}));o.forEach((e=>{u[e]=!1;const t=M(e);t.length>0&&(r[e]=t[0])}));const F=async()=>{await(0,n.dY)(),t.emit("update:team-option",m)},W=async(e,t)=>{let a;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(a=b.value.get(t.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(a=b.value.get(t.name)),a&&a.forEach((e=>{y.value.filter((t=>t.name==e)).length>0&&(m[e]=!1),g.value.filter((t=>t.name==e)).length>0&&(m[e]=0)})),F()},U=()=>{t.emit("update:buildname-selection",r)};function H(e){t.emit("update:team-members",e)}const Q=t=>{H([...e.teamMembers,t])},P=t=>{H(e.teamMembers.filter((e=>e!=t)))},B=()=>{for(const e of Object.keys(c))c[e]=!1},Y=()=>{for(const e of y.value)m[e.name]=!1;for(const e of g.value)m[e.name]=0;for(const e of h.value)m[e.name]=e.initial;F()};function J(){v.value.forEach(((e,t)=>{null===e?t in m||(m[t]=!1):j().isArray(e)?t in m||(m[t]=0):j().isPlainObject(e)&&(t in m||(m[t]=e.initial))}))}const z=e=>{for(const t of o)M(t).length?r[t]||(r[t]=M(t)[0]):r[t]=void 0;Object.keys(e).forEach((t=>{j().isEqual(d[t],e[t])||(d[t]=e[t])})),J(),F()},G=e=>{(0,On.BW)(m,e.conditionValues),J(),F()};return(0,n.sV)((()=>{j().isEqual(p,e.teamMembers)&&p.splice(0,p.length,...e.teamMembers),(0,On.BW)(m,e.conditionInput.conditionValues),J(),F(),U()})),(0,n.wB)(e,(()=>{j().isEqual(p,e.teamMembers)&&p.splice(0,p.length,...e.teamMembers),J()})),{displayName:a,displayOptionName:i,SUPPORTER_KEY_LIST:o,supporterCheckboxList:L,supporterSelectList:C,supporterNumberList:S,conditionValues:m,supporterVisible:E,supporterOptionSelectedClass:_,conditionDisabled:T,supporterOpenClose:c,closeAllSupporters:B,clearAllSupporterOptions:Y,builddataSelectable:K,builddataSelectorVisible:u,buildnameList:M,selectedBuildname:r,elementBgClass:R,characterIconSrc:I,characterVisionIconSrc:O,weaponIconSrc:N,weaponName:X,artifactSetIconSrc:A,artifactSetName:w,displayStatAjustmentList:D,valueOnChange:W,buildnameSelectionOnChange:U,addToTeamOnClick:Q,removeFromTeamOnClick:P,initializeSupporters:z,initializeValues:G}}});const Wi=(0,J.A)(Fi,[["render",Di],["__scopeId","data-v-0520bb8a"]]);var Ui=Wi;const ji=["onUpdate:modelValue","value","onChange"],xi=["onUpdate:modelValue","onChange"],Hi=["value"],Qi=["onUpdate:modelValue","min","max","step","onBlur"],Pi={class:"option-description"};function Bi(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.checkboxList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,value:t,onChange:a=>e.valueOnChange(a,t)},null,40,ji),[[l.lH,e.conditionValues[t.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.selectList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.conditionValues[t.name]=a,onChange:a=>e.valueOnChange(a,t)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:t},(0,s.v_)(e.displayOptionName(t)),9,Hi)))),128))],40,xi),[[l.u1,e.conditionValues[t.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.numberList,(t=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,min:t.min,max:t.max,step:t.step,onBlur:a=>e.valueOnChange(a,t)},null,40,Qi),[[l.Jo,e.conditionValues[t.name]]])])))),128)),t[0]||(t[0]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",Pi,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))])])}var qi=(0,n.pM)({name:"MiscOptionInput",props:{conditionInput:{type:Object,required:!0}},emits:["update:misc-option"],setup(e,t){const{displayName:a,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,q.A)(),o=(0,x.Kh)({}),c=(0,n.EW)((()=>e.conditionInput.conditionMap)),u=(0,n.EW)((()=>e.conditionInput.exclusionMap)),r=(0,n.EW)((()=>e.conditionInput.checkboxList)),p=(0,n.EW)((()=>e.conditionInput.selectList)),d=(0,n.EW)((()=>e.conditionInput.numberList)),m=(0,n.EW)((()=>{const t=[];for(const a of Object.keys(e.conditionInput.conditionAdjustments)){let n=l(a).replace("%","");const i=e.conditionInput.conditionAdjustments[a];null!==i&&((0,On.kf)(i)?(i>=0&&(n+=["別枠乗算"].includes(a.split(".")[0])?"=":"+"),n+=s(a,i)):i&&(n+="="+i)),t.push(n)}return t})),k=async()=>{await(0,n.dY)(),t.emit("update:misc-option",o)},f=async(e,t)=>{let a;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(a=u.value.get(t.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(a=u.value.get(t.name)),a&&a.forEach((e=>{r.value.filter((t=>t.name==e)).length>0&&(o[e]=!1),p.value.filter((t=>t.name==e)).length>0&&(o[e]=0)})),k()},v=e=>{c.value.forEach(((t,a)=>{void 0!==e.conditionValues[a]?o[a]=e.conditionValues[a]:null===t?o[a]=!1:j().isArray(t)?o[a]=0:j().isPlainObject(t)?o[a]=t.initial:o[a]=0})),k()};return(0,n.sV)((()=>{v(e.conditionInput)})),{displayName:a,displayOptionName:i,checkboxList:r,selectList:p,numberList:d,conditionValues:o,displayStatAjustmentList:m,valueOnChange:f,initializeValues:v}}});const Yi=(0,J.A)(qi,[["render",Bi],["__scopeId","data-v-835a4e2c"]]);var Ji=Yi;const zi={class:"elemental-reaction"},Gi={for:"増幅反応-なし"},$i={for:"増幅反応-蒸発_炎",class:"pyro"},Zi={key:0,class:"savepoint"},eo={for:"増幅反応-蒸発_水",class:"hydro"},to={key:0,class:"savepoint"},ao={for:"増幅反応-溶解_氷",class:"cryo"},lo={key:0,class:"savepoint"},no={for:"増幅反応-溶解_炎",class:"pyro"},so={key:0,class:"savepoint"},io={for:"増幅反応-超激化"},oo={key:0,class:"savepoint"},co={for:"増幅反応-草激化"},uo={key:0,class:"savepoint"},ro={key:6,class:"pyro"},po={key:0,class:"savepoint"},mo={key:7,class:"electro"},ko={key:0,class:"savepoint"},fo={key:8,class:"cryo"},vo={key:0,class:"savepoint"},bo={key:10},yo={key:0,class:"savepoint"},go={key:11,class:"pyro"},ho={key:0,class:"savepoint"},Lo={key:12,class:"dendro"},Co={key:0,class:"savepoint"},So={key:13,class:"dendro"},Eo={key:0,class:"savepoint"},_o={key:14,class:"dendro"},Ro={key:0,class:"savepoint"},Io={key:15},Oo={key:0,class:"savepoint"},No={key:0,class:"result v-style"},Xo=["onClick"],Ao=["rowspan"],wo=["innerHTML"],Vo={key:0,class:"savepoint"},Mo={key:0,class:"savepoint"},Ko={key:0,class:"savepoint"},To={key:1,class:"result h-style"},Do=["onClick"],Fo=["colspan"],Wo={class:"result damage-result"},Uo={key:0},jo={class:"notes"},xo={class:"right"};function Ho(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",zi,[(0,n.Lk)("input",{id:"増幅反応-なし",type:"radio",value:"なし",name:"増幅反応-name",onChange:t[0]||(t[0]=t=>e.増幅反応="なし"),checked:""},null,32),(0,n.Lk)("label",Gi,(0,s.v_)(e.displayName("反応なし")),1),e.damageResult.元素反応.蒸発倍率_炎?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("input",{id:"増幅反応-蒸発_炎",type:"radio",value:"蒸発_炎",name:"増幅反応-name",onChange:t[1]||(t[1]=t=>e.増幅反応="蒸発_炎")},null,32),(0,n.Lk)("label",$i,[(0,n.eW)((0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.蒸発倍率_炎)/100),1),e.copiedDamageResult?.元素反応?.蒸発倍率_炎?((0,n.uX)(),(0,n.CE)("span",Zi,[t[10]||(t[10]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.蒸発倍率_炎)/100),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.蒸発倍率_水?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("input",{id:"増幅反応-蒸発_水",type:"radio",value:"蒸発_水",name:"増幅反応-name",onChange:t[2]||(t[2]=t=>e.増幅反応="蒸発_水")},null,32),(0,n.Lk)("label",eo,[(0,n.eW)((0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.蒸発倍率_水)/100),1),e.copiedDamageResult?.元素反応?.蒸発倍率_水?((0,n.uX)(),(0,n.CE)("span",to,[t[11]||(t[11]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.蒸発倍率_水)/100),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.溶解倍率_氷?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.Lk)("input",{id:"増幅反応-溶解_氷",type:"radio",value:"溶解_氷",name:"増幅反応-name",onChange:t[3]||(t[3]=t=>e.増幅反応="溶解_氷")},null,32),(0,n.Lk)("label",ao,[(0,n.eW)((0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.溶解倍率_氷)/100),1),e.copiedDamageResult?.元素反応?.溶解倍率_氷?((0,n.uX)(),(0,n.CE)("span",lo,[t[12]||(t[12]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.溶解倍率_氷)/100),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.溶解倍率_炎?((0,n.uX)(),(0,n.CE)(n.FK,{key:3},[(0,n.Lk)("input",{id:"増幅反応-溶解_炎",type:"radio",value:"溶解_炎",name:"増幅反応-name",onChange:t[4]||(t[4]=t=>e.増幅反応="溶解_炎")},null,32),(0,n.Lk)("label",no,[(0,n.eW)((0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.溶解倍率_炎)/100),1),e.copiedDamageResult?.元素反応?.溶解倍率_炎?((0,n.uX)(),(0,n.CE)("span",so,[t[13]||(t[13]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.溶解倍率_炎)/100),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.超激化ダメージ?((0,n.uX)(),(0,n.CE)(n.FK,{key:4},[(0,n.Lk)("input",{id:"増幅反応-超激化",type:"radio",value:"超激化",name:"増幅反応-name",onChange:t[5]||(t[5]=t=>e.増幅反応="超激化")},null,32),(0,n.Lk)("label",io,[(0,n.eW)((0,s.v_)(e.displayName("超激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.超激化ダメージ)),1),e.copiedDamageResult?.元素反応?.超激化ダメージ?((0,n.uX)(),(0,n.CE)("span",oo,[t[14]||(t[14]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超激化ダメージ)),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.草激化ダメージ?((0,n.uX)(),(0,n.CE)(n.FK,{key:5},[(0,n.Lk)("input",{id:"増幅反応-草激化",type:"radio",value:"草激化",name:"増幅反応-name",onChange:t[6]||(t[6]=t=>e.増幅反応="草激化")},null,32),(0,n.Lk)("label",co,[(0,n.eW)((0,s.v_)(e.displayName("草激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.草激化ダメージ)),1),e.copiedDamageResult?.元素反応?.草激化ダメージ?((0,n.uX)(),(0,n.CE)("span",uo,[t[15]||(t[15]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("草激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.草激化ダメージ)),1)])):(0,n.Q3)("",!0)])],64)):(0,n.Q3)("",!0),e.damageResult.元素反応.過負荷ダメージ?((0,n.uX)(),(0,n.CE)("label",ro,[(0,n.eW)((0,s.v_)(e.displayName("過負荷"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.過負荷ダメージ)),1),e.copiedDamageResult?.元素反応?.過負荷ダメージ?((0,n.uX)(),(0,n.CE)("span",po,[t[16]||(t[16]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("過負荷"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.過負荷ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.感電ダメージ?((0,n.uX)(),(0,n.CE)("label",mo,[(0,n.eW)((0,s.v_)(e.displayName("感電"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.感電ダメージ)),1),e.copiedDamageResult?.元素反応?.感電ダメージ?((0,n.uX)(),(0,n.CE)("span",ko,[t[17]||(t[17]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("感電"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.感電ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.超電導ダメージ?((0,n.uX)(),(0,n.CE)("label",fo,[(0,n.eW)((0,s.v_)(e.displayName("超電導"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.超電導ダメージ)),1),e.copiedDamageResult?.元素反応?.超電導ダメージ?((0,n.uX)(),(0,n.CE)("span",vo,[t[18]||(t[18]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超電導"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超電導ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.拡散ダメージ?((0,n.uX)(),(0,n.CE)("label",{key:9,class:(0,s.C4)(e.elementClass(e.damageResult.元素反応.拡散元素))},[(0,n.eW)((0,s.v_)(e.displayName("拡散"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.swirlDmg)),1)],2)):(0,n.Q3)("",!0),e.damageResult.元素反応.結晶吸収量?((0,n.uX)(),(0,n.CE)("label",bo,[(0,n.eW)((0,s.v_)(e.displayName("結晶"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.結晶吸収量)),1),e.copiedDamageResult?.元素反応?.結晶吸収量?((0,n.uX)(),(0,n.CE)("span",yo,[t[19]||(t[19]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("結晶"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.結晶吸収量)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.燃焼ダメージ?((0,n.uX)(),(0,n.CE)("label",go,[(0,n.eW)((0,s.v_)(e.displayName("燃焼"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("燃焼ダメージ"))),1),e.copiedDamageResult?.元素反応?.燃焼ダメージ?((0,n.uX)(),(0,n.CE)("span",ho,[t[20]||(t[20]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("燃焼"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.燃焼ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.開花ダメージ?((0,n.uX)(),(0,n.CE)("label",Lo,[(0,n.eW)((0,s.v_)(e.displayName("開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.開花ダメージ?((0,n.uX)(),(0,n.CE)("span",Co,[t[21]||(t[21]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.開花ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.烈開花ダメージ?((0,n.uX)(),(0,n.CE)("label",So,[(0,n.eW)((0,s.v_)(e.displayName("烈開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("烈開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.烈開花ダメージ?((0,n.uX)(),(0,n.CE)("span",Eo,[t[22]||(t[22]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("烈開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.烈開花ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.超開花ダメージ?((0,n.uX)(),(0,n.CE)("label",_o,[(0,n.eW)((0,s.v_)(e.displayName("超開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("超開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.超開花ダメージ?((0,n.uX)(),(0,n.CE)("span",Ro,[t[23]||(t[23]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超開花ダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.氷砕きダメージ?((0,n.uX)(),(0,n.CE)("label",Io,[(0,n.eW)((0,s.v_)(e.displayName("氷砕き"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("氷砕きダメージ"))),1),e.copiedDamageResult?.元素反応?.氷砕きダメージ?((0,n.uX)(),(0,n.CE)("span",Oo,[t[24]||(t[24]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("氷砕き"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.氷砕きダメージ)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),(0,n.Lk)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.CATEGORY_LIST,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[e.damageResult[a]&&e.itemList(a).length>0?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},["1"==e.resultStyleRef?((0,n.uX)(),(0,n.CE)("table",No,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",{onClick:t=>e.categoryOnClick(a)},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(a)),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("期待値")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("非会心")),1)],8,Xo)]),(0,n.Lk)("tbody",null,[e.categoryOpenClose[a]?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(e.itemList(a),((l,i)=>((0,n.uX)(),(0,n.CE)("tr",{key:i},[l[l.length-1]?((0,n.uX)(),(0,n.CE)("th",{key:0,class:"with-tooltip",rowspan:l[l.length-1]},[(0,n.Lk)("span",null,(0,s.v_)(e.displayNameV(l[0])),1),e.displayDamageParam(l)?((0,n.uX)(),(0,n.CE)("span",{key:0,class:"tooltip",innerHTML:e.displayDamageParam(l)},null,8,wo)):(0,n.Q3)("",!0)],8,Ao)):(0,n.Q3)("",!0),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,2,a))+" ",1),e.displayCopiedDamageValue(i,2,a)?((0,n.uX)(),(0,n.CE)("span",Vo,[t[25]||(t[25]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,2,a)),1)])):(0,n.Q3)("",!0)],2),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,3,a))+" ",1),e.displayCopiedDamageValue(i,3,a)?((0,n.uX)(),(0,n.CE)("span",Mo,[t[26]||(t[26]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,3,a)),1)])):(0,n.Q3)("",!0)],2),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,4,a))+" ",1),e.displayCopiedDamageValue(i,4,a)?((0,n.uX)(),(0,n.CE)("span",Ko,[t[27]||(t[27]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,4,a)),1)])):(0,n.Q3)("",!0)],2)])))),128)):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),"0"==e.resultStyleRef?((0,n.uX)(),(0,n.CE)("table",To,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",{onClick:t=>e.categoryOnClick(a)},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(a)),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(a),(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t[0]},[t[t.length-1]?((0,n.uX)(),(0,n.CE)("th",{key:0,colspan:t[t.length-1]},(0,s.v_)(e.displayNameH(t[0],a)),9,Fo)):(0,n.Q3)("",!0)],64)))),128))],8,Do)]),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("期待値")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(a),(t=>((0,n.uX)(),(0,n.CE)("td",{key:t[0],class:(0,s.C4)("damage-value "+e.elementClass(t[1],t[5]))},(0,s.v_)(e.displayDamageValue(t,2,a)),3)))),128))]),e.categoryOpenClose[a]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(a),(t=>((0,n.uX)(),(0,n.CE)("td",{key:t[0],class:(0,s.C4)("damage-value "+e.elementClass(t[1],t[5]))},(0,s.v_)(e.displayDamageValue(t,3,a)),3)))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("非会心")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(a),(t=>((0,n.uX)(),(0,n.CE)("td",{key:t[0],class:(0,s.C4)("damage-value "+e.elementClass(t[1],t[5]))},(0,s.v_)(e.displayDamageValue(t,4,a)),3)))),128))])],64)):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0)],64)):(0,n.Q3)("",!0)],64)))),128)),t[28]||(t[28]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("table",Wo,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("被ダメージ")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.damageTakenList,(t=>((0,n.uX)(),(0,n.CE)("td",{class:"damage-value",key:t.key},[(0,n.Lk)("span",{class:(0,s.C4)(e.elementClass(t.key))},(0,s.v_)(Math.round(t.value)),3)])))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("耐久スコア")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.resScoreList,(t=>((0,n.uX)(),(0,n.CE)("td",{class:"damage-value",key:t.key},[(0,n.Lk)("span",{class:(0,s.C4)(e.elementClass(t.key))},(0,s.v_)(Math.round(t.value)),3)])))),128))])])])]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(...t)=>e.copyDamageResult&&e.copyDamageResult(...t))},(0,s.v_)(e.displayName("比較用に現在値を記憶")),1),(0,n.Lk)("button",{type:"button",onClick:t[8]||(t[8]=(...t)=>e.clearCopiedDamageResult&&e.clearCopiedDamageResult(...t))},(0,s.v_)(e.displayName("削除")),1)]),e.damageResult.キャラクター注釈.length>0?((0,n.uX)(),(0,n.CE)("div",Uo,[(0,n.Lk)("ul",jo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.damageResult.キャラクター注釈,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},(0,s.v_)(e),1)))),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",xo,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.resultStyleRef=t)},t[29]||(t[29]=[(0,n.Lk)("option",{value:"1"},"V-style",-1),(0,n.Lk)("option",{value:"0"},"H-style",-1)]),512),[[l.u1,e.resultStyleRef]])])])],64)}var Qo=(0,n.pM)({name:"DamageResult",props:{damageResult:{type:Object,required:!0}},setup(e){const{displayName:t}=(0,q.A)(),a=["通常攻撃","重撃","落下攻撃","元素スキル","元素爆発","その他"],l=(0,x.KR)("なし"),s=(0,x.KR)("1"),i=(0,x.Kh)({}),o=(0,x.Kh)({});(0,n.wB)(e.damageResult,(e=>{("蒸発_炎"==l.value&&0===e.元素反応.蒸発倍率_炎||"蒸発_水"==l.value&&0===e.元素反応.蒸発倍率_水||"溶解_氷"==l.value&&0===e.元素反応.溶解倍率_氷||"溶解_炎"==l.value&&0===e.元素反応.溶解倍率_炎||"超激化"==l.value&&0===e.元素反応.超激化ダメージ||"草激化"==l.value&&0===e.元素反応.草激化ダメージ)&&(l.value="なし",document.getElementById("増幅反応-なし").checked=!0)}));const c=(0,n.EW)((()=>{let t=e.damageResult.元素反応.拡散ダメージ;return"蒸発_炎"==l.value&&"炎"==e.damageResult.元素反応.拡散元素?t*=e.damageResult.元素反応.蒸発倍率_炎:"蒸発_水"==l.value&&"水"==e.damageResult.元素反応.拡散元素?t*=e.damageResult.元素反応.蒸発倍率_水:"溶解_氷"==l.value&&"氷"==e.damageResult.元素反応.拡散元素?t*=e.damageResult.元素反応.溶解倍率_氷:"溶解_炎"==l.value&&"炎"==e.damageResult.元素反応.拡散元素?t*=e.damageResult.元素反応.溶解倍率_炎:"超激化"==l.value&&"雷"==e.damageResult.元素反応.拡散元素&&(t+=e.damageResult.元素反応.超激化ダメージ),t})),u=(0,n.EW)((()=>{const t=e.damageResult.被ダメージ.filter((e=>"物理"==e.key));for(const a of e.damageResult.被ダメージ.filter((e=>"物理"!=e.key))){const e=t.map((e=>e.value));e.includes(a.value)||t.push(a)}return t})),r=(0,n.EW)((()=>{const t=e.damageResult.耐久スコア.filter((e=>"物理"==e.key));for(const a of e.damageResult.耐久スコア.filter((e=>"物理"!=e.key))){const e=t.map((e=>e.value));e.includes(a.value)||t.push(a)}return t})),p=(e,t)=>{let a="";return"HP回復"===t?a="healing":"HP消費"===t?a="hpcost":e&&(a=Pe.KM[e]),a},d=t=>{let a=e.damageResult.元素反応[t];if(a&&j().isNumber(a)){const l=e.damageResult.元素反応[t+"会心率"];if(l&&j().isNumber(l)){const n=e.damageResult.元素反応[t+"会心ダメージ"];n&&j().isNumber(n)&&(a*=((100+n)/100*l+(100-l))/100)}}else a=0;return a};function m(e){let t="";return"蒸発_炎"===l.value&&"炎"===e||"蒸発_水"===l.value&&"水"===e?t="蒸発":"溶解_氷"===l.value&&"氷"===e||"溶解_炎"===l.value&&"炎"===e?t="溶解":"超激化"===l.value&&"雷"===e?t="超激化":"草激化"===l.value&&"草"===e&&(t="草激化"),t}const k=(t,a,l)=>{let n=Number(t[a]);if(!n)return"-";if(!t[5]||!["シールド"].includes(t[5])){const s=t[1],i=m(s),o="通常攻撃"===l&&"合計ダメージ"===t[0]?b.value:1;n=(0,Kt.OD)(t,a,e.damageResult.元素反応,i,o)}return n=n<10?Math.round(100*n)/100:n<100?Math.round(10*n)/10:Math.round(n),n},f=(e,t,a)=>{let l=0;if(a in i){const n=i.元素反応;let s;const o=i[a],c=v(a)[e];if(e<o.length&&c[0]==o[e][0])s=o[e];else{const t=o.filter((e=>e[0]==c[0]));if(0==t.length)return;if(s=t[0],t.length>1)for(let l=0;l<v(a).length;l++)v(a)[l][0]==c[0]&&l<e&&(s=t[1])}if(void 0===s)return 0;if(l=Number(s[t]),!l)return"-";if(!s[5]||!["シールド"].includes(s[5])){const e=s[1];let i=m(e);const o="通常攻撃"===a&&"合計ダメージ"===s[0]?b.value:1;l=(0,Kt.OD)(s,t,n,i,o)}l=l<10?Math.round(100*l)/100:l<100?Math.round(10*l)/10:Math.round(l)}return l},v=t=>{const a=[],l=e.damageResult[t].filter((e=>e[0]&&!e[0].startsWith("非表示")));for(let e=0;e<l.length;e++){let t=1;t=e>0&&l[e][0]==l[e-1][0]?0:l.slice(e).filter((t=>t[0]==l[e][0])).length,a.push([...l[e],t])}return a},b=(0,n.EW)((()=>v("通常攻撃").filter((e=>e[0].endsWith("段ダメージ")&&!e[0].startsWith("非表示_"))).length));for(const n of a)o[n]=!0;const y=e=>{o[e]=!o[e]},g=e=>{if(e&&"ja-jp"==He.A.global.locale.value&&e.length>10){let t=e;return t=t.replace(/のダメージ$/,"").replace(/ダメージ$/,""),t}return t(e)},h=(e,a)=>{if(e&&"ja-jp"==He.A.global.locale.value&&v(a).length>2){let t=e;return t=t.replace(/のダメージ$/,"").replace(/ダメージ$/,""),t}return t(e)},L=e=>{let a="";if(!e||!e[5]||["HP回復","シールド","表示","HP消費"].includes(e[5]))return"";if(a+=t("ダメージバフ"),a+=":&nbsp;",a+=Math.round(1e3*(e[7]-1))/10,a+="%<br>",e[2]&&e[3]&&e[4]){let l=e[2]-e[4];l/=e[3]-e[4],l=Math.round(1e3*l)/10;const n=Math.round(1e3*(e[3]/e[4]-1))/10;a+=t("会心"),a+=":&nbsp;",a+=l,a+="%/",a+=n,a+="%<br>"}return e[6]&&(a+=e[6],a+="Hit"+(e[6]>1?"s":""),a+="<br>"),a},C=()=>{(0,On.BW)(i,j().cloneDeep(e.damageResult))},S=()=>{(0,On.BW)(i,{})};return{displayName:t,displayNameV:g,displayNameH:h,"増幅反応":l,swirlDmg:c,reactionDmg:d,elementClass:p,displayDamageValue:k,displayDamageParam:L,CATEGORY_LIST:a,itemList:v,categoryOpenClose:o,categoryOnClick:y,resultStyleRef:s,displayCopiedDamageValue:f,copiedDamageResult:i,damageTakenList:u,resScoreList:r,copyDamageResult:C,clearCopiedDamageResult:S}}});const Po=(0,J.A)(Qo,[["render",Ho],["__scopeId","data-v-64417ed9"]]);var Bo=Po;const qo={class:"total-damage"},Yo={class:"damage-name"},Jo={class:"total-damage-value"},zo={class:"action-list"},Go=["onClick"],$o=["src","alt"],Zo={class:"customized-result"},ec={class:"category handle with-tooltip"},tc=["src","alt"],ac={class:"tooltip"},lc={class:"damage"},nc={class:"damage-name"},sc={class:"reaction-list"},ic=["onClick"],oc=["src","alt"],cc={class:"tooltip"},uc=["onUpdate:modelValue","onChange"],rc=["onClick"],pc={class:"savedata"},dc=["value"];function mc(e,t,a,i,o,c){const u=(0,n.g2)("draggable");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("fieldset",null,[(0,n.Lk)("table",qo,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Yo,(0,s.v_)(e.displayName("ローテーション合計ダメージ")),1),(0,n.Lk)("td",Jo,(0,s.v_)(Math.round(e.totalDamage)),1)])])]),t[6]||(t[6]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",zo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.id},[(0,n.Lk)("div",{class:"add-item",onClick:a=>e.addItem(t)},[(0,n.Lk)("img",{class:(0,s.C4)("action"+e.itemImgClass(t)),src:t.src,alt:e.displayName(t.name)},null,10,$o)],8,Go),(0,n.Lk)("div",null,(0,s.v_)(e.displayName(t.name)),1)])))),128))]),t[7]||(t[7]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("table",Zo,[(0,n.bF)(u,{list:e.rotationDamageCustomList,"item-key":"id",group:"action",sort:!0,handle:".handle"},{item:(0,n.k6)((({element:a,index:i})=>[(0,n.Lk)("tr",null,[(0,n.Lk)("th",ec,[(0,n.Lk)("img",{class:(0,s.C4)("action"+e.itemImgClass(a)),src:a.src,alt:e.displayName(a.name)},null,10,tc),(0,n.Lk)("div",ac,(0,s.v_)(e.displayName(a.name)),1)]),(0,n.Lk)("td",lc,[(0,n.Lk)("table",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getDamageResultArr(a,e.damageResult),((i,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:o},[(0,n.Lk)("th",nc,(0,s.v_)(e.displayName(i[0])),1),(0,n.Lk)("td",sc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.amplifyingReactionList(a,o),(t=>((0,n.uX)(),(0,n.CE)("div",{class:"reaction with-tooltip",key:t[0],onClick:l=>e.reactionOnClick(a,o,t)},[(0,n.Lk)("span",null,(0,s.v_)(e.reactionCount(a,o,t)),1),(0,n.Lk)("img",{class:(0,s.C4)("reaction"+e.reactionUnselectedClass(a,o,t)),src:t[1],alt:e.displayName(t[0])},null,10,oc),(0,n.Lk)("div",cc,(0,s.v_)(e.displayName(t[0])),1)],8,ic)))),128))]),(0,n.Lk)("td",null,[t[4]||(t[4]=(0,n.eW)(" × ")),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":e=>a.counts[o]=e,min:"0",onChange:t=>e.countOnChange(a,o)},null,40,uc),[[l.Jo,a.counts[o]]])]),(0,n.Lk)("td",{class:(0,s.C4)("damage-value"+e.elementColorClass(a,o))},(0,s.v_)(Math.round(e.damageValue(a,o))),3)])))),128))])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",onClick:t=>e.doDelete(i)},t[5]||(t[5]=[(0,n.Lk)("span",{class:"material-symbols-outlined"}," close ",-1)]),8,rc)])])])),_:1},8,["list"])])]),(0,n.Lk)("div",pc,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.savedataIndex=t),onChange:t[1]||(t[1]=(...t)=>e.load&&e.load(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.savedataList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e[0],key:e[0]},(0,s.v_)(e[1]),9,dc)))),128))],544),[[l.u1,e.savedataIndex]]),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.save&&e.save(...t))},"Save"),(0,n.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...t)=>e.remove&&e.remove(...t))},"Remove")]),t[8]||(t[8]=(0,n.Lk)("p",{class:"notice"}," 天賦アイコンまたは元素反応アイコンをクリックしてスキルローテーションを設定してください。 ",-1))],64)}var kc=a(1527),fc=a.n(kc);let vc=1;var bc=(0,n.pM)({name:"RotationDamage",components:{draggable:fc()},props:{characterMaster:{type:Object,required:!0},damageResult:{type:Object,required:!0}},emits:["update:rotation-damage"],setup(e,t){const{displayName:a,targetValue:l}=(0,q.A)(),{characterMaster:s}=(0,x.QW)(e),i=(0,x.Kh)([]),o=(0,n.EW)((()=>(0,Kt.OY)(c.value,e.damageResult))),c=(0,n.EW)((()=>{let e=[];for(const t of i)e.push({name:t.name,category:t.category,reactions:t.reactions,counts:t.counts});return e}));function u(){const e={totalDamage:o.value,rotationDamages:c.value};t.emit("update:rotation-damage",e)}const r=(0,n.EW)((()=>{const t=[];return["通常攻撃","落下攻撃","重撃","元素スキル","元素爆発","その他"].forEach((a=>{if(!(a in e.damageResult))return;const l={};if(l.category=a,l.id=vc++,l.name=a,"その他"==a)l.src=Pe.M2;else{const e=["重撃","落下攻撃"].includes(a)?"通常攻撃":a;l.src=s.value[e].icon_url}l.reactions=[],l.counts=[];const n=(0,Kt.ok)(l,e.damageResult);if(0!=n.length){for(let e=0;e<n.length;e++)l.reactions.push({}),["落下期間のダメージ"].includes(n[e][0])||"弓"==s.value.武器&&"重撃"==a&&n.length>3&&e<2?l.counts.push(0):l.counts.push(1);t.push(l)}})),Kt.$H.forEach((a=>{if(e.damageResult.元素反応[a]){const l=a.replace(/ダメージ$/,"");let n;n="拡散ダメージ"==a?e.damageResult.元素反応.拡散元素:Kt.jU.get(a);const s={};s.id=vc++,s.name=l,s.src=Pe.cu[n],s.category=a,s.reactions=[{}],s.counts=[1],t.push(s)}})),t})),p=e=>Kt.$H.includes(e.category)?" reaction ":"",d=e=>{const t=s.value.名前,a="ROTATION_"+t+"_"+e;return a},m=(0,x.KR)(1),k=new Map([["通常攻撃","N"],["重撃","C"],["落下攻撃","P"],["元素スキル","E"],["元素爆発","Q"]]),f="**** NEW DATA ****",v=(0,x.KR)(0),b=(0,n.EW)((()=>{const e=[],t=s.value.名前,a=Object.keys(localStorage).filter((e=>e.startsWith("ROTATION_"+t+"_"))),l=a.map((e=>Number(e.replace("ROTATION_"+t+"_",""))));let n=Math.max(0,...l);for(let s=1;s<=n;s++){const t=d(s);let a=s+" : ";if(t in localStorage){const e=localStorage.getItem(t),l=JSON.parse(e);Array.isArray(l)&&l.forEach((e=>{if(k.has(e.name)){const t=k.get(e.name);if(a+=t,["N","C","P"].includes(t)){const t=Math.max(...e.counts);t&&(a+=t)}}else a+="*"}))}else a+=f;e.push([s,a,v.value])}const i=n+1,o=i+" : "+f;return e.push([i,o,v.value]),e})),y=()=>{if(i.length>0){const e=d(m.value),t=JSON.stringify(i);localStorage.setItem(e,t),v.value++}},g=()=>{const e=d(m.value);if(e in localStorage){const t=localStorage.getItem(e),a=JSON.parse(t);Array.isArray(a)&&i.splice(0,i.length,...a),u()}};g();const h=()=>{const e=d(m.value);e in localStorage&&(localStorage.removeItem(e),v.value++)},L=({id:e})=>{const t=r.value.filter((t=>t.id==e))[0],a=j().cloneDeep(t);return a.id=e++,a},C=e=>{i.push(L(e))};function S(e,t){const a=(0,Kt.UH)(e,t);return a?Pe.cu[a]:Pe.M2}const E=(t,a)=>{const l=[],n=(0,Kt.ok)(t,e.damageResult),s=n[a],i=s[1];if(i){const t=[];"炎"===i?(e.damageResult.元素反応.蒸発倍率_炎>0&&t.push("蒸発"),e.damageResult.元素反応.溶解倍率_炎>0&&t.push("溶解")):"水"===i?e.damageResult.元素反応.蒸発倍率_水>0&&t.push("蒸発"):"氷"===i?e.damageResult.元素反応.溶解倍率_氷>0&&t.push("溶解"):"雷"===i?e.damageResult.元素反応.超激化ダメージ>0&&t.push("超激化"):"草"===i&&e.damageResult.元素反応.草激化ダメージ>0&&t.push("草激化"),t.forEach((e=>{l.push([e,S(e,i)])}))}return l},_=(e,t,a)=>{let l="";const n=e.reactions[t];return a[0]in n&&n[a[0]]&&(l=n[a[0]]),l},R=(e,t,a)=>{let l;return l=_(e,t,a)?"":" unselected ",l},I=(t,a,l)=>{const n=t.reactions[a];let s=t.counts[a];const i=(0,Kt.ok)(t,e.damageResult)[a];["超激化","草激化"].includes(l[0])&&i[6]&&(s*=i[6]),l[0]in n?n[l[0]]<s?n[l[0]]++:n[l[0]]=0:n[l[0]]=1},O=(e,t)=>{const a=e.reactions[t],l=e.counts[t];Object.keys(a).forEach((e=>{l<a[e]&&(a[e]=l)}))},N=(t,a)=>(0,Kt.kr)(t,a,e.damageResult),X=(t,a)=>{const l=(0,Kt.ok)(t,e.damageResult),n=l[a];return n[1]?" "+Pe.KM[n[1]]+" ":""},A=e=>{i.splice(e,1)};return(0,n.wB)(i,(()=>{u()})),(0,n.wB)(s,(()=>{i.splice(0,i.length),m.value=1,g()})),{displayName:a,targetValue:l,itemList:r,itemImgClass:p,addItem:C,getDamageResultArr:Kt.ok,clone:L,rotationDamageCustomList:i,amplifyingReactionList:E,reactionCount:_,reactionUnselectedClass:R,reactionOnClick:I,countOnChange:O,damageValue:N,elementColorClass:X,doDelete:A,totalDamage:o,savedataIndex:m,savedataList:b,save:y,load:g,remove:h}}});const yc=(0,J.A)(bc,[["render",mc],["__scopeId","data-v-0f9639e6"]]);var gc=yc;function hc(e,t,a,l,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.$emit("share:twitter"))},t[1]||(t[1]=[(0,n.Lk)("img",{width:"32",height:"32",src:"images/Twitter social icons - rounded square - blue.png",alt:"Twitter"},null,-1)]))])}var Lc=(0,n.pM)({name:"ShareSns",emits:["share:twitter"]});const Cc=(0,J.A)(Lc,[["render",hc],["__scopeId","data-v-358e4396"]]);var Sc=Cc;function Ec(e,t,a,l,s,i){return t[0]||(t[0]=(0,n.Fv)('<h2 data-v-11ceccae>げんかるく</h2><fieldset data-v-11ceccae><legend data-v-11ceccae>構成保存の対象範囲</legend><button type="button" data-v-11ceccae>キャラクター</button><button type="button" data-v-11ceccae>武器</button><button type="button" data-v-11ceccae>聖遺物セット効果</button><button type="button" data-v-11ceccae>聖遺物メイン効果</button><button type="button" data-v-11ceccae>聖遺物サブ効果</button><button type="button" data-v-11ceccae>オプション条件</button><hr data-v-11ceccae><a href="SavedataList.html" data-v-11ceccae>保存構成リンク集</a></fieldset><fieldset data-v-11ceccae><legend data-v-11ceccae>聖遺物詳細画面OCR</legend><div class="description" data-v-11ceccae> キャラクター＞聖遺物＞聖遺物詳細のスクリーンショットから聖遺物のステータスを設定する機能です。 読み取り精度はいまひとつなので、実行後に目視にて確認、修正願います。 本機能はすべてブラウザ内で処理されます。外部へのデータ送信などはありません。 </div></fieldset><fieldset data-v-11ceccae><legend data-v-11ceccae>被ダメージ表示</legend><div class="description" data-v-11ceccae> 基礎ダメージ10000に対する被ダメージ(推定値)を表示します。<br data-v-11ceccae> 基礎ダメージはざっくり防御力0の場合の被ダメージです。 </div></fieldset><fieldset data-v-11ceccae><legend data-v-11ceccae>NEXT STEP</legend><div class="description" data-v-11ceccae> 選択したダメージアクションについて、現在のステータスから聖遺物サブ効果1回上昇分ステータスが変化した場合のダメージの上昇率を計算します。 次にどのステータスを伸ばすべきかの参考情報となります。<br data-v-11ceccae> 比較的高い計算力を要求する機能のため、動作が重い場合は下部の停止ボタンから機能を止めて下さい。 </div></fieldset><fieldset data-v-11ceccae><legend data-v-11ceccae>内部リンク</legend><p data-v-11ceccae><a href="GoogleDrive.html" data-v-11ceccae>Google Drive連携 (テスト中)</a></p><p data-v-11ceccae><a href="StatList.html" data-v-11ceccae>キャラクターステータス一覧</a></p><p data-v-11ceccae><a href="TeamOptionList.html" data-v-11ceccae>強化・弱体効果一覧</a></p><p data-v-11ceccae><a href="CritTarget.html" data-v-11ceccae>会心目標</a></p><p data-v-11ceccae><a href="RecommendationList.html" data-v-11ceccae>おすすめセット一覧</a></p><p data-v-11ceccae><a href="index2.html" data-v-11ceccae>旧バージョン(V2)</a></p><p data-v-11ceccae><a href="RotationVisualizer.html" data-v-11ceccae>げんろーて</a></p></fieldset>',6))}var _c=(0,n.pM)({name:"AboutMyApp"});const Rc=(0,J.A)(_c,[["render",Ec],["__scopeId","data-v-11ceccae"]]);var Ic=Rc;const Oc={class:"left"},Nc=["disabled"];function Xc(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("fieldset",null,[t[15]||(t[15]=(0,n.Lk)("legend",null,"おまけ",-1)),(0,n.Lk)("div",Oc,[(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.configurationInputRea["全武器解放"]=t),onChange:t[1]||(t[1]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["全武器解放"]]]),t[8]||(t[8]=(0,n.Lk)("span",null,"全ての武器が選択可能になる",-1))]),t[9]||(t[9]=(0,n.Lk)("div",{class:"notice"}," ※正規の武器タイプ以外の武器を選択した場合、構成保存できなくなります。 ",-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.configurationInputRea["聖遺物詳細サブ効果オンリー"]=t),onChange:t[3]||(t[3]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["聖遺物詳細サブ効果オンリー"]]]),t[10]||(t[10]=(0,n.Lk)("span",null,"聖遺物詳細の表示値をサブ効果のみの合計にする",-1))]),t[11]||(t[11]=(0,n.Lk)("div",{class:"notice"},[(0,n.eW)(" 聖遺物詳細の表示値からメイン効果分が除外されます。"),(0,n.Lk)("br")],-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.configurationInputRea["聖遺物サブ効果計算停止"]=t),onChange:t[5]||(t[5]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["聖遺物サブ効果計算停止"]]]),t[12]||(t[12]=(0,n.Lk)("span",null,"聖遺物サブ効果の自動計算を止める",-1))]),t[13]||(t[13]=(0,n.Lk)("div",{class:"notice"},[(0,n.eW)(" 聖遺物サブ効果が自動計算されなくなります。"),(0,n.Lk)("br"),(0,n.eW)(" 手動で入力して下さい。 ")],-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=t=>e.initializeArtifactStatsSubClickableRef=t)},null,512),[[l.lH,e.initializeArtifactStatsSubClickableRef]]),t[14]||(t[14]=(0,n.Lk)("span",null,"聖遺物サブ効果0初期化",-1))]),(0,n.Lk)("button",{type:"button",disabled:!e.initializeArtifactStatsSubClickableRef,onClick:t[7]||(t[7]=(...t)=>e.initializeArtifactStatsSub&&e.initializeArtifactStatsSub(...t))},(0,s.v_)(e.displayName("実行")),9,Nc)])])]),(0,n.Lk)("div",null,(0,s.v_)(e.screen.width)+" , "+(0,s.v_)(e.screen.height),1)],64)}var Ac=(0,n.pM)({name:"ConfigurationInput",props:{configurationInput:{type:Object,required:!0}},emits:["update:configuration-input","order:initialize-artifact-stats-sub"],setup(e,t){const{displayName:a}=(0,q.A)(),l=(0,x.Kh)(e.configurationInput),n=(0,x.KR)(!1),s=()=>{t.emit("order:initialize-artifact-stats-sub"),n.value=!1};return{displayName:a,configurationInputRea:l,initializeArtifactStatsSubClickableRef:n,initializeArtifactStatsSub:s,screen:screen}}});const wc=(0,J.A)(Ac,[["render",Xc],["__scopeId","data-v-4d61b92a"]]);var Vc=wc;const Mc={class:"own-list"},Kc=["src","alt","onClick"],Tc={class:"tooltip"},Dc=["src","alt"],Fc={class:"constellation"},Wc=["disabled"],Uc=["disabled"];function jc(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("ul",Mc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterList,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.key},[(0,n.Lk)("img",{class:(0,s.C4)("character"+e.bgImageClass(t)+e.notOwnedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.onClick(t)},null,10,Kc),(0,n.Lk)("div",Tc,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("img",{class:"vision",src:e.visionSrc(t),alt:t.元素},null,8,Dc),(0,n.Lk)("div",Fc,(0,s.v_)(e.constellationObj[t.key]),1)])))),128))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.savable=t),disabled:!e.changed},null,8,Wc),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("キャラクター所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,Uc)],64)}var xc=(0,n.pM)({name:"CharacterOwnList",setup(){const{displayName:e}=(0,q.A)(),t=e=>Pe.cu[e.元素],a=e=>" "+Pe.$A[e.レアリティ],l=Pe.AB,n=(0,x.Kh)({});for(const r of l)n[r.key]=null;if(localStorage["キャラクター所持状況"]){const e=JSON.parse(localStorage["キャラクター所持状況"]);Object.keys(e).forEach((t=>{(0,On.kf)(e[t])&&(n[t]=Number(e[t]))}))}const s=(0,x.KR)(!1),i=(0,x.KR)(!1),o=e=>null==n[e.key]?" not-owned":"",c=e=>{if(null===n[e.key])n[e.key]=0;else if(6==n[e.key])n[e.key]=null;else{let t=n[e.key];n[e.key]=t+1}s.value=!0},u=()=>{const e={};Object.keys(n).filter((e=>null!==n[e])).forEach((t=>{e[t]=n[t]})),localStorage.setItem("キャラクター所持状況",JSON.stringify(e)),i.value=!1,s.value=!1};return{displayName:e,visionSrc:t,bgImageClass:a,characterList:l,constellationObj:n,onClick:c,changed:s,savable:i,save:u,notOwnedClass:o}}});const Hc=(0,J.A)(xc,[["render",jc],["__scopeId","data-v-2dba67b9"]]);var Qc=Hc;const Pc={class:"select-list"},Bc=["value"],qc=["src","alt"],Yc={key:0,class:"own-list"},Jc=["src","alt","onClick"],zc={class:"tooltip"},Gc={class:"refine"},$c=["disabled"],Zc=["disabled"];function eu(e,t,a,i,o,c){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("ul",Pc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponTypeList,(a=>((0,n.uX)(),(0,n.CE)("li",{key:a},[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio","onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedWeaponType=t),value:a,name:"weapon-own-list-type"},null,8,Bc),[[l.XL,e.selectedWeaponType]]),(0,n.Lk)("img",{class:"filter",src:e.weaponSrc(a),alt:a},null,8,qc)])])))),128))]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponTypeList,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t},[t==e.selectedWeaponType?((0,n.uX)(),(0,n.CE)("ul",Yc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponList(t),(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.key},[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(t)+e.notOwnedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.onClick(t)},null,10,Jc),(0,n.Lk)("div",zc,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("div",Gc,(0,s.v_)(e.refineObj[t.key]),1)])))),128))])):(0,n.Q3)("",!0)])))),128)),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.savable=t),disabled:!e.changed},null,8,$c),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("武器所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,Zc)],64)}var tu=(0,n.pM)({name:"WeaponOwnList",setup(){const{displayName:e,targetValue:t}=(0,q.A)(),a=e=>" "+Pe.$A[e.レアリティ],l=(0,n.EW)((()=>Object.keys(Pe.uM))),s=e=>Pe.uM[e],i=e=>Pe.Nc[e],o=(0,x.KR)(l.value[0]),c=(0,x.Kh)({});for(const n of l.value)for(const e of i(n))c[e.key]=null;if(localStorage["武器所持状況"]){const e=JSON.parse(localStorage["武器所持状況"]);Object.keys(e).forEach((t=>{(0,On.kf)(e[t])&&(c[t]=Number(e[t]))}))}const u=(0,x.KR)(!1),r=(0,x.KR)(!1),p=e=>null==c[e.key]?" not-owned":"",d=e=>{if(null===c[e.key])c[e.key]=1;else if(5==c[e.key])c[e.key]=null;else{let t=c[e.key];c[e.key]=t+1}u.value=!0},m=()=>{const e={};Object.keys(c).filter((e=>null!==c[e])).forEach((t=>{e[t]=c[t]})),localStorage.setItem("武器所持状況",JSON.stringify(e)),r.value=!1,u.value=!1};return{displayName:e,targetValue:t,bgImageClass:a,weaponTypeList:l,weaponSrc:s,weaponList:i,selectedWeaponType:o,refineObj:c,onClick:d,changed:u,savable:r,save:m,notOwnedClass:p}}});const au=(0,J.A)(tu,[["render",eu],["__scopeId","data-v-4c7e45c8"]]);var lu=au;const nu={class:"cat-select"},su=["alt"],iu=["alt"],ou=["alt"],cu=["alt"],uu=["alt"],ru={class:"artifact-list"},pu={style:{"margin-top":"10px"}},du=["disabled"],mu=["disabled"],ku={style:{"margin-top":"10px"}},fu=["disabled"],vu=["disabled"];function bu(e,t,a,i,o,c){const u=(0,n.g2)("ArtifactItem");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",nu,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"1","onUpdate:modelValue":t[0]||(t[0]=t=>e.artifactCatTabSelected=t),onChange:t[1]||(t[1]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/flower_of_life.png",alt:e.displayName("生の花")},null,8,su)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"2","onUpdate:modelValue":t[2]||(t[2]=t=>e.artifactCatTabSelected=t),onChange:t[3]||(t[3]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/plume_of_death.png",alt:e.displayName("死の羽")},null,8,iu)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"3","onUpdate:modelValue":t[4]||(t[4]=t=>e.artifactCatTabSelected=t),onChange:t[5]||(t[5]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/sands_of_eon.png",alt:e.displayName("時の砂")},null,8,ou)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"4","onUpdate:modelValue":t[6]||(t[6]=t=>e.artifactCatTabSelected=t),onChange:t[7]||(t[7]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/goblet_of_eonothem.png",alt:e.displayName("空の杯")},null,8,cu)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"5","onUpdate:modelValue":t[8]||(t[8]=t=>e.artifactCatTabSelected=t),onChange:t[9]||(t[9]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/circlet_of_logos.png",alt:e.displayName("理の冠")},null,8,uu)])]),(0,n.Lk)("div",ru,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactOwnArrCatId(e.artifactCatTabSelected),(t=>((0,n.uX)(),(0,n.Wv)(u,{key:t.id,artifact:t.artifact,id:t.id,control:e.artifactControl,selected:t.selected,"onUpdate:artifact":e.updateArtifact,"onSelect:artifact":e.selectArtifact},null,8,["artifact","id","control","selected","onUpdate:artifact","onSelect:artifact"])))),128))]),(0,n.Lk)("div",pu,[e.controlMode?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("button",{type:"button",onClick:t[10]||(t[10]=(...t)=>e.removeOnClick&&e.removeOnClick(...t))},(0,s.v_)(e.displayName("削除")),1),(0,n.Lk)("button",{type:"button",onClick:t[11]||(t[11]=(...t)=>e.newArtifactOnClick&&e.newArtifactOnClick(...t))},(0,s.v_)(e.displayName("新規聖遺物")),1),(0,n.Lk)("button",{type:"button",onClick:t[12]||(t[12]=(...t)=>e.reloadOnClick&&e.reloadOnClick(...t))},(0,s.v_)(e.displayName("最新")),1)],64)),"remove"==e.controlMode?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("button",{type:"button",disabled:0==e.selectCount,onClick:t[13]||(t[13]=(...t)=>e.removeExecOnClick&&e.removeExecOnClick(...t))},(0,s.v_)(e.displayName("削除実行")),9,du),(0,n.Lk)("button",{type:"button",onClick:t[14]||(t[14]=(...t)=>e.removeModeEndProc&&e.removeModeEndProc(...t))},(0,s.v_)(e.displayName("キャンセル")),1)],64)):(0,n.Q3)("",!0),"new-artifact"==e.controlMode?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.bF)(u,{artifact:e.newArtifact,id:0,control:"editable",initial:!0,"onUpdate:artifact":e.updateArtifact},null,8,["artifact","onUpdate:artifact"]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[15]||(t[15]=(...t)=>e.newArtifactAddOnClick&&e.newArtifactAddOnClick(...t)),disabled:!e.addable},(0,s.v_)(e.displayName("聖遺物追加")),9,mu),(0,n.Lk)("button",{type:"button",onClick:t[16]||(t[16]=(...t)=>e.newArtifactModeEndProc&&e.newArtifactModeEndProc(...t))},(0,s.v_)(e.displayName("キャンセル")),1)])],64)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",ku,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=t=>e.savable=t),disabled:!e.changed},null,8,fu),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("聖遺物所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:t[18]||(t[18]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,vu)])],64)}var yu=1,gu=(0,n.pM)({name:"ArtifactOwnList",components:{ArtifactItem:Gl.A},setup(){const{displayName:e,displayStatValue:t,targetValue:a}=(0,q.A)(),l="artifact_list",s=(0,x.KR)(1),i=(0,x.Kh)([]),o=(0,x.Kh)(j().cloneDeep(Qe.wE)),c=(0,x.KR)("editable"),u=(0,x.KR)(""),r=(0,x.KR)(!1),p=(0,x.KR)(!1),d=(0,n.EW)((()=>i.filter((e=>e.selected)).length)),m=(0,n.EW)((()=>{if(!o.name)return!1;if(!o.rarity)return!1;if(!o.setname)return!1;if(!o.cat_id)return!1;if(!o.mainStat)return!1;if(!o.mainStatValue)return!1;for(const e of o.subStats){if(!e.name)return!1;if(!e.value)return!1}return 0==i.filter((e=>j().isEqual(e.artifact,o))).length})),k=e=>{const t=i.filter((t=>t.artifact.cat_id==Number(e)));return t.sort(((e,t)=>{if(e.artifact.setname!=t.artifact.setname){const a=Object.keys(Pe.Z3),l=a.indexOf(e.artifact.setname),n=a.indexOf(t.artifact.setname);return l-n}if(e.artifact.mainStat!=t.artifact.mainStat){const a=Object.keys(Qe.Ty),l=a.indexOf(e.artifact.mainStat),n=a.indexOf(t.artifact.mainStat);return l-n}return 0}))},f=[["",0],["HP",4780],["攻撃力",311],["攻撃力%",46.6],["炎元素ダメージバフ",46.6],["会心率",31.1]],v=()=>{g(),C(),o.cat_id=Number(s.value),o.mainStat=String(f[o.cat_id][0]),o.mainStatValue=Number(f[o.cat_id][1])},b=()=>{u.value="remove",c.value="selectable"},y=()=>{const e=i.filter((e=>!e.selected));i.splice(0,i.length,...e),g(),r.value=!0},g=()=>{u.value="",i.forEach((e=>{e.selected=!1})),c.value="editable"},h=()=>{u.value="new-artifact",c.value=""},L=()=>{const e={id:yu++,artifact:j().cloneDeep(o),selected:!1};i.push(e),C(),r.value=!0},C=()=>{u.value="",c.value="editable"},S=()=>{I(),r.value=!1},E=(e,t)=>{if(0==e)return void(0,On.BW)(o,t);let a=0;for(;a<i.length;a++)if(i[a].id==e){i[a].artifact=t;break}r.value=!0},_=e=>{let t=0;for(;t<i.length;t++)if(i[t].id==e){i[t].selected=!i[t].selected;break}},R=()=>{const e=i.map((e=>e.artifact));localStorage.setItem(l,JSON.stringify(e)),r.value=!1,p.value=!1},I=()=>{if(l in localStorage){const e=JSON.parse(localStorage[l]),t=e.filter((e=>"setname"in e)).map((e=>({id:yu++,artifact:e,selected:!1})));i.splice(0,i.length,...t)}};return I(),{displayName:e,displayStatValue:t,targetValue:a,artifactCatTabSelected:s,newArtifact:o,artifactControl:c,controlMode:u,selectCount:d,addable:m,artifactOwnArrCatId:k,changed:r,savable:p,catOnChange:v,removeOnClick:b,removeExecOnClick:y,removeModeEndProc:g,newArtifactOnClick:h,newArtifactAddOnClick:L,newArtifactModeEndProc:C,reloadOnClick:S,updateArtifact:E,selectArtifact:_,save:R}}});const hu=(0,J.A)(gu,[["render",bu],["__scopeId","data-v-9dcf17ca"]]);var Lu=hu;const Cu={key:0},Su={for:"artifact-score-formula",class:"toggle-switch header"},Eu={value:"-1"},_u=["value"],Ru={class:"formula-detail"},Iu=["onUpdate:modelValue"],Ou={class:"formula-detail"},Nu=["disabled"];function Xu(e,t,a,i,o,c){return e.visible?((0,n.uX)(),(0,n.CE)("div",Cu,[(0,n.bo)((0,n.Lk)("input",{id:"artifact-score-formula",type:"checkbox",class:"hidden","onUpdate:modelValue":t[0]||(t[0]=t=>e.expanded=t)},null,512),[[l.lH,e.expanded]]),(0,n.Lk)("label",Su,(0,s.v_)(e.displayName("聖遺物スコア計算式")),1),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedIndex=t),onChange:t[2]||(t[2]=(...t)=>e.selectOnChange&&e.selectOnChange(...t))},[(0,n.Lk)("option",Eu,(0,s.v_)(e.artifactScoreFormulaName(e.currentFormula)),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactScoreFormulaList,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{key:a,value:a},"   "+(0,s.v_)(e.artifactScoreFormulaName(t)),9,_u)))),128))],544),[[l.u1,e.selectedIndex]]),(0,n.Lk)("div",Ru,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.currentFormula,((a,i)=>((0,n.uX)(),(0,n.CE)("div",{class:"right",key:i},[(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName(a[0]))+" × ",1),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":e=>a[1]=e,onChange:t[3]||(t[3]=t=>e.changed=!0)},null,40,Iu),[[l.Jo,a[1]]])])])))),128))]),(0,n.Lk)("div",Ou,[(0,n.Lk)("button",{type:"button",disabled:!e.changed,onClick:t[4]||(t[4]=(...t)=>e.applyFormula&&e.applyFormula(...t))},"Apply",8,Nu)])],512),[[l.aG,e.expanded]])])):(0,n.Q3)("",!0)}var Au=(0,n.pM)({name:"ArtifactScoreFormula",emits:["apply:formula"],props:{visible:Boolean},setup(e,t){const{displayName:a}=(0,q.A)(),l=(0,x.KR)(!1),n=(0,x.KR)(!1),s=(0,x.Kh)([]);Pe.Od.forEach((e=>{s.push(e)}));const i=(0,x.KR)(-1),o=(0,x.Kh)(j().cloneDeep(s[0])),c=()=>{if(-1==i.value)return;const e=j().cloneDeep(s[i.value]);o.splice(0,o.length,...e),n.value=!0},u=e=>{let t=[];return e.forEach((e=>{let l=a(e[0]);1!=e[1]&&(l+="*"+e[1]),t.push(l)})),t.join("+")},r=()=>{t.emit("apply:formula",o),n.value=!1},p=e=>{o.splice(0,o.length,...j().cloneDeep(e)),i.value=-1,n.value=!1};return{displayName:a,expanded:l,artifactScoreFormulaList:s,artifactScoreFormulaName:u,selectedIndex:i,currentFormula:o,selectOnChange:c,changed:n,applyFormula:r,initialize:p}}});const wu=(0,J.A)(Au,[["render",Xu],["__scopeId","data-v-79e749d5"]]);var Vu=wu,Mu=(0,n.pM)({name:"App",props:{characterInput:{type:Object,required:!0},artifactDetailInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},recommendationList:{type:Array,required:!0},recommendation:{type:Object,required:!0},urldata:{type:Object},teamMembers:{type:Array}},components:{AboutMyApp:Ic,ArtifactDetailInput:wn,ArtifactOwnList:Lu,ArtifactScoreFormula:Vu,ArtifactSetSelect:ea.A,CharacterInfo:Ft,CharacterInput:Ye,CharacterOwnList:Qc,CharacterSelect:$.A,ConditionInput:Hn,ConfigurationInput:Vc,DamageResult:Bo,EasyTeamInput:Ps,ElementalResonanceInput:Zs,MiscOptionInput:Ji,NextStat:Ks,RotationDamage:gc,ShareSns:Sc,StatsInput:ks,TeamOptionInput:Ui,TitleAndHeader:G,WeaponOwnList:lu,WeaponSelect:Zt},setup(e){const{setI18nLanguage:t,displayName:a}=(0,q.A)(),l=(0,x.KR)([]),s=Object.keys(Pe.Zn),i=["基本ステータス","高級ステータス"],o=["元素ステータス·ダメージ","ダメージバフ","実数ダメージ加算","元素反応バフ"],c=["基礎ステータス","元素ステータス·耐性"],u=["その他","ステータス連動","チーム内最高値"],r=["敵ステータス·元素耐性"],p=["敵ステータス·その他"],d=Pe.zA,m=(0,x.KR)(),k=(0,x.KR)(),f=(0,x.KR)(),v=(0,x.KR)(),b=(0,x.KR)(),y=(0,x.KR)(),g=(0,x.KR)(),h=(0,x.KR)(),L=(0,x.KR)(),C=(0,x.KR)(),S=(0,x.Kh)((0,Qe.D$)()),E=(0,x.Kh)((0,Qe.fD)()),_=(0,x.Kh)((0,Qe.BP)()),R=(0,x.Kh)((0,Qe.Xs)()),I=(0,x.Kh)((0,Qe.b7)()),O=(0,x.KR)(d[0]),N=(0,x.Kh)((0,Qe.GQ)()),X=(0,x.Kh)([]),A=(0,x.KR)({}),w=(0,x.Kh)({}),V=(0,x.Kh)({"全武器解放":!1,"聖遺物詳細サブ効果オンリー":!1,"聖遺物サブ効果計算停止":!1}),M=(0,x.Kh)(j().cloneDeep(Pe.Od[0])),K=(0,x.Kh)([]),T=(0,Qe.Xs)(),D=(0,x.Kh)([]),F=(0,x.Kh)({totalDamage:0,rotationDamages:[]});(0,On.BW)(S,e.characterInput),(0,On.BW)(E,e.artifactDetailInput),(0,On.BW)(_,e.conditionInput),X.splice(0,X.length,...e.recommendationList),(0,On.BW)(A,e.recommendation),I.statAdjustments["敵レベル"]=90,I.statAdjustments["敵防御力"]=0;const W=(0,x.KR)(!1),U=(0,x.KR)(0),H=(0,x.KR)(!1),Q=(0,x.KR)(!1),P=(0,x.KR)(!1),B=(0,x.KR)(0),Y=S.artifactSets,J=(0,x.KR)(!0),z=(0,x.KR)(!0),G=(0,x.KR)(!0),$=(0,x.KR)(!0),Z=(0,x.KR)(1),ee=(0,x.KR)(1),te=(0,x.KR)(!1),ae=(0,x.KR)(!1),le=(0,x.KR)(!1),ne=(0,x.KR)(!1),se=(0,x.KR)(0);(0,n.sV)((async()=>{t("en-us"),t("ja-jp"),e.recommendation.build?.artifactScoring&&ge(e.recommendation.build.artifactScoring),(0,Qe.fY)(R),await(0,n.dY)(),await Promise.all(s.map((e=>(0,Kt._J)(T,e)))),await he(),await Ce(S.character,e.teamMembers)}));const ie=(0,n.EW)((()=>V.全武器解放?void 0:S.characterMaster.武器)),oe=(0,n.EW)((()=>(0,Kt.zd)(S,E,M))),ce=(0,n.EW)((()=>V["聖遺物詳細サブ効果オンリー"])),ue=(0,n.EW)((()=>{const e=["特殊通常攻撃","特殊重撃","特殊落下攻撃"],t=[!1,!1,!1],a=Object.keys(S.characterMaster).filter((t=>e.includes(t))).map((e=>[e,S.characterMaster[e]]));if(a.length>0)for(const l of a){const a=e.indexOf(l[0]),n=l[1];n.条件 in _.conditionValues&&_.conditionValues[n.条件]&&(t[a]=!0)}return t})),re=(0,n.EW)((()=>[S.damageDetailMyCharacter,S.damageDetailMyWeapon,S.damageDetailMyArtifactSets])),pe=(0,n.EW)((()=>{const e={};return Qe.Nk.forEach((t=>{e[t]=I.statsObj[t]})),e})),de=(0,n.EW)((()=>{const e=(0,Qe.II)(S,E,_),t=(0,Qe.cq)(S.character,R);return[e,t]})),me=(0,n.EW)((()=>{se.value;const[e,t]=de.value,a=(0,Qe.F0)(S.character,S.buildname),l=(0,Qe.Uo)(S.character,S.buildname);let n=!1;return j().isEqual(JSON.stringify(e),localStorage.getItem(a))&&j().isEqual(JSON.stringify(t),localStorage.getItem(l))||(n=!0),n})),ke=async()=>{H.value=!H.value,H.value&&(await(0,n.dY)(),document.querySelector(".pane2")?.scrollIntoView({block:"nearest"}))},fe=async()=>{Q.value=!Q.value,Q.value&&(P.value=!1,J.value=!1,W.value=!1,await(0,n.dY)(),document.querySelector(".pane4")?.scrollIntoView({block:"nearest"}))},ve=async e=>{e==B.value?P.value=!P.value:(B.value=e,P.value=!0),P.value&&(Q.value=!1,J.value=!1,W.value=!1,await(0,n.dY)(),document.querySelector(".pane4")?.scrollIntoView({block:"nearest"}))},be=()=>{J.value=!J.value,J.value&&(Q.value=!1,P.value=!1,W.value=!1)},ye=e=>{U.value==e?W.value=!W.value:(U.value=e,W.value=!0),W.value&&(Q.value=!1,P.value=!1,J.value=!1)},ge=e=>{M.splice(0,M.length,...e)};async function he(){const e=Object.keys(w),t=[];s.forEach((a=>{const l=(0,Qe.F0)(a);let n=l,s=(0,Qe.no)(a);e.includes(a)&&(s=w[a],n=(0,Qe.F0)(a,s));let i=localStorage[n];if(i)t.push({key:a,value:i,buildname:s});else{const e=Object.keys(localStorage).filter((e=>e.startsWith(l)));e.length&&(n=e.sort()[0],i=localStorage[n],s=n.replace(new RegExp("^"+l+"_"),""),t.push({key:a,value:i,buildname:s}),w[a]=s)}}));const a=[];t.forEach((e=>{const t=K.filter((t=>t.key==e.key));t.length&&j().isEqual(t[0].value,e.value)&&!["雷電将軍"].includes(e.key)||a.push(e)}));const l=t.map((e=>e.key)),n=K.filter((e=>!l.includes(e.key))).map((e=>e.key));if(K.splice(0,K.length,...t),a.length){const e=a.map((e=>(0,Kt._J)(R,e.key,e.value,S.character)));await Promise.all(e)}s.filter((e=>!K.map((e=>e.key)).includes(e))).forEach((e=>{R.supporters[e]=T.supporters[e]})),(0,Qe.ux)(R),y.value&&(console.log("App","supporters",l,n),y.value.initializeSupporters(R.supporters))}function Le(){(0,Kt.s2)(I,S,E,_,R),(0,Qe.OE)(_,S,I.statsObj),v.value&&v.value.initialize(_),(0,Kt.s2)(I,S,E,_,R),(0,Kt.h9)(N,S,_,I),C.value&&C.value.setupNextStatRows(),se.value++}const Ce=async function(t,a){console.debug("updateCharacter",t,a),L.value&&L.value.clearCopiedDamageResult(),H.value=!1,S.character=t,S.characterMaster=await(0,Pe.Td)(t);let l=0;if("キャラクター所持状況"in localStorage){const e=JSON.parse(localStorage["キャラクター所持状況"]);t in e&&e[t]&&(l=Number(e[t]))}const s=(0,Qe.E_)(S.characterMaster);l>s&&(l=s),S.命ノ星座=l,S.通常攻撃レベル=8,S.元素スキルレベル=8,S.元素爆発レベル=8;const i=S.characterMaster.元素スキル.名前,o=S.characterMaster.元素爆発.名前;for(let e=1;e<=l;e++){if(3!=e&&5!=e)continue;const t=S.characterMaster.命ノ星座[String(e)];t&&t.説明&&(i&&-1!=t.説明.indexOf(i)?S.元素スキルレベル+=3:o&&-1!=t.説明.indexOf(o)&&(S.元素爆発レベル+=3))}const c=e.urldata&&e.urldata.キャラクター==t?e.urldata:void 0;X.splice(0,X.length,...(0,Qe.Y5)(S.characterMaster,c)),A.value=X[0],S.recommendationSelectedIndex=0,a?R.teamMembers.splice(0,R.teamMembers.length,...a):R.teamMembers.splice(0,R.teamMembers.length),ge(Pe.Od[0]),await he(),(0,Kt.V5)(R,pe.value,t),await Se(A.value),y.value&&y.value.initializeSupporters(R.supporters),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},Se=async e=>{if(console.log("App","recommendation",e),await(0,Qe.g4)(S,E,_,R,e.build,e.name),!("精錬ランク"in e.build)){const e=S.weapon;let t,a=[1,1,1,5,3,1][S.weaponMaster.レアリティ];if("武器所持状況"in localStorage){const a=JSON.parse(localStorage["武器所持状況"]);e in a&&a[e]&&(t=Number(a[e]))}t?a=t:void 0!==S.weaponMaster.精錬ランク&&(a=S.weaponMaster.精錬ランク);const l=S.weaponMaster.レアリティ<3?1:5;a>l&&(a=l),S.武器精錬ランク=Number(a)}(0,Qe.Lk)(S),(0,Qe.Oq)(S),(0,Qe.pL)(S),(0,Qe.D2)(S),(0,Qe.N2)(_,S,R),await De(),(0,Kt.Jo)(E.聖遺物ステータスメイン効果,E.聖遺物メイン効果);let t=!E.聖遺物優先するサブ効果Disabled;if("聖遺物サブ効果計算停止"in V&&V.聖遺物サブ効果計算停止&&(t=!1),t){const e=[];for(let t=0;t<E.聖遺物優先するサブ効果.length;t++)e.push((0,Qe.Yk)(E.聖遺物優先するサブ効果,t));(0,Kt.om)(E.聖遺物ステータスサブ効果,E.聖遺物メイン効果,E.聖遺物優先するサブ効果,E.聖遺物優先するサブ効果上昇値,e,E.聖遺物優先するサブ効果上昇回数)}(0,Kt.S_)(E);const a=(0,Kt.WI)(R.elementalResonance.conditionValues,_);if((0,On.BW)(R.elementalResonance.conditionAdjustments,a),Le(),e.overwrite?S.buildname=e.name:S.buildname="",S.removeDisabled=!e.overwrite,await(0,n.dY)(),b.value&&b.value.initializeValues(R.elementalResonance),y.value&&y.value.initializeValues(R.teamOption),g.value&&g.value.initializeValues(R.miscOption),C.value&&(C.value.initializeEvaluationItem(),C.value.setupNextStatRows()),"artifactScoring"in e.build){const t=e.build.artifactScoring;ge(t),h.value&&h.value.initialize(M)}},Ee=e=>{Object.keys(e).forEach((t=>{t in S&&(S[t]=e[t])})),(0,Qe.Lk)(S),(0,Qe.N2)(_,S,R),Le()},_e=async e=>{S.weapon=e,S.weaponMaster=await(0,Pe.cd)(e);const t=[4,4,4,6,6,6][S.weaponMaster.レアリティ];S.武器突破レベル>t&&(S.武器突破レベル=t,S.武器レベル=[20,40,50,60,70,80,90][t]);let a,l=[1,1,1,5,3,1][S.weaponMaster.レアリティ];if("武器所持状況"in localStorage){const t=JSON.parse(localStorage["武器所持状況"]);e in t&&t[e]&&(a=Number(t[e]))}a?l=a:void 0!==S.weaponMaster.精錬ランク&&(l=S.weaponMaster.精錬ランク);const s=S.weaponMaster.レアリティ<3?1:5;l>s&&(l=s),S.武器精錬ランク=Number(l),(0,Qe.Oq)(S),(0,Qe.N2)(_,S,R),Le(),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},Re=e=>{Object.keys(e).forEach((t=>{S&&t in S&&(S[t]=e[t])})),(0,Qe.Oq)(S),(0,Qe.N2)(_,S,R),Le()},Ie=async e=>{Y[B.value]=e;const t=Pe.Z3[e];S.artifactSetMasters.splice(B.value,1,t),(0,Qe.pL)(S),(0,Qe.N2)(_,S,R),Le(),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},Oe=e=>{E.聖遺物メイン効果.splice(0,E.聖遺物メイン効果.length,...e.聖遺物メイン効果),E.聖遺物優先するサブ効果.splice(0,E.聖遺物優先するサブ効果.length,...e.聖遺物優先するサブ効果),E.聖遺物優先するサブ効果上昇値.splice(0,E.聖遺物優先するサブ効果上昇値.length,...e.聖遺物優先するサブ効果上昇値),E.聖遺物優先するサブ効果上昇回数.splice(0,E.聖遺物優先するサブ効果上昇回数.length,...e.聖遺物優先するサブ効果上昇回数);for(const t of Object.keys(e.聖遺物ステータス))E.聖遺物ステータス[t]=e.聖遺物ステータス[t];E.artifact_list.splice(0,E.artifact_list.length,...e.artifact_list),Le(),V.聖遺物サブ効果計算停止=e.聖遺物優先するサブ効果Disabled},Ne=()=>{I.enemyMaster=O.value,Le()},Xe=e=>{e&&Object.keys(e).forEach((t=>{I.statAdjustments[t]=e[t]})),Le()},Ae=e=>{(0,On.BW)(_.conditionValues,e);const t=(0,Kt.WI)(R.elementalResonance.conditionValues,_);(0,On.BW)(R.elementalResonance.conditionAdjustments,t),Le()},we=e=>{if(e&&Object.keys(e).length){j().isEqual(R.elementalResonance.conditionValues,e)||(0,On.BW)(R.elementalResonance.conditionValues,e),(0,Qe.N2)(_,S,R);const t=(0,Kt.WI)(R.elementalResonance.conditionValues,_);(0,On.BW)(R.elementalResonance.conditionAdjustments,t),Le()}},Ve=e=>{e&&(j().isEqual(R.miscOption.conditionValues,e)||(0,On.BW)(R.miscOption.conditionValues,e),(0,Kt.QQ)(R),Le())},Me=e=>{e&&(j().isEqual(R.teamOption.conditionValues,e)||(0,On.BW)(R.teamOption.conditionValues,e),(0,Kt.V5)(R,pe.value,S.character),Le())},Ke=async e=>{(0,On.BW)(w,e),await he(),(0,Kt.V5)(R,pe.value,S.character),Le()},Te=async e=>{R.teamMembers.splice(0,R.teamMembers.length,...e),await De(),(0,Kt.V5)(R,pe.value,S.character),Le()};async function De(){await(0,Qe.c0)(S,_,R),await(0,Qe.Ww)(S,R)&&b.value&&b.value.initializeValues(R.elementalResonance),console.log("App","conditionValues",_.conditionValues)}const Fe=e=>{e&&(I.statAdjustmentsEx=e,Xe())},We=e=>{Array.isArray(e)&&D.splice(0,D.length,...e)},Ue=e=>{F.totalDamage=e.totalDamage,F.rotationDamages.splice(0,F.rotationDamages.length,...e.rotationDamages)},je=e=>{console.debug(e),e.全武器解放&&console.log("全武器解放"),e.聖遺物サブ効果計算停止&&(E.聖遺物優先するサブ効果Disabled=!0)},xe=()=>{f.value&&f.value.initializeArtifactStatsSub()},He=()=>{(0,Qe.q6)(S,E,_)},Be=async t=>{const[a,l]=de.value,n=(0,Qe.F0)(S.character,t),s=(0,Qe.Uo)(S.character,t);localStorage.setItem(n,JSON.stringify(a)),localStorage.setItem(s,JSON.stringify(l));const i=M,o=(0,Qe.y$)(S.character,t);localStorage.setItem(o,JSON.stringify(i));const c=e.urldata&&e.urldata.キャラクター==S.character?e.urldata:void 0;X.splice(0,X.length,...(0,Qe.Y5)(S.characterMaster,c)),await he(),n==(0,Qe.F0)(S.character)&&(S.buildname=(0,Qe.no)(S.character));const u="artifact_list";if(E.artifact_list&&E.artifact_list.length){let e=[],t=localStorage.getItem(u);t&&(e=JSON.parse(t));let a=!1;for(const l of E.artifact_list)0==e.filter((e=>j().isEqual(e,l))).length&&(e.push(l),a=!0);a&&localStorage.setItem(u,JSON.stringify(e))}S.removeDisabled=!1,se.value++},qe=async t=>{let a=S.character;const l=[(0,Qe.no)(S.character)];t&&!l.includes(t)&&(a+="_"+t);const n="構成_"+a;localStorage.removeItem(n);const s="オプション構成_"+a;localStorage.removeItem(s);const i="ArtifactScoring_"+a;localStorage.removeItem(i);const o=e.urldata&&e.urldata.キャラクター==S.character?e.urldata:void 0;X.splice(0,X.length,...(0,Qe.Y5)(S.characterMaster,o)),await he(),S.removeDisabled=!0,se.value++},Ye=()=>{localStorage.clear(),ne.value=!1},Je=e=>e&&j().isPlainObject(e)?Object.keys(e):[],ze=(e,t)=>e&&j().isPlainObject(e)?e[t]:void 0;return{displayName:a,HTML_LOGGER:l,CHARACTER_STATS_CATEGORY1_LIST:i,CHARACTER_STATS_CATEGORY2_LIST:o,CHARACTER_STATS2_CATEGORY1_LIST:c,CHARACTER_STATS2_CATEGORY2_LIST:u,ENEMY_STATS_CATEGORY1_LIST:r,ENEMY_STATS_CATEGORY2_LIST:p,ENEMY_LIST:d,characterSelectVmRef:m,characterInputVmRef:k,artifactDetailInputVmRef:f,conditionInputVmRef:v,elementalResonanceInputVmRef:b,teamOptionInputVmRef:y,miscOptionInputVmRef:g,artifactScoreFormulaVmRef:h,damageResultVmRef:L,nextStatVmRef:C,characterInputRea:S,artifactDetailInputRea:E,conditionInputRea:_,optionInputRea:R,statsInput:I,selectedEnemyRef:O,damageResult:N,recommendationListRea:X,recommendationRef:A,configurationInputRea:V,artifactScoringStats:M,savedSupporters:K,nextStatRows:D,rotationDamageInfo:F,characterInfoVisibleRef:W,characterInfoModeRef:U,characterSelectVisibleRef:H,weaponSelectVisibleRef:Q,artifactSetSelectVisibleRef:P,artifactSetIndexRef:B,artifactSets:Y,artifactDetailInputVisibleRef:J,pane6Toggle1Ref:z,pane6Toggle2Ref:G,pane6Toggle3Ref:$,statInputTabRef:Z,optionInputTabRef:ee,ownListToggle1Ref:te,ownListToggle2Ref:ae,ownListToggle3Ref:le,enableClearLocalStorage:ne,builddataSavable:me,weaponType:ie,artifactScore:oe,isSubStatOnly:ce,normalAttackReplacing:ue,myDamageDatailArr:re,topStats:pe,openCharacterSelect:ke,openWeaponSelect:fe,openArtifactSetSelect:ve,openArtifactDetailInput:be,openCharacterInfo:ye,applyArtifactScoreFormula:ge,updateCharacter:Ce,updateRecommendation:Se,updateCharacterInputCharacter:Ee,updateWeapon:_e,updateCharacterInputWeapon:Re,updateArtifactSet:Ie,updateArtifactDetail:Oe,updateEnemy:Ne,updateStatAdjustments:Xe,updateCondition:Ae,updateElementalResonance:we,updateMiscOption:Ve,updateTeamOption:Me,updateBuildnameSelection:Ke,updateTeamMembers:Te,updateNextStatAdjustments:Fe,updateNextStatRows:We,updateRotationDamage:Ue,updateConfigurationInput:je,orderInitializeArtifactStatsSub:xe,openTwitter:He,saveToStorage:Be,removeFromStorage:qe,clearLocalStorage:Ye,objectKeys:Je,getValue:ze}}});const Ku=(0,J.A)(Mu,[["render",W],["__scopeId","data-v-e7ee4adc"]]);var Tu=Ku;function Du(e){const t={};try{const a=e.split(",");let l,n=0;for((Pe.Zi.forEach(((e,s)=>{let i=a[n];switch(s){case"キャラクター":Object.keys(Pe.Zn).forEach((e=>{if("import"in Pe.Zn[e]){const t=(0,On.P8)(Pe.Zn[e]["import"]),a=t.split("_")[t.split("_").length-1];i==a&&(l=e,i=l)}}));break;case"武器":if(l){const e=Pe.Zn[l]["武器"],t=Pe._U[e];let a;Object.keys(t).forEach((t=>{if("import"in Pe._U[e][t]){const l=(0,On.P8)(Pe._U[e][t]["import"]),n=l.split("_")[l.split("_").length-1];i==n&&(a=t)}})),a||(a=Object.keys(Pe._U[e]).filter((e=>e.startsWith("西風")))[0]),i=a}break;case"聖遺物セット効果1":case"聖遺物セット効果2":i?Object.keys(Pe.Z3).forEach((e=>{if("image"in Pe.Z3[e]){const t=(0,On.P8)(Pe.Z3[e]["image"]),a=t.split("_")[t.split("_").length-1];i==a&&(i=e)}})):i="NONE";break;case"聖遺物メイン効果1":case"聖遺物メイン効果2":case"聖遺物メイン効果3":case"聖遺物メイン効果4":case"聖遺物メイン効果5":i&&(i=i.split("_")[0]+"_"+Pe.ts.get(i.split("_")[1]));break}s.match(/^聖遺物優先するサブ効果\d$/)&&i&&(i=Pe.ts.get(i)),null!=e&&(0,On.kf)(e)?t[s]=i?Number(i):0:t[s]=i||"",n++})));n<a.length;n++){const e=a[n];let l,s;if(1!=e.indexOf("=")){const a=e.split("=");l=a[0],s=a[1],t[l]=s}}return t}catch(a){throw console.error(a),a}}function Fu(){const e=new Date;let t=Number.MAX_SAFE_INTEGER,a=Pe.AB[0].key;for(const l of Pe.AB)if(l["誕生日"]){const n=l["誕生日"].split("/"),s=new Date(e.getFullYear(),Number(n[0])-1,Number(n[1]),0,0,0,0),i=e.getTime()-s.getTime();if(i<0)continue;i<t&&(t=i,a=l.key)}return a}async function Wu(){const e=(0,Qe.D$)(),t=(0,Qe.fD)(),a=(0,Qe.BP)(),n=(0,Qe.Xs)(),s=new URLSearchParams(window.location.search);let i,o,c,u;if(s.has("allin")){const e=s.get("allin");e?(c=Du(e),i=c.キャラクター):console.error("query strings are not valid!")}else{if([i,o,c,u]=(0,Qe.uI)(),i||(i=Fu()),o&&!c){const e=localStorage.getItem((0,Qe.F0)(i,o));e&&(c=JSON.parse(e))}c&&void 0!==u&&(void 0===c.options&&(c.options={}),c.options.teamMembers=u)}e.character=i,e.characterMaster=await(0,Pe.Td)(e.character);const r=(0,Qe.Y5)(e.characterMaster,c);let p;o&&(p=r.filter((e=>e.name==o))[0]),p||(p=r[0]),await(0,Qe.g4)(e,t,a,n,p.build),(0,l.Ef)(Tu,{characterInput:e,artifactDetailInput:t,conditionInput:a,recommendationList:r,recommendation:p,urldata:c,teamMembers:n.teamMembers}).use(He.A).mount("#app")}Wu()},8330:function(e){e.exports={rE:"3.6.6"}}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var s=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,s){if(!l){var i=1/0;for(r=0;r<e.length;r++){l=e[r][0],n=e[r][1],s=e[r][2];for(var o=!0,c=0;c<l.length;c++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](l[c])}))?l.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(r--,1);var u=n();void 0!==u&&(t=u)}}return t}s=s||0;for(var r=e.length;r>0&&e[r-1][2]>s;r--)e[r]=e[r-1];e[r]=[l,n,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.j=57}(),function(){var e={57:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,s,i=l[0],o=l[1],c=l[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(c)var r=c(a)}for(t&&t(l);u<i.length;u++)s=i[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(r)},l=self["webpackChunkgencalc"]=self["webpackChunkgencalc"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504,996],(function(){return a(163)}));l=a.O(l)})();
//# sourceMappingURL=index.87cb8c00.js.map