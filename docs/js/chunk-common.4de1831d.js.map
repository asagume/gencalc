{"version":3,"file":"js/chunk-common.4de1831d.js","mappings":"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","sources":["webpack://gencalc/./src/common.ts","webpack://gencalc/./src/i18n.ts","webpack://gencalc/./src/components/CharacterSelect.vue?600f","webpack://gencalc/./src/components/CharacterSelect.vue?1f8b","webpack://gencalc/./src/components/CharacterSelect.vue","webpack://gencalc/./src/components/CompositionFunction.vue?c68d","webpack://gencalc/./src/components/CompositionFunction.vue"],"sourcesContent":["export function isString(value: any): boolean {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\n\r\nexport function isNumber(value: any): boolean {\r\n    return isFinite(value) && value != null;\r\n}\r\n\r\nexport function isBoolean(value: any): boolean {\r\n    return value === true || value === false;\r\n}\r\n\r\nexport function isPlainObject(value: any): boolean {\r\n    const myType = Object.prototype.toString.call(value);\r\n    return myType === '[object Object]';\r\n}\r\n\r\n/** 簡易なdeep copy。undefinedなどは消失します */\r\nexport function deepcopy(value: any): any {\r\n    const result = JSON.parse(JSON.stringify(value));\r\n    return result;\r\n}\r\n\r\nexport function overwriteObject(dst: any, src: any) {\r\n    if (isPlainObject(src) && isPlainObject(dst)) {\r\n        const srcKeys = Object.keys(src);\r\n        for (const key of srcKeys) {\r\n            dst[key] = src[key];\r\n        }\r\n        for (const key of Object.keys(dst)) {\r\n            if (!srcKeys.includes(key)) delete dst[key];\r\n        }\r\n    }\r\n    return dst;\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport const basename = (path: string) => path!.split('/')!.pop()!.split('.')!.shift()!;\r\n","import { createI18n } from 'vue-i18n'\r\n\r\nconst i18n = createI18n({\r\n  legacy: false,\r\n  locale: 'ja-jp',\r\n  fallbackLocale: 'en-us',\r\n  isGlobal: true,\r\n})\r\nexport default i18n;\r\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cc8fe878\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"select-list\" }\nconst _hoisted_3 = [\"onUpdate:modelValue\", \"onChange\"]\nconst _hoisted_4 = [\"src\", \"alt\"]\nconst _hoisted_5 = { class: \"select-list\" }\nconst _hoisted_6 = [\"onUpdate:modelValue\", \"onChange\"]\nconst _hoisted_7 = [\"src\", \"alt\"]\nconst _hoisted_8 = { class: \"select-list\" }\nconst _hoisted_9 = [\"src\", \"alt\", \"onClick\"]\nconst _hoisted_10 = { class: \"tooltip\" }\nconst _hoisted_11 = [\"src\", \"alt\"]\nconst _hoisted_12 = { class: \"selection-number\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.visible)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"ul\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.elementList, (item) => {\n            return (_openBlock(), _createElementBlock(\"li\", { key: item }, [\n              _createElementVNode(\"label\", null, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  class: \"hidden\",\n                  type: \"checkbox\",\n                  \"onUpdate:modelValue\": ($event: any) => ((_ctx.elementCheckList[item]) = $event),\n                  onChange: ($event: any) => (_ctx.checkListOnChange(item, _ctx.elementCheckList))\n                }, null, 40, _hoisted_3), [\n                  [_vModelCheckbox, _ctx.elementCheckList[item]]\n                ]),\n                _createElementVNode(\"img\", {\n                  class: \"filter\",\n                  src: _ctx.elementSrc(item),\n                  alt: item\n                }, null, 8, _hoisted_4)\n              ])\n            ]))\n          }), 128))\n        ]),\n        _createElementVNode(\"ul\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.weaponList, (item) => {\n            return (_openBlock(), _createElementBlock(\"li\", { key: item }, [\n              _createElementVNode(\"label\", null, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  class: \"hidden\",\n                  type: \"checkbox\",\n                  \"onUpdate:modelValue\": ($event: any) => ((_ctx.weaponCheckList[item]) = $event),\n                  onChange: ($event: any) => (_ctx.checkListOnChange(item, _ctx.weaponCheckList))\n                }, null, 40, _hoisted_6), [\n                  [_vModelCheckbox, _ctx.weaponCheckList[item]]\n                ]),\n                _createElementVNode(\"img\", {\n                  class: \"filter\",\n                  src: _ctx.weaponSrc(item),\n                  alt: item\n                }, null, 8, _hoisted_7)\n              ])\n            ]))\n          }), 128))\n        ]),\n        _createElementVNode(\"ul\", _hoisted_8, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filteredList, (item) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              class: \"with-tooltip\",\n              key: item.key\n            }, [\n              _createElementVNode(\"img\", {\n                class: _normalizeClass('character' + _ctx.bgImageClass(item) + _ctx.selectedClass(item)),\n                src: item.icon_url,\n                alt: item.key,\n                onClick: ($event: any) => (_ctx.characterOnClick(item.key))\n              }, null, 10, _hoisted_9),\n              _createElementVNode(\"div\", _hoisted_10, _toDisplayString(_ctx.displayName(item.key)), 1),\n              _createElementVNode(\"img\", {\n                class: \"vision\",\n                src: _ctx.visionSrc(item),\n                alt: item.元素\n              }, null, 8, _hoisted_11),\n              _createElementVNode(\"div\", _hoisted_12, _toDisplayString(_ctx.selectionNumber(item.key)), 1)\n            ]))\n          }), 128))\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","\r\nimport { TCharacterEntry, ELEMENT_IMG_SRC, TVisionKey, WEAPON_IMG_SRC, TWeaponTypeKey, CHARACTER_MASTER_LIST, STAR_BACKGROUND_IMAGE_CLASS } from '@/master';\r\nimport { defineComponent, reactive, computed, PropType } from 'vue';\r\nimport CompositionFunction from './CompositionFunction.vue';\r\n\r\ninterface ICheckList {\r\n    [key: string]: boolean\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'CharacterSelect',\r\n    props: {\r\n        character: { type: String },\r\n        characters: { type: Array as PropType<string[]> },\r\n        visible: { type: Boolean, required: true },\r\n    },\r\n    emits: ['update:character', 'update:characters'],\r\n    setup(props, context) {\r\n        const { displayName } = CompositionFunction();\r\n\r\n        const visionSrc = (item: TCharacterEntry) => ELEMENT_IMG_SRC[item.元素];\r\n        const bgImageClass = (item: TCharacterEntry) => ' ' + STAR_BACKGROUND_IMAGE_CLASS[item.レアリティ] as string;\r\n        const selectedClass = (item: TCharacterEntry) => {\r\n            if (props.character && props.character == item.key) {\r\n                return ' selected';\r\n            }\r\n            if (props.characters && props.characters.includes(item.key)) {\r\n                return ' selected';\r\n            }\r\n            return '';\r\n        };\r\n\r\n        const elementList = Object.keys(ELEMENT_IMG_SRC) as TVisionKey[];\r\n        const elementSrc = (element: TVisionKey) => ELEMENT_IMG_SRC[element] as string;\r\n        const elementCheckList = reactive({}) as ICheckList;\r\n        for (let key of elementList) {\r\n            elementCheckList[key] = false;\r\n        }\r\n\r\n        const weaponList = Object.keys(WEAPON_IMG_SRC) as TWeaponTypeKey[];\r\n        const weaponSrc = (weapon: TWeaponTypeKey) => WEAPON_IMG_SRC[weapon] as string;\r\n        const weaponCheckList = reactive({}) as ICheckList;\r\n        for (let key of weaponList) {\r\n            weaponCheckList[key] = false;\r\n        }\r\n\r\n        const checkListOnChange = function (item: string, checkList: ICheckList) {\r\n            if (!checkList[item]) return;\r\n            Object.keys(checkList).filter(s => s != item).forEach(key => {\r\n                checkList[key] = false;\r\n            })\r\n        }\r\n\r\n        const filteredList = computed(() => {\r\n            const result = [];\r\n            const elementChecked = Object.keys(elementCheckList).filter(s => elementCheckList[s]).length > 0;\r\n            const weaponChecked = Object.keys(weaponCheckList).filter(s => weaponCheckList[s]).length > 0;\r\n            for (let entry of (CHARACTER_MASTER_LIST as TCharacterEntry[])) {\r\n                if (elementChecked && !elementCheckList[entry.元素]) continue;\r\n                if (weaponChecked && !weaponCheckList[entry.武器]) continue;\r\n                result.push(entry);\r\n            }\r\n            return result;\r\n        });\r\n\r\n        const selectionNumber = (character: string) => {\r\n            let result = '';\r\n            if (props.characters) {\r\n                const index = props.characters.indexOf(character);\r\n                if (index != -1) {\r\n                    result = String(index + 1);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n        const characterOnClick = (character: string) => {\r\n            if (props.character) {\r\n                context.emit('update:character', character);\r\n            }\r\n            if (props.characters) {\r\n                let characters: string[] = props.characters.filter(s => s);\r\n                if (props.characters.includes(character)) {\r\n                    characters = characters.filter(s => s != character);\r\n                } else {\r\n                    if (characters.length < props.characters.length) {\r\n                        characters.push(character);\r\n                    }\r\n                }\r\n                for (let i = characters.length; i < props.characters.length; i++) {\r\n                    characters.push('');\r\n                }\r\n                context.emit('update:characters', characters);\r\n            }\r\n        };\r\n\r\n        return {\r\n            displayName,\r\n\r\n            visionSrc,\r\n            bgImageClass,\r\n            selectedClass,\r\n            elementList,\r\n            elementSrc,\r\n            elementCheckList,\r\n            weaponList,\r\n            weaponSrc,\r\n            weaponCheckList,\r\n            checkListOnChange,\r\n            filteredList,\r\n\r\n            selectionNumber,\r\n            characterOnClick,\r\n        }\r\n    }\r\n});\r\n","import { render } from \"./CharacterSelect.vue?vue&type=template&id=cc8fe878&scoped=true&ts=true\"\nimport script from \"./CharacterSelect.vue?vue&type=script&lang=ts\"\nexport * from \"./CharacterSelect.vue?vue&type=script&lang=ts\"\n\nimport \"./CharacterSelect.vue?vue&type=style&index=0&id=cc8fe878&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Github\\\\gencalc\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cc8fe878\"]])\n\nexport default __exports__","\r\nimport i18n from \"@/i18n\";\r\nimport { STAT_PERCENT_LIST } from \"@/input\";\r\nimport { nextTick } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\n\r\nexport default function CompositionFunction() {\r\n    const { t, te } = useI18n({\r\n        useScope: \"global\",\r\n    });\r\n\r\n    const localeList = [\r\n        { name: \"日本語\", value: \"ja-jp\" },\r\n        { name: \"English\", value: \"en-us\" },\r\n        { name: \"简体中文\", value: \"zh-cn\" },\r\n        { name: \"繁體中文\", value: \"zh-tw\" },\r\n        { name: \"한국어\", value: \"ko-kr\" },\r\n        { name: \"Deutsch\", value: \"de-de\" },\r\n        { name: \"Español\", value: \"es-es\" },\r\n        { name: \"Français\", value: \"fr-fr\" },\r\n        { name: \"Indonesia\", value: \"id-id\" },\r\n        { name: \"Português\", value: \"pt-pt\" },\r\n        { name: \"Pусский\", value: \"ru-ru\" },\r\n        { name: 'ภาษาไทย', value: 'th-th' },\r\n        { name: \"Tiếng Việt\", value: \"vi-vn\" },\r\n    ];\r\n\r\n    const setI18nLanguage = function (locale: string) {\r\n        i18n.global.locale.value = locale;\r\n        loadLocaleMessages(locale);\r\n        document.querySelector('html')?.setAttribute('lang', locale)\r\n    }\r\n\r\n    const loadLocaleMessages = async function (locale: string) {\r\n        if (locale != 'ja-jp') {\r\n            const messages = await fetch(`./locales/${locale}.json`).then(resp => resp.json());\r\n            i18n.global.setLocaleMessage(locale, messages);\r\n        }\r\n        return nextTick();\r\n    }\r\n\r\n    const displayName = function (key: any): string {\r\n        if (!key) return key;\r\n        if (i18n.global.locale.value === 'ja-jp') { // 日本語はtranslateしません\r\n            let result = String(key);\r\n            if (['ダメージバフ', 'ダメージアップ', '反応ボーナス', '敵'].includes(result)) {\r\n                return result;\r\n            }\r\n            result = result.replace(/ダメージバフ$/, 'ダメージ');\r\n            result = result.replace(/ダメージアップ$/, 'ダメージ');\r\n            result = result.replace('凍結反応ボーナス', '凍結反応の継続時間');\r\n            result = result.replace(/反応ボーナス$/, '反応ダメージ');\r\n            result = result.replace(/^敵/, '敵の');\r\n            return result;\r\n        }\r\n        if (te(key)) return t(key);\r\n        const re = new RegExp('(.*?)([\\\\s_\\\\(\\\\)/]+)(.*)');\r\n        let result = '';\r\n        let work = key;\r\n        while (work) {\r\n            const reRet = re.exec(work);\r\n            if (!reRet) {\r\n                result += t(work);\r\n                break;\r\n            }\r\n            if (reRet[1]) result += t(reRet[1]);\r\n            result += reRet[2];\r\n            work = reRet[3];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    const percent = function (stat: string) {\r\n        const tempArr = stat.split('.');\r\n        let work = tempArr[0];\r\n        let hasPercent = work.endsWith(\"%\") || STAT_PERCENT_LIST.includes(work);\r\n        if (!hasPercent) {\r\n            ['会心率', '会心ダメージ', 'クールタイム'].forEach(postfix => {\r\n                if (work.endsWith(postfix)) hasPercent = true;\r\n            })\r\n        }\r\n        return hasPercent ? '%' : '';\r\n    }\r\n\r\n    const displayStatName = function (stat: string) {\r\n        let result = stat;\r\n        const tempArr = stat.split('.');\r\n        if (tempArr.length == 1) {\r\n            result = displayName(stat);\r\n        } else if (i18n.global.locale.value === 'ja-jp') {\r\n            result = tempArr[tempArr.length - 1] + 'の' + displayName(tempArr[0]);\r\n        } else {\r\n            result = displayName(tempArr[tempArr.length - 1]) + ' ' + displayName(tempArr[0]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    const displayStatValue = function (stat: string, value: number, opt_s?: number): string {\r\n        const myPercent = percent(stat);\r\n        let p = myPercent ? 10 : 1;\r\n        if (opt_s) p = Math.pow(10, opt_s);\r\n        return String(Math.round(value * p) / p) + myPercent;\r\n    }\r\n\r\n    const displayStatAbbrev = function (stat: string) {\r\n        let result = stat;\r\n        const tempArr = stat.split('.');\r\n        if (tempArr.length == 1) {\r\n            if (stat.startsWith('敵')) stat = stat.replace(/^敵/, '');\r\n            if (stat.endsWith('ダメージバフ')) stat = stat.replace(/ダメージバフ$/, '');\r\n            else if (stat.endsWith('ダメージアップ')) stat = stat.replace(/ダメージアップ$/, '');\r\n            else if (stat.endsWith('元素ダメージ')) stat = stat.replace(/元素ダメージ$/, '');\r\n            else if (stat.endsWith('物理ダメージ')) stat = stat.replace(/ダメージ$/, '');\r\n            else if (stat.endsWith('反応ボーナス')) stat = stat.replace(/反応ボーナス$/, '');\r\n            else if (stat.endsWith('耐性')) stat = stat.replace(/耐性$/, '');\r\n            result = displayName(stat);\r\n        } else {\r\n            result = displayStatName(stat);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /** $event.target.valueでのtypescriptエラー回避のために */\r\n    const targetValue = function (event: Event) {\r\n        if (event.target instanceof HTMLInputElement) return event.target.value;\r\n        if (event.target instanceof HTMLSelectElement) return event.target.value;\r\n        return undefined;\r\n    }\r\n\r\n    const displayOptionName = function (name: string) {\r\n        return displayName(name.replace(/^required_/, \"\"));\r\n    }\r\n\r\n    return {\r\n        localeList,\r\n        setI18nLanguage,\r\n        loadLocaleMessages,\r\n        displayName,\r\n        displayStatName,\r\n        displayStatValue,\r\n        displayStatAbbrev,\r\n        targetValue,\r\n        displayOptionName,\r\n    }\r\n}\r\n","import script from \"./CompositionFunction.vue?vue&type=script&lang=ts\"\nexport * from \"./CompositionFunction.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["isString","value","String","isNumber","isFinite","isBoolean","isPlainObject","myType","Object","prototype","toString","call","deepcopy","result","JSON","parse","stringify","overwriteObject","dst","src","srcKeys","keys","key","includes","basename","path","split","pop","shift","i18n","createI18n","legacy","locale","fallbackLocale","isGlobal","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","render","_ctx","_cache","$props","$setup","$data","$options","visible","_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","elementList","item","_withDirectives","type","$event","elementCheckList","onChange","checkListOnChange","_vModelCheckbox","elementSrc","alt","weaponList","weaponCheckList","weaponSrc","filteredList","_normalizeClass","bgImageClass","selectedClass","icon_url","onClick","characterOnClick","_toDisplayString","displayName","visionSrc","元素","selectionNumber","_createCommentVNode","defineComponent","name","props","character","characters","Array","Boolean","required","emits","setup","context","CompositionFunction","ELEMENT_IMG_SRC","STAR_BACKGROUND_IMAGE_CLASS","レアリティ","element","reactive","WEAPON_IMG_SRC","weapon","checkList","filter","s","forEach","computed","elementChecked","length","weaponChecked","entry","CHARACTER_MASTER_LIST","武器","push","index","indexOf","emit","i","__exports__","t","te","useI18n","useScope","localeList","setI18nLanguage","loadLocaleMessages","document","querySelector","setAttribute","async","messages","fetch","then","resp","json","nextTick","replace","re","RegExp","work","reRet","exec","percent","stat","tempArr","hasPercent","endsWith","STAT_PERCENT_LIST","postfix","displayStatName","displayStatValue","opt_s","myPercent","p","Math","pow","round","displayStatAbbrev","startsWith","targetValue","event","target","HTMLInputElement","HTMLSelectElement","displayOptionName"],"sourceRoot":""}