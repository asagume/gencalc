(function(){"use strict";var e={9267:function(e,t,a){var n=a(4806),l=a.n(n),s=a(9242),i=a(3396),o=a(7139);const r=e=>((0,i.dD)("data-v-75ddcd43"),e=e(),(0,i.Cn)(),e),c={class:"base-container"},u={class:"pane1"},d={class:"pane2"},p={class:"pane3",style:{"margin-bottom":"15px"}},m={class:"pane4"},f={class:"pane6"},g={class:"toggle-switch",for:"pane6-toggle-1"},y={class:"toggle-switch",for:"pane6-toggle-2"},h={class:"toggle-switch",for:"pane6-toggle-3"},b={key:0,style:{"margin-bottom":"10px"}},w={key:1,style:{"margin-bottom":"10px"}},v={class:"tab-switch"},_={for:"status-input-tab-1"},k={for:"status-input-tab-2"},S={for:"status-input-tab-3"},D={class:"enemy"},C=["value"],O={class:"enemy-level"},R={key:2,style:{"margin-bottom":"10px"}},V={class:"tab-switch"},N={for:"option-input-tab-1"},I={for:"option-input-tab-2"},M={for:"option-input-tab-3"},j={key:0},H={class:"result-pane"},z={class:"pane5"},A={class:"bottom-pane"},L={class:"toggle-switch no-border",for:"own-list-toggle-1"},U={class:"toggle-switch no-border",for:"own-list-toggle-2"},T={class:"toggle-switch no-border",for:"own-list-toggle-3"},q=r((()=>(0,i._)("hr",null,null,-1))),E=["disabled"],Y={class:"pane7"},x=r((()=>(0,i._)("hr",null,null,-1))),P=r((()=>(0,i._)("div",{class:"footer"},[(0,i._)("hr"),(0,i._)("p",null,"© 2021 asagume"),(0,i._)("p",{class:"left"}," 本サイト内の画像はHoYoverse/COGNOSPHEREの著作物です。 Copyright © COGNOSPHERE. All Rights Reserved. ")],-1)));function W(e,t,a,n,l,r){const W=(0,i.up)("TitleAndHeader"),F=(0,i.up)("CharacterSelect"),K=(0,i.up)("CharacterInput"),Z=(0,i.up)("CharacterInfo"),G=(0,i.up)("WeaponSelect"),B=(0,i.up)("ArtifactSetSelect"),X=(0,i.up)("ArtifactDetailInput"),$=(0,i.up)("ArtifactScoreFormula"),J=(0,i.up)("ConditionInput"),Q=(0,i.up)("StatsInput"),ee=(0,i.up)("NextStat"),te=(0,i.up)("EasyTeamInput"),ae=(0,i.up)("ElementalResonanceInput"),ne=(0,i.up)("TeamOptionInput"),le=(0,i.up)("MiscOptionInput"),se=(0,i.up)("DamageResult"),ie=(0,i.up)("RotationDamage"),oe=(0,i.up)("ShareSns"),re=(0,i.up)("CharacterOwnList"),ce=(0,i.up)("WeaponOwnList"),ue=(0,i.up)("ArtifactOwnList"),de=(0,i.up)("AboutMyApp"),pe=(0,i.up)("ConfigurationInput");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",c,[(0,i._)("div",u,[(0,i.Wm)(W)]),(0,i._)("div",d,[(0,i.Wm)(F,{character:e.characterInputRea.character,visible:e.characterSelectVisibleRef,"onUpdate:character":t[0]||(t[0]=t=>e.updateCharacter(t))},null,8,["character","visible"])]),(0,i._)("div",p,[(0,i.Wm)(K,{ref:"characterInputVmRef",characterInput:e.characterInputRea,"recommendation-list":e.recommendationListRea,recommendation:e.recommendationRef,"artifact-set-select-visible":e.artifactSetSelectVisibleRef,"artifact-score":e.artifactScore,"onOpen:characterSelect":e.openCharacterSelect,onSaveToStorage:t[1]||(t[1]=t=>e.saveToStorage(t)),onRemoveFromStorage:t[2]||(t[2]=t=>e.removeFromStorage(t)),"onUpdate:recommendation":t[3]||(t[3]=t=>e.updateRecommendation(t)),"onOpen:weaponSelect":e.openWeaponSelect,"onOpen:artifactSetSelect":t[4]||(t[4]=t=>e.openArtifactSetSelect(t)),"onOpen:artifactDetailInput":e.openArtifactDetailInput,"onUpdate:characterInputCharacter":t[5]||(t[5]=t=>e.updateCharacterInputCharacter(t)),"onUpdate:characterInputWeapon":t[6]||(t[6]=t=>e.updateCharacterInputWeapon(t)),"onOpen:characterInfo":t[7]||(t[7]=t=>e.openCharacterInfo(t))},null,8,["characterInput","recommendation-list","recommendation","artifact-set-select-visible","artifact-score","onOpen:characterSelect","onOpen:weaponSelect","onOpen:artifactDetailInput"])]),(0,i._)("div",m,[(0,i.Wm)(Z,{visible:e.characterInfoVisibleRef,mode:e.characterInfoModeRef,"character-master":e.characterInputRea.characterMaster,ascension:e.characterInputRea.突破レベル,level:e.characterInputRea.レベル,"normal-attack-level":e.characterInputRea.通常攻撃レベル,"elemental-skill-level":e.characterInputRea.元素スキルレベル,"elemental-burst-level":e.characterInputRea.元素爆発レベル,"normal-attack-replacing":e.normalAttackReplacing},null,8,["visible","mode","character-master","ascension","level","normal-attack-level","elemental-skill-level","elemental-burst-level","normal-attack-replacing"]),(0,i.Wm)(G,{visible:e.weaponSelectVisibleRef,weapon:e.characterInputRea.weapon,"weapon-type":e.weaponType,"weapon-master":e.characterInputRea.weaponMaster,ascension:e.characterInputRea.武器突破レベル,level:e.characterInputRea.武器レベル,"onUpdate:weapon":t[8]||(t[8]=t=>e.updateWeapon(t))},null,8,["visible","weapon","weapon-type","weapon-master","ascension","level"]),(0,i.Wm)(B,{visible:e.artifactSetSelectVisibleRef,index:e.artifactSetIndexRef,"artifact-set":e.artifactSets[e.artifactSetIndexRef],"artifact-set-masters":e.characterInputRea.artifactSetMasters,"onUpdate:artifactSet":t[9]||(t[9]=t=>e.updateArtifactSet(t))},null,8,["visible","index","artifact-set","artifact-set-masters"]),(0,i.Wm)(X,{ref:"artifactDetailInputVmRef",visible:e.artifactDetailInputVisibleRef,"artifact-detail-input":e.artifactDetailInputRea,"is-sub-stat-only":e.isSubStatOnly,"onUpdate:artifactDetail":t[10]||(t[10]=t=>e.updateArtifactDetail(t))},null,8,["visible","artifact-detail-input","is-sub-stat-only"]),(0,i.Wm)($,{ref:"artifactScoreFormulaVmRef",visible:e.artifactDetailInputVisibleRef,"onApply:formula":e.applyArtifactScoreFormula},null,8,["visible","onApply:formula"])]),(0,i._)("div",f,[(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{class:"hidden",id:"pane6-toggle-1",type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=t=>e.pane6Toggle1Ref=t)},null,512),[[s.e8,e.pane6Toggle1Ref]]),(0,i._)("label",g,(0,o.zw)(e.displayName("オプション条件")),1),(0,i.wy)((0,i._)("input",{class:"hidden",id:"pane6-toggle-2",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=t=>e.pane6Toggle2Ref=t)},null,512),[[s.e8,e.pane6Toggle2Ref]]),(0,i._)("label",y,(0,o.zw)(e.displayName("ステータス")),1),(0,i.wy)((0,i._)("input",{class:"hidden",id:"pane6-toggle-3",type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=t=>e.pane6Toggle3Ref=t)},null,512),[[s.e8,e.pane6Toggle3Ref]]),(0,i._)("label",h,(0,o.zw)(e.displayName("バフ/デバフ")),1)]),e.pane6Toggle1Ref?((0,i.wg)(),(0,i.iD)("div",b,[(0,i.Wm)(J,{ref:"conditionInputVmRef","character-input":e.characterInputRea,"condition-input":e.conditionInputRea,"condition-adjustments":e.conditionInputRea.conditionAdjustments,"stats-obj":e.statsInput.statsObj,"onUpdate:condition":e.updateCondition},null,8,["character-input","condition-input","condition-adjustments","stats-obj","onUpdate:condition"])])):(0,i.kq)("",!0),e.pane6Toggle2Ref?((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",v,[(0,i.wy)((0,i._)("input",{id:"status-input-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[14]||(t[14]=t=>e.statInputTabRef=t)},null,512),[[s.G2,e.statInputTabRef]]),(0,i._)("label",_,(0,o.zw)(e.displayName("ステータス1")),1),(0,i.wy)((0,i._)("input",{id:"status-input-tab-2",type:"radio",value:"2","onUpdate:modelValue":t[15]||(t[15]=t=>e.statInputTabRef=t)},null,512),[[s.G2,e.statInputTabRef]]),(0,i._)("label",k,(0,o.zw)(e.displayName("ステータス2")),1),(0,i.wy)((0,i._)("input",{id:"status-input-tab-3",type:"radio",value:"3","onUpdate:modelValue":t[16]||(t[16]=t=>e.statInputTabRef=t)},null,512),[[s.G2,e.statInputTabRef]]),(0,i._)("label",S,(0,o.zw)(e.displayName("敵")),1)]),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(Q,{"stats-input":e.statsInput,"category1-list":e.characterStats1Category1List,category2List:e.characterStats1Category2List,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2List","onUpdate:statAdjustments"])],512),[[s.F8,1==e.statInputTabRef]]),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(Q,{"stats-input":e.statsInput,"category1-list":e.characterStats2Category1List,"category2-list":e.characterStats2Category2List,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2-list","onUpdate:statAdjustments"])],512),[[s.F8,2==e.statInputTabRef]]),(0,i.wy)((0,i._)("div",null,[(0,i._)("label",D,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[17]||(t[17]=t=>e.selectedEnemyRef=t),onChange:t[18]||(t[18]=(...t)=>e.updateEnemy&&e.updateEnemy(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.enemyList,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t.key},(0,o.zw)(e.displayName(t.key)),9,C)))),128))],544),[[s.bM,e.selectedEnemyRef]])]),(0,i._)("label",O,[(0,i.Uk)("Lv. "),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":t[19]||(t[19]=t=>e.statsInput.statAdjustments["敵レベル"]=t),min:"1",onChange:t[20]||(t[20]=t=>e.updateStatAdjustments())},null,544),[[s.nr,e.statsInput.statAdjustments["敵レベル"]]])]),(0,i.Wm)(Q,{"stats-input":e.statsInput,"category1-list":e.enemyStatsCategory1List,"category2-list":e.enemyStatsCategory2List,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2-list","onUpdate:statAdjustments"])],512),[[s.F8,3==e.statInputTabRef]]),(0,i._)("div",null,[(0,i.Wm)(ee,{visible:!0,"character-input":e.characterInputRea,"artifact-detail-input":e.artifactDetailInputRea,"condition-input":e.conditionInputRea,"option-input":e.optionInputRea,"stats-input":e.statsInput,"damage-result":e.damageResult,"rotation-damage-info":e.rotationDamageInfo,"onUpdate:statAdjustments":e.updateNextStatAdjustments},null,8,["character-input","artifact-detail-input","condition-input","option-input","stats-input","damage-result","rotation-damage-info","onUpdate:statAdjustments"])])])):(0,i.kq)("",!0),e.pane6Toggle3Ref?((0,i.wg)(),(0,i.iD)("div",R,[(0,i._)("div",V,[(0,i.wy)((0,i._)("input",{id:"option-input-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[21]||(t[21]=t=>e.optionInputTabRef=t)},null,512),[[s.G2,e.optionInputTabRef]]),(0,i._)("label",N,(0,o.zw)(e.displayName("元素共鳴")),1),(0,i.wy)((0,i._)("input",{id:"option-input-tab-2",type:"radio",value:"2","onUpdate:modelValue":t[22]||(t[22]=t=>e.optionInputTabRef=t)},null,512),[[s.G2,e.optionInputTabRef]]),(0,i._)("label",I,(0,o.zw)(e.displayName("チーム")),1),(0,i.wy)((0,i._)("input",{id:"option-input-tab-3",type:"radio",value:"3","onUpdate:modelValue":t[23]||(t[23]=t=>e.optionInputTabRef=t)},null,512),[[s.G2,e.optionInputTabRef]]),(0,i._)("label",M,(0,o.zw)(e.displayName("その他")),1)]),(0,i.Wm)(te,{character:e.characterInputRea.character,"team-members":e.optionInputRea.teamMembers,"onUpdate:teamMembers":e.updateTeamMembers},null,8,["character","team-members","onUpdate:teamMembers"]),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(ae,{ref:"elementalResonanceInputVmRef","elemental-resonance":e.optionInputRea.elementalResonance,"onUpdate:elementalResonance":e.updateElementalResonance},null,8,["elemental-resonance","onUpdate:elementalResonance"])],512),[[s.F8,1==e.optionInputTabRef]]),2==e.optionInputTabRef||e.isTeamOptionActivate?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",j,[(0,i.Wm)(ne,{ref:"teamOptionInputVmRef",character:e.characterInputRea.character,"top-stats":e.topStats,"saved-supporters":e.savedSupporters,"calculated-supporters":e.optionInputRea.supporters,"team-members":e.optionInputRea.teamMembers,"initial-condition-value":e.optionInputRea.teamOption.conditionValues,"onUpdate:teamOption":e.updateTeamOption,"onUpdate:buildnameSelection":e.updateBuildnameSelection,"onUpdate:teamMembers":e.updateTeamMembers},null,8,["character","top-stats","saved-supporters","calculated-supporters","team-members","initial-condition-value","onUpdate:teamOption","onUpdate:buildnameSelection","onUpdate:teamMembers"])],512)),[[s.F8,2==e.optionInputTabRef]]):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(le,{ref:"miscOptionInputVmRef","onUpdate:miscOption":e.updateMiscOption},null,8,["onUpdate:miscOption"])],512),[[s.F8,3==e.optionInputTabRef]])])):(0,i.kq)("",!0)]),(0,i._)("div",H,[(0,i.Wm)(se,{ref:"damageResultVmRef","damage-result":e.damageResult},null,8,["damage-result"])]),(0,i._)("div",z,[(0,i.Wm)(ie,{"character-master":e.characterInputRea.characterMaster,"damage-result":e.damageResult,"onUpdate:rotationDamage":e.updateRotationDamage},null,8,["character-master","damage-result","onUpdate:rotationDamage"]),(0,i.Wm)(oe,{"onShare:twitter":e.openTwitter},null,8,["onShare:twitter"])]),(0,i._)("div",A,[(0,i._)("h2",null,[(0,i.wy)((0,i._)("input",{class:"hidden",id:"own-list-toggle-1",type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=t=>e.ownListToggle1Ref=t)},null,512),[[s.e8,e.ownListToggle1Ref]]),(0,i._)("label",L,(0,o.zw)(e.displayName("キャラクター所持状況")),1)]),e.ownListToggle1Ref?((0,i.wg)(),(0,i.j4)(re,{key:0})):(0,i.kq)("",!0),(0,i._)("h2",null,[(0,i.wy)((0,i._)("input",{class:"hidden",id:"own-list-toggle-2",type:"checkbox","onUpdate:modelValue":t[25]||(t[25]=t=>e.ownListToggle2Ref=t)},null,512),[[s.e8,e.ownListToggle2Ref]]),(0,i._)("label",U,(0,o.zw)(e.displayName("武器所持状況")),1)]),e.ownListToggle2Ref?((0,i.wg)(),(0,i.j4)(ce,{key:1})):(0,i.kq)("",!0),(0,i._)("h2",null,[(0,i.wy)((0,i._)("input",{class:"hidden",id:"own-list-toggle-3",type:"checkbox","onUpdate:modelValue":t[26]||(t[26]=t=>e.ownListToggle3Ref=t)},null,512),[[s.e8,e.ownListToggle3Ref]]),(0,i._)("label",T,(0,o.zw)(e.displayName("聖遺物所持状況")),1)]),e.ownListToggle3Ref?((0,i.wg)(),(0,i.j4)(ue,{key:2})):(0,i.kq)("",!0),q,(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[27]||(t[27]=t=>e.enableClearLocalStorage=t)},null,512),[[s.e8,e.enableClearLocalStorage]]),(0,i._)("span",null,(0,o.zw)(e.displayName("ローカルストレージをクリアする")),1)]),(0,i._)("button",{type:"button",onClick:t[28]||(t[28]=(...t)=>e.clearLocalStorage&&e.clearLocalStorage(...t)),disabled:!e.enableClearLocalStorage},(0,o.zw)(e.displayName("実行")),9,E),(0,i._)("p",null,(0,o.zw)(e.displayName("全ての保存データを削除します")),1)]),(0,i._)("div",Y,[(0,i.Wm)(de),(0,i.Wm)(pe,{"configuration-input":e.configurationInputRea,"onUpdate:configurationInput":e.updateConfigurationInput,"onOrder:initializeArtifactStatsSub":e.orderInitializeArtifactStatsSub},null,8,["configuration-input","onUpdate:configurationInput","onOrder:initializeArtifactStatsSub"])]),x,P]),(0,i.kq)("",!0)],64)}a(7658);var F=a(4870);const K=(0,i.uE)('<p data-v-448eb759><a href="ArtifactSetList.html" data-v-448eb759>聖遺物セット効果一覧</a><a href="BirthdayCalendar.html" data-v-448eb759>誕生日カレンダー</a></p><p data-v-448eb759><a href="WeaponList.html?kind=Sword" data-v-448eb759>片手剣一覧</a><a href="WeaponList.html?kind=Claymore" data-v-448eb759>両手剣一覧</a><a href="WeaponList.html?kind=Polearm" data-v-448eb759>長柄武器一覧</a><a href="WeaponList.html?kind=Bow" data-v-448eb759>弓一覧</a><a href="WeaponList.html?kind=Catalyst" data-v-448eb759>法器一覧</a></p><p data-v-448eb759><a href="RandomTeam.html" data-v-448eb759>ランダムチーム編成メーカー</a><a href="HoYoDictionary.html" data-v-448eb759>原神の辞書</a></p><p data-v-448eb759><a href="EnkaNetwork3.html" data-v-448eb759>DATA IMPORTER</a><a href="TeamManager.html" data-v-448eb759>チーム編成</a></p><div class="top-left" data-v-448eb759><a href="history.html" data-v-448eb759>更新履歴</a></div><div class="top-right" data-v-448eb759><a href="https://zawazawa.jp/gencalc/topic/1" target="_blank" rel="noopener noreferrer" data-v-448eb759>バグ報告·要望</a></div><div class="bottom-left" data-v-448eb759><a href="RotationVisualizer.html" data-v-448eb759>げんろーて</a></div>',7),Z={class:"bottom-right"},G=["value"];function B(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)("fieldset",null,[(0,i._)("legend",null,"げんかるく - 原神ダメージシミュレーター Ver."+(0,o.zw)(e.version),1),K,(0,i._)("label",Z,[(0,i.Uk)(" Language "),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.locale=t),onChange:t[1]||(t[1]=t=>e.localeOnChange(e.targetValue(t)))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.localeList,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.value,key:e.value},(0,o.zw)(e.name),9,G)))),128))],544),[[s.bM,e.locale]])])])}var X=a(5658),$=a(589),J=(0,i.aZ)({name:"TitleAndHeader",setup(){const{locale:e}=(0,X.QT)({useScope:"global"}),{localeList:t,setI18nLanguage:n,displayName:l,targetValue:s}=(0,$.Z)(),i=e=>{e&&n(e)};return{locale:e,localeList:t,displayName:l,targetValue:s,localeOnChange:i,version:a(4147).i8}}}),Q=a(89);const ee=(0,Q.Z)(J,[["render",B],["__scopeId","data-v-448eb759"]]);var te=ee,ae=a(7229);const ne=e=>((0,i.dD)("data-v-20789530"),e=e(),(0,i.Cn)(),e),le=ne((()=>(0,i._)("span",{class:"material-symbols-outlined"}," info ",-1))),se={style:{width:"20%"}},ie=["value"],oe=["value"],re=["value"],ce={style:{position:"relative",width:"30%"}},ue=["src","alt"],de=["src","alt"],pe={class:"icon"},me=["src","alt"],fe={class:"tooltip"},ge={style:{width:"20%"}},ye=["value"],he=["value"],be=["value"],we={class:"talent-and-artifact"},ve={class:"icon"},_e=["src","alt"],ke={class:"tooltip"},Se={class:"icon"},De=["src","alt"],Ce={class:"tooltip"},Oe={class:"icon"},Re=["src","alt"],Ve={class:"tooltip"},Ne={class:"icon"},Ie=["src","alt"],Me={class:"tooltip"},je={class:"icon"},He=["src","alt"],ze={class:"tooltip"},Ae={class:"artifact-detail-button icon"},Le=["src","alt"],Ue=ne((()=>(0,i._)("img",{class:"left-icon",src:"images/artifact.png",alt:"artifact"},null,-1))),Te=ne((()=>(0,i._)("img",{class:"right-icon",src:"images/artifact.png",alt:"artifact"},null,-1))),qe={class:"artifact-score"},Ee=ne((()=>(0,i._)("br",null,null,-1))),Ye={class:"tooltip"},xe=["value"],Pe=["value"],We=["value"],Fe={style:{"table-layout":"fixed"}},Ke=ne((()=>(0,i._)("td",null,"buildname",-1))),Ze={colspan:"3"},Ge=["disabled"],Be=["disabled"],Xe={colspan:"6"},$e=["value"];function Je(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("table",null,[(0,i._)("tr",null,[(0,i._)("td",{class:(0,o.C_)("name "+e.colorClass(e.characterMaster)),colspan:"2"},[(0,i._)("span",{onClick:t[0]||(t[0]=t=>e.$emit("open:character-info",1))},[(0,i.Uk)((0,o.zw)(e.displayName(e.characterMaster.名前))+" ",1),le])],2),(0,i._)("td",{colspan:"2",class:(0,o.C_)("title "+e.colorClass(e.characterMaster))},[(0,i.wy)((0,i._)("span",null,(0,o.zw)(e.displayName(e.characterMaster.baseInfo.称号)),513),[[s.F8,e.characterMaster.baseInfo.称号]])],2)]),(0,i._)("tr",null,[(0,i._)("td",se,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.characterInputRea.突破レベル=t),onChange:t[2]||(t[2]=(...t)=>e.ascensionOnChange&&e.ascensionOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.ascensionRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," A"+(0,o.zw)(e),9,ie)))),128))],544),[[s.bM,e.characterInputRea.突破レベル]]),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.characterInputRea.レベル=t),onChange:t[4]||(t[4]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.levelRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," Lv."+(0,o.zw)(e),9,oe)))),128))],544),[[s.bM,e.characterInputRea.レベル]]),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.characterInputRea.命ノ星座=t),onChange:t[6]||(t[6]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.constellationRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," C"+(0,o.zw)(e),9,re)))),128))],544),[[s.bM,e.characterInputRea.命ノ星座]])]),(0,i._)("td",ce,[(0,i._)("img",{class:(0,o.C_)("character"+e.bgImageClass(e.characterMaster)),src:e.characterMaster.icon_url,alt:e.characterMaster.名前,onClick:t[7]||(t[7]=t=>e.$emit("open:character-select"))},null,10,ue),(0,i._)("img",{class:"vision",src:e.visionSrc(e.characterMaster),alt:e.characterMaster.元素},null,8,de)]),(0,i._)("td",pe,[(0,i._)("img",{class:(0,o.C_)("weapon"+e.bgImageClass(e.weaponMaster)),src:e.weaponMaster["icon_url"],alt:e.weaponMaster.名前,onClick:t[8]||(t[8]=t=>e.$emit("open:weapon-select"))},null,10,me),(0,i._)("div",fe,(0,o.zw)(e.displayName(e.weaponMaster.名前)),1)]),(0,i._)("td",ge,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.characterInputRea.武器突破レベル=t),onChange:t[10]||(t[10]=(...t)=>e.weaponAscensionOnChange&&e.weaponAscensionOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.weaponAscensionRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," A"+(0,o.zw)(e),9,ye)))),128))],544),[[s.bM,e.characterInputRea.武器突破レベル]]),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.characterInputRea.武器レベル=t),onChange:t[12]||(t[12]=(...t)=>e.weaponOnChange&&e.weaponOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.weaponLevelRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," Lv."+(0,o.zw)(e),9,he)))),128))],544),[[s.bM,e.characterInputRea.武器レベル]]),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.characterInputRea.武器精錬ランク=t),onChange:t[14]||(t[14]=(...t)=>e.weaponOnChange&&e.weaponOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.weaponRefineRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," R"+(0,o.zw)(e),9,be)))),128))],544),[[s.bM,e.characterInputRea.武器精錬ランク]])])])]),(0,i._)("table",we,[(0,i._)("tr",null,[(0,i._)("td",ve,[(0,i._)("img",{class:(0,o.C_)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["通常攻撃"]["icon_url"],alt:e.characterMaster["通常攻撃"]["名前"],onClick:t[15]||(t[15]=t=>e.$emit("open:character-info",2))},null,10,_e),(0,i._)("div",ke,(0,o.zw)(e.displayName(e.characterMaster["通常攻撃"]["名前"])),1)]),(0,i._)("td",Se,[(0,i._)("img",{class:(0,o.C_)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["元素スキル"]["icon_url"],alt:e.characterMaster["元素スキル"]["名前"],onClick:t[16]||(t[16]=t=>e.$emit("open:character-info",3))},null,10,De),(0,i._)("div",Ce,(0,o.zw)(e.displayName(e.characterMaster["元素スキル"]["名前"])),1)]),(0,i._)("td",Oe,[(0,i._)("img",{class:(0,o.C_)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["元素爆発"]["icon_url"],alt:e.characterMaster["元素爆発"]["名前"],onClick:t[17]||(t[17]=t=>e.$emit("open:character-info",4))},null,10,Re),(0,i._)("div",Ve,(0,o.zw)(e.displayName(e.characterMaster["元素爆発"]["名前"])),1)]),(0,i._)("td",Ne,[(0,i._)("label",{onClick:t[18]||(t[18]=t=>e.openArtifactSetSelect(0))},[(0,i._)("img",{class:(0,o.C_)("artifact-set"+e.artifactSetSelectClass(0)),src:e.getArtifactIconUrl(e.artifactSetMasters[0].key),alt:e.artifactSetMasters[0].key},null,10,Ie)]),(0,i._)("div",Me,(0,o.zw)(e.displayName(e.artifactSetMasters[0].key)),1)]),(0,i._)("td",je,[(0,i._)("label",{onClick:t[19]||(t[19]=t=>e.openArtifactSetSelect(1))},[(0,i._)("img",{class:(0,o.C_)("artifact-set"+e.artifactSetSelectClass(1)),src:e.getArtifactIconUrl(e.artifactSetMasters[1].key),alt:e.artifactSetMasters[1].key},null,10,He)]),(0,i._)("div",ze,(0,o.zw)(e.displayName(e.artifactSetMasters[1].key)),1)]),(0,i._)("td",Ae,[(0,i._)("label",{onClick:t[20]||(t[20]=t=>e.$emit("open:artifact-detail-input"))},[(0,i._)("img",{class:"artifact-set",src:e.IMG_SRC_DUMMY,alt:e.displayName("聖遺物ステータス")},null,8,Le),Ue,Te,(0,i._)("div",qe,[(0,i.Uk)(" score "),Ee,(0,i.Uk)(" "+(0,o.zw)(Math.round(10*e.artifactScore)/10),1)])]),(0,i._)("div",Ye,(0,o.zw)(e.displayName("聖遺物詳細")),1)])]),(0,i._)("tr",null,[(0,i._)("td",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[21]||(t[21]=t=>e.characterInputRea.通常攻撃レベル=t),onChange:t[22]||(t[22]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.normalAttackLevelRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," Lv."+(0,o.zw)(e),9,xe)))),128))],544),[[s.bM,e.characterInputRea.通常攻撃レベル]])]),(0,i._)("td",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[23]||(t[23]=t=>e.characterInputRea.元素スキルレベル=t),onChange:t[24]||(t[24]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.elementalSkillLevelRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," Lv."+(0,o.zw)(e),9,Pe)))),128))],544),[[s.bM,e.characterInputRea.元素スキルレベル]])]),(0,i._)("td",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[25]||(t[25]=t=>e.characterInputRea.元素爆発レベル=t),onChange:t[26]||(t[26]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.elementalBurstLevelRange,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e}," Lv."+(0,o.zw)(e),9,We)))),128))],544),[[s.bM,e.characterInputRea.元素爆発レベル]])])])]),(0,i._)("table",Fe,[(0,i._)("tr",null,[Ke,(0,i._)("td",Ze,[(0,i.wy)((0,i._)("input",{class:"save-name",type:"text","onUpdate:modelValue":t[27]||(t[27]=t=>e.characterInputRea.buildname=t),maxlength:"20",placeholder:"input build name",onChange:t[28]||(t[28]=t=>e.characterInputRea.saveDisabled=!1)},null,544),[[s.nr,e.characterInputRea.buildname]])]),(0,i._)("td",null,[(0,i._)("button",{type:"button",disabled:e.saveDisabled,onClick:t[29]||(t[29]=(...t)=>e.saveOnClick&&e.saveOnClick(...t))}," Save ",8,Ge)]),(0,i._)("td",null,[(0,i._)("button",{type:"button",disabled:e.characterInputRea.removeDisabled,onClick:t[30]||(t[30]=(...t)=>e.removeOnClick&&e.removeOnClick(...t))}," Remove ",8,Be)])]),(0,i._)("tr",null,[(0,i._)("td",Xe,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[31]||(t[31]=t=>e.characterInputRea.recommendationSelectedIndex=t),onChange:t[32]||(t[32]=t=>e.recommendationOnChange(e.targetValue(t))),placeholder:"select preset or saved build"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.recommendationList,((t,a)=>((0,i.wg)(),(0,i.iD)("option",{value:a,key:a},(0,o.zw)(e.displayBuildName(t)),9,$e)))),128))],544),[[s.bM,e.characterInputRea.recommendationSelectedIndex]])])])])],64)}var Qe=a(2540),et=a(2986),tt=a(3550),at=(0,i.aZ)({name:"CharacterInput",props:{characterInput:{type:Object,required:!0},recommendationList:{type:Array,required:!0},recommendation:{type:Object,required:!0},artifactSetSelectVisible:{type:Boolean},artifactScore:{type:Number,required:!0}},emits:["open:character-select","open:character-info","update:recommendation","saveToStorage","removeFromStorage","open:weapon-select","open:artifact-set-select","open:artifact-detail-input","update:character-input-character","update:character-input-weapon","open:character-info"],setup(e,t){const{displayName:a,targetValue:n}=(0,$.Z)(),l=(0,F.qj)(e.characterInput),s=(0,F.iH)("0"),o=e=>{if("ja-jp"==Qe.Z.global.locale.value)return e.name;if(e.overwrite)return e.name;let t="";t+=a(e.build["武器"]),t+=" - ",e.build["聖遺物セット効果1"]&&(t+=a(e.build["聖遺物セット効果1"])),e.build["聖遺物セット効果2"]&&e.build["聖遺物セット効果2"]!=e.build["聖遺物セット効果1"]&&(t+="/",t+=a(e.build["聖遺物セット効果2"])),t+="[";for(const a of["聖遺物メイン効果3","聖遺物メイン効果4","聖遺物メイン効果5"]){const n=e.build[a].split("_");t+=tt.mU.get(n[1])}return t+="]",t},r=(0,i.Fl)((()=>l.characterMaster)),c=(0,i.Fl)((()=>l.weaponMaster)),u=(0,i.Fl)((()=>l.artifactSetMasters??[et.zf,et.zf])),d=e=>tt.GN[e.元素],p=e=>" "+tt.dr[e.レアリティ],m=e=>tt.X9[e.元素],f=e=>tt.Cb[e.元素],g=(0,i.Fl)((()=>{let e=l.saveDisabled;return l.characterMaster.武器!=l.weaponMaster.種類&&(e=!0),e})),y=async()=>{l.saveDisabled=!1,l.removeDisabled=!0,await(0,i.Y3)(),t.emit("saveToStorage",l.buildname)},h=async()=>{l.removeDisabled=!1,l.saveDisabled=!0,await(0,i.Y3)(),t.emit("removeFromStorage",l.buildname)},b=(0,i.Fl)((()=>[0,1,2,3,4,5,6])),w=(0,i.Fl)((()=>et.iU[l.突破レベル])),v=(0,i.Fl)((()=>{const e=(0,et.PH)(r.value);return Array.from({length:e+1},((e,t)=>t))})),_=async()=>{const e=w.value[0],t=w.value[w.value.length-1];l.レベル<e?l.レベル=e:l.レベル>t&&(l.レベル=t),await(0,i.Y3)(),H()},k=async a=>{if(!e.recommendationList||!a)return;await(0,i.Y3)();const n=e.recommendationList[Number(a)];console.debug(n.name),t.emit("update:recommendation",n)},S=(0,i.Fl)((()=>{const e=(0,et.Jd)(r.value,"通常攻撃");return Array.from({length:e},((e,t)=>t+1))})),D=(0,i.Fl)((()=>{const e=(0,et.Jd)(r.value,"元素スキル");return Array.from({length:e},((e,t)=>t+1))})),C=(0,i.Fl)((()=>{const e=(0,et.Jd)(r.value,"元素爆発");return Array.from({length:e},((e,t)=>t+1))})),O=(0,i.Fl)((()=>{let e=6;return c.value.レアリティ<3&&(e=4),Array.from({length:e+1},((e,t)=>t))})),R=(0,i.Fl)((()=>et.iU[l.武器突破レベル])),V=(0,i.Fl)((()=>{let e=5;return c.value.レアリティ<3&&(e=1),Array.from({length:e},((e,t)=>t+1))})),N=async()=>{const e=R.value[0],t=R.value[R.value.length-1];l.武器レベル<e?l.武器レベル=e:l.武器レベル>t&&(l.武器レベル=t),await(0,i.Y3)(),z()},I=(0,F.iH)(0),M=t=>e.artifactSetSelectVisible&&t==I.value?" selected":"",j=e=>{I.value=e,t.emit("open:artifact-set-select",e)},H=async()=>{const e={};e.突破レベル=l.突破レベル,e.レベル=l.レベル,e.命ノ星座=l.命ノ星座,e.通常攻撃レベル=l.通常攻撃レベル,e.元素スキルレベル=l.元素スキルレベル,e.元素爆発レベル=l.元素爆発レベル,await(0,i.Y3)(),t.emit("update:character-input-character",e)},z=async()=>{const e={};e.武器突破レベル=l.武器突破レベル,e.武器レベル=l.武器レベル,e.武器精錬ランク=l.武器精錬ランク,await(0,i.Y3)(),t.emit("update:character-input-weapon",e)};return{displayName:a,targetValue:n,getArtifactIconUrl:tt.Uk,displayBuildName:o,visionSrc:d,bgImageClass:p,colorClass:m,bgColorClass:f,characterInputRea:l,characterMaster:r,weaponMaster:c,artifactSetMasters:u,recommendationOnChange:k,saveDisabled:g,saveOnClick:y,removeOnClick:h,ascensionRange:b,levelRange:w,constellationRange:v,ascensionOnChange:_,weaponAscensionRange:O,weaponLevelRange:R,weaponRefineRange:V,weaponAscensionOnChange:N,storageOrRecommendationRef:s,normalAttackLevelRange:S,elementalSkillLevelRange:D,elementalBurstLevelRange:C,openArtifactSetSelect:j,artifactSetSelectClass:M,characterOnChange:H,weaponOnChange:z,IMG_SRC_DUMMY:tt.bx}}});const nt=(0,Q.Z)(at,[["render",Je],["__scopeId","data-v-20789530"]]);var lt=nt;const st=e=>((0,i.dD)("data-v-23b92c10"),e=e(),(0,i.Cn)(),e),it={class:"character-info status"},ot={class:"character-info"},rt={rowspan:"2"},ct=["src","alt"],ut={class:"title"},dt=["innerHTML"],pt={class:"character-info"},mt={rowspan:"2"},ft=["src","alt"],gt={class:"title"},yt=["innerHTML"],ht={key:1,class:"character-info"},bt=st((()=>(0,i._)("caption",null,null,-1))),wt={colspan:"2",class:"title"},vt=["innerHTML"],_t={key:0},kt={class:"key"},St={class:"value"},Dt={key:0},Ct={class:"key"},Ot={class:"value"},Rt={key:0},Vt={class:"key"},Nt={class:"value"},It={key:2,class:"character-info"},Mt=st((()=>(0,i._)("caption",null,null,-1))),jt={colspan:"2",class:"title"},Ht={class:"key"},zt={class:"value"},At=["innerHTML"],Lt={key:0},Ut={class:"key"},Tt={class:"value"},qt={key:3,class:"character-info"},Et=st((()=>(0,i._)("caption",null,null,-1))),Yt={colspan:"2",class:"title"},xt={class:"key"},Pt={class:"value"},Wt=["innerHTML"],Ft={key:0},Kt={class:"key"},Zt={class:"value"};function Gt(e,t,a,n,l,s){return e.visible?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[1==e.mode?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("table",it,[(0,i._)("caption",null,(0,o.zw)(e.displayName("ステータス")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.statsInfoList,((t,a)=>((0,i.wg)(),(0,i.iD)("tr",{key:a},[(0,i._)("th",null,(0,o.zw)(e.displayName(t.key)),1),(0,i._)("td",null,(0,o.zw)(e.displayStatValue(t.key,t.value)),1)])))),128))]),(0,i._)("table",ot,[(0,i._)("caption",null,(0,o.zw)(e.displayName("命ノ星座")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.constellationInfoList,((t,a)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[(0,i._)("tr",null,[(0,i._)("td",rt,[(0,i._)("img",{class:"icon",src:t.icon_url,alt:t.名前},null,8,ct)]),(0,i._)("th",ut,(0,o.zw)(e.displayName("第"+(a+1)+"重"))+" "+(0,o.zw)(e.displayName(t.名前)),1)]),(0,i._)("tr",null,[(0,i._)("td",{class:"description",innerHTML:t.説明},null,8,dt)])],64)))),128))]),(0,i._)("table",pt,[(0,i._)("caption",null,(0,o.zw)(e.displayName("固有天賦")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.passiveTalentInfoList,((t,a)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[(0,i._)("tr",null,[(0,i._)("td",mt,[(0,i._)("img",{class:"icon",src:t.icon_url,alt:t.名前},null,8,ft)]),(0,i._)("th",gt,(0,o.zw)(e.displayName(t.名前)),1)]),(0,i._)("tr",null,[(0,i._)("td",{class:"description",innerHTML:t.説明},null,8,yt)])],64)))),128))])],64)):(0,i.kq)("",!0),2==e.mode?((0,i.wg)(),(0,i.iD)("table",ht,[bt,(0,i._)("tr",null,[(0,i._)("th",wt,(0,o.zw)(e.displayName(e.characterMaster.通常攻撃.名前)),1)]),(0,i._)("tr",null,[(0,i._)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.通常攻撃.説明},null,8,vt)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.talentNormalAttack("通常攻撃").詳細,((t,a)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[t.名前?((0,i.wg)(),(0,i.iD)("tr",_t,[(0,i._)("th",kt,(0,o.zw)(e.displayName(t.名前)),1),(0,i._)("td",St,(0,o.zw)(e.talentValue(t.数値,e.levelNormalAttack("通常攻撃"))),1)])):(0,i.kq)("",!0)],64)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.talentNormalAttack("重撃").詳細,((t,a)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[t.名前?((0,i.wg)(),(0,i.iD)("tr",Dt,[(0,i._)("th",Ct,(0,o.zw)(e.displayName(t.名前)),1),(0,i._)("td",Ot,(0,o.zw)(e.talentValue(t.数値,e.levelNormalAttack("重撃"))),1)])):(0,i.kq)("",!0)],64)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.talentNormalAttack("落下攻撃").詳細,((t,a)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[t.名前?((0,i.wg)(),(0,i.iD)("tr",Rt,[(0,i._)("th",Vt,(0,o.zw)(e.displayName(t.名前)),1),(0,i._)("td",Nt,(0,o.zw)(e.talentValue(t.数値,e.levelNormalAttack("落下攻撃"))),1)])):(0,i.kq)("",!0)],64)))),128))])):(0,i.kq)("",!0),3==e.mode?((0,i.wg)(),(0,i.iD)("table",It,[Mt,(0,i._)("tr",null,[(0,i._)("th",jt,(0,o.zw)(e.displayName(e.characterMaster.元素スキル.名前)),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.talentAttributes(e.characterMaster.元素スキル,e.elementalSkillLevel),((t,a)=>((0,i.wg)(),(0,i.iD)("tr",{key:a},[(0,i._)("th",Ht,(0,o.zw)(e.displayName(t[0])),1),(0,i._)("td",zt,(0,o.zw)(t[1]),1)])))),128)),(0,i._)("tr",null,[(0,i._)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.元素スキル.説明},null,8,At)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.characterMaster.元素スキル.詳細,((t,a)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[t.名前?((0,i.wg)(),(0,i.iD)("tr",Lt,[(0,i._)("th",Ut,(0,o.zw)(e.displayName(t.名前)),1),(0,i._)("td",Tt,(0,o.zw)(e.talentValue(t.数値,e.elementalSkillLevel)),1)])):(0,i.kq)("",!0)],64)))),128))])):(0,i.kq)("",!0),4==e.mode?((0,i.wg)(),(0,i.iD)("table",qt,[Et,(0,i._)("tr",null,[(0,i._)("th",Yt,(0,o.zw)(e.displayName(e.characterMaster.元素爆発.名前)),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.talentAttributes(e.characterMaster.元素爆発,e.elementalBurstLevel),((t,a)=>((0,i.wg)(),(0,i.iD)("tr",{key:a},[(0,i._)("th",xt,(0,o.zw)(e.displayName(t[0])),1),(0,i._)("td",Pt,(0,o.zw)(t[1]),1)])))),128)),(0,i._)("tr",null,[(0,i._)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.元素爆発.説明},null,8,Wt)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.characterMaster.元素爆発.詳細,((t,a)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[t.名前?((0,i.wg)(),(0,i.iD)("tr",Ft,[(0,i._)("th",Kt,(0,o.zw)(e.displayName(t.名前)),1),(0,i._)("td",Zt,(0,o.zw)(e.talentValue(t.数値,e.elementalBurstLevel)),1)])):(0,i.kq)("",!0)],64)))),128))])):(0,i.kq)("",!0)],64)):(0,i.kq)("",!0)}var Bt=a(5983);function Xt(e,t){return t+et.iU[e][0]==t?"+":""}function $t(e,t,a){if(!e)return 0;const n=Xt(t,a);if(n in e)return e[n];const l=et.iU[t][0],s=et.iU[t][et.iU[t].length-1],i=e[l+"+"],o=e[s];return i+(o-i)*(a-l)/(s-l)}function Jt(e,t){const a=et.iU[t][0];return e[a+"+"]}function Qt(e,t){if(e in t)return t[e];e=Number(e);const a=Object.keys(t).map((e=>Number(e)));let n,l;for(let s=0;s<a.length-1;s++)a[s]<=e&&a[s+1]>=e&&(n=a[s],l=a[s+1]);return n&&l?t[n]+(t[l]-t[n])*(e-n)/(l-n):0}function ea(e,t){Object.keys(e).forEach((t=>{e[t]=0}));for(const a of t){if(!a)continue;const t=a.split("_");e[t[1]]+=tt.$Y[t[0]][t[1]]}}function ta(e,t,a,n,l,s){Object.keys(e).forEach((t=>{e[t]=0}));let i=0;for(let d=0;d<3;d++)a[d]&&(void 0===n[d]||n[d]<0||s[d]&&(e[a[d]]+=l[d][n[d]]*s[d],i+=s[d]));const o=et.Hx.filter((e=>!a.includes(e)));let r=Math.min(45,40+Math.round(Math.max(0,(i-12)/4)));r-=Math.min(45,i);for(let d=r;d>0;d--){const t=o[d%o.length];e[t]+=tt._J[t][3]}const c=t.filter((e=>e&&e.startsWith("4"))).length,u=1-.07*c;Object.keys(e).forEach((t=>{e[t]*=u,e[t]=Math.round(10*e[t])/10}))}function aa(e){const t=e.聖遺物ステータス,a=e.聖遺物ステータスメイン効果,n=e.聖遺物ステータスサブ効果;for(const l of Object.keys(t))t[l]=0;for(const l of Object.keys(a))l in t?t[l]+=a[l]:t[l]=a[l];for(const l of Object.keys(n))l in t?t[l]+=n[l]:t[l]=n[l]}const na=function(e,t,a,n,s){if(t&&a&&n&&s)try{const i=t.characterMaster,o=t.突破レベル,r=t.レベル,c=t.命ノ星座,u=t.weaponMaster,d=t.武器突破レベル,p=t.武器レベル,m=l().cloneDeep(et.q2);if(m["突破レベル"]=o,m["レベル"]=r,m["命ノ星座"]=c,m["元素"]=i.元素,"元素エネルギー"in i["元素爆発"]&&(m["元素エネルギー"]=i["元素爆発"]["元素エネルギー"]),"固有変数"in i)for(const e of Object.keys(i["固有変数"]))e in n.conditionValues?m[e]=Number(n.conditionValues[e]):m[e]=i["固有変数"][e];for(const t of Object.keys(e.enemyMaster).filter((e=>"key"!=e))){const a="敵"+t;m[a]=e.enemyMaster[t]}Object.keys(e.statAdjustments).filter((e=>!et.PL.includes(e))).forEach((t=>{t in m&&(m[t]+=e.statAdjustments[t])})),Object.keys(e.statAdjustmentsEx).filter((e=>!et.PL.includes(e))).forEach((t=>{t in m&&(m[t]+=e.statAdjustmentsEx[t])}));for(const e of Object.keys(i["ステータス"]))if(et.Vd.includes(e))m[e]+=$t(i["ステータス"][e],o,r);else{const t=["HP","攻撃力","防御力"].includes(e)?e+"+":e;t in m&&(m[t]+=Jt(i["ステータス"][e],o))}for(const e of Object.keys(u["ステータス"]))m[e]+=$t(u["ステータス"][e],d,p);const f=a.聖遺物ステータス;for(const e of Object.keys(f)){const t=["HP","攻撃力","防御力"].includes(e)?e+"+":e;m[t]+=f[e]}let g="法器"==i.武器?i.元素:"物理",y="法器"==i.武器?i.元素:"物理",h="法器"==i.武器?i.元素:"物理";s&&[s.elementalResonance,s.teamOption,s.miscOption].forEach((e=>{e&&e.conditionAdjustments&&Object.keys(e.conditionAdjustments).forEach((t=>{const a=e.conditionAdjustments[t];if(a===1/0){if(t.endsWith("元素付与")&&["片手剣","両手剣","長柄武器"].includes(i.武器)){const e=t.replace(/元素付与$/,"");g=e,y=e,h=e}}else if(null!==a&&(t in m?m[t]+=a:m[t]=a,t.endsWith("V1")||t.endsWith("V2")||t.endsWith("V3"))){const e=t.replace(/V[1-3]$/,"");e in m?m[e]+=a:m[e]=a}}))}));const b=ua(n);Na(m,s),et.PL.forEach((t=>{t in e.statAdjustments&&t in m&&(m[t]+=e.statAdjustments[t])}));const w=la(t,b,m);for(const e of[t.damageDetailMyCharacter,t.damageDetailMyWeapon,t.damageDetailMyArtifactSets])if(e&&et.yL in e)for(const t of e[et.yL]){if(t["条件"]){const e=da(t["条件"],b,c);if(0==e)continue}if(t["種類"]&&t["種類"].endsWith("元素付与")){const e=t["種類"].replace("元素付与","");t["対象"]?"通常攻撃ダメージ"==t["対象"]?g=e:"重撃ダメージ"==t["対象"]?y=e:"落下攻撃ダメージ"==t["対象"]&&(h=e):(g=e,y=e,h=e)}}n.攻撃元素=[g,y,h],(0,Bt.fX)(e.statsObj,m),(0,Bt.fX)(n.conditionAdjustments,w)}catch(i){console.error(i),console.error(e,t,a,n,s)}};function la(e,t,a){const n=e.命ノ星座,l={},s=new Map;for(const d of[e.damageDetailMyCharacter,e.damageDetailMyWeapon,e.damageDetailMyArtifactSets])if(d&&et.e2 in d)for(const e of d[et.e2]){let a=!1,l=e["数値"];if(e["条件"]){const s=da(e.条件,t,n);if(0==s)continue;1!=s&&(l=l.concat(["*",s])),a=!0}let i=e["種類"];i&&(e["対象"]&&(i+="."+e["対象"]),s.has(i)||s.set(i,[]),s.get(i)?.push([i,l,e.上限,e.下限,a]))}const i=["基礎HP","HP%","HP+","HP上限"],o=["基礎防御力","防御力%","防御力+","防御力"],r=["基礎攻撃力","攻撃力%","攻撃力+","攻撃力"],c=[...et.U3,...et.tH,...et.Em,...et.wB,...et.uc,"ダメージ軽減"];c.push(...Array.from(s.keys()).filter((e=>-1!=e.indexOf("ダメージバフ.")))),c.push(...Array.from(s.keys()).filter((e=>-1!=e.indexOf("ダメージアップ."))));const u=[...new Set(Array.from(s.keys()).map((e=>e.replace(/V[1-3]$/,""))))].filter((e=>![...i,...o,...r,...c].includes(e)));u.sort(ia);for(const d of i){const e={};["V1","V2","V3"].forEach((t=>{const n=d+t;e[n]=n in a?a[n]:0})),sa(l,a,s,d),["V1","V2","V3"].forEach((t=>{const n=d+t;a[n]&&(d in a?a[d]+=a[n]-e[n]:a[d]=a[n]-e[n])}))}a["HP上限"]+=a["基礎HP"]+a["HP+"],a["HP上限"]+=a["基礎HP"]*a["HP%"]/100;for(const d of u){const e={};["V1","V2","V3"].forEach((t=>{const n=d+t;e[n]=n in a?a[n]:0})),sa(l,a,s,d),["V1","V2","V3"].forEach((t=>{const n=d+t;a[n]&&(d in a?a[d]+=a[n]-e[n]:a[d]=a[n]-e[n])}))}for(const d of o){const e={};["V1","V2","V3"].forEach((t=>{const n=d+t;e[n]=n in a?a[n]:0})),sa(l,a,s,d),["V1","V2","V3"].forEach((t=>{const n=d+t;a[n]&&(d in a?a[d]+=a[n]-e[n]:a[d]=a[n]-e[n])}))}a["防御力"]+=a["基礎防御力"]+a["防御力+"],a["防御力"]+=a["基礎防御力"]*a["防御力%"]/100;for(const d of r){const e={};["V1","V2","V3"].forEach((t=>{const n=d+t;e[n]=n in a?a[n]:0})),sa(l,a,s,d),["V1","V2","V3"].forEach((t=>{const n=d+t;a[n]&&(d in a?a[d]+=a[n]-e[n]:a[d]=a[n]-e[n])}))}a["攻撃力"]+=a["基礎攻撃力"]+a["攻撃力+"],a["攻撃力"]+=a["基礎攻撃力"]*a["攻撃力%"]/100;for(const d of c){const e={};["V1","V2","V3"].forEach((t=>{const n=d+t;e[n]=n in a?a[n]:0})),sa(l,a,s,d),["V1","V2","V3"].forEach((t=>{const n=d+t;a[n]&&(d in a?a[d]+=a[n]-e[n]:a[d]=a[n]-e[n])}))}return l}function sa(e,t,a,n){for(const l of[a.get(n),...["V1","V2","V3"].map((e=>a.get(n+e)))])l&&l.forEach((a=>{const n=Ca(t,a[0],a[1],a[2],a[3]);for(const e of Object.keys(n))if(et.PL.includes(e+"TOP")){const a=(0,et.A2)(e+"X7",t),n=t[e+"TOP"];void 0!==a&&void 0!==n&&a>n&&(t[e+"TOP"]=a)}if(a[4])for(const t of Object.keys(n))t in e?e[t]+=n[t]:e[t]=n[t]}))}function ia(e,t){const a=["元素熟知","会心率","会心ダメージ","与える治療効果","受ける治療効果","元素チャージ効率","シールド強化"],n=["ダメージ軽減"];let l=a.indexOf(e);n.indexOf(e)>=0&&(l=a.length+1);let s=a.indexOf(t);return n.indexOf(t)>=0&&(s=a.length+1),(-1!=l?l:a.length)-(-1!=s?s:a.length)}function oa(e,t){const a={},n=ua(t);for(const l of Object.keys(tt._9)){if(!e[l])continue;const t=tt._9[l];if(t.詳細)for(const e of t.詳細){if(e.条件){const t=da(e.条件,n,0);if(0==t)continue}e.種類&&e.数値&&(e.種類 in a?a[e.種類]+=e.数値:a[e.種類]=e.数値)}"草元素共鳴"==l&&e.dendroOption&&(a["元素熟知"]+=Number(e.dendroOption))}return a}function ra(e,t,a,n=null,l=null){try{let s=0;if(Array.isArray(e)){let i=null;for(const o of e){let r=0;if(["+","-","*","/"].includes(o))i=o;else{if((0,Bt.hj)(o))r=Number(o);else if(Array.isArray(o))r=ra(o,t,a);else if(-1!=o.indexOf("#")){const s=o.split("#");if(a&&s[0]in a){const i=a[s[0]];let c=null;for(const e of i)if(s[1]==e[0]){c=e[4];break}null!=c?r=c:console.error(e,t,a,n,l,o)}}else{const a=(0,et.A2)(o,t);void 0===a?console.error(e,t,null,n,l):r=a}if(null==i)s+=r;else switch(i){case"+":s+=r;break;case"-":s-=r;break;case"*":s*=r,s=Math.floor(100*s)/100;break;case"/":s/=r;break}}}}else if((0,Bt.hj)(e))s=Number(e);else{const a=(0,et.A2)(e,t);void 0!==a?s=a:(console.error(e,t,null,n,l),s=0)}if(null!=n){const e=ra(n,t,a);s=Math.min(s,e)}if(null!=l){const e=ra(l,t,a);s=Math.max(s,e)}return s}catch(s){throw console.error(s),console.error(e,t,a,n,l),s}}function ca(e,t,a,n){try{if(!t)return;if(!a)return;if(!n)return;const s=t.characterMaster,i=t["命ノ星座"],o=s["元素"],r=l().cloneDeep(et.vo),c=[[o,tt.q4[o]]];if(a.selectList.filter((e=>"元素変化"==e.name)).length){const e=a.selectList.filter((e=>"元素変化"==e.name))[0],t=a.conditionValues["元素変化"];if(t){const a=e.options[t].replace(/元素$/,"");c.push([a,tt.q4[a]])}}if(a.selectList.filter((e=>"拡散"==e.name)).length){const e=a.selectList.filter((e=>"拡散"==e.name))[0],t=a.conditionValues["拡散"];if(t){const a=e.options[t].replace(/元素$/,"");c.push([a,tt.q4[a]])}}r["元素"]=o,c.forEach((e=>{const t=e[0],l=e[1];Object.keys(l).forEach((e=>{const s=l[e];let i=0;if("結晶"==e)i=ga(t,n.statsObj);else if("拡散"==e){let l="炎";for(const e of a.selectList)if("拡散"==e.name){const t=e.options[Number(a.conditionValues["拡散"])];t&&(l=t.replace(/元素$/,""));break}r["拡散元素"]=l,i=fa(e,t,n.statsObj,l)}else switch(s["種類"]){case"乗算":i=ma(e,t,n.statsObj);break;case"固定":i=fa(e,t,n.statsObj);break;case"加算":i=ya(e,t,n.statsObj);break}["倍率","ダメージ","吸収量"].forEach((t=>{const a=e+t;a in r&&(r[a]=i)}))}))})),Object.keys(r).filter((e=>e.endsWith("ダメージ")&&-1==e.indexOf("会心"))).forEach((e=>{["会心率","会心ダメージ"].forEach((t=>{const a=e+t;a in n.statsObj&&(r[a]=n.statsObj[a])}))})),(0,Bt.fX)(e.元素反応,r),console.debug("元素反応",e.元素反応);const u=ua(a),d=t.damageDetailMyCharacter,p=t.damageDetailMyWeapon,m=t.damageDetailMyArtifactSets;if(Array.isArray(e["キャラクター注釈"])&&e["キャラクター注釈"].splice(0,e["キャラクター注釈"].length),d){for(const l of["通常攻撃","重撃","落下攻撃"]){if(e[l]=[],!(l in d))continue;const s=a.攻撃元素[["通常攻撃","重撃","落下攻撃"].indexOf(l)];let o=d[l];if("特殊"+l in d){const e=d["特殊"+l];0!=da(e["条件"],u,i)&&(o=e["詳細"])}for(const r of o){if(r["条件"]&&0==da(r["条件"],u,i))continue;const o=va(r,t,a,n.statsObj,e,s);e[l].push(o)}if("通常攻撃"==l){let t=0;const a=["合計ダメージ",null,0,0,0,null,0,0,1];for(const n of e[l])!n[0].endsWith("段ダメージ")&&!["水月ダメージ"].includes(n[0])||n[0].startsWith("非表示_")||(a[1]=n[1],a[2]+=n[2],null==n[3]?a[3]=null:null!=a[3]&&(a[3]+=n[3]),a[4]+=n[4],null!=a[6]&&(n[6]?a[6]+=n[6]:a[6]++),a[7]=n[7],a[8]=n[8],t++);t>0&&e[l].splice(t,0,a)}}for(const l of["元素スキル","元素爆発","その他"]){if(e[l]=[],!(l in d))continue;const s=d[l];for(const o of s){if(o["条件"]&&0==da(o["条件"],u,i))continue;const s=va(o,t,a,n.statsObj,e);e[l].push(s)}}}for(const l of[p,m]){const s="その他";if(!l||!(s in l))continue;const o=l[s];for(const l of o){if(l["条件"]&&0==da(l["条件"],u,i))continue;const o=va(l,t,a,n.statsObj,e);e[s].push(o)}}const f=[];for(const e of et.tH){const t=e.replace(/元素耐性$/,"").replace(/耐性$/,""),a=Oa(n.statsObj,1e4,t);f.push({key:t,value:a})}e["被ダメージ"]=f;const g=[];for(const e of f)g.push({key:e.key,value:1e4*n.statsObj["HP上限"]/e.value});e["耐久スコア"]=g,console.debug(e)}catch(s){console.error(s),console.error(e,t,a,n)}}function ua(e){try{const t=[];if(!e)return t;const a=e.checkboxList;a&&a.forEach((a=>{e.conditionValues[a.name]&&t.push(a.name)}));const n=e.selectList;n&&n.forEach((a=>{const n=e.conditionValues[a.name];void 0!==n&&null!==n&&(n>0||0==n&&a.required)&&t.push(a.name+"@"+a.options[n])}));const l=e.numberList;return l&&l.forEach((a=>{const n=e.conditionValues[a.name];void 0!==n&&null!==n&&t.push(a.name+"="+n)})),t}catch(t){throw console.error(t),console.error(e),t}}function da(e,t,a){const n=e.split("^")[0];if(-1!=n.indexOf("|")){const e=n.split("|");for(let n=0;n<e.length;n++){const l=pa(e[n],t,a);if(1==l)return 1}return 0}const l=n.split("&");let s=1;for(let i=0;i<l.length;i++){const e=pa(l[i],t,a);if(0==e)return 0;1!=e&&(s=e)}return s}function pa(e,t,a){const n=e.split(/[@=]/);if("命ノ星座"==n[0]){if(2==n.length&&(0,Bt.hj)(n[1])){const e=Number(n[1]);if(e<=a)return 1}return 0}if(t.includes(e)||t.includes(e.replace("=","@")))return 1;if(1==n.length)return t.filter((t=>t.split("@")[0]==e)).length>0?1:0;if(-1!=e.indexOf("=")){if(et.r2.test(n[1])){const e=t.filter((e=>e.split("=")[0]==n[0]));if(e.length>0)return Number(e[0].split("=")[1])}return 0}const l=new RegExp("[^0-9]*?([\\-0-9\\.]+).*");for(let s=0;s<t.length;s++)if(t[s].startsWith(n[0]+"@")){const e=t[s].split("@"),a=l.exec(e[1]);if(a){const e=Number(a[1]);return e}}return 0}function ma(e,t,a){try{if(!t||"物理"==t)return 0;const n=a["元素熟知"],l=a[e+"反応ボーナス"]??0;let s=tt.q4[t][e]["数値"];return s*=1+25*n/(9*(n+1400))+l/100,s}catch(n){throw console.error(n),console.error(e,t,a),n}}function fa(e,t,a,n){try{if(!t||"物理"==t)return 0;const l=a["レベル"],s=a["元素熟知"],i=a[e+"反応ボーナス"]??0,o=n??tt.q4[t][e]["元素"];let r=Qt(l,tt.q4[t][e]["数値"]);return r*=1+16*s/(s+2e3)+i/100,r*=wa(o,a),r}catch(l){throw console.error(l),console.error(e,t,a,n),l}}function ga(e,t){try{if(!e||"物理"==e)return 0;const a=t["レベル"],n=t["元素熟知"],l=t["結晶反応ボーナス"]??0;let s=Qt(a,tt.q4[e]["結晶"]["数値"]);return s*=1+40*n/(9*(n+1400))+l/100,s}catch(a){throw console.error(a),console.error(e,t),a}}function ya(e,t,a){try{if(!t||"物理"==t)return 0;const n=a["レベル"],l=a["元素熟知"],s=a[e+"反応ボーナス"]??0,i=tt.q4[t][e]["元素"];let o=Qt(n,tt.q4[t][e]["数値"]);return o*=1+5*l/(l+1200)+s/100,o*=wa(i,a),o}catch(n){throw console.error(n),console.error(e,t,a),n}}function ha(e,t=0){try{const a=e["レベル"]??0,n=e["敵レベル"]??0,l=t/100,s=Math.max(-100,e["敵防御力"]??0)/100,i=(a+100)/((1-l)*(1+s)*(n+100)+a+100);return i}catch(a){throw console.error(a),console.error(e,t),a}}function ba(e){if(e==1/0)return 0;let t=e;return t=t<0?100-t/2:t<75?100-t:1e4/(4*t+100),t/=100,t}function wa(e,t){try{const a="敵"+e+("物理"!=e?"元素":"")+"耐性",n=ba(t[a]??0);return n}catch(a){throw console.error(a),console.error(e,t),a}}function va(e,t,a,n,s,i=null){try{const o=[];let r=!0,c=!0,u=!0,d=null!=e["元素"]?e["元素"]:null!=i?i:null,p=0,m=0;const f=null!=e["HIT数"]?Number(e["HIT数"]):1,g={},y=n["命ノ星座"],h=ka(t,et.yL);let b=ua(a);const w=l().cloneDeep(a.conditionValues);if(e["除外条件"])for(const t of e["除外条件"]){let e=t;l().isPlainObject(t)&&(e=t.名前),e in w&&((0,Bt.hj)(w[e])?w[e]=0:l().isBoolean(w[e])&&(w[e]=!1))}if(e["適用条件"])for(const t of e["適用条件"])if(l().isString(t))t in w&&l().isBoolean(w[t])&&(w[t]=!0);else if(l().isPlainObject(t)){if(t.名前 in w){let e=w[t.名前];if("数値"in t){if(l().isString(t.数値)){const a=String(t.数値).replace(/^\+/,"");e+=Number(a)}else e=((0,Bt.hj)(t.数値),t.数値);null!==e&&(0,Bt.hj)(e)&&(e<0?e=0:a.selectList.filter((e=>e.name==t.名前)).forEach((t=>{null!==e&&e>=t.options.length&&(e=t.options.length-1)})))}else e=!0;w[t.名前]=e}if(t.説明)if(Array.isArray(t.説明))t.説明.forEach((e=>{s["キャラクター注釈"].includes(e)||s["キャラクター注釈"].push(e)}));else{const e=t.説明;s["キャラクター注釈"].includes(e)||s["キャラクター注釈"].push(e)}}if(e["除外条件"]||e["適用条件"]){const e=l().cloneDeep(a);e.conditionValues=w;const i=ua(e);[t.damageDetailMyCharacter,t.damageDetailMyWeapon,t.damageDetailMyArtifactSets].forEach((e=>{e&&e.ステータス変更系詳細.filter((e=>e.条件)).forEach((e=>{const t=e.条件;let a=0,l=0;const o=da(t,b,y),r=da(t,i,y);if(o==r)return;if(0!=o){let t=e.数値;1!=o&&(t=t.concat(["*",o])),a=ra(t,n,s,e.上限,e.下限)}if(0!=r){let t=e.数値;1!=r&&(t=t.concat(["*",r])),l=ra(t,n,s,e.上限,e.下限)}const c=l-a;if(c){let t=e.種類;e.対象&&(t+="."+e.対象),t in g?g[t]+=c:g[t]=c}}))})),b=i}const v=[];h&&h.forEach((t=>{let a=null;if(!t.条件||(a=da(t.条件,b,y),0!=a)){if(t.対象)if(t.対象.endsWith("元素ダメージ")){if(!t.対象.startsWith(d))return}else if("物理ダメージ"==t.対象){if("物理"!=d)return}else{const a=e.種類,n=t.対象.split(".");if(n[0]!=a)return;if(n.length>1&&n[n.length-1]!=e.名前)return}if(t["種類"].endsWith("元素付与"))["通常攻撃ダメージ","重撃ダメージ","落下攻撃ダメージ"].includes(e.種類)&&(e["元素付与無効"]||(d=t["種類"].replace("元素付与","")));else if("防御無視"==t.種類){const e=ra(t.数値,n,s,t.上限,t.下限);p+=e}else if("固有変数"==t.種類);else if(null!=a&&1!=a){const e=JSON.parse(JSON.stringify(t));e.数値=e.数値.concat(["*",a]),v.push(e)}else v.push(t)}})),console.debug(e["名前"]+":myTalentChangeDetailObjArr"),console.debug(v);const _={};[n,g].forEach((t=>{Object.keys(t).forEach((a=>{const n=a.split(".");if(1==n.length)return;let l=!1;if(n[1]==e.種類?(2==n.length||n[2]==e.名前&&3==n.length)&&(l=!0):n[1]==d+"元素ダメージ"?2==n.length&&(l=!0):"物理ダメージ"==n[1]&&"物理"==d&&2==n.length&&(l=!0),l){const e=n[0];e in _?"別枠乗算"==e&&_[e]>0?_[e]*=t[a]/100:_[e]+=t[a]:_[e]=t[a]}}))})),Object.keys(_).forEach((e=>{e in g?e.startsWith("別枠乗算")&&g[e]>0?g[e]*=_[e]/100:g[e]+=_[e]:g[e]=_[e]})),console.debug("myステータス補正",g);const k=t.damageDetailMyArtifactSets;if(k&&"通常攻撃ダメージ"==e.種類&&e.HIT数>1&&"来歆の余響"==t.artifactSets[0]&&"来歆の余響"==t.artifactSets[1]){let t=!1;for(const a of k[et.e2].filter((e=>e.条件&&e.種類&&e.数値))){const l=a.種類,i=a.条件,o=e.HIT数;if(0!=da(i,b,y)){const e=ra(a.数値,n,s,a.上限,a.下限);l in g||(g[l]=0),g[l]-=e*(o-Math.max(1,Math.floor(o/2)))/o,t=!0}}if(t){const e="来歆の余響4セット効果の幽谷祭祀のダメージアップは多段HITダメージの全てには乗らない。3HIT以下：1回分、4HIT：2回分を計上する";s["キャラクター注釈"].includes(e)||s["キャラクター注釈"].push(e)}}switch(Object.keys(g).forEach((e=>{e in n?e.startsWith("別枠乗算")&&n[e]>0?n[e]*=g[e]:n[e]+=g[e]:n[e]=g[e],console.debug("ステータス補正",e,g[e])})),n["別枠乗算"]&&(m=n["別枠乗算"]),e.種類){case"HP回復":o.push("与える治療効果"),o.push("受ける治療効果"),r=!1,c=!1,u=!1,d=null;break;case"シールド":o.push("シールド強化"),r=!1,c=!1,u=!1;break;case"元素創造物HP":r=!1,c=!1,u=!1,d=null;break;case"他所基準ダメージ":c=!1,u=!1;break;case"他所基準HP回復":r=!1,c=!1,u=!1,d=null;break;case"付加元素ダメージ":["炎","水","雷","氷"].includes(d)||(d="炎");break;default:e.種類.startsWith("表示")||e.種類.startsWith("非表示")?(r=!1,c=!1,u=!1,d=null):(o.push("与えるダメージ"),"NONE"!=e.ダメージバフ&&(e.ダメージバフ?o.push(e.ダメージバフ):tt.vN.includes(e.種類)&&o.push(e.種類+"バフ")),d&&o.push("物理"==d?"物理ダメージバフ":d+"元素ダメージバフ"));break}const S=_a(n,s,e.数値,o,r,c,u,d,p,m,e.上限,e.下限);if(v.forEach((t=>{const a=_a(n,s,t.数値,o,r,c,u,d,p,null,t.上限,t.下限);if(t.種類.endsWith("ダメージアップ")){if("ダメージアップ"==e.名前)return;tt.vN.includes(e.種類)&&f>1&&(a[2]*=f,null!=a[3]&&(a[3]*=f),a[4]*=f)}S[2]+=a[2],null!=S[3]&&a[3]&&(S[3]+=a[3]),S[4]+=a[4]})),[...tt.vN,"その他ダメージ"].includes(e.種類)){let t=e.種類;if(e.ダメージバフ){const a=e.ダメージバフ.replace(/バフ$/,"");tt.vN.includes(a)&&(t=a)}const a=[];a.push(t+"アップ"),d&&a.push("物理"==d?"物理ダメージアップ":d+"元素ダメージアップ"),a.forEach((t=>{if(!n[t])return;if(!c||!u)return;if(e.名前.startsWith("非表示_狼の魂基礎"))return;const a=_a(n,s,n[t],o,r,c,u,d,p,null);f>1&&(a[2]*=f,null!=a[3]&&(a[3]*=f),a[4]*=f),S[2]+=a[2],null!=S[3]&&a[3]&&(S[3]+=a[3]),S[4]+=a[4]}))}Object.keys(g).forEach((e=>{n[e]-=g[e]})),"シールド"==e.種類&&"岩"==S[1]&&(S[2]=1.5*S[2],S[4]=1.5*S[4]);const D=[e.名前,S[1],S[2],S[3],S[4],e.種類,e.HIT数,S[7],S[8]];return console.debug("calculateDamageFromDetail",e,t,a,n,i,D),D}catch(o){throw console.error(o),console.error(e,t,a,n,i),o}}function _a(e,t,a,n,l,s,i,o,r,c,u=null,d=null){const p=ra(a,e,t,u,d);let m=p;c?m*=c/100:c=1,Sa(a)&&(n=null,s=!1,i=!1);let f=1;n&&(f=100,n.forEach((t=>{e[t]&&(f+=e[t])})),f/=100,m*=f);let g=1;s&&(g=ha(e,r),m*=g);let y=1;i&&o&&(y=wa(o,e),m*=y);let h=e["会心率"];"物理"==o?"物理ダメージ会心率"in e&&(h+=e["物理ダメージ会心率"]):o+"元素ダメージ会心率"in e&&(h+=e[o+"元素ダメージ会心率"]),h=Math.min(100,Math.max(0,h))/100;let b=e["会心ダメージ"];"物理"==o?"物理ダメージ会心ダメージ"in e&&(b+=e["物理ダメージ会心ダメージ"]):o+"元素ダメージ会心ダメージ"in e&&(b+=e[o+"元素ダメージ会心ダメージ"]),b=(100+b)/100;let w=null,v=m;return l&&h>0&&(w=m*b,v=w*h+m*(1-h)),console.debug("%f * %f * [%o]=%f * [%f,%f] * %f * %f => %f,%f,%f",p,c,n,f,h,b,g,y,v,w,m),["未設定",o,v,w,m,null,null,f,g]}function ka(e,t){let a=[];return e?(e.damageDetailMyCharacter&&t in e.damageDetailMyCharacter&&(a=a.concat(e.damageDetailMyCharacter[t])),e.damageDetailMyWeapon&&t in e.damageDetailMyWeapon&&(a=a.concat(e.damageDetailMyWeapon[t])),e.damageDetailMyArtifactSets&&t in e.damageDetailMyArtifactSets&&(a=a.concat(e.damageDetailMyArtifactSets[t])),a):a}function Sa(e){if(!Array.isArray(e))return!(0,Bt.hj)(e)&&-1!=String(e).indexOf("#");let t=!1;return e.forEach((e=>{["+","-","*","/"].includes(String(e))||(0,Bt.hj)(e)||(Array.isArray(e)?Sa(e)&&(t=!0):-1!=String(e).indexOf("#")&&(t=!0))})),t}const Da=["炎","水","風","雷","草","氷","岩"];function Ca(e,t,a,n=null,l=null){const s=ra(a,e,et.US,n,l);(0,Bt.hj)(s)||console.error(e,t,a,s);const i=[];"HP"==t?i.push("HP上限"):t.startsWith("自元素")?i.push(t.replace(/^自/,String(e["元素"]))):t.startsWith("全元素")?Da.forEach((e=>{i.push(t.replace(/^全/,e))})):t.startsWith("敵自元素")?i.push(t.replace(/^敵自/,"敵"+String(e["元素"]))):t.startsWith("敵全元素")?Da.forEach((e=>{i.push(t.replace(/^敵全/,"敵"+e))})):i.push(t);const o={};i.forEach((e=>{o[e]=s}));for(const r of Object.keys(o))r in e?r.startsWith("別枠乗算")&&o[r]>0?e[r]*=o[r]/100:e[r]+=o[r]:e[r]=o[r];return console.debug(Ca.name,null,t,a,"=>",o),o}function Oa(e,t,a){const n=e["防御力"],l=e["敵レベル"],s=e["ダメージ軽減"],i=ba(e["物理"==a?"物理耐性":a+"元素耐性"]);let o=t*(1-n/(n+5*l+501))*(100-s)/100*i;return o=Math.max(0,o),o}const Ra=[[["会心率",2],["会心ダメージ",1]],[["攻撃力%",1],["会心率",2],["会心ダメージ",1]],[["HP%",1],["会心率",2],["会心ダメージ",1]],[["防御力%",1],["会心率",2],["会心ダメージ",1]],[["HP%",.5],["攻撃力%",.5],["会心率",2],["会心ダメージ",1]],[["攻撃力%",.5],["防御力%",.5],["会心率",2],["会心ダメージ",1]],[["攻撃力%",.5],["元素熟知",.125],["会心率",2],["会心ダメージ",1]]];function Va(e,t,a){let n=0;for(const l of a){const e=l[0],a=l[1],s=t.聖遺物ステータスサブ効果[e];s&&(n+=s*a)}return n}function Na(e,t){et.PL.forEach((a=>{const n=a.replace(/TOP$/,"X7");let l=(0,et.A2)(n,e);l&&(e[a]=l);for(const s of t.teamMembers){const i=t.supporters[s];i?.statsInput?.statsObj&&(l=(0,et.A2)(n,i.statsInput.statsObj),void 0!==l&&e[a]<l&&(e[a]=l))}}))}async function Ia(e,t,a,n){const s=l().cloneDeep(et.Hd),i=l().cloneDeep(et.HN),o=l().cloneDeep(et.NY),r=l().cloneDeep(et.HO),c=l().cloneDeep(et.US);s.character=t,s.characterMaster=await(0,tt.tm)(s.character);const u=JSON.parse(a);if(await(0,et.pS)(s,i,o,e,u),(0,et.ge)(s),(0,et.Cl)(s),(0,et.Vk)(s),(0,et.Hk)(o,s,e),ea(i.聖遺物ステータスメイン効果,i.聖遺物メイン効果),aa(i),e.elementalResonance&&(e.elementalResonance.conditionAdjustments=oa(e.elementalResonance.conditionValues,o)),na(r,s,i,o,e),(0,et.QW)(o,s,r.statsObj),na(r,s,i,o,e),"雷電将軍"==s.character){const e=await(0,tt.tm)(n);"元素エネルギー"in e["元素爆発"]&&(r.statsObj["元素エネルギー"]=e["元素爆発"]["元素エネルギー"])}return ca(c,s,o,r),e.supporters[t]={characterInput:s,artifactDetailInput:i,conditionInput:o,statsInput:r,damageResult:c},[r.statsObj,c]}function Ma(e){let t=0,a=0;return e[2]&&e[3]&&e[4]&&(t=e[2]-e[4],t/=e[3]-e[4],t=Math.round(1e3*t)/10,a=Math.round(1e3*(e[3]/e[4]-1))/10),[t,a]}const ja=["過負荷ダメージ","感電ダメージ","超電導ダメージ","拡散ダメージ","燃焼ダメージ","開花ダメージ","烈開花ダメージ","超開花ダメージ"],Ha=new Map;function za(){ja.forEach((e=>{const t=e.replace(/ダメージ$/,"");Object.keys(tt.q4).forEach((a=>{const n=tt.q4[a],l=Object.keys(n);l.includes(t)&&"元素"in n[t]&&Ha.set(e,n[t].元素)}))}))}function Aa(e,t){const a=[],n=e.category;if(ja.includes(n))a.push([n,Ha?.get(n)??null,t.元素反応[n],null,t.元素反応[n],null,1,null,null]);else for(let s of t[n])if(!s[0].startsWith("非表示")&&!s[0].endsWith("合計ダメージ")&&s[5]?.endsWith("ダメージ")){if(s[0].startsWith("法獣の灼眼")){s=l().cloneDeep(s);const[e]=Ma(s);s[2]=s[2]*e/100}a.push(s)}return a}function La(e,t,a){let n=0;const l=Aa(e,a);if(!l)return n;const s=l[t];if(!s)return n;const i=e.reactions[t];if(!i)return n;const o=e.counts[t];for(let r=0;r<o;r++){let e=s[2];["蒸発","溶解"].forEach((t=>{t in i&&r<i[t]&&(e*=a.元素反応[t+"倍率"])})),n+=e}return["超激化","草激化"].forEach((e=>{if(e in i){let t=a.元素反応[e+"ダメージ"];s[2]&&(t*=s[2]/s[4]),s[7]&&(t*=s[7]),s[8]&&(t*=s[8]),n+=t*i[e]}})),n}function Ua(e,t){let a=0;return e.forEach((e=>{const n=Aa(e,t);for(let l=0;l<n.length;l++)a+=La(e,l,t)})),a}za();var Ta=(0,i.aZ)({name:"CharacterInfo",props:{visible:{type:Boolean,required:!0},mode:{type:Number,required:!0},characterMaster:{type:Object,required:!0},ascension:{type:Number,required:!0},level:{type:Number,required:!0},normalAttackLevel:{type:Number,required:!0},elementalSkillLevel:{type:Number,required:!0},elementalBurstLevel:{type:Number,required:!0},normalAttackReplacing:{type:Array,required:!0}},setup(e){const{displayName:t,displayStatValue:a}=(0,$.Z)(),n=(0,i.Fl)((()=>{const t=[];if("ステータス"in e.characterMaster)for(const a of Object.keys(e.characterMaster.ステータス)){const n=e.characterMaster.ステータス[a],l=$t(n,e.ascension,e.level);t.push({key:a,value:l})}return t})),s=(0,i.Fl)((()=>{const t=[];if("命ノ星座"in e.characterMaster)for(const a of Object.keys(e.characterMaster.命ノ星座))t.push(e.characterMaster.命ノ星座[a]);return t})),o=(0,i.Fl)((()=>{const t=[];if("固有天賦"in e.characterMaster)for(const a of e.characterMaster.固有天賦)t.push(a);return t})),r=t=>{let a;return"通常攻撃"==t?a=e.normalAttackReplacing[0]?e.characterMaster.特殊通常攻撃:e.characterMaster.通常攻撃:"重撃"==t?a=e.normalAttackReplacing[1]?e.characterMaster.特殊重撃:e.characterMaster.重撃:"落下攻撃"==t&&(a=e.normalAttackReplacing[2]?e.characterMaster.特殊落下攻撃:e.characterMaster.落下攻撃),a},c=t=>{let a=e.normalAttackLevel;const n=r(t);if("種類"in n)switch(n["種類"]){case"元素スキルダメージ":a=e.elementalSkillLevel;break;case"元素爆発ダメージ":a=e.elementalBurstLevel;break}return a},u=(e,t)=>{const a=[];return["継続時間","クールタイム","元素エネルギー"].forEach((n=>{const s=Object.keys(e).filter((e=>e.endsWith(n)));for(const i of s){let n=e[i];l().isPlainObject(n)&&(n=n[String(t)]),a.push([i,n])}})),a},d=(e,t)=>l().isPlainObject(e)?e[String(t)]:e;return{displayName:t,displayStatValue:a,statsInfoList:n,constellationInfoList:s,passiveTalentInfoList:o,talentNormalAttack:r,levelNormalAttack:c,talentAttributes:u,talentValue:d}}});const qa=(0,Q.Z)(Ta,[["render",Gt],["__scopeId","data-v-23b92c10"]]);var Ea=qa;const Ya={key:0},xa={class:"title"},Pa={class:"stat"},Wa={class:"stat-value"},Fa={class:"stat"},Ka={class:"stat-value"},Za={class:"title",colspan:"3"},Ga=["innerHTML"],Ba={class:"select-list"},Xa=["src","alt","onClick"],$a={class:"tooltip"};function Ja(e,t,a,n,l,s){return e.visible?((0,i.wg)(),(0,i.iD)("div",Ya,[(0,i._)("table",null,[(0,i._)("tr",null,[(0,i._)("th",xa,(0,o.zw)(e.displayName(e.weaponMaster.名前)),1),(0,i._)("th",Pa,(0,o.zw)(e.displayName("基礎攻撃力")),1),(0,i._)("td",Wa,(0,o.zw)(e.displayStatValue("基礎攻撃力",e.stats[0].value)),1)]),(0,i._)("tr",null,[(0,i._)("td",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Array.from({length:e.weaponMaster.レアリティ},((e,t)=>t)),(e=>((0,i.wg)(),(0,i.iD)("img",{class:"star",src:"images/star.png",alt:"star",key:e})))),128))]),(0,i._)("th",Fa,[e.stats[1]?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,o.zw)(e.displayName(e.stats[1].key)),1)],64)):(0,i.kq)("",!0)]),(0,i._)("td",Ka,[e.stats[1]?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,o.zw)(e.displayStatValue(e.stats[1].key,e.stats[1].value)),1)],64)):(0,i.kq)("",!0)])]),e.weaponMaster.武器スキル?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("tr",null,[(0,i._)("th",Za,(0,o.zw)(e.weaponMaster.武器スキル.名前),1)]),(0,i._)("tr",null,[(0,i._)("td",{colspan:"3",class:"description",innerHTML:e.weaponMaster.武器スキル.説明},null,8,Ga)])],64)):(0,i.kq)("",!0)]),(0,i._)("ul",Ba,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filteredList,(t=>((0,i.wg)(),(0,i.iD)("li",{class:"icon",key:t.key},[(0,i._)("img",{class:(0,o.C_)("weapon"+e.bgImageClass(t)+e.selectedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.updateWeapon(t.key)},null,10,Xa),(0,i._)("div",$a,(0,o.zw)(e.displayName(t.key)),1)])))),128))])])):(0,i.kq)("",!0)}var Qa=(0,i.aZ)({name:"WeaponSelect",props:{visible:{type:Boolean,required:!0},weapon:{type:String,required:!0},weaponType:{type:String},weaponMaster:{type:Object,required:!0},ascension:{type:Number,required:!0},level:{type:Number,required:!0}},emits:["update:weapon"],setup(e,t){const{displayName:a,displayStatValue:n}=(0,$.Z)(),l=e=>" "+tt.dr[e.レアリティ],s=t=>t.key==e.weapon?" selected":"",o=(0,F.iH)(e.weapon),r=(0,i.Fl)((()=>{const t=[];if(e.weaponMaster&&e.weaponMaster.ステータス&&void 0!==e.ascension&&void 0!==e.level)for(const a of Object.keys(e.weaponMaster.ステータス))t.push({key:a,value:$t(e.weaponMaster.ステータス[a],e.ascension,e.level)});return t})),c=(0,i.Fl)((()=>{if(e.weaponType)return tt.JP[e.weaponType];const t=[];return Object.keys(tt.JP).forEach((e=>{const a=tt.JP[e];t.push(...a)})),t})),u=async e=>{o.value=e,await(0,i.Y3)(),t.emit("update:weapon",e)};return{displayName:a,displayStatValue:n,bgImageClass:l,selectedClass:s,filteredList:c,updateWeapon:u,stats:r}}});const en=(0,Q.Z)(Qa,[["render",Ja],["__scopeId","data-v-5400b8d1"]]);var tn=en,an=a(1586);const nn=e=>((0,i.dD)("data-v-cffe726c"),e=e(),(0,i.Cn)(),e),ln={key:0},sn={class:"two"},on=nn((()=>(0,i._)("option",{value:""},null,-1))),rn=["value"],cn={class:"two"},un=nn((()=>(0,i._)("option",{value:""},null,-1))),dn=["value"],pn={class:"three"},mn=nn((()=>(0,i._)("option",{value:""},null,-1))),fn=["value"],gn={class:"three"},yn=nn((()=>(0,i._)("option",{value:""},null,-1))),hn=["value"],bn={class:"three"},wn=nn((()=>(0,i._)("option",{value:""},null,-1))),vn=["value"],_n={class:"detail"},kn={class:"stat-value"},Sn=["step"],Dn={key:1},Cn=["min","step"],On={key:1},Rn={class:"stat-value"},Vn=["step"],Nn={key:1},In=["min","step"],Mn={key:1},jn={class:"stat-value"},Hn=["step"],zn={key:1},An=["min","step"],Ln={key:1},Un={class:"stat-value"},Tn=["step"],qn={key:1},En=["min","step"],Yn={key:1},xn={class:"stat-value"},Pn=["step"],Wn={key:1},Fn=["min","step"],Kn={key:1},Zn={class:"stat-value"},Gn=["step"],Bn={key:1},Xn=["min","step"],$n={key:1},Jn={class:"stat-value"},Qn=["step"],el={key:1},tl=["min","step"],al={key:1},nl={rowspan:"4",colspan:"2",style:{"border-color":"transparent"}},ll={class:"button"},sl={style:{position:"relative"}},il={key:0,class:"wait-icon",src:"images/icon_loader_f_ww_01_s1.gif",width:"25",height:"25"},ol={class:"stat-value"},rl=["step"],cl={key:1},ul=["min","step"],dl={key:1},pl={class:"stat-value"},ml=["step"],fl={key:1},gl=["min","step"],yl={key:1},hl={class:"stat-value"},bl=["step"],wl={key:1},vl=["min","step"],_l={key:1},kl={class:"tab-switch"},Sl={for:"input-mode-tab-1"},Dl={for:"input-mode-tab-2"},Cl={class:"sub-input"},Ol={key:0},Rl={class:"priority-substat"},Vl={style:{"border-color":"transparent"}},Nl=["onUpdate:modelValue"],Il=nn((()=>(0,i._)("option",{value:""},null,-1))),Ml=["value"],jl=["onUpdate:modelValue"],Hl=["value"],zl=["onUpdate:modelValue"],Al=["value"],Ll={style:{"border-color":"transparent"}},Ul={style:{"border-color":"transparent"}},Tl=["disabled"],ql=["value"],El={key:1,class:"artifact-cat-select"},Yl={class:"cat-select"},xl=["alt"],Pl=["alt"],Wl=["alt"],Fl=["alt"],Kl=["alt"],Zl={key:0,class:"artifact-select-list"},Gl=nn((()=>(0,i._)("canvas",{id:"artifact-stats-canvas"},null,-1))),Bl=[Gl];function Xl(e,t,a,n,l,r){const c=(0,i.up)("ArtifactItem"),u=(0,i.up)("ArtifactDetailOcrResult");return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.visible?((0,i.wg)(),(0,i.iD)("div",ln,[(0,i._)("fieldset",null,[(0,i._)("legend",null,(0,o.zw)(e.displayName("聖遺物詳細")),1),(0,i._)("label",sn,[(0,i.Uk)((0,o.zw)(e.displayName("生の花"))+" ",1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.mainstats[0]=t),onChange:t[1]||(t[1]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[on,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mainstat1List,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,o.zw)(e.displayName(t)),9,rn)))),128))],544),[[s.bM,e.mainstats[0]]])]),(0,i._)("label",cn,[(0,i.Uk)((0,o.zw)(e.displayName("死の羽"))+" ",1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.mainstats[1]=t),onChange:t[3]||(t[3]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[un,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mainstat2List,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,o.zw)(e.displayName(t)),9,dn)))),128))],544),[[s.bM,e.mainstats[1]]])]),(0,i._)("label",pn,[(0,i.Uk)((0,o.zw)(e.displayName("時の砂"))+" ",1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.mainstats[2]=t),onChange:t[5]||(t[5]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[mn,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mainstat3List,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,o.zw)(e.displayName(t)),9,fn)))),128))],544),[[s.bM,e.mainstats[2]]])]),(0,i._)("label",gn,[(0,i.Uk)((0,o.zw)(e.displayName("空の杯"))+" ",1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.mainstats[3]=t),onChange:t[7]||(t[7]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[yn,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mainstat4List,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,o.zw)(e.displayName(t)),9,hn)))),128))],544),[[s.bM,e.mainstats[3]]])]),(0,i._)("label",bn,[(0,i.Uk)((0,o.zw)(e.displayName("理の冠"))+" ",1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.mainstats[4]=t),onChange:t[9]||(t[9]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[wn,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.mainstat5List,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,o.zw)(e.displayName(t)),9,vn)))),128))],544),[[s.bM,e.mainstats[4]]])]),(0,i._)("table",_n,[(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("HP")),1),(0,i._)("td",kn,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[10]||(t[10]=t=>e.artifactStatsSub["HP"]=t),min:0,step:e.substatStep("HP"),onChange:t[11]||(t[11]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Sn)),[[s.nr,e.artifactStatsSub["HP"]]]):((0,i.wg)(),(0,i.iD)("span",Dn,(0,o.zw)(e.displayStatValue("HP",e.artifactStatsSub["HP"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[12]||(t[12]=t=>e.artifactStats["HP"]=t),min:e.substatMin("HP"),step:e.substatStep("HP"),onChange:t[13]||(t[13]=t=>e.artifactStatsOnChange("HP",e.targetValue(t)))},null,40,Cn)),[[s.nr,e.artifactStats["HP"]]]):((0,i.wg)(),(0,i.iD)("span",On,(0,o.zw)(e.displayStatValue("HP",e.artifactStats["HP"])),1))],64))]),(0,i._)("th",null,(0,o.zw)(e.displayName("HP%")),1),(0,i._)("td",Rn,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[14]||(t[14]=t=>e.artifactStatsSub["HP%"]=t),min:0,step:e.substatStep("HP%"),onChange:t[15]||(t[15]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Vn)),[[s.nr,e.artifactStatsSub["HP%"]]]):((0,i.wg)(),(0,i.iD)("span",Nn,(0,o.zw)(e.displayStatValue("HP%",e.artifactStatsSub["HP%"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[16]||(t[16]=t=>e.artifactStats["HP%"]=t),min:e.substatMin("HP%"),step:e.substatStep("HP%"),onChange:t[17]||(t[17]=t=>e.artifactStatsOnChange("HP%",e.targetValue(t)))},null,40,In)),[[s.nr,e.artifactStats["HP%"]]]):((0,i.wg)(),(0,i.iD)("span",Mn,(0,o.zw)(e.displayStatValue("HP%",e.artifactStats["HP%"])),1))],64))])]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("攻撃力")),1),(0,i._)("td",jn,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[18]||(t[18]=t=>e.artifactStatsSub["攻撃力"]=t),min:0,step:e.substatStep("攻撃力"),onChange:t[19]||(t[19]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Hn)),[[s.nr,e.artifactStatsSub["攻撃力"]]]):((0,i.wg)(),(0,i.iD)("span",zn,(0,o.zw)(e.displayStatValue("攻撃力",e.artifactStatsSub["攻撃力"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[20]||(t[20]=t=>e.artifactStats["攻撃力"]=t),min:e.substatMin("攻撃力"),step:e.substatStep("攻撃力"),onChange:t[21]||(t[21]=t=>e.artifactStatsOnChange("攻撃力",e.targetValue(t)))},null,40,An)),[[s.nr,e.artifactStats["攻撃力"]]]):((0,i.wg)(),(0,i.iD)("span",Ln,(0,o.zw)(e.displayStatValue("攻撃力",e.artifactStats["攻撃力"])),1))],64))]),(0,i._)("th",null,(0,o.zw)(e.displayName("攻撃力%")),1),(0,i._)("td",Un,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[22]||(t[22]=t=>e.artifactStatsSub["攻撃力%"]=t),min:0,step:e.substatStep("攻撃力%"),onChange:t[23]||(t[23]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Tn)),[[s.nr,e.artifactStatsSub["攻撃力%"]]]):((0,i.wg)(),(0,i.iD)("span",qn,(0,o.zw)(e.displayStatValue("攻撃力%",e.artifactStatsSub["攻撃力%"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[24]||(t[24]=t=>e.artifactStats["攻撃力%"]=t),min:e.substatMin("攻撃力%"),step:e.substatStep("攻撃力%"),onChange:t[25]||(t[25]=t=>e.artifactStatsOnChange("攻撃力%",e.targetValue(t)))},null,40,En)),[[s.nr,e.artifactStats["攻撃力%"]]]):((0,i.wg)(),(0,i.iD)("span",Yn,(0,o.zw)(e.displayStatValue("攻撃力%",e.artifactStats["攻撃力%"])),1))],64))])]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("防御力")),1),(0,i._)("td",xn,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[26]||(t[26]=t=>e.artifactStatsSub["防御力"]=t),min:0,step:e.substatStep("防御力"),onChange:t[27]||(t[27]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Pn)),[[s.nr,e.artifactStatsSub["防御力"]]]):((0,i.wg)(),(0,i.iD)("span",Wn,(0,o.zw)(e.displayStatValue("防御力",e.artifactStatsSub["防御力"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[28]||(t[28]=t=>e.artifactStats["防御力"]=t),min:e.substatMin("防御力"),step:e.substatStep("防御力"),onChange:t[29]||(t[29]=t=>e.artifactStatsOnChange("防御力",e.targetValue(t)))},null,40,Fn)),[[s.nr,e.artifactStats["防御力"]]]):((0,i.wg)(),(0,i.iD)("span",Kn,(0,o.zw)(e.displayStatValue("防御力",e.artifactStats["防御力"])),1))],64))]),(0,i._)("th",null,(0,o.zw)(e.displayName("防御力%")),1),(0,i._)("td",Zn,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[30]||(t[30]=t=>e.artifactStatsSub["防御力%"]=t),min:0,step:e.substatStep("防御力%"),onChange:t[31]||(t[31]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Gn)),[[s.nr,e.artifactStatsSub["防御力%"]]]):((0,i.wg)(),(0,i.iD)("span",Bn,(0,o.zw)(e.displayStatValue("防御力%",e.artifactStatsSub["防御力%"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[32]||(t[32]=t=>e.artifactStats["防御力%"]=t),min:e.substatMin("防御力%"),step:e.substatStep("防御力%"),onChange:t[33]||(t[33]=t=>e.artifactStatsOnChange("防御力%",e.targetValue(t)))},null,40,Xn)),[[s.nr,e.artifactStats["防御力%"]]]):((0,i.wg)(),(0,i.iD)("span",$n,(0,o.zw)(e.displayStatValue("防御力%",e.artifactStats["防御力%"])),1))],64))])]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("元素熟知")),1),(0,i._)("td",Jn,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[34]||(t[34]=t=>e.artifactStatsSub["元素熟知"]=t),min:0,step:e.substatStep("元素熟知"),onChange:t[35]||(t[35]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Qn)),[[s.nr,e.artifactStatsSub["元素熟知"]]]):((0,i.wg)(),(0,i.iD)("span",el,(0,o.zw)(e.displayStatValue("元素熟知",e.artifactStatsSub["元素熟知"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[36]||(t[36]=t=>e.artifactStats["元素熟知"]=t),min:e.substatMin("元素熟知"),step:e.substatStep("元素熟知"),onChange:t[37]||(t[37]=t=>e.artifactStatsOnChange("元素熟知",e.targetValue(t)))},null,40,tl)),[[s.nr,e.artifactStats["元素熟知"]]]):((0,i.wg)(),(0,i.iD)("span",al,(0,o.zw)(e.displayStatValue("元素熟知",e.artifactStats["元素熟知"])),1))],64))]),(0,i._)("td",nl,[(0,i._)("div",null,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[38]||(t[38]=t=>e.editableRef=t)},null,512),[[s.e8,e.editableRef]]),(0,i.Uk)(" "+(0,o.zw)(e.displayName("直接入力モード")),1)])]),(0,i._)("div",null,[(0,i._)("label",ll,[(0,i.Uk)((0,o.zw)(e.displayName("聖遺物詳細画面OCR"))+" ",1),(0,i._)("input",{class:"hidden",type:"file",id:"artifact-stats-image",onChange:t[39]||(t[39]=t=>e.loadArtifactStatsByOcr(t))},null,32)])]),(0,i._)("div",sl,[e.isScanning?((0,i.wg)(),(0,i.iD)("img",il)):(0,i.kq)("",!0)])])]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("会心率")),1),(0,i._)("td",ol,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[40]||(t[40]=t=>e.artifactStatsSub["会心率"]=t),min:0,step:e.substatStep("会心率"),onChange:t[41]||(t[41]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,rl)),[[s.nr,e.artifactStatsSub["会心率"]]]):((0,i.wg)(),(0,i.iD)("span",cl,(0,o.zw)(e.displayStatValue("会心率",e.artifactStatsSub["会心率"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[42]||(t[42]=t=>e.artifactStats["会心率"]=t),min:e.substatMin("会心率"),step:e.substatStep("会心率"),onChange:t[43]||(t[43]=t=>e.artifactStatsOnChange("会心率",e.targetValue(t)))},null,40,ul)),[[s.nr,e.artifactStats["会心率"]]]):((0,i.wg)(),(0,i.iD)("span",dl,(0,o.zw)(e.displayStatValue("会心率",e.artifactStats["会心率"])),1))],64))])]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("会心ダメージ")),1),(0,i._)("td",pl,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[44]||(t[44]=t=>e.artifactStatsSub["会心ダメージ"]=t),min:0,step:e.substatStep("会心ダメージ"),onChange:t[45]||(t[45]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,ml)),[[s.nr,e.artifactStatsSub["会心ダメージ"]]]):((0,i.wg)(),(0,i.iD)("span",fl,(0,o.zw)(e.displayStatValue("会心ダメージ",e.artifactStatsSub["会心ダメージ"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[46]||(t[46]=t=>e.artifactStats["会心ダメージ"]=t),min:e.substatMin("会心ダメージ"),step:e.substatStep("会心ダメージ"),onChange:t[47]||(t[47]=t=>e.artifactStatsOnChange("会心ダメージ",e.targetValue(t)))},null,40,gl)),[[s.nr,e.artifactStats["会心ダメージ"]]]):((0,i.wg)(),(0,i.iD)("span",yl,(0,o.zw)(e.displayStatValue("会心ダメージ",e.artifactStats["会心ダメージ"])),1))],64))])]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("元素チャージ効率")),1),(0,i._)("td",hl,[e.isSubStatOnly?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[48]||(t[48]=t=>e.artifactStatsSub["元素チャージ効率"]=t),min:0,step:e.substatStep("元素チャージ効率"),onChange:t[49]||(t[49]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,bl)),[[s.nr,e.artifactStatsSub["元素チャージ効率"]]]):((0,i.wg)(),(0,i.iD)("span",wl,(0,o.zw)(e.displayStatValue("元素チャージ効率",e.artifactStatsSub["元素チャージ効率"])),1))],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.editableRef?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number","onUpdate:modelValue":t[50]||(t[50]=t=>e.artifactStats["元素チャージ効率"]=t),min:e.substatMin("元素チャージ効率"),step:e.substatStep("元素チャージ効率"),onChange:t[51]||(t[51]=t=>e.artifactStatsOnChange("元素チャージ効率",e.targetValue(t)))},null,40,vl)),[[s.nr,e.artifactStats["元素チャージ効率"]]]):((0,i.wg)(),(0,i.iD)("span",_l,(0,o.zw)(e.displayStatValue("元素チャージ効率",e.artifactStats["元素チャージ効率"])),1))],64))])])])]),(0,i._)("div",kl,[(0,i.wy)((0,i._)("input",{class:"hidden",id:"input-mode-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[52]||(t[52]=t=>e.artifactInputModeTab=t)},null,512),[[s.G2,e.artifactInputModeTab]]),(0,i._)("label",Sl,(0,o.zw)(e.displayName("簡易設定")),1),(0,i.wy)((0,i._)("input",{class:"hidden",id:"input-mode-tab-2",type:"radio",value:"2","onUpdate:modelValue":t[53]||(t[53]=t=>e.artifactInputModeTab=t)},null,512),[[s.G2,e.artifactInputModeTab]]),(0,i._)("label",Dl,(0,o.zw)(e.displayName("個別設定")),1)]),(0,i._)("div",Cl,["1"==e.artifactInputModeTab?((0,i.wg)(),(0,i.iD)("fieldset",Ol,[(0,i._)("table",Rl,[(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("優先するサブ効果")),1),(0,i._)("th",null,(0,o.zw)(e.displayName("上昇値")),1),(0,i._)("th",null,(0,o.zw)(e.displayName("初期+強化")),1),(0,i._)("td",Vl,"合計 "+(0,o.zw)(e.upTotalCount)+" 回",1)]),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)([0,1,2],(a=>(0,i._)("tr",{key:a},[(0,i._)("td",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t=>e.prioritySubstats[a]=t,onChange:t[54]||(t[54]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[Il,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.prioritySubstatList,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,o.zw)(e.displayName(t)),9,Ml)))),128))],40,Nl),[[s.bM,e.prioritySubstats[a]]])]),(0,i._)("td",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t=>e.prioritySubstatIndices[a]=t,onChange:t[55]||(t[55]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.prioritySubstatValueList(a),((e,t)=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,o.zw)(Math.round(10*e)/10),9,Hl)))),128))],40,jl),[[s.bM,e.prioritySubstatIndices[a]]])]),(0,i._)("td",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t=>e.prioritySubstatCounts[a]=t,onChange:t[56]||(t[56]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.prioritySubstatCountList,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e},(0,o.zw)(" × "+e),9,Al)))),128))],40,zl),[[s.bM,e.prioritySubstatCounts[a]]])]),(0,i.wy)((0,i._)("td",Ll,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[57]||(t[57]=t=>e.gensenEnabledRef=t)},null,512),[[s.e8,e.gensenEnabledRef]]),(0,i.Uk)(" "+(0,o.zw)(e.displayName("一括変更")),1)])],512),[[s.F8,0==a]]),(0,i.wy)((0,i._)("td",Ul,[(0,i.wy)((0,i._)("select",{class:"gensen","onUpdate:modelValue":t[58]||(t[58]=t=>e.gensenRef=t),onChange:t[59]||(t[59]=(...t)=>e.gensenOnChange&&e.gensenOnChange(...t)),disabled:!e.gensenEnabledRef},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.gensenMasterList,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t.key},(0,o.zw)(e.displayName(t.key)),9,ql)))),128))],40,Tl),[[s.bM,e.gensenRef]])],512),[[s.F8,1==a]])]))),64))])])):(0,i.kq)("",!0),"2"==e.artifactInputModeTab?((0,i.wg)(),(0,i.iD)("div",El,[(0,i._)("div",Yl,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"1","onUpdate:modelValue":t[60]||(t[60]=t=>e.artifactCatTabSelected=t),onChange:t[61]||(t[61]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/flower_of_life.png",alt:e.displayName("生の花")},null,8,xl)]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"2","onUpdate:modelValue":t[62]||(t[62]=t=>e.artifactCatTabSelected=t),onChange:t[63]||(t[63]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/plume_of_death.png",alt:e.displayName("死の羽")},null,8,Pl)]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"3","onUpdate:modelValue":t[64]||(t[64]=t=>e.artifactCatTabSelected=t),onChange:t[65]||(t[65]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/sands_of_eon.png",alt:e.displayName("時の砂")},null,8,Wl)]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"4","onUpdate:modelValue":t[66]||(t[66]=t=>e.artifactCatTabSelected=t),onChange:t[67]||(t[67]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/goblet_of_eonothem.png",alt:e.displayName("空の杯")},null,8,Fl)]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"5","onUpdate:modelValue":t[68]||(t[68]=t=>e.artifactCatTabSelected=t),onChange:t[69]||(t[69]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/circlet_of_logos.png",alt:e.displayName("理の冠")},null,8,Kl)])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.artifactListCat(e.artifactCatTabSelected),((e,t)=>((0,i.wg)(),(0,i.j4)(c,{key:t,artifact:e},null,8,["artifact"])))),128)),(0,i._)("div",null,[e.artifactListCat(e.artifactCatTabSelected).length?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("button",{type:"button",onClick:t[70]||(t[70]=(...t)=>e.artifactEquipOnClick&&e.artifactEquipOnClick(...t))},(0,o.zw)(e.displayName("装備")),1),(0,i._)("button",{type:"button",onClick:t[71]||(t[71]=(...t)=>e.artifactRemoveOnClick&&e.artifactRemoveOnClick(...t))},(0,o.zw)(e.displayName("解除")),1)],64)):((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",onClick:t[72]||(t[72]=(...t)=>e.artifactReplaceOnClick&&e.artifactReplaceOnClick(...t))},(0,o.zw)(e.displayName("変更")),1))]),e.isArtifactSelectListShow?((0,i.wg)(),(0,i.iD)("div",Zl,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.artifactOwnArrCatId(e.artifactCatTabSelected),(t=>((0,i.wg)(),(0,i.j4)(c,{key:t.id,artifact:t.artifact,id:t.id,controls:["select"],"onSelect:artifact":e.selectArtifact},null,8,["artifact","id","onSelect:artifact"])))),128))])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0),(0,i._)("div",null,[(0,i.Wm)(u,{visible:e.ocrResultVisible,ocrResult:e.ocrResult,"onCancel:artifactDetailOcrResult":e.cancelArtifactDetailOcrResult,"onAccept:artifactDetailOcrResult":e.acceptArtifactDetailOcrResult},null,8,["visible","ocrResult","onCancel:artifactDetailOcrResult","onAccept:artifactDetailOcrResult"])]),(0,i.wy)((0,i._)("div",null,Bl,512),[[s.F8,!1]])],64)}const $l=e=>((0,i.dD)("data-v-7f3f3a1f"),e=e(),(0,i.Cn)(),e),Jl={class:"modal"},Ql={class:"modal-content"},es={class:"ocr-result"},ts=$l((()=>(0,i._)("caption",null,"OCR RESULT",-1))),as=$l((()=>(0,i._)("br",null,null,-1)));function ns(e,t,a,n,l,r){return(0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.wy)((0,i._)("div",Jl,[(0,i._)("div",Ql,[(0,i._)("table",es,[ts,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.items,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.key},[(0,i._)("th",null,(0,o.zw)(e.displayStatName(t.key)),1),(0,i._)("td",null,(0,o.zw)(e.displayStatValue(t.key,t.value)),1)])))),128))]),as,(0,i._)("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.ok&&e.ok(...t))}," OK "),(0,i._)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.cancel&&e.cancel(...t))}," CANCEL ")])],512),[[s.F8,e.visible]])])}var ls=(0,i.aZ)({name:"ArtifactDetailOcrResult",props:{visible:{type:Boolean,required:!0,default:!1},ocrResult:{type:Object,required:!0}},emits:["cancel:artifact-detail-ocr-result","accept:artifact-detail-ocr-result"],setup(e,t){const{displayStatName:a,displayStatValue:n}=(0,$.Z)(),l=(0,i.Fl)((()=>Object.keys(e.ocrResult).map((t=>({key:t,value:e.ocrResult[t]}))))),s=()=>{t.emit("cancel:artifact-detail-ocr-result")},o=()=>{t.emit("accept:artifact-detail-ocr-result")};return{displayStatName:a,displayStatValue:n,items:l,cancel:s,ok:o}}});const ss=(0,Q.Z)(ls,[["render",ns],["__scopeId","data-v-7f3f3a1f"]]);var is=ss,os=a(3670),rs=a(6124),cs=a.n(rs);const{createWorker:us}=cs();let ds="0123456789.%+";function ps(e){return new Promise((function(t,a){const n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(e){a(e)},n.readAsDataURL(e)}))}function ms(e){return new Promise((function(t,a){const n=new Image;n.onload=function(){t(n)},n.onerror=function(e){a(e)},n.src=e.toString()}))}async function fs(e){const t=await ps(e),a=await ms(t),n=document.getElementById("artifact-stats-canvas"),l=n.getContext("2d"),s=2;n.width=a.width*s,n.height=a.height*s,l.drawImage(a,0,0,n.width,n.height);const i=l.getImageData(0,0,n.width,n.height);for(let o=0;o<i.height;o++)for(let e=0;e<i.width;e++){const t=4*o*i.width+4*e,a=(i.data[t]+i.data[t+1]+i.data[t+2])/3;i.data[t]=255-(a<64?0:i.data[t]),i.data[t+1]=255-(a<64?0:i.data[t+1]),i.data[t+2]=255-(a<64?0:i.data[t+2])}return l.putImageData(i,0,0,0,0,i.width,i.height),n}function gs(e){console.log(e),e=e.replace(/[,\s]/g,""),e=e.replace(/[Ａ-Ｚａ-ｚ０-９]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})),e=e.replace(/[①②③④⑤⑥⑦⑧⑨]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-("①".charCodeAt(0)-"1".charCodeAt(0)))})),[["⑪","11"],["⑫","12"],["⑬","13"],["⑭","14"],["⑮","15"],["⑯","16"],["⑰","17"],["⑱","18"],["⑲","19"],["⑳","20"]].forEach((t=>{e=e.replace(new RegExp(t[0],"g"),t[1])})),console.log(e);const t={};return["HP上限","攻撃力","防御力","元素.*?知","会心率","会心ダメージ","元素チャージ効率"].forEach((a=>{let n=a;"HP上限"==a&&(n="HP"),"元素.*?知"==a&&(n="元素熟知");const l=new RegExp(a+"\\+([0-9\\.]+)"),s=l.exec(e);s?(["HP","攻撃力","防御力","元素熟知"].includes(n)?t[n]=Number(s[1].replace(".","")):t[n]=Number(s[1]),console.log(n,t[n])):t[n]=0})),t}async function ys(e){const t=await fs(e),a=us({logger:e=>console.debug(e)});await a.load(),await a.loadLanguage("jpn"),await a.initialize("jpn"),await a.setParameters({tessedit_char_whitelist:ds,preserve_interword_spaces:"1"});const{data:{text:n}}=await a.recognize(t);await a.terminate();const l=gs(n);return l}async function hs(e){let t;const a=e.currentTarget,n=a.files;if(n&&n[0]){const e=n[0];e.type.match("image.*")&&(a.files=null,a.value="",t=await ys(e))}return console.log("resizePinnedImage",t),t}["HP上限","攻撃力","防御力","元素熟知","会心率","会心ダメージ","元素チャージ効率","基本ステータス","高級ステータス","元素ステータス","スタミナ上限","与える治療効果","受ける治療効果","クールタイム短縮","シールド強化","炎元素ダメージ","水元素ダメージ","風元素ダメージ","雷元素ダメージ","草元素ダメージ","氷元素ダメージ","岩元素ダメージ","物理ダメージ","？"].forEach((e=>{e.split("").forEach((e=>{-1==ds.indexOf(e)&&(ds+=e)}))}));var bs=1,ws=(0,i.aZ)({name:"ArtifactDetailInput",props:{visible:Boolean,artifactDetailInput:{type:Object,required:!0},isSubStatOnly:{type:Boolean}},components:{ArtifactDetailOcrResult:is,ArtifactItem:os.Z},emits:["update:artifact-detail"],setup(e,t){const{displayName:a,targetValue:n,displayStatValue:s}=(0,$.Z)(),o="artifact_list",r=(0,F.qj)(e.artifactDetailInput),c=(0,F.qj)(r.聖遺物メイン効果),u=(0,F.qj)(r.聖遺物優先するサブ効果),d=(0,F.qj)(r.聖遺物優先するサブ効果上昇値),p=(0,F.qj)(r.聖遺物優先するサブ効果上昇回数),m=(0,F.qj)(r.聖遺物ステータス),f=(0,F.qj)(r.聖遺物ステータスメイン効果),g=(0,F.qj)(r.聖遺物ステータスサブ効果),y=(0,F.qj)(r.artifact_list),h=(0,F.qj)([]),b=(0,F.iH)(!1),w=(0,F.iH)(!1),v=tt.Ml,_=(0,F.iH)(tt.Ml[2]),k=(0,F.iH)(!1),S=(0,F.iH)("1"),D=(0,F.iH)(1),C=(0,i.Fl)((()=>{let e=0;for(let t of p)e+=t;return Math.min(45,40+Math.round(Math.max(0,(e-12)/4)))})),O=(e,t)=>(0,et.kE)(u,e,t),R=e=>e in f?f[e]:0,V=e=>["HP","攻撃力","防御力","元素熟知"].includes(e)?1:.1,N=()=>{k.value=!1},I=e=>{const t=y.filter((t=>t.cat_id==Number(e)));return t},M=()=>{k.value=!0},j=()=>{const e=D.value,t=y.filter((t=>t.cat_id!=Number(e)));y.splice(0,y.length,...t)},H=()=>{k.value=!0},z=e=>{const t=h.filter((t=>t.id==e));t.length&&console.log(t[0].artifact),k.value=!1},A=e=>{const t=h.filter((t=>t.artifact.cat_id==Number(e)));return t.sort(((e,t)=>{if(e.artifact.setname!=t.artifact.setname){const a=Object.keys(tt.oN),n=a.indexOf(e.artifact.setname),l=a.indexOf(t.artifact.setname);return n-l}if(e.artifact.mainStat!=t.artifact.mainStat){const a=Object.keys(et.LA),n=a.indexOf(e.artifact.mainStat),l=a.indexOf(t.artifact.mainStat);return n-l}return 0}))},L=()=>{ea(f,c)},U=()=>{if(r.聖遺物優先するサブ効果Disabled)return;const e=[O(0),O(1),O(2)];ta(g,c,u,d,e,p)};L(),U(),aa(r);const T=async()=>{L(),aa(r),await(0,i.Y3)(),t.emit("update:artifact-detail",r)},q=async(e,a)=>{Object.keys(m).filter((t=>!e||t==e)).forEach((t=>{t==e&&void 0!==a&&(g[t]=Number(a)),g[t]=m[t]-f[t],g[t]<0&&(g[t]=0,m[t]=f[t])})),aa(r),await(0,i.Y3)(),t.emit("update:artifact-detail",r)},E=async()=>{aa(r),await(0,i.Y3)(),t.emit("update:artifact-detail",r)},Y=async()=>{r.聖遺物優先するサブ効果Disabled=!1,U(),aa(r),await(0,i.Y3)(),t.emit("update:artifact-detail",r)},x=async()=>{r.聖遺物優先するサブ効果Disabled=!1,w.value=!1,_.value&&_.value.key&&(d.splice(0,d.length,..._.value.values),p.splice(0,p.length,..._.value.counts),U(),aa(r),await(0,i.Y3)(),t.emit("update:artifact-detail",r))},P=async()=>{r.聖遺物優先するサブ効果Disabled=!0;for(const e of Object.keys(g))g[e]=0;aa(r),await(0,i.Y3)(),t.emit("update:artifact-detail",r)},W=(0,F.iH)(!1),K=(0,F.iH)(!1),Z=(0,F.qj)({}),G=async e=>{W.value=!0;const t=await hs(e);W.value=!1,t&&((0,Bt.fX)(Z,t),K.value=!0)},B=()=>{K.value=!1},X=()=>{if(B(),Z){r.聖遺物優先するサブ効果Disabled=!0;for(const e of Object.keys(g))g[e]=e in Z?Z[e]:0;for(const[e,t]of c.entries())t.endsWith("ダメージバフ")||"与える治療効果"==t||c.splice(e,1,"");T()}},J=()=>{if(o in localStorage){const e=JSON.parse(localStorage[o]),t=e.filter((e=>"setname"in e)).map((e=>({id:bs++,artifact:e})));h.splice(0,h.length,...t)}};return J(),(0,i.YP)(e,((e,t)=>{if(!l().isEqual(e.artifactDetailInput.artifact_list,t?.artifactDetailInput?.artifact_list))for(let a=1;a<=5;a++)I(a)})),{displayName:a,targetValue:n,displayStatValue:s,mainstat1List:et.jq,mainstat2List:et.YO,mainstat3List:et.wn,mainstat4List:et.i1,mainstat5List:et.Mz,substatMin:R,substatStep:V,prioritySubstatList:et.kA,prioritySubstatValueList:O,prioritySubstatCountList:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],mainstats:c,prioritySubstats:u,prioritySubstatIndices:d,prioritySubstatCounts:p,artifactStats:m,artifactStatsSub:g,upTotalCount:C,editableRef:b,gensenEnabledRef:w,gensenRef:_,gensenMasterList:v,gensenOnChange:x,artifactStatsOnChange:q,artifactStatsSubOnChange:E,updateMainstats:T,updatePrioritySubstats:Y,artifactCatTabOnChange:N,artifactListCat:I,artifactEquipOnClick:M,artifactRemoveOnClick:j,artifactReplaceOnClick:H,isArtifactSelectListShow:k,artifactOwnArrCatId:A,selectArtifact:z,artifactInputModeTab:S,artifactCatTabSelected:D,loadArtifactStatsByOcr:G,isScanning:W,ocrResultVisible:K,ocrResult:Z,cancelArtifactDetailOcrResult:B,acceptArtifactDetailOcrResult:X,initializeArtifactStatsSub:P}}});const vs=(0,Q.Z)(ws,[["render",Xl],["__scopeId","data-v-cffe726c"]]);var _s=vs;const ks=e=>((0,i.dD)("data-v-1df016a8"),e=e(),(0,i.Cn)(),e),Ss=["onUpdate:modelValue","onChange"],Ds=["onUpdate:modelValue","onChange"],Cs=["value"],Os=["onUpdate:modelValue","min","max","step","onChange"],Rs={style:{"text-align":"center"}},Vs={class:"open-close"},Ns=ks((()=>(0,i._)("span",null,null,-1))),Is={key:0,class:"option-description"};function Ms(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)("fieldset",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.checkboxList,(t=>((0,i.wg)(),(0,i.iD)("label",{key:t.name},[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,onChange:a=>e.updateCondition(a,t)},null,40,Ss),[[s.e8,e.conditionValues[t.name]]]),(0,i._)("span",null,(0,o.zw)(e.displayName(t.name)),1)])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.selectList,(t=>((0,i.wg)(),(0,i.iD)("label",{key:t.name},[(0,i._)("span",null,(0,o.zw)(e.displayName(t.name)),1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":a=>e.conditionValues[t.name]=a,onChange:a=>e.updateCondition(a,t)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.options,((t,a)=>((0,i.wg)(),(0,i.iD)("option",{value:a,key:a},(0,o.zw)(e.displayOptionName(t)),9,Cs)))),128))],40,Ds),[[s.bM,e.conditionValues[t.name]]])])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.numberList,(t=>((0,i.wg)(),(0,i.iD)("label",{key:t.name},[(0,i._)("span",null,(0,o.zw)(e.displayName(t.name)),1),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,min:t.min,max:t.max,step:t.step,onChange:a=>e.updateCondition(a,t)},null,40,Os),[[s.nr,e.conditionValues[t.name]]])])))),128)),(0,i._)("div",Rs,[(0,i._)("label",Vs,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.isDisplayDescription=t)},null,512),[[s.e8,e.isDisplayDescription]]),Ns])]),e.isDisplayDescription?((0,i.wg)(),(0,i.iD)("ul",Is,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.displayStatAjustmentList,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},(0,o.zw)(e),1)))),128))])):(0,i.kq)("",!0)])}var js=(0,i.aZ)({name:"ConditionInput",props:{characterInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},conditionAdjustments:{type:Object,required:!0},statsObj:{type:Object}},emits:["update:condition"],setup(e,t){const{displayName:a,displayStatName:n,displayStatValue:s,displayOptionName:o}=(0,$.Z)(),r=(0,F.qj)(l().cloneDeep(e.conditionInput.checkboxList)),c=(0,F.qj)(l().cloneDeep(e.conditionInput.selectList)),u=(0,F.qj)(l().cloneDeep(e.conditionInput.numberList)),d=(0,F.qj)(l().cloneDeep(e.conditionInput.conditionValues)),p=(0,F.iH)(!1),m=e=>{u.splice(0,u.length,...e.numberList),(0,Bt.fX)(d,e.conditionValues)},f=e=>{r.splice(0,r.length,...e.checkboxList),c.splice(0,c.length,...e.selectList),u.splice(0,u.length,...e.numberList),m(e)},g=(0,i.Fl)((()=>{const t=new Map;return[e.characterInput.damageDetailMyCharacter,e.characterInput.damageDetailMyWeapon,e.characterInput.damageDetailMyArtifactSets].forEach((e=>{e&&e.排他&&e.排他.forEach(((e,a)=>{t.set(a,e)}))})),t})),y=async(e,a)=>{let n;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(n=g.value.get(a.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(n=g.value.get(a.name)),n&&n.forEach((e=>{r.filter((t=>t.name==e)).length>0&&(d[e]=!1),c.filter((t=>t.name==e)).length>0&&(d[e]=0)})),await(0,i.Y3)(),t.emit("update:condition",d)},h=(0,i.Fl)((()=>{const t=[];for(const a of Object.keys(e.conditionAdjustments)){const l=e.conditionAdjustments[a];let i=n(a).replace("%","");if(null==l);else if((0,Bt.hj)(l)){if(0==l)continue;l>=0&&("別枠乗算"==a.split(".")[0]?i+="=":i+="+"),i+=s(a,l)}else l&&(i+="="+l);t.push(i)}return t}));return{displayName:a,displayOptionName:o,updateNumberList:m,initialize:f,checkboxList:r,selectList:c,numberList:u,conditionValues:d,updateCondition:y,isDisplayDescription:p,displayStatAjustmentList:h}}});const Hs=(0,Q.Z)(js,[["render",Ms],["__scopeId","data-v-1df016a8"]]);var zs=Hs;const As={key:0,class:"stats"},Ls={colspan:"3"},Us={class:"open-close"},Ts=["onUpdate:modelValue"],qs=["onUpdate:modelValue"],Es={class:"stat-value"},Ys={class:"left"},xs={colspan:"2",class:"right"},Ps=["disabled"],Ws={key:1,class:"two-table"},Fs={class:"stats"},Ks={colspan:"2"},Zs={class:"open-close"},Gs=["onUpdate:modelValue"],Bs={class:"stat-value"},Xs={class:"stats"},$s={colspan:"2"},Js={class:"open-close"},Qs=["onUpdate:modelValue"],ei={class:"stat-value"},ti={class:"left"};function ai(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)("fieldset",null,[e.editable?((0,i.wg)(),(0,i.iD)("table",As,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.categoryList,(a=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[(0,i._)("tr",null,[(0,i._)("th",Ls,[(0,i._)("label",Us,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t=>e.categoryOpenClose[a]=t},null,8,Ts),[[s.e8,e.categoryOpenClose[a]]]),(0,i._)("span",null,(0,o.zw)(e.displayName(a)),1)])])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.visibleStatList(a),(a=>((0,i.wg)(),(0,i.iD)("tr",{key:a},[(0,i._)("th",null,(0,o.zw)(e.displayStatAbbrev(a)),1),(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":t=>e.statAdjustments[a]=t,onChange:t[0]||(t[0]=(...t)=>e.adjustmentsOnChange&&e.adjustmentsOnChange(...t))},null,40,qs),[[s.nr,e.statAdjustments[a]]])]),(0,i._)("td",Es,(0,o.zw)(e.displayStatValue(a,e.statsObj[a])),1)])))),128))],64)))),128)),(0,i._)("tr",null,[(0,i._)("td",Ys,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.editable=t)},null,512),[[s.e8,e.editable]]),(0,i.Uk)(" "+(0,o.zw)(e.displayName("補正値入力モード")),1)])]),(0,i._)("td",xs,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.initializable=t)},null,512),[[s.e8,e.initializable]]),(0,i.Uk)(" "+(0,o.zw)(e.displayName("補正値0初期化")),1)]),(0,i._)("button",{type:"button",disabled:!e.initializable,onClick:t[3]||(t[3]=(...t)=>e.initializeAdjustments&&e.initializeAdjustments(...t))},(0,o.zw)(e.displayName("実行")),9,Ps)])])])):(0,i.kq)("",!0),e.editable?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("table",Ws,[(0,i._)("tr",null,[(0,i._)("td",null,[(0,i._)("table",Fs,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.category1List,(t=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t},[(0,i._)("tr",null,[(0,i._)("th",Ks,[(0,i._)("label",Zs,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.categoryOpenClose[t]=a},null,8,Gs),[[s.e8,e.categoryOpenClose[t]]]),(0,i._)("span",null,(0,o.zw)(e.displayName(t)),1)])])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.visibleStatList(t),(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("th",null,(0,o.zw)(e.displayStatAbbrev(t)),1),(0,i._)("td",Bs,(0,o.zw)(e.displayStatValue(t,e.statsObj[t])),1)])))),128))],64)))),128))])]),(0,i._)("td",null,[(0,i._)("table",Xs,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.category2List,(t=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t},[(0,i._)("tr",null,[(0,i._)("th",$s,[(0,i._)("label",Js,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.categoryOpenClose[t]=a},null,8,Qs),[[s.e8,e.categoryOpenClose[t]]]),(0,i._)("span",null,(0,o.zw)(e.displayName(t)),1)])])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.visibleStatList(t),(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("th",null,(0,o.zw)(e.displayStatAbbrev(t)),1),(0,i._)("td",ei,(0,o.zw)(e.displayStatValue(t,e.statsObj[t])),1)])))),128))],64)))),128))])])]),(0,i._)("tr",null,[(0,i._)("td",ti,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.editable=t)},null,512),[[s.e8,e.editable]]),(0,i.Uk)(" "+(0,o.zw)(e.displayName("補正値入力モード")),1)])])])]))])}var ni=(0,i.aZ)({name:"StatsInput1",props:{statsInput:{type:Object,required:!0},category1List:{type:Array,required:!0},category2List:{type:Array,required:!0}},emits:["update:stat-adjustments"],setup(e,t){const{displayName:a,displayStatAbbrev:n,displayStatValue:l}=(0,$.Z)(),s=(0,F.qj)(e.statsInput),o=(0,F.iH)(!1),r=(0,F.iH)(!1),c=e=>et.kM.get(e),u=s.statsObj,d=s.statAdjustments,p=[...e.category1List,...e.category2List],m=(0,F.iH)({});for(const i of p)m.value[i]=!1;const f=e=>c(e)?.filter((t=>m.value[e]||s.statsObj&&s.statsObj[t]||s.statAdjustments&&s.statAdjustments[t]))??[],g=async()=>{await(0,i.Y3)(),t.emit("update:stat-adjustments",s.statAdjustments)},y=()=>{for(const e of p){const t=c(e);if(t)for(const e of t)s.statAdjustments[e]=0}g()};return y(),{displayName:a,displayStatAbbrev:n,displayStatValue:l,categoryList:p,statList:c,visibleStatList:f,statsObj:u,statAdjustments:d,categoryOpenClose:m,adjustmentsOnChange:g,editable:o,initializable:r,initializeAdjustments:y}}});const li=(0,Q.Z)(ni,[["render",ai],["__scopeId","data-v-1eeb9bd3"]]);var si=li;const ii=e=>((0,i.dD)("data-v-5e2a55ae"),e=e(),(0,i.Cn)(),e),oi={key:0,class:"next-step"},ri={key:0},ci={class:"right"},ui=["value"],di={class:"next-stat"},pi={key:0},mi={class:"name"},fi={class:"step"},gi=["onUpdate:modelValue","onChange"],yi=["value"],hi={class:"count"},bi=["onUpdate:modelValue"],wi=ii((()=>(0,i._)("th",{class:"damage"},null,-1))),vi=ii((()=>(0,i._)("td",null,null,-1))),_i=ii((()=>(0,i._)("td",null,null,-1))),ki={key:1};function Si(e,t,a,n,l,r){return e.visible?((0,i.wg)(),(0,i.iD)("div",oi,[e.toggleSwitch?((0,i.wg)(),(0,i.iD)("fieldset",ri,[(0,i._)("legend",{onClick:t[0]||(t[0]=t=>e.toggleSwitch=!e.toggleSwitch)},"  "+(0,o.zw)(e.displayName("NEXT STEP"))+"  ",1),(0,i._)("div",ci,[(0,i.wy)((0,i._)("select",{class:"evaluation-item","onUpdate:modelValue":t[1]||(t[1]=t=>e.evaluationItem=t),onChange:t[2]||(t[2]=(...t)=>e.evaluationItemOnChange&&e.evaluationItemOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.evaluationItemList,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:e},(0,o.zw)(e.replace("."," ")),9,ui)))),128))],544),[[s.bM,e.evaluationItem]])]),(0,i._)("table",di,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.nextStatRows,(a=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a[0]},[a[3]||a[4]?((0,i.wg)(),(0,i.iD)("tr",pi,[(0,i._)("th",mi,(0,o.zw)(e.displayName(a[0])),1),(0,i._)("td",fi,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>a[2]=e,onChange:t=>e.nextStatStepOnChange(a)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a[1],((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,o.zw)(Math.round(10*e)/10),9,yi)))),128))],40,gi),[[s.bM,a[2]]])]),(0,i._)("td",null,(0,o.zw)(Math.round(1e3*a[4])/1e3+"%"),1),(0,i._)("td",hi,[(0,i.wy)((0,i._)("input",{type:"range",min:"0",max:"5","onUpdate:modelValue":e=>a[3]=e,onChange:t[3]||(t[3]=(...t)=>e.nextStatOnChange&&e.nextStatOnChange(...t))},null,40,bi),[[s.nr,a[3]]])]),(0,i._)("td",null,(0,o.zw)(e.displayNextStatValue(a)),1)])):(0,i.kq)("",!0)],64)))),128)),(0,i._)("tr",null,[wi,vi,_i,(0,i._)("td",null,[(0,i._)("button",{type:"button",onClick:t[4]||(t[4]=(...t)=>e.resetButtonOnClick&&e.resetButtonOnClick(...t))}," Reset ")])])])])):((0,i.wg)(),(0,i.iD)("div",ki,[(0,i._)("label",{onClick:t[5]||(t[5]=t=>e.toggleSwitch=!e.toggleSwitch)},(0,o.zw)(e.displayName("+ NEXT STEP +")),1)]))])):(0,i.kq)("",!0)}var Di=(0,i.aZ)({name:"NextStat",props:{visible:Boolean,characterInput:{type:Object,required:!0},artifactDetailInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},optionInput:{type:Object,required:!0},statsInput:{type:Object,required:!0},damageResult:{type:Object,required:!0},rotationDamageInfo:{type:Object}},emits:["update:stat-adjustments"],setup(e,t){const{displayName:a,displayStatValue:n}=(0,$.Z)(),s="ローテーション合計ダメージ",o=["HP%","攻撃力%","防御力%","元素熟知","会心率","会心ダメージ","元素チャージ効率","HP","攻撃力","防御力"],r=(0,F.iH)(!1),c=(0,F.iH)(""),u=(0,F.qj)([]),d=(0,i.Fl)((()=>{let t=[];e.rotationDamageInfo?.rotationDamages&&t.push(s);for(const a of["通常攻撃","落下攻撃","重撃","元素スキル","元素爆発","その他"]){const n=e.damageResult[a];if(Array.isArray(n))for(const e of n){if(!e)continue;if(e[0].endsWith("合計ダメージ"))continue;if(!e[5]?.endsWith("ダメージ"))continue;const n=a+"."+e[0];t.push(n)}}return t})),p=e=>{let t=0;return e&&e[3]&&(t=e[3]*e[1][e[2]]),t},m=e=>{let t="";const a=p(e);return a>0&&(t+="+"),t+=n(e[0],a),t};function f(){const e=[];for(const t of o){const a=[];a.push(t),a.push((0,et.qA)(t)),a.push(2),a.push(0),a.push(0),e.push(a)}u.splice(0,u.length,...e)}function g(t,a){let n=0;if(t==s)e.rotationDamageInfo&&(n=Ua(e.rotationDamageInfo.rotationDamages,a));else{const e=t.split("."),l=a[e[0]].filter((t=>t[0]==e[1]));l.length&&(n=l[0][2])}return n}const y=(0,i.Fl)((()=>g(c.value,e.damageResult)));function h(t,a,n){a||(a=l().cloneDeep(et.US)),n||(n=l().cloneDeep(e.statsInput));let s=0;const i=t[0],o=t[1][t[2]];if(o&&e.rotationDamageInfo){const t=y.value;i in n.statAdjustmentsEx?n.statAdjustmentsEx[i]+=o:n.statAdjustmentsEx[i]=o,na(n,e.characterInput,e.artifactDetailInput,e.conditionInput,e.optionInput),ca(a,e.characterInput,e.conditionInput,n);const l=g(c.value,a);l&&t&&(s=l/t-1,s*=100),n.statAdjustmentsEx[i]-=o}t[4]=s}function b(){if(c.value){const t=l().cloneDeep(et.US),a=l().cloneDeep(e.statsInput);for(const e of u)h(e,t,a)}u.sort(((e,t)=>t[4]-e[4]))}function w(){d.value.length&&(d.value.includes(c.value)||(d.value.includes(s)?c.value=s:c.value=d.value[d.value.length-1]))}const v=()=>{b()},_=e=>{h(e),u.sort(((e,t)=>t[4]-e[4]))},k=async()=>{await(0,i.Y3)();const e={};u.forEach((t=>{t[3]&&(e[t[0]]=p(t))})),t.emit("update:stat-adjustments",e)},S=async()=>{f(),await k()};return(0,i.YP)([e.characterInput,e.statsInput,e.rotationDamageInfo],(async(e,t)=>{const a=e[0];if(a){const e=t[0];if(a.character!=e?.character)return void await S()}b()})),(0,i.YP)(d,(()=>{w()})),f(),w(),b(),{displayName:a,displayStatValue:n,toggleSwitch:r,evaluationItem:c,evaluationItemList:d,evaluationItemOnChange:v,nextStatRows:u,nextStatStepOnChange:_,displayNextStatValue:m,currentDamageValue:y,nextStatOnChange:k,resetButtonOnClick:S}}});const Ci=(0,Q.Z)(Di,[["render",Si],["__scopeId","data-v-5e2a55ae"]]);var Oi=Ci;const Ri={key:0,class:"member-area"},Vi={class:"member"},Ni=["src","alt"],Ii=["src"],Mi=["src","alt","onClick"],ji=["src"];function Hi(e,t,a,n,l,s){return e.teamMembers.length?((0,i.wg)(),(0,i.iD)("div",Ri,[(0,i._)("div",Vi,[(0,i._)("img",{class:"character",src:e.characterIconSrc(e.character),alt:e.displayName(e.character)},null,8,Ni),(0,i._)("img",{class:"vision",src:e.characterVisionIconSrc(e.character),alt:"vision"},null,8,Ii)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.teamMembers,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"member",key:t},[(0,i._)("img",{class:"character",src:e.characterIconSrc(t),alt:e.displayName(t),onClick:a=>e.removeFromTeamOnClick(t)},null,8,Mi),(0,i._)("img",{class:"vision",src:e.characterVisionIconSrc(t),alt:"vision"},null,8,ji)])))),128))])):(0,i.kq)("",!0)}var zi=(0,i.aZ)({name:"EasyTeamInput",props:{character:{type:String,required:!0},teamMembers:{type:Array,required:!0}},emits:["update:team-members"],setup(e,t){const{displayName:a,displayOptionName:n}=(0,$.Z)();function l(e){t.emit("update:team-members",e)}const s=t=>{l([...e.teamMembers,t])},i=t=>{l(e.teamMembers.filter((e=>e!=t)))},o=e=>tt.bw[e].icon_url,r=e=>tt.GN[tt.bw[e].元素];return{displayName:a,displayOptionName:n,addToTeamOnClick:s,removeFromTeamOnClick:i,characterIconSrc:o,characterVisionIconSrc:r}}});const Ai=(0,Q.Z)(zi,[["render",Hi],["__scopeId","data-v-490eb68d"]]);var Li=Ai;const Ui=e=>((0,i.dD)("data-v-4de0107e"),e=e(),(0,i.Cn)(),e),Ti={class:"elemental-resonance"},qi=["onUpdate:modelValue","onChange"],Ei=["onChange"],Yi=Ui((()=>(0,i._)("option",{value:""},null,-1))),xi=Ui((()=>(0,i._)("option",{value:"20"},"+20",-1))),Pi=Ui((()=>(0,i._)("option",{value:"30"},"+30",-1))),Wi=Ui((()=>(0,i._)("option",{value:"50"},"+50",-1))),Fi=[Yi,xi,Pi,Wi],Ki=Ui((()=>(0,i._)("hr",null,null,-1))),Zi={class:"option-description"},Gi=Ui((()=>(0,i._)("hr",null,null,-1)));function Bi(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)("fieldset",Ti,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.elementalResonanceList,(a=>((0,i.wg)(),(0,i.iD)("label",{key:a.key},[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.elementalResonanceChecked[a.key]=t,onChange:t=>e.onChange(a.key)},null,40,qi),[[s.e8,e.elementalResonanceChecked[a.key]]]),(0,i._)("span",null,(0,o.zw)(e.displayName(a.名前)),1),"草元素共鳴"==a.key?(0,i.wy)(((0,i.wg)(),(0,i.iD)("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dendroOption=t),onChange:t=>e.onChange(a.key)},Fi,40,Ei)),[[s.bM,e.dendroOption]]):(0,i.kq)("",!0)])))),128)),Ki,(0,i._)("ul",Zi,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.displayStatAjustmentList,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},(0,o.zw)(e),1)))),128))]),Gi,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.descriptionList,((t,a)=>((0,i.wg)(),(0,i.iD)("article",{key:a,class:(0,o.C_)(e.elementClass(t[0]))},(0,o.zw)(t[1]),3)))),128))])}var Xi=(0,i.aZ)({name:"ElementalResonanceInput",props:{elementalResonance:{type:Object}},emits:["update:elemental-resonance"],setup(e,t){const{displayName:a}=(0,$.Z)(),n=tt.TG,s=(0,F.qj)({});n.forEach((e=>{s[e.key]=!1}));const o=(0,F.iH)(0),r=(0,F.qj)(l().cloneDeep(et.NY)),c=r.conditionValues,u=(0,i.Fl)((()=>e.elementalResonance?.conditionAdjustments??{})),d=(0,i.Fl)((()=>{const t=[],a=e.elementalResonance?.conditionAdjustments;if(a)for(const e of Object.keys(a)){const a=u.value[e];if(!a)continue;let n=e.replace("%","").replace(/^敵/,"敵の");n+=a>=0?"+":"",n+=a,(e.endsWith("%")||et.V6.includes(e))&&(n+="%"),t.push(n)}return t})),p=async e=>{if(e&&s[e])if("元素共鳴なし"==e)for(const t of Object.keys(s).filter((e=>"元素共鳴なし"!=e)))s[t]=!1;else Object.keys(s).filter((e=>"元素共鳴なし"!=e&&s[e])).length>2&&(s[e]=!1),s["元素共鳴なし"]=!1;await(0,i.Y3)(),Object.keys(s).forEach((e=>{c[e]=s[e]})),o.value&&(c["dendroOption"]=o.value),t.emit("update:elemental-resonance",c)},m=e=>{Object.keys(s).forEach((t=>{t in e.conditionValues?s[t]=Boolean(e.conditionValues[t]):s[t]=!1})),"dendroOption"in e.conditionValues&&(o.value=Number(e.conditionValues["dendroOption"])),p()},f=(0,i.Fl)((()=>{const e=[];for(const t of Object.keys(s).filter((e=>s[e])))e.push([t,tt._9[t].説明]);return e}));(0,i.YP)(e,(()=>{d.value}));const g=e=>{let t="";return e&&(t=tt.X9[e.substring(0,1)]),t};return{displayName:a,elementalResonanceList:n,elementalResonanceChecked:s,dendroOption:o,displayStatAjustmentList:d,descriptionList:f,elementClass:g,onChange:p,initializeValues:m}}});const $i=(0,Q.Z)(Xi,[["render",Bi],["__scopeId","data-v-4de0107e"]]);var Ji=$i;const Qi=e=>((0,i.dD)("data-v-0922099c"),e=e(),(0,i.Cn)(),e),eo={class:"team-option"},to={key:0,class:"supporter"},ao={class:"left"},no=["id","onUpdate:modelValue"],lo=["for"],so={class:"character"},io=["src","alt"],oo=["src"],ro={class:"tooltip"},co=["onClick"],uo=Qi((()=>(0,i._)("span",{class:"material-symbols-outlined remove"}," person_remove ",-1))),po=[uo],mo=["disabled","onClick"],fo=Qi((()=>(0,i._)("span",{class:"material-symbols-outlined add"}," person_add ",-1))),go=[fo],yo={key:0,class:"builddata-selector"},ho=["onUpdate:modelValue"],bo=["value"],wo={class:"equipment"},vo={class:"with-tooltip"},_o=["src"],ko={class:"tooltip"},So={class:"with-tooltip"},Do=["src"],Co={class:"tooltip"},Oo={class:"with-tooltip"},Ro=["src"],Vo={class:"tooltip"},No=["onUpdate:modelValue","disabled","onChange"],Io=["onUpdate:modelValue","disabled","onChange"],Mo=["value"],jo=["onUpdate:modelValue","min","max","step","disabled","onChange"],Ho=["id","onUpdate:modelValue"],zo=["for"],Ao={class:"character"},Lo=["src","alt"],Uo=["src"],To={class:"tooltip"},qo=["onClick"],Eo=Qi((()=>(0,i._)("span",{class:"material-symbols-outlined remove"}," person_remove ",-1))),Yo=[Eo],xo=["disabled","onClick"],Po=Qi((()=>(0,i._)("span",{class:"material-symbols-outlined add"}," person_add ",-1))),Wo=[Po],Fo=Qi((()=>(0,i._)("hr",null,null,-1))),Ko={class:"option-description"},Zo=Qi((()=>(0,i._)("p",{class:"notice"},[(0,i.Uk)(" キャラクターの天賦レベルやステータスによって効果量が変動する種類のオプションはデフォルト名称の構成保存データが存在する場合に選択可能になります。 "),(0,i._)("br"),(0,i.Uk)(" 構成保存データのデフォルト名称：あなたの{キャラクターの名前} ")],-1)));function Go(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("fieldset",eo,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.supporterKeyList,(a=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a},[e.supporterOpenClose[a]?(0,i.wy)(((0,i.wg)(),(0,i.iD)("fieldset",to,[(0,i._)("div",ao,[(0,i._)("div",{class:(0,o.C_)("supporter"+e.supporterOptionSelectedClass(a))},[(0,i.wy)((0,i._)("input",{class:"hidden",id:"supporter-"+a,type:"checkbox","onUpdate:modelValue":t=>e.supporterOpenClose[a]=t},null,8,no),[[s.e8,e.supporterOpenClose[a]]]),(0,i._)("label",{class:"fold with-tooltip",for:"supporter-"+a},[(0,i._)("div",so,[(0,i._)("img",{class:"character",src:e.characterIconSrc(a),alt:e.displayName(a)},null,8,io),(0,i._)("img",{class:"vision",src:e.characterVisionIconSrc(a),alt:"vision"},null,8,oo)]),(0,i._)("span",ro,(0,o.zw)(e.displayName(a)),1)],8,lo),e.teamMembers.includes(a)?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",onClick:t=>e.removeFromTeamOnClick(a)},po,8,co)):((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",disabled:e.teamMembers.length>=3,onClick:t=>e.addToTeamOnClick(a)},go,8,mo))],2),e.buildnameList(a).length?((0,i.wg)(),(0,i.iD)("div",yo,[(0,i._)("label",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t=>e.selectedBuildname[a]=t,onChange:t[0]||(t[0]=(...t)=>e.buildnameSelectionOnChange&&e.buildnameSelectionOnChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.buildnameList(a),(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e},(0,o.zw)(e),9,bo)))),128))],40,ho),[[s.bM,e.selectedBuildname[a]]])])])):(0,i.kq)("",!0),(0,i._)("div",wo,[(0,i._)("div",vo,[(0,i._)("img",{src:e.weaponIconSrc(a),alt:"weapon"},null,8,_o),(0,i._)("span",ko,(0,o.zw)(e.weaponName(a)),1)]),(0,i._)("div",So,[(0,i._)("img",{src:e.artifactSetIconSrc(a,0),alt:"artifact set"},null,8,Do),(0,i._)("span",Co,(0,o.zw)(e.artifactSetName(a,0)),1)]),(0,i._)("div",Oo,[(0,i._)("img",{src:e.artifactSetIconSrc(a,1),alt:"artifact set"},null,8,Ro),(0,i._)("span",Vo,(0,o.zw)(e.artifactSetName(a,1)),1)])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.supporterCheckboxList(a),(t=>((0,i.wg)(),(0,i.iD)("label",{class:"condition",key:t.name},[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,disabled:e.conditionDisabled(t),onChange:n=>e.onChange(a,t)},null,40,No),[[s.e8,e.conditionValues[t.name]]]),(0,i._)("span",null,(0,o.zw)(e.displayName(t.displayName)),1)])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.supporterSelectList(a),(t=>((0,i.wg)(),(0,i.iD)("label",{class:"condition",key:t.name},[(0,i._)("span",null,(0,o.zw)(e.displayName(t.displayName)),1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":a=>e.conditionValues[t.name]=a,disabled:e.conditionDisabled(t),onChange:n=>e.onChange(a,t)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.options,((t,a)=>((0,i.wg)(),(0,i.iD)("option",{value:a,key:t},(0,o.zw)(e.displayOptionName(t)),9,Mo)))),128))],40,Io),[[s.bM,e.conditionValues[t.name]]])])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.supporterNumberList(a),(t=>((0,i.wg)(),(0,i.iD)("label",{class:"condition",key:t.name},[(0,i._)("span",null,(0,o.zw)(e.displayName(t.displayName)),1),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,min:t.min,max:t.max,step:t.step,disabled:e.conditionDisabled(t),onChange:n=>e.onChange(a,t)},null,40,jo),[[s.nr,e.conditionValues[t.name]]])])))),128))])],512)),[[s.F8,e.supporterVisible(a)]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,o.C_)("supporter-else"+e.elementBgClass(a)+e.supporterOptionSelectedClass(a))},[(0,i.wy)((0,i._)("input",{class:"hidden",id:"supporter-else-"+a,type:"checkbox","onUpdate:modelValue":t=>e.supporterOpenClose[a]=t},null,8,Ho),[[s.e8,e.supporterOpenClose[a]]]),(0,i._)("label",{class:"fold with-tooltip",for:"supporter-else-"+a},[(0,i._)("div",Ao,[(0,i._)("img",{class:"character",src:e.characterIconSrc(a),alt:e.displayName(a)},null,8,Lo),(0,i._)("img",{class:"vision",src:e.characterVisionIconSrc(a),alt:"vision"},null,8,Uo)]),(0,i._)("span",To,(0,o.zw)(e.displayName(a)),1)],8,zo),e.teamMembers.includes(a)?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",onClick:t=>e.removeFromTeamOnClick(a)},Yo,8,qo)):((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",disabled:e.teamMembers.length>=3,onClick:t=>e.addToTeamOnClick(a)},Wo,8,xo))],2)),[[s.F8,e.supporterVisible(a)]])],64)))),128)),Fo,(0,i._)("ul",Ko,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.displayStatAjustmentList,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},(0,o.zw)(e),1)))),128))]),(0,i._)("label",null,[(0,i.Uk)((0,o.zw)(e.displayName("すべて閉じる"))+" ",1),(0,i._)("button",{class:"execute",type:"button",onClick:t[1]||(t[1]=(...t)=>e.closeAllSupporters&&e.closeAllSupporters(...t))},(0,o.zw)(e.displayName("実行")),1)]),(0,i._)("label",null,[(0,i.Uk)((0,o.zw)(e.displayName("すべてクリア"))+" ",1),(0,i._)("button",{class:"execute",type:"button",onClick:t[2]||(t[2]=(...t)=>e.clearAllSupporterOptions&&e.clearAllSupporterOptions(...t))},(0,o.zw)(e.displayName("実行")),1)])]),Zo],64)}a(541);var Bo=(0,i.aZ)({name:"TeamOptionInput",props:{character:{type:String,required:!0},topStats:{type:Object,required:!0},savedSupporters:{type:Object,required:!0},calculatedSupporters:{type:Object,required:!0},teamMembers:{type:Array,required:!0},initialConditionValue:{type:Object}},emits:["update:team-option","update:buildname-selection","update:team-members"],setup(e,t){const{displayName:a,displayStatName:n,displayStatValue:s,displayOptionName:o}=(0,$.Z)(),r=Object.keys(tt.bw);r.sort(((e,t)=>Da.indexOf(tt.bw[e].元素)-Da.indexOf(tt.bw[t].元素)));const c=(0,F.qj)({}),u=[],d=[],p=[],m=new Map,f=new Map,g=(0,F.qj)(l().cloneDeep(et.NY));e.initialConditionValue&&l().merge(g.conditionValues,e.initialConditionValue);const y=g.conditionValues,h=g.checkboxList,b=g.selectList,w=g.numberList,v=l().cloneDeep(et.q2),_=l().cloneDeep(et.US),k=[],S=(0,F.qj)({}),D=(0,F.qj)({}),C=(0,F.qj)(new Map),O=e=>" "+tt.Cb[tt.bw[e].元素];function R(e,t,a){let n=e+"*";return a?n+=a.replace(/([&|^])/g,"$1"+e+"*"):t&&(n+=t),n=n.replace(e+"*"+e+"*",e+"*"),n}for(const l of[tt.Rj])for(const e of l){const t=e.key.split("_")[0];if("詳細"in e)for(const a of e.詳細)a.条件=R(t,e.名前,a.条件);u.splice(u.length,0,...(0,et.CN)(e,null,null,null,d,p,"その他オプション"))}u.filter((e=>e["条件"])).forEach((e=>{(0,et.UR)(e["条件"],m,f)})),d.filter((e=>e["条件"])).forEach((e=>{(0,et.UR)(e["条件"],m,f)})),p.filter((e=>e["条件"])).forEach((e=>{(0,et.UR)(e["条件"],m,f)})),m.forEach(((e,t)=>{e&&Array.isArray(e)&&(e[0].startsWith("required_")||m.set(t,["",...e]))}));const V=()=>{m.forEach(((e,t)=>{if(null===e)0==h.filter((e=>e.name==t)).length&&h.push({name:t,displayName:t.replace(/^.+\*/,"")});else if(Array.isArray(e)){if(0==b.filter((e=>e.name==t)).length){const a=e[0].startsWith("required_");b.push({name:t,displayName:t.replace(/^.+\*/,""),options:a||!e[0]?e:["",...e],required:a})}}else l().isPlainObject(e)&&w.push({name:t,displayName:t.replace(/^.+\*/,""),min:e.min,max:e.max,step:e.step})})),m.forEach(((e,t)=>{null===e?t in y||(y[t]=!1):Array.isArray(e)?t in y||(y[t]=0):l().isPlainObject(e)&&(t in y||(y[t]=e.min))}))},N=(e,t)=>{if("チームバフ"in t){const a=t.チームバフ,n=(0,et.W3)(a);n.forEach((t=>{const a=R(e,t.名前,t.条件);t.条件=a,k.includes(a)||k.push(a);const n=(0,et.e0)(t.種類);"STATUS"==n&&0==d.filter((e=>e.条件==a&&e.種類==t.種類)).length&&d.splice(d.length,0,t),"TALENT"==n&&0==p.filter((e=>e.条件==a&&e.種類==t.種類)).length&&p.splice(p.length,0,t),(0,et.UR)(a,m,f)})),V()}};async function I(){const e=[];for(const t of r)e.push((0,tt.tm)(t).then((e=>{N(t,e)})));await Promise.all(e)}const M=t=>{const a=e.calculatedSupporters[t.key];if(!a)return l().cloneDeep(et.fB);const n=a.characterInput,s=k.filter((e=>e.startsWith(n.character+"*")));return s.length>0&&(d.splice(0,d.length,...d.filter((e=>!s.includes(e.条件)))),p.splice(0,p.length,...p.filter((e=>!s.includes(e.条件)))),s.forEach((e=>{m.has(e)&&m.delete(e)})),h.splice(0,h.length,...h.filter((e=>!s.includes(e.name)))),b.splice(0,b.length,...b.filter((e=>!s.includes(e.name)))),w.splice(0,w.length,...w.filter((e=>!s.includes(e.name)))),k.splice(0,k.length,...k.filter((e=>!s.includes(e))))),N(n.character,n.characterMaster),N(n.character,n.weaponMaster),a},j=e=>h.filter((t=>t.name.startsWith(e+"*"))),H=e=>b.filter((t=>t.name.startsWith(e+"*"))),z=e=>w.filter((t=>t.name.startsWith(e+"*"))),A=t=>t!=e.character,L=e=>{for(const t of j(e))if(y[t.name])return" selected";for(const t of H(e))if(!t.required&&y[t.name])return" selected";return""},U=t=>{const a=t.name.split("*")[0];if(e.savedSupporters.filter((e=>e.key==a)).length>0)return!1;for(const e of d)if(e.条件&&e.条件.startsWith(t.name)){if((0,Bt.hj)(e.数値))return!1;if(Array.isArray(e.数値))for(const t of e.数値)if(!(0,Bt.hj)(t)&&!["+","-","*","/"].includes(t))return!0}for(const e of p)if(e.条件&&e.条件.startsWith(t.name)){if((0,Bt.hj)(e.数値))return!1;if(Array.isArray(e.数値))for(const t of e.数値)if(!(0,Bt.hj)(t)&&!["+","-","*","/"].includes(t))return!0}return!1},T=(0,i.Fl)((()=>{const t={},a=ua(g);return[d,p].forEach((n=>{if(n)for(const l of n){let n,s=l.数値;const i=l.上限,o=l.下限;if(l.条件){if(n=l.条件.substring(0,l.条件.indexOf("*")),n==e.character)continue;const t=da(l.条件,a,6);if(!t||0==t)continue;1!=t&&s&&(s=s.concat(["*",t]))}let r=v,c=_;if(n){const e=C.get(n);e&&(r=e.statsInput.statsObj,c=e.damageResult)}Object.keys(e.topStats).forEach((t=>{r[t]=e.topStats[t]}));let u=1/0;s&&(u=ra(s,r,c,i,o));const d=[];if(l.種類)if(l.種類.startsWith("全")||l.種類.startsWith("敵全"))for(const e of["炎","水","風","雷","草","氷","岩"])d.push(l.種類.replace("全",e));else d.push(l.種類);for(const e of d){let a=e;l.対象&&(a+="."+l.対象),a in t?t[a]+=u:t[a]=u}}})),t})),q=(0,i.Fl)((()=>{const e=[];for(const t of Object.keys(T.value)){let a=n(t).replace("%","");const l=T.value[t];l!=1/0&&((0,Bt.hj)(l)?(l>=0&&("別枠乗算"==t.split(".")[0]?a+="=":a+="+"),a+=s(t,l)):l&&(a+="="+l)),e.push(a)}return e})),E=t=>{for(const a of e.savedSupporters){D[a.key]=a.buildname;let e=M(a);C.set(a.key,e)}Object.keys(t).forEach((e=>{const a=t[e];a&&C.set(e,a)}))};async function Y(){V(),I(),E(e.calculatedSupporters);for(const e of r)c[e]=!1}Y();const x=async(e,a)=>{e&&a&&console.debug(e,a.name,y[a.name]),await(0,i.Y3)(),(0,Bt.fX)(g.conditionAdjustments,T.value),t.emit("update:team-option",g)},P=async e=>{Object.keys(y).forEach((t=>{if(t in e.conditionValues)y[t]=e.conditionValues[t];else if(m.has(t)){const e=m.get(t);null===e?y[t]=!1:Array.isArray(e)?y[t]=0:l().isPlainObject(e)&&(y[t]=e.min)}})),x()},W=()=>{for(const e of Object.keys(c))c[e]=!1},K=()=>{for(const e of h)y[e.name]=!1;for(const e of b)y[e.name]=0;for(const e of w)y[e.name]=e.min};function Z(e,t){const a=(0,et.R4)(e);return t==a?(0,et.K1)(e):t.replace(new RegExp("^"+a+"_"),"")}const G=e=>{const t=new RegExp("^構成_"+e.replace("(","\\(").replace(")","\\)")+"(_|$)"),a=Object.keys(localStorage).filter((e=>t.test(e))),n=a.map((t=>Z(e,t))),l=(0,et.K1)(e),s=n.filter((e=>e!=l)).sort();return n.includes(l)&&s.unshift(l),s},B=e=>G(e).length>0;r.forEach((t=>{S[t]=!1;const a=G(t);if(a.length>0){let n=a[0];const l=e.savedSupporters.filter((e=>e.key==t));l.length&&(n=l[0].buildname),D[t]=n}}));const X=()=>{t.emit("update:buildname-selection",D)};function J(e){t.emit("update:team-members",e)}const Q=t=>{J([...e.teamMembers,t])},ee=t=>{J(e.teamMembers.filter((e=>e!=t)))};(0,i.YP)(e,(async(e,t)=>{const a=[];for(const n of Object.keys(e.calculatedSupporters)){const s=e.calculatedSupporters[n],i=t.calculatedSupporters[n];let o;i&&l().isEqual(s?.statsInput,i.statsInput)&&l().isEqual(s?.damageResult,i.damageResult)||(o=!0);const r=e.savedSupporters.filter((e=>e.key==n));r.length&&(o&&a.push(M(r[0])),D[n]=r[0].buildname)}for(const n of t.savedSupporters){const t=0==e.savedSupporters.filter((e=>e.key==n.key)).length;t&&(C.delete(n.key),delete D[n.key])}await Promise.all(a),x()}));const te=e=>tt.bw[e].icon_url,ae=e=>tt.GN[tt.bw[e].元素],ne=e=>{let t=tt.bx;const a=C.get(e);return a&&a?.characterInput?.weaponMaster&&(t=a.characterInput.weaponMaster.icon_url),t},le=e=>{let t="";const a=C.get(e);return a&&a?.characterInput?.weaponMaster&&(t=a.characterInput.weaponMaster.名前),t},se=(e,t)=>{let a=tt.bx;const n=C.get(e);return n&&n?.characterInput?.artifactSetMasters&&n.characterInput.artifactSetMasters.length>t&&(a=n.characterInput.artifactSetMasters[t].icon_url),a},ie=(e,t)=>{let a="";const n=C.get(e);return n&&n?.characterInput?.artifactSetMasters&&n.characterInput.artifactSetMasters.length>t&&(a=n.characterInput.artifactSetMasters[t].key),a};return{displayName:a,displayOptionName:o,supporterKeyList:r,supporterCheckboxList:j,supporterSelectList:H,supporterNumberList:z,conditionValues:y,supporterVisible:A,supporterOptionSelectedClass:L,conditionDisabled:U,displayStatAjustmentList:q,elementBgClass:O,initializeSupporters:E,onChange:x,initializeValues:P,supporterOpenClose:c,closeAllSupporters:W,clearAllSupporterOptions:K,builddataSelectable:B,builddataSelectorVisible:S,buildnameList:G,selectedBuildname:D,buildnameSelectionOnChange:X,addToTeamOnClick:Q,removeFromTeamOnClick:ee,characterIconSrc:te,characterVisionIconSrc:ae,weaponIconSrc:ne,weaponName:le,artifactSetIconSrc:se,artifactSetName:ie}}});const Xo=(0,Q.Z)(Bo,[["render",Go],["__scopeId","data-v-0922099c"]]);var $o=Xo;const Jo=e=>((0,i.dD)("data-v-a55f01f6"),e=e(),(0,i.Cn)(),e),Qo=["onUpdate:modelValue","value"],er=["onUpdate:modelValue"],tr=["value"],ar=Jo((()=>(0,i._)("hr",null,null,-1))),nr={class:"option-description"};function lr(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)("fieldset",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.checkboxList,(a=>((0,i.wg)(),(0,i.iD)("label",{key:a.name},[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.conditionValues[a.name]=t,value:a,onChange:t[0]||(t[0]=(...t)=>e.onChange&&e.onChange(...t))},null,40,Qo),[[s.e8,e.conditionValues[a.name]]]),(0,i._)("span",null,(0,o.zw)(e.displayName(a.name)),1)])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.selectList,(a=>((0,i.wg)(),(0,i.iD)("label",{key:a.name},[(0,i._)("span",null,(0,o.zw)(e.displayName(a.name)),1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t=>e.conditionValues[a.name]=t,onChange:t[1]||(t[1]=(...t)=>e.onChange&&e.onChange(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.options,((t,a)=>((0,i.wg)(),(0,i.iD)("option",{value:a,key:t},(0,o.zw)(e.displayOptionName(t)),9,tr)))),128))],40,er),[[s.bM,e.conditionValues[a.name]]])])))),128)),ar,(0,i._)("ul",nr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.displayStatAjustmentList,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},(0,o.zw)(e),1)))),128))])])}var sr=(0,i.aZ)({name:"MiscOptionInput",emits:["update:misc-option"],setup(e,t){const{displayName:a,displayStatName:n,displayStatValue:s,displayOptionName:o}=(0,$.Z)(),r=[],c=[],u=[],d=new Map,p=new Map,m=(0,F.qj)(l().cloneDeep(et.NY)),f=m.conditionValues,g=m.checkboxList,y=m.selectList,h=l().cloneDeep(et.US);for(const l of[tt.L6,tt.dJ])for(const e of l){if("詳細"in e)for(const t of e.詳細)"条件"in t||(t.条件=e.key);r.splice(r.length-1,0,...(0,et.CN)(e,null,null,null,c,u,"その他オプション"))}c.filter((e=>e["条件"])).forEach((e=>{(0,et.UR)(e["条件"],d,p)})),u.filter((e=>e["条件"])).forEach((e=>{(0,et.UR)(e["条件"],d,p)})),d.forEach(((e,t)=>{e&&Array.isArray(e)&&(e[0].startsWith("required_")||d.set(t,["",...e]))})),d.forEach(((e,t)=>{if(e){if(0==y.filter((e=>e.name==t)).length){const a=e[0].startsWith("required_");y.push({name:t,options:e,required:a})}}else 0==g.filter((e=>e.name==t)).length&&g.push({name:t})})),d.forEach(((e,t)=>{f[t]=null!==e&&0}));const b=(0,i.Fl)((()=>{const e={},t=ua(m);for(const a of c){let n;if(a["数値"]){let l=a["数値"];if(a["条件"]){const e=da(a["条件"],t,0);if(0==e)continue;1!=e&&(l=l.concat(["*",e]))}n=ra(l,e,h)}a["種類"]&&(void 0===n?e[a["種類"]]=0:a["種類"]in e?e[a["種類"]]+=n:e[a["種類"]]=n)}return e})),w=(0,i.Fl)((()=>{const e=[];for(const t of Object.keys(b.value)){const a=b.value[t];let l=n(t).replace("%","");(0,Bt.hj)(a)?(a>=0&&("別枠乗算"==t.split(".")[0]?l+="=":l+="+"),l+=s(t,a)):a&&(l+="="+a),e.push(l)}return e})),v=async()=>{await(0,i.Y3)(),(0,Bt.fX)(m.conditionAdjustments,b.value),t.emit("update:misc-option",m)},_=e=>{Object.keys(f).forEach((t=>{t in e.conditionValues?f[t]=e.conditionValues[t]:d.has(t)&&(d.get(t)?f[t]=0:f[t]=!1)})),v()};return{displayName:a,displayOptionName:o,checkboxList:g,selectList:y,conditionValues:f,displayStatAjustmentList:w,onChange:v,initializeValues:_}}});const ir=(0,Q.Z)(sr,[["render",lr],["__scopeId","data-v-a55f01f6"]]);var or=ir;const rr=e=>((0,i.dD)("data-v-437299d0"),e=e(),(0,i.Cn)(),e),cr={class:"elemental-reaction"},ur={for:"増幅反応-なし"},dr={for:"増幅反応-蒸発"},pr={key:0,class:"savepoint"},mr=rr((()=>(0,i._)("br",null,null,-1))),fr={for:"増幅反応-溶解"},gr={key:0,class:"savepoint"},yr=rr((()=>(0,i._)("br",null,null,-1))),hr={for:"増幅反応-超激化"},br={key:0,class:"savepoint"},wr=rr((()=>(0,i._)("br",null,null,-1))),vr={for:"増幅反応-草激化"},_r={key:0,class:"savepoint"},kr=rr((()=>(0,i._)("br",null,null,-1))),Sr={key:4,class:"pyro"},Dr={key:0,class:"savepoint"},Cr=rr((()=>(0,i._)("br",null,null,-1))),Or={key:5,class:"electro"},Rr={key:0,class:"savepoint"},Vr=rr((()=>(0,i._)("br",null,null,-1))),Nr={key:6,class:"cryo"},Ir={key:0,class:"savepoint"},Mr=rr((()=>(0,i._)("br",null,null,-1))),jr={key:8},Hr={key:0,class:"savepoint"},zr=rr((()=>(0,i._)("br",null,null,-1))),Ar={key:9,class:"pyro"},Lr={key:0,class:"savepoint"},Ur=rr((()=>(0,i._)("br",null,null,-1))),Tr={key:10,class:"dendro"},qr={key:0,class:"savepoint"},Er=rr((()=>(0,i._)("br",null,null,-1))),Yr={key:11,class:"dendro"},xr={key:0,class:"savepoint"},Pr=rr((()=>(0,i._)("br",null,null,-1))),Wr={key:12,class:"dendro"},Fr={key:0,class:"savepoint"},Kr=rr((()=>(0,i._)("br",null,null,-1))),Zr={key:0,class:"result v-style"},Gr=["onClick"],Br=["rowspan"],Xr=["innerHTML"],$r={key:0,class:"savepoint"},Jr=rr((()=>(0,i._)("br",null,null,-1))),Qr={key:0,class:"savepoint"},ec=rr((()=>(0,i._)("br",null,null,-1))),tc={key:0,class:"savepoint"},ac=rr((()=>(0,i._)("br",null,null,-1))),nc={key:1,class:"result h-style"},lc=["onClick"],sc=["colspan"],ic=rr((()=>(0,i._)("hr",null,null,-1))),oc={class:"result damage-result"},rc={key:0},cc={class:"notes"},uc={class:"right"},dc=rr((()=>(0,i._)("option",{value:"1"},"V-style",-1))),pc=rr((()=>(0,i._)("option",{value:"0"},"H-style",-1))),mc=[dc,pc];function fc(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",cr,[(0,i._)("input",{id:"増幅反応-なし",type:"radio",value:"なし",name:"増幅反応-name",onChange:t[0]||(t[0]=t=>e.増幅反応="なし"),checked:""},null,32),(0,i._)("label",ur,(0,o.zw)(e.displayName("反応なし")),1),e.damageResult.元素反応.蒸発倍率?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("input",{id:"増幅反応-蒸発",type:"radio",value:"蒸発",name:"増幅反応-name",onChange:t[1]||(t[1]=t=>e.増幅反応="蒸発")},null,32),(0,i._)("label",dr,[(0,i.Uk)((0,o.zw)(e.displayName("蒸発"))+"×",1),(0,i._)("span",null,(0,o.zw)(Math.round(100*e.damageResult.元素反応.蒸発倍率)/100),1),e.copiedDamageResult?.元素反応?.蒸発倍率?((0,i.wg)(),(0,i.iD)("span",pr,[mr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("蒸発"))+"×",1),(0,i._)("span",null,(0,o.zw)(Math.round(100*e.copiedDamageResult.元素反応.蒸発倍率)/100),1)])):(0,i.kq)("",!0)])],64)):(0,i.kq)("",!0),e.damageResult.元素反応.溶解倍率?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("input",{id:"増幅反応-溶解",type:"radio",value:"溶解",name:"増幅反応-name",onChange:t[2]||(t[2]=t=>e.増幅反応="溶解")},null,32),(0,i._)("label",fr,[(0,i.Uk)((0,o.zw)(e.displayName("溶解"))+"×",1),(0,i._)("span",null,(0,o.zw)(Math.round(100*e.damageResult.元素反応.溶解倍率)/100),1),e.copiedDamageResult?.元素反応?.溶解倍率?((0,i.wg)(),(0,i.iD)("span",gr,[yr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("溶解"))+"×",1),(0,i._)("span",null,(0,o.zw)(Math.round(100*e.copiedDamageResult.元素反応.溶解倍率)/100),1)])):(0,i.kq)("",!0)])],64)):(0,i.kq)("",!0),e.damageResult.元素反応.超激化ダメージ?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i._)("input",{id:"増幅反応-超激化",type:"radio",value:"超激化",name:"増幅反応-name",onChange:t[3]||(t[3]=t=>e.増幅反応="超激化")},null,32),(0,i._)("label",hr,[(0,i.Uk)((0,o.zw)(e.displayName("超激化"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.damageResult.元素反応.超激化ダメージ)),1),e.copiedDamageResult?.元素反応?.超激化ダメージ?((0,i.wg)(),(0,i.iD)("span",br,[wr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("超激化"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.超激化ダメージ)),1)])):(0,i.kq)("",!0)])],64)):(0,i.kq)("",!0),e.damageResult.元素反応.草激化ダメージ?((0,i.wg)(),(0,i.iD)(i.HY,{key:3},[(0,i._)("input",{id:"増幅反応-草激化",type:"radio",value:"草激化",name:"増幅反応-name",onChange:t[4]||(t[4]=t=>e.増幅反応="草激化")},null,32),(0,i._)("label",vr,[(0,i.Uk)((0,o.zw)(e.displayName("草激化"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.damageResult.元素反応.草激化ダメージ)),1),e.copiedDamageResult?.元素反応?.草激化ダメージ?((0,i.wg)(),(0,i.iD)("span",_r,[kr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("草激化"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.草激化ダメージ)),1)])):(0,i.kq)("",!0)])],64)):(0,i.kq)("",!0),e.damageResult.元素反応.過負荷ダメージ?((0,i.wg)(),(0,i.iD)("label",Sr,[(0,i.Uk)((0,o.zw)(e.displayName("過負荷"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.damageResult.元素反応.過負荷ダメージ)),1),e.copiedDamageResult?.元素反応?.過負荷ダメージ?((0,i.wg)(),(0,i.iD)("span",Dr,[Cr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("過負荷"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.過負荷ダメージ)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.damageResult.元素反応.感電ダメージ?((0,i.wg)(),(0,i.iD)("label",Or,[(0,i.Uk)((0,o.zw)(e.displayName("感電"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.damageResult.元素反応.感電ダメージ)),1),e.copiedDamageResult?.元素反応?.感電ダメージ?((0,i.wg)(),(0,i.iD)("span",Rr,[Vr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("感電"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.感電ダメージ)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.damageResult.元素反応.超電導ダメージ?((0,i.wg)(),(0,i.iD)("label",Nr,[(0,i.Uk)((0,o.zw)(e.displayName("超電導"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.damageResult.元素反応.超電導ダメージ)),1),e.copiedDamageResult?.元素反応?.超電導ダメージ?((0,i.wg)(),(0,i.iD)("span",Ir,[Mr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("超電導"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.超電導ダメージ)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.damageResult.元素反応.拡散ダメージ?((0,i.wg)(),(0,i.iD)("label",{key:7,class:(0,o.C_)(e.elementClass(e.元素反応.拡散元素))},[(0,i.Uk)((0,o.zw)(e.displayName("拡散"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.swirlDmg)),1)],2)):(0,i.kq)("",!0),e.damageResult.元素反応.結晶吸収量?((0,i.wg)(),(0,i.iD)("label",jr,[(0,i.Uk)((0,o.zw)(e.displayName("結晶"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.damageResult.元素反応.結晶吸収量)),1),e.copiedDamageResult?.元素反応?.結晶吸収量?((0,i.wg)(),(0,i.iD)("span",Hr,[zr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("結晶"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.結晶吸収量)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.damageResult.元素反応.燃焼ダメージ?((0,i.wg)(),(0,i.iD)("label",Ar,[(0,i.Uk)((0,o.zw)(e.displayName("燃焼"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.reactionDmg("燃焼ダメージ"))),1),e.copiedDamageResult?.元素反応?.燃焼ダメージ?((0,i.wg)(),(0,i.iD)("span",Lr,[Ur,(0,i.Uk)(" "+(0,o.zw)(e.displayName("燃焼"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.燃焼ダメージ)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.damageResult.元素反応.開花ダメージ?((0,i.wg)(),(0,i.iD)("label",Tr,[(0,i.Uk)((0,o.zw)(e.displayName("開花"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.reactionDmg("開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.開花ダメージ?((0,i.wg)(),(0,i.iD)("span",qr,[Er,(0,i.Uk)(" "+(0,o.zw)(e.displayName("開花"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.開花ダメージ)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.damageResult.元素反応.烈開花ダメージ?((0,i.wg)(),(0,i.iD)("label",Yr,[(0,i.Uk)((0,o.zw)(e.displayName("烈開花"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.reactionDmg("烈開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.烈開花ダメージ?((0,i.wg)(),(0,i.iD)("span",xr,[Pr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("烈開花"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.烈開花ダメージ)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.damageResult.元素反応.超開花ダメージ?((0,i.wg)(),(0,i.iD)("label",Wr,[(0,i.Uk)((0,o.zw)(e.displayName("超開花"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.reactionDmg("超開花ダメージ"))),1),e.copiedDamageResult?.元素反応?.超開花ダメージ?((0,i.wg)(),(0,i.iD)("span",Fr,[Kr,(0,i.Uk)(" "+(0,o.zw)(e.displayName("超開花"))+" ",1),(0,i._)("span",null,(0,o.zw)(Math.round(e.copiedDamageResult.元素反応.超開花ダメージ)),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)]),(0,i._)("fieldset",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.CATEGORY_LIST,(t=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t},[e.damageResult[t]&&e.damageResult[t].length>0?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},["1"==e.resultStyleRef?((0,i.wg)(),(0,i.iD)("table",Zr,[(0,i._)("thead",null,[(0,i._)("tr",{onClick:a=>e.categoryOnClick(t)},[(0,i._)("th",null,(0,o.zw)(e.displayName(t)),1),(0,i._)("th",null,(0,o.zw)(e.displayName("期待値")),1),(0,i._)("th",null,(0,o.zw)(e.displayName("会心")),1),(0,i._)("th",null,(0,o.zw)(e.displayName("非会心")),1)],8,Gr)]),e.categoryOpenClose[t]?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.itemList(t),((a,n)=>((0,i.wg)(),(0,i.iD)("tr",{key:n},[a[a.length-1]?((0,i.wg)(),(0,i.iD)("th",{key:0,class:"with-tooltip",rowspan:a[a.length-1]},[(0,i._)("span",null,(0,o.zw)(e.displayNameV(a[0])),1),e.displayDamageParam(a)?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"tooltip",innerHTML:e.displayDamageParam(a)},null,8,Xr)):(0,i.kq)("",!0)],8,Br)):(0,i.kq)("",!0),(0,i._)("td",{class:(0,o.C_)("damage-value "+e.elementClass(a[1]))},[(0,i.Uk)((0,o.zw)(e.displayDamageValue(a,2,t))+" ",1),e.displayCopiedDamageValue(n,2,t)?((0,i.wg)(),(0,i.iD)("span",$r,[Jr,(0,i.Uk)(" "+(0,o.zw)(e.displayCopiedDamageValue(n,2,t)),1)])):(0,i.kq)("",!0)],2),(0,i._)("td",{class:(0,o.C_)("damage-value "+e.elementClass(a[1]))},[(0,i.Uk)((0,o.zw)(e.displayDamageValue(a,3,t))+" ",1),e.displayCopiedDamageValue(n,3,t)?((0,i.wg)(),(0,i.iD)("span",Qr,[ec,(0,i.Uk)(" "+(0,o.zw)(e.displayCopiedDamageValue(n,3,t)),1)])):(0,i.kq)("",!0)],2),(0,i._)("td",{class:(0,o.C_)("damage-value "+e.elementClass(a[1]))},[(0,i.Uk)((0,o.zw)(e.displayDamageValue(a,4,t))+" ",1),e.displayCopiedDamageValue(n,4,t)?((0,i.wg)(),(0,i.iD)("span",tc,[ac,(0,i.Uk)(" "+(0,o.zw)(e.displayCopiedDamageValue(n,4,t)),1)])):(0,i.kq)("",!0)],2)])))),128)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),"0"==e.resultStyleRef?((0,i.wg)(),(0,i.iD)("table",nc,[(0,i._)("thead",null,[(0,i._)("tr",{onClick:a=>e.categoryOnClick(t)},[(0,i._)("th",null,(0,o.zw)(e.displayName(t)),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.itemList(t),(a=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a[0]},[a[a.length-1]?((0,i.wg)(),(0,i.iD)("th",{key:0,colspan:a[a.length-1]},(0,o.zw)(e.displayNameH(a[0],t)),9,sc)):(0,i.kq)("",!0)],64)))),128))],8,lc)]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("期待値")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.itemList(t),(a=>((0,i.wg)(),(0,i.iD)("td",{key:a[0],class:(0,o.C_)("damage-value "+e.elementClass(a[1]))},(0,o.zw)(e.displayDamageValue(a,2,t)),3)))),128))]),e.categoryOpenClose[t]?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("会心")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.itemList(t),(a=>((0,i.wg)(),(0,i.iD)("td",{key:a[0],class:(0,o.C_)("damage-value "+e.elementClass(a[1]))},(0,o.zw)(e.displayDamageValue(a,3,t)),3)))),128))]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("非会心")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.itemList(t),(a=>((0,i.wg)(),(0,i.iD)("td",{key:a[0],class:(0,o.C_)("damage-value "+e.elementClass(a[1]))},(0,o.zw)(e.displayDamageValue(a,4,t)),3)))),128))])],64)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)],64)):(0,i.kq)("",!0)],64)))),128)),ic,(0,i._)("table",oc,[(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("被ダメージ")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.damageTakenList,(t=>((0,i.wg)(),(0,i.iD)("td",{class:"damage-value",key:t.key},[(0,i._)("span",{class:(0,o.C_)(e.elementClass(t.key))},(0,o.zw)(Math.round(t.value)),3)])))),128))]),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.displayName("耐久スコア")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.resScoreList,(t=>((0,i.wg)(),(0,i.iD)("td",{class:"damage-value",key:t.key},[(0,i._)("span",{class:(0,o.C_)(e.elementClass(t.key))},(0,o.zw)(Math.round(t.value)),3)])))),128))])])]),(0,i._)("div",null,[(0,i._)("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.copyDamageResult&&e.copyDamageResult(...t))},(0,o.zw)(e.displayName("比較用に現在値を記憶")),1),(0,i._)("button",{type:"button",onClick:t[6]||(t[6]=(...t)=>e.clearCopiedDamageResult&&e.clearCopiedDamageResult(...t))},(0,o.zw)(e.displayName("削除")),1)]),e.damageResult.キャラクター注釈.length>0?((0,i.wg)(),(0,i.iD)("div",rc,[(0,i._)("ul",cc,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.damageResult.キャラクター注釈,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t},(0,o.zw)(e),1)))),128))])])):(0,i.kq)("",!0),(0,i._)("div",uc,[(0,i._)("label",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.resultStyleRef=t)},mc,512),[[s.bM,e.resultStyleRef]])])])],64)}var gc=(0,i.aZ)({name:"DamageResult",props:{damageResult:{type:Object,required:!0}},setup(e){const{displayName:t}=(0,$.Z)(),a=(0,F.qj)(e.damageResult.元素反応),n=(0,F.iH)("なし"),s=e=>tt.X9[e],o=(0,F.iH)("1"),r=(0,F.qj)({});(0,i.YP)(a,(()=>{("蒸発"==n.value&&0==a.蒸発倍率||"溶解"==n.value&&0==a.溶解倍率||"超激化"==n.value&&0==a.超激化ダメージ||"草激化"==n.value&&0==a.草激化ダメージ)&&(n.value="なし",document.getElementById("増幅反応-なし").checked=!0)}));const c=(0,i.Fl)((()=>{let e=a.拡散ダメージ;return"蒸発"==n.value&&["炎","水"].includes(a.拡散元素)?e*=a.蒸発倍率:"溶解"==n.value&&["炎","氷"].includes(a.拡散元素)?e*=a.溶解倍率:"超激化"==n.value&&"雷"==a.拡散元素&&(e+=a.超激化ダメージ),e})),u=e=>{let t=a[e];if(t){const n=a[e+"会心率"];if(n){const l=a[e+"会心ダメージ"];l&&(t*=((100+l)/100*n+(100-n))/100)}}else t=0;return t},d=(0,i.Fl)((()=>g("通常攻撃").filter((e=>e[0].endsWith("段ダメージ")&&!e[0].startsWith("非表示_"))).length)),p=(e,t,l)=>{let s=e[t];if(!s)return"-";if(!["シールド"].includes(e[5]))if("蒸発"==n.value&&["炎","水"].includes(e[1]))s*=a.蒸発倍率,a.拡散ダメージ&&["炎","水"].includes(a.拡散元素)&&e[1]!=a.拡散元素&&("炎"==e[1]?s*=1.5:"水"==e[1]&&(s*=2),"炎"==a.拡散元素?s/=1.5:"水"==a.拡散元素&&(s/=2));else if("溶解"==n.value&&["炎","氷"].includes(e[1]))s*=a.溶解倍率,a.拡散ダメージ&&["炎","氷"].includes(a.拡散元素)&&e[1]!=a.拡散元素&&("炎"==e[1]?s*=2:"氷"==e[1]&&(s*=1.5),"炎"==a.拡散元素?s/=2:"氷"==a.拡散元素&&(s/=1.5));else if("超激化"==n.value&&["雷"].includes(e[1])){let n=a.超激化ダメージ;e[7]&&(n*=e[7]),e[8]&&(n*=e[8]),n*=e[t]/e[4],"合計ダメージ"==e[0]&&"通常攻撃"==l&&(n*=d.value),s+=n}else if("草激化"==n.value&&["草"].includes(e[1])){let n=a.草激化ダメージ;e[7]&&(n*=e[7]),e[8]&&(n*=e[8]),n*=e[t]/e[4],"合計ダメージ"==e[0]&&"通常攻撃"==l&&(n*=d.value),s+=n}return s=s<10?Math.round(100*s)/100:s<100?Math.round(10*s)/10:Math.round(s),s},m=(e,t,a)=>{let l=0;if(a in r){const s=r.元素反応,i=r[a],o=g(a)[e],c=i.filter((e=>e[0]==o[0]));if(0==c.length)return;let u=c[0];if(c.length>1)for(let t=0;t<g(a).length;t++)g(a)[t][0]==o[0]&&t<e&&(u=c[1]);if(l=u[t],!l)return"-";if(!u[5]||!["シールド"].includes(u[5]))if(u[1]&&"蒸発"==n.value&&["炎","水"].includes(u[1]))l*=s.蒸発倍率,s.拡散ダメージ&&["炎","水"].includes(s.拡散元素)&&u[1]!=s.拡散元素&&("炎"==u[1]?l*=1.5:"水"==u[1]&&(l*=2),"炎"==s.拡散元素?l/=1.5:"水"==s.拡散元素&&(l/=2));else if(u[1]&&"溶解"==n.value&&["炎","氷"].includes(u[1]))l*=s.溶解倍率,s.拡散ダメージ&&["炎","氷"].includes(s.拡散元素)&&u[1]!=s.拡散元素&&("炎"==u[1]?l*=2:"氷"==u[1]&&(l*=1.5),"炎"==s.拡散元素?l/=2:"氷"==s.拡散元素&&(l/=1.5));else if(u[1]&&"超激化"==n.value&&["雷"].includes(u[1])){let e=s.超激化ダメージ;u[7]&&(e*=u[7]),u[8]&&(e*=u[8]),e*=u[t]/u[4],"合計ダメージ"==u[0]&&"通常攻撃"==a&&(e*=d.value),l+=e}else if(u[1]&&"草激化"==n.value&&["草"].includes(u[1])){let e=s.草激化ダメージ;u[7]&&(e*=u[7]),u[8]&&(e*=u[8]),e*=u[t]/u[4],"合計ダメージ"==u[0]&&"通常攻撃"==a&&(e*=d.value),l+=e}l=l<10?Math.round(100*l)/100:l<100?Math.round(10*l)/10:Math.round(l)}return l},f=["通常攻撃","重撃","落下攻撃","元素スキル","元素爆発","その他"],g=t=>{const a=[],n=e.damageResult[t].filter((e=>!e[0].startsWith("非表示")));for(let e=0;e<n.length;e++){let t=1;t=e>0&&n[e][0]==n[e-1][0]?0:n.slice(e).filter((t=>t[0]==n[e][0])).length,a.push([...n[e],t])}return a},y=(0,F.qj)({});for(const l of f)y[l]=!0;const h=e=>{y[e]=!y[e]},b=e=>{if(e&&"ja-jp"==Qe.Z.global.locale.value&&e.length>10){let t=e;return t=t.replace(/のダメージ$/,"").replace(/ダメージ$/,""),t}return t(e)},w=(e,a)=>{if(e&&"ja-jp"==Qe.Z.global.locale.value&&g(a).length>2){let t=e;return t=t.replace(/のダメージ$/,"").replace(/ダメージ$/,""),t}return t(e)},v=e=>{let a="";if(!e||!e[5]||["HP回復","シールド","表示"].includes(e[5]))return"";if(a+=t("ダメージバフ"),a+=":&nbsp;",a+=Math.round(1e3*(e[7]-1))/10,a+="%<br>",e[2]&&e[3]&&e[4]){let n=e[2]-e[4];n/=e[3]-e[4],n=Math.round(1e3*n)/10;const l=Math.round(1e3*(e[3]/e[4]-1))/10;a+=t("会心"),a+=":&nbsp;",a+=n,a+="%/",a+=l,a+="%<br>"}return e[6]&&(a+=e[6],a+="Hit"+(e[6]>1?"s":""),a+="<br>"),a},_=(0,i.Fl)((()=>{const t=e.damageResult.被ダメージ.filter((e=>"物理"==e.key));for(const a of e.damageResult.被ダメージ.filter((e=>"物理"!=e.key))){const e=t.map((e=>e.value));e.includes(a.value)||t.push(a)}return t})),k=(0,i.Fl)((()=>{const t=e.damageResult.耐久スコア.filter((e=>"物理"==e.key));for(const a of e.damageResult.耐久スコア.filter((e=>"物理"!=e.key))){const e=t.map((e=>e.value));e.includes(a.value)||t.push(a)}return t})),S=()=>{(0,Bt.fX)(r,l().cloneDeep(e.damageResult))},D=()=>{(0,Bt.fX)(r,{})};return{displayName:t,displayNameV:b,displayNameH:w,"元素反応":a,"増幅反応":n,swirlDmg:c,reactionDmg:u,elementClass:s,displayDamageValue:p,displayDamageParam:v,CATEGORY_LIST:f,itemList:g,categoryOpenClose:y,categoryOnClick:h,resultStyleRef:o,displayCopiedDamageValue:m,copiedDamageResult:r,damageTakenList:_,resScoreList:k,copyDamageResult:S,clearCopiedDamageResult:D}}});const yc=(0,Q.Z)(gc,[["render",fc],["__scopeId","data-v-437299d0"]]);var hc=yc;const bc=e=>((0,i.dD)("data-v-e5909194"),e=e(),(0,i.Cn)(),e),wc={class:"total-damage"},vc={class:"damage-name"},_c={class:"total-damage-value"},kc=bc((()=>(0,i._)("hr",null,null,-1))),Sc={class:"action-list"},Dc=["onClick"],Cc=["src","alt"],Oc=bc((()=>(0,i._)("hr",null,null,-1))),Rc={class:"customized-result"},Vc={class:"category handle with-tooltip"},Nc=["src","alt"],Ic={class:"tooltip"},Mc={class:"damage"},jc={class:"damage-name"},Hc={class:"reaction-list"},zc=["onClick"],Ac=["src","alt"],Lc={class:"tooltip"},Uc=["onUpdate:modelValue","onChange"],Tc=["onClick"],qc=bc((()=>(0,i._)("span",{class:"material-symbols-outlined"}," close ",-1))),Ec=[qc],Yc={class:"savedata"},xc=["value"],Pc=bc((()=>(0,i._)("p",{class:"notice"}," 天賦アイコンまたは元素反応アイコンをクリックしてスキルローテーションを設定してください。 ",-1)));function Wc(e,t,a,n,l,r){const c=(0,i.up)("draggable");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("fieldset",null,[(0,i._)("table",wc,[(0,i._)("tr",null,[(0,i._)("th",vc,(0,o.zw)(e.displayName("合計ダメージ")),1),(0,i._)("td",_c,(0,o.zw)(Math.round(e.totalDamage)),1)])]),kc,(0,i._)("ul",Sc,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.itemList,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.id},[(0,i._)("div",{class:"add-item",onClick:a=>e.addItem(t)},[(0,i._)("img",{class:(0,o.C_)("action"+e.itemImgClass(t)),src:t.src,alt:e.displayName(t.name)},null,10,Cc)],8,Dc),(0,i._)("div",null,(0,o.zw)(e.displayName(t.name)),1)])))),128))]),Oc,(0,i._)("table",Rc,[(0,i.Wm)(c,{list:e.rotationDamageCustomList,"item-key":"id",group:"action",sort:!0,handle:".handle"},{item:(0,i.w5)((({element:t,index:a})=>[(0,i._)("tr",null,[(0,i._)("th",Vc,[(0,i._)("img",{class:(0,o.C_)("action"+e.itemImgClass(t)),src:t.src,alt:e.displayName(t.name)},null,10,Nc),(0,i._)("div",Ic,(0,o.zw)(e.displayName(t.name)),1)]),(0,i._)("td",Mc,[(0,i._)("table",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.getDamageResultArr(t,e.damageResult),((a,n)=>((0,i.wg)(),(0,i.iD)("tr",{key:n},[(0,i._)("th",jc,(0,o.zw)(e.displayName(a[0])),1),(0,i._)("td",Hc,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.amplifyingReactionList(t,n),(a=>((0,i.wg)(),(0,i.iD)("div",{class:"reaction with-tooltip",key:a[0],onClick:l=>e.reactionOnClick(t,n,a)},[(0,i._)("span",null,(0,o.zw)(e.reactionCount(t,n,a)),1),(0,i._)("img",{class:(0,o.C_)("reaction"+e.reactionUnselectedClass(t,n,a)),src:a[1],alt:e.displayName(a[0])},null,10,Ac),(0,i._)("div",Lc,(0,o.zw)(e.displayName(a[0])),1)],8,zc)))),128))]),(0,i._)("td",null,[(0,i.Uk)(" × "),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":e=>t.counts[n]=e,min:"0",onChange:a=>e.countOnChange(t,n)},null,40,Uc),[[s.nr,t.counts[n]]])]),(0,i._)("td",{class:(0,o.C_)("damage-value"+e.elementColorClass(t,n))},(0,o.zw)(Math.round(e.damageValue(t,n))),3)])))),128))])]),(0,i._)("td",null,[(0,i._)("button",{type:"button",onClick:t=>e.doDelete(a)},Ec,8,Tc)])])])),_:1},8,["list"])])]),(0,i._)("div",Yc,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.savedataIndex=t),onChange:t[1]||(t[1]=(...t)=>e.load&&e.load(...t))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.savedataList,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e[0],key:e[0]},(0,o.zw)(e[1]),9,xc)))),128))],544),[[s.bM,e.savedataIndex]]),(0,i._)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.save&&e.save(...t))},"Save"),(0,i._)("button",{type:"button",onClick:t[3]||(t[3]=(...t)=>e.remove&&e.remove(...t))},"Remove")]),Pc],64)}var Fc=a(6983),Kc=a.n(Fc);let Zc=1;var Gc=(0,i.aZ)({name:"RotationDamage",components:{draggable:Kc()},props:{characterMaster:{type:Object,required:!0},damageResult:{type:Object,required:!0}},emits:["update:rotation-damage"],setup(e,t){const{displayName:a,targetValue:n}=(0,$.Z)(),{characterMaster:s}=(0,F.BK)(e),o=(0,F.qj)([]),r=(0,i.Fl)((()=>Ua(c.value,e.damageResult))),c=(0,i.Fl)((()=>{let e=[];for(const t of o)e.push({name:t.name,category:t.category,reactions:t.reactions,counts:t.counts});return e}));function u(){const e={totalDamage:r.value,rotationDamages:c.value};t.emit("update:rotation-damage",e)}const d=(0,i.Fl)((()=>{const t=[];return tt.vN.forEach((a=>{const n=a.replace(/ダメージ$/,""),l=["重撃","落下攻撃"].includes(n)?"通常攻撃":n,i={};i.id=Zc++,i.name=n,i.src=s.value[l].icon_url,i.category=n,i.reactions=[],i.counts=[];const o=Aa(i,e.damageResult);for(let e=0;e<o.length;e++)i.reactions.push({}),["落下期間のダメージ"].includes(o[e][0])||"弓"==s.value.武器&&"重撃"==n&&o.length>3&&e<2?i.counts.push(0):i.counts.push(1);t.push(i)})),ja.forEach((a=>{if(e.damageResult.元素反応[a]){const n=a.replace(/ダメージ$/,"");let l;l="拡散ダメージ"==a?e.damageResult.元素反応.拡散元素:Ha.get(a);const s={};s.id=Zc++,s.name=n,s.src=tt.GN[l],s.category=a,s.reactions=[{}],s.counts=[1],t.push(s)}})),t})),p=e=>ja.includes(e.category)?" reaction ":"",m=e=>{const t=s.value.名前,a="ROTATION_"+t+"_"+e;return a},f=(0,F.iH)(1),g=new Map([["通常攻撃","N"],["重撃","C"],["落下攻撃","P"],["元素スキル","E"],["元素爆発","Q"]]),y="**** NEW DATA ****",h=(0,F.iH)(0),b=(0,i.Fl)((()=>{const e=[],t=s.value.名前,a=Object.keys(localStorage).filter((e=>e.startsWith("ROTATION_"+t+"_"))),n=a.map((e=>Number(e.replace("ROTATION_"+t+"_",""))));let l=Math.max(0,...n);for(let s=1;s<=l;s++){const t=m(s);let a=s+" : ";if(t in localStorage){const e=localStorage.getItem(t),n=JSON.parse(e);Array.isArray(n)&&n.forEach((e=>{if(g.has(e.name)){const t=g.get(e.name);if(a+=t,["N","C","P"].includes(t)){const t=Math.max(...e.counts);t&&(a+=t)}}else a+="*"}))}else a+=y;e.push([s,a,h.value])}const i=l+1,o=i+" : "+y;return e.push([i,o,h.value]),e})),w=()=>{if(o.length>0){const e=m(f.value),t=JSON.stringify(o);localStorage.setItem(e,t),h.value++}},v=()=>{const e=m(f.value);if(e in localStorage){const t=localStorage.getItem(e),a=JSON.parse(t);Array.isArray(a)&&o.splice(0,o.length,...a),u()}};v();const _=()=>{const e=m(f.value);e in localStorage&&(localStorage.removeItem(e),h.value++)},k=({id:e})=>{const t=d.value.filter((t=>t.id==e))[0],a=l().cloneDeep(t);return a.id=e++,a},S=e=>{o.push(k(e))},D=(t,a)=>{const n=[],l=Aa(t,e.damageResult),s=l[a],i=s[1];return i&&(["炎","水"].includes(i)&&e.damageResult.元素反応.蒸発倍率>0&&n.push(["蒸発",tt.GN[["炎","水"].filter((e=>e!=i))[0]]]),["炎","氷"].includes(i)&&e.damageResult.元素反応.溶解倍率>0&&n.push(["溶解",tt.GN[["炎","氷"].filter((e=>e!=i))[0]]]),["雷"].includes(i)&&e.damageResult.元素反応.超激化ダメージ>0&&n.push(["超激化",tt.GN["草"]]),["草"].includes(i)&&e.damageResult.元素反応.草激化ダメージ>0&&n.push(["草激化",tt.GN["雷"]])),n},C=(e,t,a)=>{let n="";const l=e.reactions[t];return a[0]in l&&l[a[0]]&&(n=l[a[0]]),n},O=(e,t,a)=>{let n;return n=C(e,t,a)?"":" unselected ",n},R=(t,a,n)=>{const l=t.reactions[a];let s=t.counts[a];const i=Aa(t,e.damageResult)[a];i[6]&&(s*=i[6]),n[0]in l?l[n[0]]<s?l[n[0]]++:l[n[0]]=0:l[n[0]]=1},V=(e,t)=>{const a=e.reactions[t],n=e.counts[t];Object.keys(a).forEach((e=>{n<a[e]&&(a[e]=n)}))},N=(t,a)=>{let n=0;const l=Aa(t,e.damageResult);if(!l)return n;const s=l[a];if(!s)return n;const i=t.reactions[a];if(!i)return n;const o=t.counts[a];for(let r=0;r<o;r++){let t=s[2];["蒸発","溶解"].forEach((a=>{a in i&&r<i[a]&&(t*=e.damageResult.元素反応[a+"倍率"])})),n+=t}return["超激化","草激化"].forEach((t=>{if(t in i){let a=e.damageResult.元素反応[t+"ダメージ"];s[2]&&(a*=s[2]/s[4]),s[7]&&(a*=s[7]),s[8]&&(a*=s[8]),n+=a*i[t]}})),n},I=(t,a)=>{const n=Aa(t,e.damageResult),l=n[a];return l[1]?" "+tt.X9[l[1]]+" ":""},M=e=>{o.splice(e,1)};return(0,i.YP)(o,(()=>{u()})),(0,i.YP)(s,(()=>{o.splice(0,o.length),f.value=1,v()})),{displayName:a,targetValue:n,itemList:d,itemImgClass:p,addItem:S,getDamageResultArr:Aa,clone:k,rotationDamageCustomList:o,amplifyingReactionList:D,reactionCount:C,reactionUnselectedClass:O,reactionOnClick:R,countOnChange:V,damageValue:N,elementColorClass:I,doDelete:M,totalDamage:r,savedataIndex:f,savedataList:b,save:w,load:v,remove:_}}});const Bc=(0,Q.Z)(Gc,[["render",Wc],["__scopeId","data-v-e5909194"]]);var Xc=Bc;const $c=e=>((0,i.dD)("data-v-358e4396"),e=e(),(0,i.Cn)(),e),Jc=$c((()=>(0,i._)("img",{width:"32",height:"32",src:"images/Twitter social icons - rounded square - blue.png",alt:"Twitter"},null,-1))),Qc=[Jc];function eu(e,t,a,n,l,s){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.$emit("share:twitter"))},Qc)])}var tu=(0,i.aZ)({name:"ShareSns",emits:["share:twitter"]});const au=(0,Q.Z)(tu,[["render",eu],["__scopeId","data-v-358e4396"]]);var nu=au;const lu=(0,i.uE)('<h2 data-v-2956bad3>げんかるく</h2><fieldset data-v-2956bad3><legend data-v-2956bad3>構成保存の対象範囲</legend><button type="button" data-v-2956bad3>キャラクター</button><button type="button" data-v-2956bad3>武器</button><button type="button" data-v-2956bad3>聖遺物セット効果</button><button type="button" data-v-2956bad3>聖遺物メイン効果</button><button type="button" data-v-2956bad3>聖遺物サブ効果</button><button type="button" data-v-2956bad3>オプション条件</button><hr data-v-2956bad3><a href="SavedataList.html" data-v-2956bad3>保存構成リンク集</a></fieldset><fieldset data-v-2956bad3><legend data-v-2956bad3>聖遺物詳細画面OCR</legend><div class="description" data-v-2956bad3> キャラクター＞聖遺物＞聖遺物詳細のスクリーンショットから聖遺物のステータスを設定する機能です。 読み取り精度はいまひとつなので、実行後に目視にて確認、修正願います。 本機能はすべてブラウザ内で処理されます。外部へのデータ送信などはありません。 </div></fieldset><fieldset data-v-2956bad3><legend data-v-2956bad3>被ダメージ表示</legend><div class="description" data-v-2956bad3> 基礎ダメージ10000に対する被ダメージ(推定値)を表示します。<br data-v-2956bad3> 基礎ダメージはざっくり防御力0の場合の被ダメージです。 </div></fieldset><fieldset data-v-2956bad3><legend data-v-2956bad3>内部リンク</legend><p data-v-2956bad3><a href="TeamOptionList.html" data-v-2956bad3>強化・弱体効果一覧</a></p><p data-v-2956bad3><a href="CritTarget.html" data-v-2956bad3>会心目標</a></p><p data-v-2956bad3><a href="index2.html" data-v-2956bad3>旧バージョン(V2)</a></p></fieldset>',5);function su(e,t,a,n,l,s){return lu}var iu=(0,i.aZ)({name:"AboutMyApp"});const ou=(0,Q.Z)(iu,[["render",su],["__scopeId","data-v-2956bad3"]]);var ru=ou;const cu=e=>((0,i.dD)("data-v-4d61b92a"),e=e(),(0,i.Cn)(),e),uu=cu((()=>(0,i._)("legend",null,"おまけ",-1))),du={class:"left"},pu=cu((()=>(0,i._)("span",null,"全ての武器が選択可能になる",-1))),mu=cu((()=>(0,i._)("div",{class:"notice"}," ※正規の武器タイプ以外の武器を選択した場合、構成保存できなくなります。 ",-1))),fu=cu((()=>(0,i._)("span",null,"聖遺物詳細の表示値をサブ効果のみの合計にする",-1))),gu=cu((()=>(0,i._)("div",{class:"notice"},[(0,i.Uk)(" 聖遺物詳細の表示値からメイン効果分が除外されます。"),(0,i._)("br")],-1))),yu=cu((()=>(0,i._)("span",null,"聖遺物サブ効果の自動計算を止める",-1))),hu=cu((()=>(0,i._)("div",{class:"notice"},[(0,i.Uk)(" 聖遺物サブ効果が自動計算されなくなります。"),(0,i._)("br"),(0,i.Uk)(" 手動で入力して下さい。 ")],-1))),bu=cu((()=>(0,i._)("span",null,"聖遺物サブ効果0初期化",-1))),wu=["disabled"];function vu(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("fieldset",null,[uu,(0,i._)("div",du,[(0,i._)("article",null,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.configurationInputRea["全武器解放"]=t),onChange:t[1]||(t[1]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[s.e8,e.configurationInputRea["全武器解放"]]]),pu]),mu]),(0,i._)("article",null,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.configurationInputRea["聖遺物詳細サブ効果オンリー"]=t),onChange:t[3]||(t[3]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[s.e8,e.configurationInputRea["聖遺物詳細サブ効果オンリー"]]]),fu]),gu]),(0,i._)("article",null,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.configurationInputRea["聖遺物サブ効果計算停止"]=t),onChange:t[5]||(t[5]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[s.e8,e.configurationInputRea["聖遺物サブ効果計算停止"]]]),yu]),hu]),(0,i._)("article",null,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=t=>e.initializeArtifactStatsSubClickableRef=t)},null,512),[[s.e8,e.initializeArtifactStatsSubClickableRef]]),bu]),(0,i._)("button",{type:"button",disabled:!e.initializeArtifactStatsSubClickableRef,onClick:t[7]||(t[7]=(...t)=>e.initializeArtifactStatsSub&&e.initializeArtifactStatsSub(...t))},(0,o.zw)(e.displayName("実行")),9,wu)])])]),(0,i._)("div",null,(0,o.zw)(e.screen.width)+" , "+(0,o.zw)(e.screen.height),1)],64)}var _u=(0,i.aZ)({name:"ConfigurationInput",props:{configurationInput:{type:Object,required:!0}},emits:["update:configuration-input","order:initialize-artifact-stats-sub"],setup(e,t){const{displayName:a}=(0,$.Z)(),n=(0,F.qj)(e.configurationInput),l=(0,F.iH)(!1),s=()=>{t.emit("order:initialize-artifact-stats-sub"),l.value=!1};return{displayName:a,configurationInputRea:n,initializeArtifactStatsSubClickableRef:l,initializeArtifactStatsSub:s,screen:screen}}});const ku=(0,Q.Z)(_u,[["render",vu],["__scopeId","data-v-4d61b92a"]]);var Su=ku;const Du={class:"own-list"},Cu=["src","alt","onClick"],Ou={class:"tooltip"},Ru=["src","alt"],Vu={class:"constellation"},Nu=["disabled"],Iu=["disabled"];function Mu(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("ul",Du,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.characterList,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.key},[(0,i._)("img",{class:(0,o.C_)("character"+e.bgImageClass(t)+e.notOwnedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.onClick(t)},null,10,Cu),(0,i._)("div",Ou,(0,o.zw)(e.displayName(t.key)),1),(0,i._)("img",{class:"vision",src:e.visionSrc(t),alt:t.元素},null,8,Ru),(0,i._)("div",Vu,(0,o.zw)(e.constellationObj[t.key]),1)])))),128))]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.savable=t),disabled:!e.changed},null,8,Nu),[[s.e8,e.savable]]),(0,i._)("span",null,(0,o.zw)(e.displayName("キャラクター所持状況を保存する")),1)]),(0,i._)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,o.zw)(e.displayName("実行")),9,Iu)],64)}var ju=(0,i.aZ)({name:"CharacterOwnList",setup(){const{displayName:e}=(0,$.Z)(),t=e=>tt.GN[e.元素],a=e=>" "+tt.dr[e.レアリティ],n=tt.qy,l=(0,F.qj)({});for(const u of n)l[u.key]=null;if(localStorage["キャラクター所持状況"]){const e=JSON.parse(localStorage["キャラクター所持状況"]);Object.keys(e).forEach((t=>{(0,Bt.hj)(e[t])&&(l[t]=Number(e[t]))}))}const s=(0,F.iH)(!1),i=(0,F.iH)(!1),o=e=>null==l[e.key]?" not-owned":"",r=e=>{if(null===l[e.key])l[e.key]=0;else if(6==l[e.key])l[e.key]=null;else{let t=l[e.key];l[e.key]=t+1}s.value=!0},c=()=>{const e={};Object.keys(l).filter((e=>null!==l[e])).forEach((t=>{e[t]=l[t]})),localStorage.setItem("キャラクター所持状況",JSON.stringify(e)),i.value=!1,s.value=!1};return{displayName:e,visionSrc:t,bgImageClass:a,characterList:n,constellationObj:l,onClick:r,changed:s,savable:i,save:c,notOwnedClass:o}}});const Hu=(0,Q.Z)(ju,[["render",Mu],["__scopeId","data-v-dba96e2e"]]);var zu=Hu;const Au={class:"select-list"},Lu=["value"],Uu=["src","alt"],Tu={key:0,class:"own-list"},qu=["src","alt","onClick"],Eu={class:"tooltip"},Yu={class:"refine"},xu=["disabled"],Pu=["disabled"];function Wu(e,t,a,n,l,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("ul",Au,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.weaponTypeList,(a=>((0,i.wg)(),(0,i.iD)("li",{key:a},[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio","onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedWeaponType=t),value:a,name:"weapon-own-list-type"},null,8,Lu),[[s.G2,e.selectedWeaponType]]),(0,i._)("img",{class:"filter",src:e.weaponSrc(a),alt:a},null,8,Uu)])])))),128))]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.weaponTypeList,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t},[t==e.selectedWeaponType?((0,i.wg)(),(0,i.iD)("ul",Tu,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.weaponList(t),(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.key},[(0,i._)("img",{class:(0,o.C_)("weapon"+e.bgImageClass(t)+e.notOwnedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.onClick(t)},null,10,qu),(0,i._)("div",Eu,(0,o.zw)(e.displayName(t.key)),1),(0,i._)("div",Yu,(0,o.zw)(e.refineObj[t.key]),1)])))),128))])):(0,i.kq)("",!0)])))),128)),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.savable=t),disabled:!e.changed},null,8,xu),[[s.e8,e.savable]]),(0,i._)("span",null,(0,o.zw)(e.displayName("武器所持状況を保存する")),1)]),(0,i._)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,o.zw)(e.displayName("実行")),9,Pu)],64)}var Fu=(0,i.aZ)({name:"WeaponOwnList",setup(){const{displayName:e,targetValue:t}=(0,$.Z)(),a=e=>" "+tt.dr[e.レアリティ],n=(0,i.Fl)((()=>Object.keys(tt.k9))),l=e=>tt.k9[e],s=e=>tt.JP[e],o=(0,F.iH)(n.value[0]),r=(0,F.qj)({});for(const i of n.value)for(const e of s(i))r[e.key]=null;if(localStorage["武器所持状況"]){const e=JSON.parse(localStorage["武器所持状況"]);Object.keys(e).forEach((t=>{(0,Bt.hj)(e[t])&&(r[t]=Number(e[t]))}))}const c=(0,F.iH)(!1),u=(0,F.iH)(!1),d=e=>null==r[e.key]?" not-owned":"",p=e=>{if(null===r[e.key])r[e.key]=1;else if(5==r[e.key])r[e.key]=null;else{let t=r[e.key];r[e.key]=t+1}c.value=!0},m=()=>{const e={};Object.keys(r).filter((e=>null!==r[e])).forEach((t=>{e[t]=r[t]})),localStorage.setItem("武器所持状況",JSON.stringify(e)),u.value=!1,c.value=!1};return{displayName:e,targetValue:t,bgImageClass:a,weaponTypeList:n,weaponSrc:l,weaponList:s,selectedWeaponType:o,refineObj:r,onClick:p,changed:c,savable:u,save:m,notOwnedClass:d}}});const Ku=(0,Q.Z)(Fu,[["render",Wu],["__scopeId","data-v-740da938"]]);var Zu=Ku;const Gu={class:"cat-select"},Bu=["alt"],Xu=["alt"],$u=["alt"],Ju=["alt"],Qu=["alt"],ed={class:"artifact-list"},td={class:"new-artifact"},ad=["disabled"],nd={style:{"margin-top":"10px"}},ld=["disabled"],sd=["disabled"];function id(e,t,a,n,l,r){const c=(0,i.up)("ArtifactItem");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Gu,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"1","onUpdate:modelValue":t[0]||(t[0]=t=>e.artifactCatTabSelected=t),onChange:t[1]||(t[1]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/flower_of_life.png",alt:e.displayName("生の花")},null,8,Bu)]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"2","onUpdate:modelValue":t[2]||(t[2]=t=>e.artifactCatTabSelected=t),onChange:t[3]||(t[3]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/plume_of_death.png",alt:e.displayName("死の羽")},null,8,Xu)]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"3","onUpdate:modelValue":t[4]||(t[4]=t=>e.artifactCatTabSelected=t),onChange:t[5]||(t[5]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/sands_of_eon.png",alt:e.displayName("時の砂")},null,8,$u)]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"4","onUpdate:modelValue":t[6]||(t[6]=t=>e.artifactCatTabSelected=t),onChange:t[7]||(t[7]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/goblet_of_eonothem.png",alt:e.displayName("空の杯")},null,8,Ju)]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{class:"hidden",type:"radio",value:"5","onUpdate:modelValue":t[8]||(t[8]=t=>e.artifactCatTabSelected=t),onChange:t[9]||(t[9]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[s.G2,e.artifactCatTabSelected]]),(0,i._)("img",{src:"images/circlet_of_logos.png",alt:e.displayName("理の冠")},null,8,Qu)])]),(0,i._)("div",ed,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.artifactOwnArrCatId(e.artifactCatTabSelected),(t=>((0,i.wg)(),(0,i.j4)(c,{key:t.id,artifact:t.artifact,id:t.id,controls:["edit","remove"],"onUpdate:article":e.updateArtifact,"onRemove:artifact":e.removeArtifact},null,8,["artifact","id","onUpdate:article","onRemove:artifact"])))),128))]),(0,i._)("div",td,[e.isAdding?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Wm)(c,{artifact:e.newArtifact,id:0,controls:["edit"],initials:["edit"],"onUpdate:artifact":e.updateArtifact},null,8,["artifact","onUpdate:artifact"]),(0,i._)("div",null,[(0,i._)("button",{type:"button",onClick:t[11]||(t[11]=(...t)=>e.add&&e.add(...t)),disabled:!e.addable},(0,o.zw)(e.displayName("追加する")),9,ad),(0,i._)("button",{type:"button",onClick:t[12]||(t[12]=t=>e.isAdding=!1)},(0,o.zw)(e.displayName("閉じる")),1)])],64)):((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",onClick:t[10]||(t[10]=t=>e.isAdding=!0)},(0,o.zw)(e.displayName("新規聖遺物")),1))]),(0,i._)("div",nd,[(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=t=>e.savable=t),disabled:!e.changed},null,8,ld),[[s.e8,e.savable]]),(0,i._)("span",null,(0,o.zw)(e.displayName("聖遺物所持状況を保存する")),1)]),(0,i._)("button",{type:"button",onClick:t[14]||(t[14]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,o.zw)(e.displayName("実行")),9,sd)])],64)}var od=1,rd=(0,i.aZ)({name:"ArtifactOwnList",components:{ArtifactItem:os.Z},setup(){const{displayName:e,displayStatValue:t,targetValue:a}=(0,$.Z)(),n="artifact_list",s=(0,F.iH)(1),o=(0,F.qj)([]),r=(0,F.qj)(l().cloneDeep(et.HM)),c=(0,F.iH)(!1),u=(0,F.iH)(!1),d=(0,F.iH)(!1),p=e=>{const t=o.filter((t=>t.artifact.cat_id==Number(e)));return t.sort(((e,t)=>{if(e.artifact.setname!=t.artifact.setname){const a=Object.keys(tt.oN),n=a.indexOf(e.artifact.setname),l=a.indexOf(t.artifact.setname);return n-l}if(e.artifact.mainStat!=t.artifact.mainStat){const a=Object.keys(et.LA),n=a.indexOf(e.artifact.mainStat),l=a.indexOf(t.artifact.mainStat);return n-l}return 0}))},m=[["",0],["HP",4780],["攻撃力",311],["攻撃力%",46.6],["炎元素ダメージバフ",46.6],["会心率",31.1]],f=()=>{r.cat_id=s.value,r.mainStat=String(m[r.cat_id][0]),r.mainStatValue=Number(m[r.cat_id][1])},g=(e,t)=>{if(0==e)return void(0,Bt.fX)(r,t);let a=0;for(;a<o.length;a++)if(o[a].id==e){o[a].artifact=t;break}u.value=!0},y=e=>{let t=0;for(;t<o.length;t++)if(o[t].id==e){o.splice(t,1);break}},h=(0,i.Fl)((()=>{if(!r.name)return!1;if(!r.rarity)return!1;if(!r.setname)return!1;if(!r.cat_id)return!1;if(!r.mainStat)return!1;if(!r.mainStatValue)return!1;for(const e of r.subStats){if(!e.name)return!1;if(!e.value)return!1}return!0})),b=()=>{const e={id:od++,artifact:l().cloneDeep(r)};console.log(e),o.push(e),u.value=!0},w=()=>{const e=o.map((e=>e.artifact));localStorage.setItem(n,JSON.stringify(e)),u.value=!1,d.value=!1},v=()=>{if(n in localStorage){const e=JSON.parse(localStorage[n]),t=e.filter((e=>"setname"in e)).map((e=>({id:od++,artifact:e})));o.splice(0,o.length,...t)}console.log(o)};return v(),{displayName:e,displayStatValue:t,targetValue:a,artifactCatTabSelected:s,newArtifact:r,artifactOwnArrCatId:p,catOnChange:f,updateArtifact:g,removeArtifact:y,isAdding:c,addable:h,add:b,changed:u,savable:d,save:w}}});const cd=(0,Q.Z)(rd,[["render",id],["__scopeId","data-v-56db0877"]]);var ud=cd;const dd={key:0},pd={for:"artifact-score-formula",class:"toggle-switch header"},md={value:"-1"},fd=["value"],gd={class:"formula-detail"},yd=["onUpdate:modelValue"],hd={class:"formula-detail"},bd=["disabled"];function wd(e,t,a,n,l,r){return e.visible?((0,i.wg)(),(0,i.iD)("div",dd,[(0,i.wy)((0,i._)("input",{id:"artifact-score-formula",type:"checkbox",class:"hidden","onUpdate:modelValue":t[0]||(t[0]=t=>e.expanded=t)},null,512),[[s.e8,e.expanded]]),(0,i._)("label",pd,(0,o.zw)(e.displayName("聖遺物スコア計算式")),1),(0,i.wy)((0,i._)("div",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedIndex=t),onChange:t[2]||(t[2]=(...t)=>e.selectOnChange&&e.selectOnChange(...t))},[(0,i._)("option",md,(0,o.zw)(e.artifactScoreFormulaName(e.currentFormula)),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.artifactScoreFormulaList,((t,a)=>((0,i.wg)(),(0,i.iD)("option",{key:a,value:a},"   "+(0,o.zw)(e.artifactScoreFormulaName(t)),9,fd)))),128))],544),[[s.bM,e.selectedIndex]]),(0,i._)("div",gd,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.currentFormula,((a,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"right",key:n},[(0,i._)("label",null,[(0,i.Uk)((0,o.zw)(e.displayName(a[0]))+" × ",1),(0,i.wy)((0,i._)("input",{type:"number",min:"0","onUpdate:modelValue":e=>a[1]=e,onChange:t[3]||(t[3]=t=>e.changed=!0)},null,40,yd),[[s.nr,a[1]]])])])))),128))]),(0,i._)("div",hd,[(0,i._)("button",{type:"button",disabled:!e.changed,onClick:t[4]||(t[4]=(...t)=>e.applyFormula&&e.applyFormula(...t))},"Apply",8,bd)])],512),[[s.F8,e.expanded]])])):(0,i.kq)("",!0)}var vd=(0,i.aZ)({name:"ArtifactScoreFormula",emits:["apply:formula"],props:{visible:Boolean},setup(e,t){const{displayName:a}=(0,$.Z)(),n=(0,F.iH)(!1),s=(0,F.iH)(!1),i=(0,F.qj)([]);Ra.forEach((e=>{i.push(e)}));const o=(0,F.iH)(-1),r=(0,F.qj)(l().cloneDeep(i[0])),c=()=>{if(-1==o.value)return;const e=l().cloneDeep(i[o.value]);r.splice(0,r.length,...e),s.value=!0},u=e=>{let t=[];return e.forEach((e=>{let n=a(e[0]);1!=e[1]&&(n+="*"+e[1]),t.push(n)})),t.join("+")},d=()=>{t.emit("apply:formula",r),s.value=!1},p=e=>{r.splice(0,r.length,...l().cloneDeep(e)),o.value=-1,s.value=!1};return{displayName:a,expanded:n,artifactScoreFormulaList:i,artifactScoreFormulaName:u,selectedIndex:o,currentFormula:r,selectOnChange:c,changed:s,applyFormula:d,initialize:p}}});const _d=(0,Q.Z)(vd,[["render",wd],["__scopeId","data-v-1b2d7c4f"]]);var kd=_d,Sd=(0,i.aZ)({name:"App",props:{characterInput:{type:Object,required:!0},artifactDetailInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},recommendationList:{type:Array,required:!0},recommendation:{type:Object,required:!0},urldata:{type:Object},teamMembers:{type:Array}},components:{TitleAndHeader:te,CharacterSelect:ae.Z,CharacterInput:lt,CharacterInfo:Ea,WeaponSelect:tn,ArtifactSetSelect:an.Z,ArtifactDetailInput:_s,ConditionInput:zs,StatsInput:si,NextStat:Oi,EasyTeamInput:Li,ElementalResonanceInput:Ji,TeamOptionInput:$o,MiscOptionInput:or,DamageResult:hc,RotationDamage:Xc,ShareSns:nu,AboutMyApp:ru,ConfigurationInput:Su,CharacterOwnList:zu,WeaponOwnList:Zu,ArtifactOwnList:ud,ArtifactScoreFormula:kd},setup(e){const{setI18nLanguage:t,displayName:a}=(0,$.Z)(),n=(0,F.iH)([]),s=(0,F.iH)(),o=(0,F.iH)(),r=(0,F.iH)(),c=(0,F.iH)(),u=(0,F.iH)(),d=(0,F.iH)(),p=(0,F.iH)(),m=(0,F.iH)(),f=(0,F.iH)(),g=(0,F.qj)((0,Bt.fX)(l().cloneDeep(et.Hd),e.characterInput)),y=(0,F.qj)((0,Bt.fX)(l().cloneDeep(et.HN),e.artifactDetailInput)),h=(0,F.qj)((0,Bt.fX)(l().cloneDeep(et.NY),e.conditionInput)),b=(0,F.qj)([...e.recommendationList]),w=(0,F.iH)(e.recommendation),v=(0,F.qj)(l().cloneDeep(Ra[0]));e.recommendation?.build?.artifactScoring&&v.splice(0,v.length,...e.recommendation.build.artifactScoring);const _=e=>{v.splice(0,v.length,...e)},k=(0,i.Fl)((()=>Va(g,y,v))),S=(0,F.iH)(!1),D=(0,F.iH)(!1),C=(0,F.iH)(!1),O=(0,F.iH)(0),R=g.artifactSets,V=(0,F.iH)(!0),N=Object.keys(tt.bw),I=(0,F.qj)({}),M=(0,F.iH)(!1),j=(0,F.iH)(0),H=(0,F.qj)({"全武器解放":!1,"聖遺物詳細サブ効果オンリー":!1,"聖遺物サブ効果計算停止":!1}),z=(0,i.Fl)((()=>H["聖遺物詳細サブ効果オンリー"]));t("en-us"),t("ja-jp");const A=(0,F.qj)(l().cloneDeep(et.HO)),L=["基本ステータス","高級ステータス"],U=["元素ステータス·ダメージ","ダメージバフ","実数ダメージ加算","元素反応バフ"],T=["基礎ステータス","元素ステータス·耐性"],q=["その他","ステータス連動","チーム内最高値"],E=["敵ステータス·元素耐性"],Y=["敵ステータス·その他"],x=tt.FX,P=(0,F.iH)(x[0]);A.statAdjustments["敵レベル"]=90,A.statAdjustments["敵防御力"]=0;const W=(0,F.qj)(l().cloneDeep(et.wX)),K=(0,F.qj)([]),Z=(0,F.qj)(l().cloneDeep(et.US)),G=(0,F.qj)({totalDamage:0,rotationDamages:[]}),B=(0,F.iH)(!0),X=(0,F.iH)(!0),J=(0,F.iH)(!0),Q=(0,F.iH)(1),ee=(0,F.iH)(1),te=(0,F.iH)(!1),ae=(0,F.iH)(!1),ne=(0,F.iH)(!1),le=(0,F.iH)(!1);async function se(e){const t=K.filter((t=>t.key==e));t.length&&await Ia(W,t[0].key,t[0].value,g.character)}async function ie(){const e=Object.keys(I),t=[];N.forEach((a=>{const n=(0,et.R4)(a);let l=n,s=(0,et.K1)(a);e.includes(a)&&(s=I[a],l=(0,et.R4)(a,s));let i=localStorage[l];if(i)t.push({key:a,value:i,buildname:s});else{const e=Object.keys(localStorage).filter((e=>e.startsWith(n)));e.length&&(l=e.sort()[0],i=localStorage[l],s=l.replace(new RegExp("^"+n+"_"),""),t.push({key:a,value:i,buildname:s}),I[a]=s)}})),K.splice(0,K.length,...t),console.log("App","savedSupporters",K);const a=[];K.forEach((e=>{a.push(se(e.key))})),await Promise.all(a),d.value&&d.value.initializeSupporters(W.supporters)}ie();const oe=(0,i.Fl)((()=>{const e=["特殊通常攻撃","特殊重撃","特殊落下攻撃"],t=[!1,!1,!1],a=Object.keys(g.characterMaster).filter((t=>e.includes(t))).map((e=>[e,g.characterMaster[e]]));if(a.length>0)for(const n of a){const a=e.indexOf(n[0]),l=n[1];l.条件 in h.conditionValues&&h.conditionValues[l.条件]&&(t[a]=!0)}return t})),re=()=>{A.enemyMaster=P.value,na(A,g,y,h,W),ca(Z,g,h,A)};re();const ce=t=>{const a=(0,et.R4)(g.character,t),n=(0,et.Ke)(g,y,h);localStorage.setItem(a,JSON.stringify(n));const l=(0,et.qT)(g.character,W),s=(0,et.Z3)(g.character,t);localStorage.setItem(s,JSON.stringify(l));const i=v,o=(0,et.F_)(g.character,t);let r;localStorage.setItem(o,JSON.stringify(i)),e.urldata&&e.urldata.キャラクター==g.character&&(r=e.urldata),b.splice(0,b.length,...(0,et.wM)(g.characterMaster,r));const c=K.filter((e=>e.key==g.character));0!==c.length&&c[0].buildname!=t||(ie(),se(g.character)),a==(0,et.R4)(g.character)&&(g.buildname=(0,et.K1)(g.character)),g.saveDisabled=!0,g.removeDisabled=!1},ue=t=>{let a=g.character;const n=[(0,et.K1)(g.character)];t&&!n.includes(t)&&(a+="_"+t);const l="構成_"+a;localStorage.removeItem(l);const s="オプション構成_"+a;localStorage.removeItem(s);const i="ArtifactScoring_"+a;let o;localStorage.removeItem(i),e.urldata&&e.urldata.キャラクター==g.character&&(o=e.urldata),b.splice(0,b.length,...(0,et.wM)(g.characterMaster,o)),ie(),g.saveDisabled=!1,g.removeDisabled=!0};async function de(){const e=W?.teamMembers;if(!e||0===e.length)return;const t=g.character,a=tt.bw[t].元素,n={};if(n[a]=1,e.forEach((e=>{const t=tt.bw[e].元素;t in n?n[t]++:n[t]=1})),["千岩古剣","千岩長槍"].includes(g.weapon)){let t=0;["璃月港"].includes(g.characterMaster.region)&&t++;for(const n of e.filter((e=>e))){const e=await(0,tt.tm)(n);e.region&&["璃月港"].includes(e.region)&&t++}const a="["+g.weapon+"]璃月キャラ1人毎に攻撃力と会心率+";h.conditionValues[a]=t}else if(["惡王丸","斬波のひれ長","曚雲の月"].includes(g.weapon)){let t=0;for(const a of e.filter((e=>e))){const e=await(0,tt.tm)(a);"元素エネルギー"in e.元素爆発&&(t+=e.元素爆発.元素エネルギー)}t&&(h.conditionValues["チーム全員の元素エネルギー上限の合計"]=t)}const s=n[a]-1,i=Object.keys(n).filter((e=>e!=a)),o=i.length?i.map((e=>n[e])).reduce(((e,t)=>e+t)):0;if(h.conditionValues["[チーム]同じ元素のキャラクター"]=s,h.conditionValues["[チーム]異なる元素のキャラクター"]=o,h.conditionValues["[チーム]キャラクターの元素タイプ"]=Object.keys(n).length-1,Da.forEach((e=>{const t="[チーム]"+e+"元素キャラクター";h.conditionValues[t]=n[e]??0;const l="[チーム]"+e+"元素キャラクター(自分以外)";h.conditionValues[l]=(n[e]??0)-(e==a?1:0)})),"ゴロー"===t){const e="[チーム]岩元素キャラクター";let t=h.conditionValues[e];h.conditionValues[e]=Math.min(3,t)}else"ナヒーダ"===t&&["炎","水","雷"].forEach((e=>{const t="[チーム]"+e+"元素キャラクター";let a=h.conditionValues[t];g.命ノ星座>=1&&a++,h.conditionValues[t]=Math.min(2,a);const n="[チーム]"+e+"元素キャラクター(自分以外)";let l=h.conditionValues[n];g.命ノ星座>=1&&l++,h.conditionValues[n]=Math.min(2,l)}));const r={},c=Object.keys(n).filter((e=>n[e]>=2));if(3==W.teamMembers.length)c.length>1?(r[c[0]+"元素共鳴"]=!0,r[c[1]+"元素共鳴"]=!0):c.length>0?r[c[0]+"元素共鳴"]=!0:r["元素共鳴なし"]=!0;else if(c.length>0){const e=[c[0]+"元素共鳴"],t=Object.keys(n).filter((e=>1==n[e])),a=Object.keys(W.elementalResonance.conditionValues).filter((e=>W.elementalResonance.conditionValues[e]&&"元素共鳴なし"!=e)).map((e=>e.replace(/元素共鳴$/,"")));a.forEach((a=>{t.includes(a)&&e.push(a+"元素共鳴")})),e.length<2&&Da.forEach((t=>{const a=t+"元素共鳴";W.elementalResonance.conditionValues[a]&&(e.includes(a)||e.push(a))})),e.forEach((e=>{r[e]=!0}))}l().isEqual(r,W.elementalResonance.conditionValues)||((0,Bt.fX)(W.elementalResonance.conditionValues,r),u.value.initializeValues(W.elementalResonance)),console.log(g.characterMaster,h.conditionValues)}const pe=async e=>{if(console.debug("updateRecommendation",e),!g||!y||!h)return;if(await(0,et.pS)(g,y,h,W,e.build),e.overwrite?g.buildname=e.name:g.buildname="",!("精錬ランク"in e.build)){const e=g.weapon;let t,a=[1,1,1,5,3,1][g.weaponMaster.レアリティ];if("武器所持状況"in localStorage){const a=JSON.parse(localStorage["武器所持状況"]);e in a&&a[e]&&(t=Number(a[e]))}t?a=t:"精錬ランク"in g.weaponMaster&&(a=g.weaponMaster.精錬ランク);const n=g.weaponMaster.レアリティ<3?1:5;a>n&&(a=n),g.武器精錬ランク=Number(a)}if("artifactScoring"in e.build){const t=e.build.artifactScoring;v.splice(0,v.length,...t),m.value.initialize(v)}de(),(0,et.ge)(g),(0,et.Cl)(g),(0,et.Vk)(g),(0,et.ZT)(g),(0,et.Hk)(h,g,W),ea(y.聖遺物ステータスメイン効果,y.聖遺物メイン効果);let t=!y.聖遺物優先するサブ効果Disabled;if("聖遺物サブ効果計算停止"in H&&H.聖遺物サブ効果計算停止&&(t=!1),t){const e=[(0,et.kE)(y.聖遺物優先するサブ効果,0),(0,et.kE)(y.聖遺物優先するサブ効果,1),(0,et.kE)(y.聖遺物優先するサブ効果,2)];ta(y.聖遺物ステータスサブ効果,y.聖遺物メイン効果,y.聖遺物優先するサブ効果,y.聖遺物優先するサブ効果上昇値,e,y.聖遺物優先するサブ効果上昇回数)}aa(y);const a=oa(W.elementalResonance.conditionValues,h);(0,Bt.fX)(W.elementalResonance.conditionAdjustments,a),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.initialize(h),na(A,g,y,h,W),ca(Z,g,h,A),g.saveDisabled=!1,g.removeDisabled=!e.overwrite,"options"in e.build&&(u.value.initializeValues(W.elementalResonance),d.value&&d.value.initializeValues(W.teamOption),p.value.initializeValues(W.miscOption))},me=async function(t,a){if(!g||!b||!y||!h)return;console.debug("updateCharacter",t),f.value&&f.value.clearCopiedDamageResult(),S.value=!1,g.character=t,g.characterMaster=await(0,tt.tm)(t);let n=0;if("キャラクター所持状況"in localStorage){const e=JSON.parse(localStorage["キャラクター所持状況"]);t in e&&e[t]&&(n=Number(e[t]))}const l=(0,et.PH)(g.characterMaster);n>l&&(n=l),g.命ノ星座=n,g.通常攻撃レベル=8,g.元素スキルレベル=8,g.元素爆発レベル=8;const s=g.characterMaster?.元素スキル?.名前,o=g.characterMaster?.元素爆発?.名前;for(let e=1;e<=n;e++){if(3!=e&&5!=e)continue;const t=g.characterMaster?.命ノ星座[String(e)];t&&t.説明&&(s&&-1!=t.説明.indexOf(s)?g.元素スキルレベル+=3:o&&-1!=t.説明.indexOf(o)&&(g.元素爆発レベル+=3))}let r;e.urldata&&e.urldata.キャラクター==t&&(r=e.urldata),b.splice(0,b.length,...(0,et.wM)(g.characterMaster,r)),w.value=b[0],g.recommendationSelectedIndex=0,a?W.teamMembers.splice(0,W.teamMembers.length,...a):W.teamMembers.splice(0,W.teamMembers.length),await pe(w.value),await(0,i.Y3)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},fe=e=>{g&&(Object.keys(e).forEach((t=>{t in g&&(g[t]=e[t])})),(0,et.ge)(g),(0,et.Hk)(h,g,W),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.initialize(h),na(A,g,y,h,W),ca(Z,g,h,A),g.saveDisabled=!1)},ge=(0,i.Fl)((()=>{let e=g.characterMaster.武器;return H.全武器解放&&(e=void 0),e})),ye=async()=>{S.value=!S.value,S.value&&(await(0,i.Y3)(),document.querySelector(".pane2")?.scrollIntoView({block:"nearest"}))},he=async()=>{D.value=!D.value,D.value&&(C.value=!1,V.value=!1,M.value=!1,await(0,i.Y3)(),document.querySelector(".pane4")?.scrollIntoView({block:"nearest"}))},be=async e=>{e==O.value?C.value=!C.value:(O.value=e,C.value=!0),C.value&&(D.value=!1,V.value=!1,M.value=!1,await(0,i.Y3)(),document.querySelector(".pane4")?.scrollIntoView({block:"nearest"}))},we=async e=>{if(!g)return;D.value=!1,g.weapon=e,g.weaponMaster=await(0,tt.i7)(e);let t,a=[1,1,1,5,3,1][g.weaponMaster.レアリティ];if("武器所持状況"in localStorage){const a=JSON.parse(localStorage["武器所持状況"]);e in a&&a[e]&&(t=Number(a[e]))}t?a=t:"精錬ランク"in g.weaponMaster&&(a=g.weaponMaster.精錬ランク);const n=g.weaponMaster.レアリティ<3?1:5;a>n&&(a=n),g.武器精錬ランク=Number(a),(0,et.Cl)(g),(0,et.Hk)(h,g,W),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.initialize(h),na(A,g,y,h,W),ca(Z,g,h,A),g.saveDisabled=!1,await(0,i.Y3)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},ve=e=>{Object.keys(e).forEach((t=>{g&&t in g&&(g[t]=e[t])})),(0,et.Cl)(g),(0,et.Hk)(h,g,W),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.initialize(h),na(A,g,y,h,W),ca(Z,g,h,A),g.saveDisabled=!1},_e=async e=>{if(!g)return;R[O.value]=e;const t=tt.oN[e];g.artifactSetMasters.splice(O.value,1,t),C.value=!1,(0,et.Vk)(g),(0,et.Hk)(h,g,W),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.initialize(h),na(A,g,y,h,W),ca(Z,g,h,A),g.saveDisabled=!1,await(0,i.Y3)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},ke=()=>{V.value=!V.value,V.value&&(D.value=!1,C.value=!1,M.value=!1)},Se=e=>{if(y){for(const t of Object.keys(e.聖遺物ステータス))y.聖遺物ステータス[t]=e.聖遺物ステータス[t];na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.updateNumberList(h),na(A,g,y,h,W),ca(Z,g,h,A),H.聖遺物サブ効果計算停止=e.聖遺物優先するサブ効果Disabled,g.saveDisabled=!1}},De=e=>{j.value==e?M.value=!M.value:(j.value=e,M.value=!0),M.value&&(D.value=!1,C.value=!1,V.value=!1)},Ce=e=>{(0,Bt.fX)(h.conditionValues,e);const t=oa(W.elementalResonance.conditionValues,h);(0,Bt.fX)(W.elementalResonance.conditionAdjustments,t),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.updateNumberList(h),na(A,g,y,h,W),ca(Z,g,h,A),g.saveDisabled=!1},Oe=(0,i.Fl)((()=>g?[g.damageDetailMyCharacter,g.damageDetailMyWeapon,g.damageDetailMyArtifactSets]:[])),Re=e=>e&&l().isPlainObject(e)?Object.keys(e):[],Ve=(e,t)=>{if(e&&l().isPlainObject(e))return e[t]},Ne=(0,i.Fl)((()=>{const e={};return et.PL.forEach((t=>{e[t]=A.statsObj[t]})),e})),Ie=e=>{e&&Object.keys(e).forEach((t=>{A.statAdjustments[t]=e[t]})),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.updateNumberList(h),na(A,g,y,h,W),ca(Z,g,h,A)},Me=e=>{e&&(A.statAdjustmentsEx=e,Ie())},je=e=>{G.totalDamage=e.totalDamage,G.rotationDamages.splice(0,G.rotationDamages.length,...e.rotationDamages)},He=e=>{if(e&&Object.keys(e).length){(0,Bt.fX)(W.elementalResonance.conditionValues,e),(0,et.Hk)(h,g,W);const t=oa(W.elementalResonance.conditionValues,h);(0,Bt.fX)(W.elementalResonance.conditionAdjustments,t),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.updateNumberList(h),na(A,g,y,h,W),ca(Z,g,h,A),c.value.initialize(h)}},ze=e=>{e&&Object.keys(e).length&&((0,Bt.fX)(W.miscOption,e),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.updateNumberList(h),na(A,g,y,h,W),ca(Z,g,h,A))},Ae=e=>{e&&Object.keys(e).length&&((0,Bt.fX)(W.teamOption,e),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.updateNumberList(h),na(A,g,y,h,W),ca(Z,g,h,A))},Le=e=>{(0,Bt.fX)(I,e),ie(),Object.keys(e).forEach((e=>{se(e)}))},Ue=async e=>{W.teamMembers.splice(0,W.teamMembers.length,...e),await de(),na(A,g,y,h,W),(0,et.QW)(h,g,A.statsObj),c.value.updateNumberList(h),na(A,g,y,h,W),ca(Z,g,h,A)},Te=()=>{(0,et.i5)(g,y,h)},qe=e=>{console.debug(e),e.全武器解放&&console.log("全武器解放"),e.聖遺物サブ効果計算停止&&(y.聖遺物優先するサブ効果Disabled=!0)},Ee=()=>{r.value.initializeArtifactStatsSub(),g.saveDisabled=!1},Ye=()=>{localStorage.clear(),le.value=!1},xe=(0,i.Fl)((()=>!!d.value||Object.keys(W.teamOption.conditionValues).length>0));return me(g.character,e.teamMembers),{displayName:a,HTML_LOGGER:n,characterSelectVmRef:s,characterInputVmRef:o,artifactDetailInputVmRef:r,conditionInputVmRef:c,elementalResonanceInputVmRef:u,teamOptionInputVmRef:d,miscOptionInputVmRef:p,artifactScoreFormulaVmRef:m,damageResultVmRef:f,characterInputRea:g,artifactDetailInputRea:y,conditionInputRea:h,recommendationListRea:b,recommendationRef:w,artifactScore:k,artifactScoringStats:v,applyArtifactScoreFormula:_,characterSelectVisibleRef:S,weaponSelectVisibleRef:D,weaponType:ge,artifactSetSelectVisibleRef:C,artifactSetIndexRef:O,artifactSets:R,artifactDetailInputVisibleRef:V,characterInfoVisibleRef:M,characterInfoModeRef:j,updateCondition:Ce,statsInput:A,characterStats1Category1List:L,characterStats1Category2List:U,characterStats2Category1List:T,characterStats2Category2List:q,enemyStatsCategory1List:E,enemyStatsCategory2List:Y,enemyList:x,selectedEnemyRef:P,updateEnemy:re,optionInputRea:W,damageResult:Z,savedSupporters:K,normalAttackReplacing:oe,topStats:Ne,rotationDamageInfo:G,openTwitter:Te,configurationInputRea:H,isSubStatOnly:z,pane6Toggle1Ref:B,pane6Toggle2Ref:X,pane6Toggle3Ref:J,statInputTabRef:Q,optionInputTabRef:ee,ownListToggle1Ref:te,ownListToggle2Ref:ae,ownListToggle3Ref:ne,isTeamOptionActivate:xe,openCharacterSelect:ye,saveToStorage:ce,removeFromStorage:ue,updateRecommendation:pe,updateCharacter:me,openWeaponSelect:he,updateWeapon:we,openArtifactSetSelect:be,updateArtifactSet:_e,openArtifactDetailInput:ke,updateCharacterInputCharacter:fe,updateCharacterInputWeapon:ve,updateArtifactDetail:Se,openCharacterInfo:De,updateStatAdjustments:Ie,updateNextStatAdjustments:Me,updateRotationDamage:je,updateElementalResonance:He,updateMiscOption:ze,updateTeamOption:Ae,updateBuildnameSelection:Le,updateTeamMembers:Ue,updateConfigurationInput:qe,orderInitializeArtifactStatsSub:Ee,myDamageDatailArr:Oe,objectKeys:Re,getValue:Ve,enableClearLocalStorage:le,clearLocalStorage:Ye}}});const Dd=(0,Q.Z)(Sd,[["render",W],["__scopeId","data-v-75ddcd43"]]);var Cd=Dd;function Od(e){const t={};try{const a=e.split(",");let n,l=0;for((tt.PW.forEach(((e,s)=>{let i=a[l];switch(s){case"キャラクター":Object.keys(tt.bw).forEach((e=>{if("import"in tt.bw[e]){const t=(0,Bt.EZ)(tt.bw[e]["import"]),a=t.split("_")[t.split("_").length-1];i==a&&(n=e,i=n)}}));break;case"武器":if(n){const e=tt.bw[n]["武器"],t=tt.Nd[e];let a;Object.keys(t).forEach((t=>{if("import"in tt.Nd[e][t]){const n=(0,Bt.EZ)(tt.Nd[e][t]["import"]),l=n.split("_")[n.split("_").length-1];i==l&&(a=t)}})),a||(a=Object.keys(tt.Nd[e]).filter((e=>e.startsWith("西風")))[0]),i=a}break;case"聖遺物セット効果1":case"聖遺物セット効果2":i?Object.keys(tt.oN).forEach((e=>{if("image"in tt.oN[e]){const t=(0,Bt.EZ)(tt.oN[e]["image"]),a=t.split("_")[t.split("_").length-1];i==a&&(i=e)}})):i="NONE";break;case"聖遺物メイン効果1":case"聖遺物メイン効果2":case"聖遺物メイン効果3":case"聖遺物メイン効果4":case"聖遺物メイン効果5":i&&(i=i.split("_")[0]+"_"+tt.Ps.get(i.split("_")[1]));break;case"聖遺物優先するサブ効果1":case"聖遺物優先するサブ効果2":case"聖遺物優先するサブ効果3":i&&(i=tt.Ps.get(i));break}null!=e&&(0,Bt.hj)(e)?t[s]=i?Number(i):0:t[s]=i||"",l++})));l<a.length;l++){const e=a[l];let n,s;if(1!=e.indexOf("=")){const a=e.split("=");n=a[0],s=a[1],t[n]=s}}return t}catch(a){throw console.error(a),a}}function Rd(){const e=new Date;let t=Number.MAX_SAFE_INTEGER,a=tt.qy[0].key;for(const n of tt.qy)if(n["誕生日"]){const l=n["誕生日"].split("/"),s=new Date(e.getFullYear(),Number(l[0])-1,Number(l[1]),0,0,0,0),i=e.getTime()-s.getTime();if(i<0)continue;i<t&&(t=i,a=n.key)}return a}async function Vd(){const e=l().cloneDeep(et.Hd),t=l().cloneDeep(et.HN),a=l().cloneDeep(et.NY),n=l().cloneDeep(et.wX),i=new URLSearchParams(window.location.search);let o,r,c,u;if(i.has("allin")){const e=i.get("allin");e?(c=Od(e),o=c.キャラクター):console.error("query strings are not valid!")}else[o,r,c,u]=(0,et.Nh)(),o||(o=Rd());e.character=o,e.characterMaster=await(0,tt.tm)(e.character);const d=(0,et.wM)(e.characterMaster,c);let p;r&&(p=d.filter((e=>e.name==r))[0]),p||(p=d[0]),u&&(n.teamMembers=u),await(0,et.pS)(e,t,a,n,d[0].build),(0,s.ri)(Cd,{characterInput:e,artifactDetailInput:t,conditionInput:a,recommendationList:d,recommendation:p,urldata:c,teamMembers:n.teamMembers}).use(Qe.Z).mount("#app")}Vd()},3550:function(e,t,a){a.d(t,{$Y:function(){return u},Cb:function(){return q},FX:function(){return N},GN:function(){return E},JP:function(){return R},Kl:function(){return Z},L6:function(){return j},Ml:function(){return B},Nd:function(){return _},PW:function(){return P},Ps:function(){return G},Rj:function(){return M},TG:function(){return I},Uk:function(){return $},X9:function(){return T},_9:function(){return m},_J:function(){return d},_j:function(){return V},bw:function(){return n},bx:function(){return b},dJ:function(){return H},dr:function(){return x},i7:function(){return U},k9:function(){return Y},kf:function(){return F},mU:function(){return K},oN:function(){return c},q4:function(){return h},qy:function(){return v},tm:function(){return A},vN:function(){return W}});a(7658);var n=a(8667),l=a(7722),s=a(1930),i=a(7849),o=a(2364),r=a(1003),c=a(5678),u=a(2124),d=a(3185),p=a(8970),m=a(6385),f=a(5093),g=a(9286),y=a(8846),h=a(7646);const b="data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7";function w(e){let t=null;return e.icon_url?t=e.icon_url:e.image?t=e.image:e.import&&(t=e.import.replace("data/","images/"),-1!=t.indexOf("characters/")&&(t=t.replace("characters/","characters/face/")),t=t.replace(/json$/,"png")),t}const v=[];Object.keys(n).forEach((e=>{const t=n[e];t.key=e,t.icon_url=w(t),v.push(t)}));const _={"片手剣":l,"両手剣":s,"長柄武器":i,"弓":o,"法器":r};Object.keys(_).forEach((e=>{const t=_[e];Object.keys(t).forEach((e=>{const a=t[e];a.key=e,a.icon_url=w(a)}))}));const k=Object.keys(l).map((e=>l[e])),S=Object.keys(s).map((e=>s[e])),D=Object.keys(i).map((e=>i[e])),C=Object.keys(o).map((e=>o[e])),O=Object.keys(r).map((e=>r[e])),R={"片手剣":k,"両手剣":S,"長柄武器":D,"弓":C,"法器":O},V=[];Object.keys(c).forEach((e=>{const t=c[e];t.key=e,t.icon_url=w(t),V.push(t)}));Object.keys(u[5]),Object.keys(d);for(const J of Object.keys(p))for(const e of Object.keys(p[J]))p[J][e]>=1e3&&(p[J][e]=1/0);const N=Object.keys(p).map((e=>({key:e,...p[e]}))),I=Object.keys(m).map((e=>({key:e,...m[e]}))),M=Object.keys(f).map((e=>({key:e,...f[e]}))),j=Object.keys(g).map((e=>({key:e,...g[e]}))),H=Object.keys(y).map((e=>({key:e,...y[e]}))),z=(Object.keys(h).map((e=>({key:e,...h[e]}))),new Map);async function A(e){try{if(!z.has(e)){const t=n[e]["import"].replace(/^\//,""),a=await fetch(t).then((e=>e.json())),l=n[e].武器;a.通常攻撃.icon_url=Y[l],z.set(e,a)}return z.get(e)}catch(t){throw console.error(e),t}}const L=new Map;async function U(e,t){try{if(!L.has(e)){let a;a=t?[t]:Object.keys(_);for(const t of a)if(e in _[t]){const a=_[t],n=a[e]["import"],l=await fetch(n).then((e=>e.json()));l.種類=t,L.set(e,l);break}}return L.get(e)}catch(a){throw console.error(e,t),a}}const T={"炎":"pyro","水":"hydro","風":"anemo","雷":"electro","草":"dendro","氷":"cryo","岩":"geo"},q={"炎":"pyro-bg","水":"hydro-bg","風":"anemo-bg","雷":"electro-bg","草":"dendro-bg","氷":"cryo-bg","岩":"geo-bg"},E={"炎":"images/element_pyro.png","水":"images/element_hydro.png","風":"images/element_anemo.png","雷":"images/element_electro.png","草":"images/element_dendro.png","氷":"images/element_cryo.png","岩":"images/element_geo.png"},Y={"片手剣":"images/characters/NormalAttack_sword.png","両手剣":"images/characters/NormalAttack_claymore.png","長柄武器":"images/characters/NormalAttack_polearm.png","弓":"images/characters/NormalAttack_bow.png","法器":"images/characters/NormalAttack_catalyst.png"},x={1:"star1-bg",2:"star2-bg",3:"star3-bg",4:"star4-bg",5:"star5-bg"},P=new Map([["キャラクター",null],["レベル",null],["命ノ星座",0],["通常攻撃レベル",0],["元素スキルレベル",0],["元素爆発レベル",0],["武器",null],["武器レベル",0],["精錬ランク",0],["聖遺物セット効果1",null],["聖遺物セット効果2",null],["聖遺物メイン効果1",null],["聖遺物メイン効果2",null],["聖遺物メイン効果3",null],["聖遺物メイン効果4",null],["聖遺物メイン効果5",null],["聖遺物サブ効果HP",0],["聖遺物サブ効果攻撃力",0],["聖遺物サブ効果防御力",0],["聖遺物サブ効果元素熟知",0],["聖遺物サブ効果会心率",0],["聖遺物サブ効果会心ダメージ",0],["聖遺物サブ効果元素チャージ効率",0],["聖遺物サブ効果HPP",0],["聖遺物サブ効果攻撃力P",0],["聖遺物サブ効果防御力P",0],["聖遺物優先するサブ効果1",null],["聖遺物優先するサブ効果1上昇値",-1],["聖遺物優先するサブ効果1上昇回数",-1],["聖遺物優先するサブ効果2",null],["聖遺物優先するサブ効果2上昇値",-1],["聖遺物優先するサブ効果2上昇回数",-1],["聖遺物優先するサブ効果3",null],["聖遺物優先するサブ効果3上昇値",-1],["聖遺物優先するサブ効果3上昇回数",-1]]),W=["通常攻撃ダメージ","重撃ダメージ","落下攻撃ダメージ","元素スキルダメージ","元素爆発ダメージ"],F=new Map([["HP%","HP"],["元素熟知","熟"],["元素チャージ効率","ﾁｬ"],["会心率","率"],["会心ダメージ","ダ"],["与える治療効果","治"]]),K=new Map([["HP%","HP"],["攻撃力%","AT"],["防御力%","DF"],["元素熟知","EM"],["会心率","CR"],["会心ダメージ","CD"],["元素チャージ効率","ER"],["与える治療効果","HE"],["炎元素ダメージバフ","Py"],["水元素ダメージバフ","Hy"],["風元素ダメージバフ","An"],["雷元素ダメージバフ","El"],["草元素ダメージバフ","De"],["氷元素ダメージバフ","Cr"],["岩元素ダメージバフ","Ge"],["物理ダメージバフ","Ph"]]),Z=new Map([["HP","HP"],["攻撃力","ATK"],["防御力","DEF"],["元素熟知","ElementalMastery"],["会心率","CritRate"],["会心ダメージ","CritDMG"],["元素チャージ効率","EnergyRecharge"],["炎元素ダメージバフ","Pyro"],["水元素ダメージバフ","Hydro"],["風元素ダメージバフ","Anemo"],["雷元素ダメージバフ","Electro"],["草元素ダメージバフ","Dendro"],["氷元素ダメージバフ","Cryo"],["岩元素ダメージバフ","Geo"],["物理ダメージバフ","Physical"],["与える治療効果","Healing"],["HP%","HPp"],["攻撃力%","ATKp"],["防御力%","DEFp"]]),G=new Map;Z.forEach(((e,t)=>{G.set(e,t)}));const B=[{key:"",values:[7,7,7],counts:[0,0,0]},{key:"厳選初心者",values:[3,3,3],counts:[7,4,4]},{key:"厳選1ヶ月",values:[3,3,3],counts:[8,5,5]},{key:"厳選3ヶ月",values:[3,3,3],counts:[11,8,7]},{key:"日々石割り",values:[1,1,1],counts:[14,11,10]}],X={1:"flower_of_life",2:"plume_of_death",3:"sands_of_eon",4:"goblet_of_eonothem",5:"circlet_of_logos"};function $(e,t="1"){let a=b;return e in c&&(a=c[e].icon_url,a.startsWith("data:image/gif;")||(a=a.replace(/.png$/,""),a+="/"+X[String(t)]+".png")),a}},4147:function(e){e.exports={i8:"3.3.14"}}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,s){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],s=e[u][2];for(var o=!0,r=0;r<n.length;r++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[r])}))?n.splice(r--,1):(o=!1,s<i&&(i=s));if(o){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,l,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.j=826}(),function(){var e={826:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,s,i=n[0],o=n[1],r=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(r)var u=r(a)}for(t&&t(n);c<i.length;c++)s=i[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},n=self["webpackChunkgencalc"]=self["webpackChunkgencalc"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998,64],(function(){return a(9267)}));n=a.O(n)})();
//# sourceMappingURL=index.3c24fca3.js.map