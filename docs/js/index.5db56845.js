(function(){"use strict";var e={5797:function(e,t,a){a(8992),a(4520),a(3949),a(8335),a(4603),a(7566),a(8721);var l=a(5130),n=a(6768),s=a(4232);const i={class:"base-container"},o={class:"pane1"},u={class:"pane2"},r={class:"pane3",style:{"margin-bottom":"15px"}},c={class:"pane4"},p={class:"pane6"},d={class:"toggle-switch",for:"pane6-toggle-1"},m={class:"toggle-switch",for:"pane6-toggle-2"},k={class:"toggle-switch",for:"pane6-toggle-3"},b={key:0,style:{"margin-bottom":"10px"}},f={key:1,style:{"margin-bottom":"10px"}},v={class:"tab-switch"},y={for:"status-input-tab-1"},g={for:"status-input-tab-2"},h={for:"status-input-tab-3"},L={class:"enemy"},C=["value"],S={class:"enemy-level"},E={key:2,style:{"margin-bottom":"10px"}},_={class:"tab-switch"},R={for:"option-input-tab-1"},I={class:"toggle-switch",for:"option-input-tab-2"},O={for:"option-input-tab-3"},N={key:0},X={style:{"margin-top":"10px"}},w={class:"result-pane"},A={class:"pane5"},V={class:"bottom-pane"},M={class:"toggle-switch no-border",for:"own-list-toggle-1"},K={class:"toggle-switch no-border",for:"own-list-toggle-2"},T={class:"toggle-switch no-border",for:"own-list-toggle-3"},D=["disabled"],W={class:"pane7"},F={key:0,id:"debug-info"},U={key:0},x={key:1},j={key:1},H={style:{"text-align":"right"}},Q={style:{"text-align":"right"}},B={key:2},P={style:{"text-align":"right"}},q={style:{"text-align":"right"}};function Y(e,t,a,Y,G,J){const z=(0,n.g2)("TitleAndHeader"),$=(0,n.g2)("CharacterSelect"),Z=(0,n.g2)("CharacterInput"),ee=(0,n.g2)("CharacterInfo"),te=(0,n.g2)("WeaponSelect"),ae=(0,n.g2)("ArtifactSetSelect"),le=(0,n.g2)("ArtifactDetailInput"),ne=(0,n.g2)("ArtifactScoreFormula"),se=(0,n.g2)("ConditionInput"),ie=(0,n.g2)("StatsInput"),oe=(0,n.g2)("NextStat"),ue=(0,n.g2)("EasyTeamInput"),re=(0,n.g2)("ElementalResonanceInput"),ce=(0,n.g2)("MiscOptionInput"),pe=(0,n.g2)("TeamOptionInput"),de=(0,n.g2)("DamageResult"),me=(0,n.g2)("RotationDamage"),ke=(0,n.g2)("ShareSns"),be=(0,n.g2)("CharacterOwnList"),fe=(0,n.g2)("WeaponOwnList"),ve=(0,n.g2)("ArtifactOwnList"),ye=(0,n.g2)("AboutMyApp"),ge=(0,n.g2)("ConfigurationInput");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",i,[(0,n.Lk)("div",o,[(0,n.bF)(z)]),(0,n.Lk)("div",u,[(0,n.bF)($,{character:e.characterInputRea.character,visible:e.characterSelectVisibleRef,"onUpdate:character":t[0]||(t[0]=t=>e.updateCharacter(t))},null,8,["character","visible"])]),(0,n.Lk)("div",r,[(0,n.bF)(Z,{ref:"characterInputVmRef",characterInput:e.characterInputRea,"recommendation-list":e.recommendationListRea,recommendation:e.recommendationRef,"builddata-savable":e.builddataSavable,"artifact-set-select-visible":e.artifactSetSelectVisibleRef,"artifact-score":e.artifactScore,"onOpen:characterSelect":e.openCharacterSelect,onSaveToStorage:t[1]||(t[1]=t=>e.saveToStorage(t)),onRemoveFromStorage:t[2]||(t[2]=t=>e.removeFromStorage(t)),"onUpdate:recommendation":t[3]||(t[3]=t=>e.updateRecommendation(t)),"onOpen:weaponSelect":e.openWeaponSelect,"onOpen:artifactSetSelect":t[4]||(t[4]=t=>e.openArtifactSetSelect(t)),"onOpen:artifactDetailInput":e.openArtifactDetailInput,"onUpdate:characterInputCharacter":t[5]||(t[5]=t=>e.updateCharacterInputCharacter(t)),"onUpdate:characterInputWeapon":t[6]||(t[6]=t=>e.updateCharacterInputWeapon(t)),"onOpen:characterInfo":t[7]||(t[7]=t=>e.openCharacterInfo(t))},null,8,["characterInput","recommendation-list","recommendation","builddata-savable","artifact-set-select-visible","artifact-score","onOpen:characterSelect","onOpen:weaponSelect","onOpen:artifactDetailInput"])]),(0,n.Lk)("div",c,[(0,n.bF)(ee,{visible:e.characterInfoVisibleRef,mode:e.characterInfoModeRef,"character-master":e.characterInputRea.characterMaster,ascension:e.characterInputRea.突破レベル,level:e.characterInputRea.レベル,"normal-attack-level":e.characterInputRea.通常攻撃レベル,"elemental-skill-level":e.characterInputRea.元素スキルレベル,"elemental-burst-level":e.characterInputRea.元素爆発レベル,"normal-attack-replacing":e.normalAttackReplacing},null,8,["visible","mode","character-master","ascension","level","normal-attack-level","elemental-skill-level","elemental-burst-level","normal-attack-replacing"]),(0,n.bF)(te,{visible:e.weaponSelectVisibleRef,weapon:e.characterInputRea.weapon,"weapon-type":e.weaponType,"weapon-master":e.characterInputRea.weaponMaster,ascension:e.characterInputRea.武器突破レベル,level:e.characterInputRea.武器レベル,"onUpdate:weapon":t[8]||(t[8]=t=>e.updateWeapon(t))},null,8,["visible","weapon","weapon-type","weapon-master","ascension","level"]),(0,n.bF)(ae,{visible:e.artifactSetSelectVisibleRef,index:e.artifactSetIndexRef,"artifact-set":e.artifactSets[e.artifactSetIndexRef],"artifact-set-masters":e.characterInputRea.artifactSetMasters,"onUpdate:artifactSet":t[9]||(t[9]=t=>e.updateArtifactSet(t))},null,8,["visible","index","artifact-set","artifact-set-masters"]),(0,n.bF)(le,{ref:"artifactDetailInputVmRef",visible:e.artifactDetailInputVisibleRef,"artifact-detail-input":e.artifactDetailInputRea,"is-sub-stat-only":e.isSubStatOnly,"next-stat-rows":e.nextStatRows,"onUpdate:artifactDetail":t[10]||(t[10]=t=>e.updateArtifactDetail(t))},null,8,["visible","artifact-detail-input","is-sub-stat-only","next-stat-rows"]),(0,n.bF)(ne,{ref:"artifactScoreFormulaVmRef",visible:e.artifactDetailInputVisibleRef,"onApply:formula":e.applyArtifactScoreFormula},null,8,["visible","onApply:formula"])]),(0,n.Lk)("div",p,[(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-1",type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=t=>e.pane6Toggle1Ref=t)},null,512),[[l.lH,e.pane6Toggle1Ref]]),(0,n.Lk)("label",d,(0,s.v_)(e.displayName("オプション条件")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-2",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=t=>e.pane6Toggle2Ref=t)},null,512),[[l.lH,e.pane6Toggle2Ref]]),(0,n.Lk)("label",m,(0,s.v_)(e.displayName("ステータス")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"pane6-toggle-3",type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=t=>e.pane6Toggle3Ref=t)},null,512),[[l.lH,e.pane6Toggle3Ref]]),(0,n.Lk)("label",k,(0,s.v_)(e.displayName("バフ/デバフ")),1)]),e.pane6Toggle1Ref?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.bF)(se,{ref:"conditionInputVmRef","character-input":e.characterInputRea,"onUpdate:condition":e.updateCondition},null,8,["character-input","onUpdate:condition"])])):(0,n.Q3)("",!0),e.pane6Toggle2Ref?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.Lk)("div",v,[(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[14]||(t[14]=t=>e.statInputTabRef=t)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",y,(0,s.v_)(e.displayName("ステータス1")),1),(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-2",type:"radio",value:"2","onUpdate:modelValue":t[15]||(t[15]=t=>e.statInputTabRef=t)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",g,(0,s.v_)(e.displayName("ステータス2")),1),(0,n.bo)((0,n.Lk)("input",{id:"status-input-tab-3",type:"radio",value:"3","onUpdate:modelValue":t[16]||(t[16]=t=>e.statInputTabRef=t)},null,512),[[l.XL,e.statInputTabRef]]),(0,n.Lk)("label",h,(0,s.v_)(e.displayName("敵")),1)]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(ie,{"stats-input":e.statsInput,"category1-list":e.CHARACTER_STATS_CATEGORY1_LIST,category2List:e.CHARACTER_STATS_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2List","onUpdate:statAdjustments"])],512),[[l.aG,1==e.statInputTabRef]]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(ie,{"stats-input":e.statsInput,"category1-list":e.CHARACTER_STATS2_CATEGORY1_LIST,"category2-list":e.CHARACTER_STATS2_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2-list","onUpdate:statAdjustments"])],512),[[l.aG,2==e.statInputTabRef]]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.Lk)("label",L,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[17]||(t[17]=t=>e.selectedEnemyRef=t),onChange:t[18]||(t[18]=(...t)=>e.updateEnemy&&e.updateEnemy(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.ENEMY_LIST,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t.key},(0,s.v_)(e.displayName(t.key)),9,C)))),128))],544),[[l.u1,e.selectedEnemyRef]])]),(0,n.Lk)("label",S,[t[29]||(t[29]=(0,n.eW)("Lv. ")),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[19]||(t[19]=t=>e.statsInput.statAdjustments["敵レベル"]=t),min:"1",onChange:t[20]||(t[20]=t=>e.updateStatAdjustments())},null,544),[[l.Jo,e.statsInput.statAdjustments["敵レベル"]]])]),(0,n.bF)(ie,{"stats-input":e.statsInput,"category1-list":e.ENEMY_STATS_CATEGORY1_LIST,"category2-list":e.ENEMY_STATS_CATEGORY2_LIST,"onUpdate:statAdjustments":e.updateStatAdjustments},null,8,["stats-input","category1-list","category2-list","onUpdate:statAdjustments"])],512),[[l.aG,3==e.statInputTabRef]]),(0,n.Lk)("div",null,[(0,n.bF)(oe,{ref:"nextStatVmRef",visible:!0,"character-input":e.characterInputRea,"artifact-detail-input":e.artifactDetailInputRea,"condition-input":e.conditionInputRea,"option-input":e.optionInputRea,"stats-input":e.statsInput,"damage-result":e.damageResult,"rotation-damage-info":e.rotationDamageInfo,"onUpdate:statAdjustments":e.updateNextStatAdjustments,"onUpdate:nextStatRows":e.updateNextStatRows},null,8,["character-input","artifact-detail-input","condition-input","option-input","stats-input","damage-result","rotation-damage-info","onUpdate:statAdjustments","onUpdate:nextStatRows"])])])):(0,n.Q3)("",!0),e.pane6Toggle3Ref?((0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("div",_,[(0,n.bo)((0,n.Lk)("input",{id:"option-input-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[21]||(t[21]=t=>e.optionInputTabRef=t)},null,512),[[l.XL,e.optionInputTabRef]]),(0,n.Lk)("label",R,(0,s.v_)(e.displayName("チーム強化")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"option-input-tab-2",type:"checkbox","onUpdate:modelValue":t[22]||(t[22]=t=>e.optionInputSupporterRef=t)},null,512),[[l.lH,e.optionInputSupporterRef]]),(0,n.Lk)("label",I,(0,s.v_)(e.displayName("サポーター")),1),(0,n.bo)((0,n.Lk)("input",{id:"option-input-tab-3",type:"radio",value:"3","onUpdate:modelValue":t[23]||(t[23]=t=>e.optionInputTabRef=t)},null,512),[[l.XL,e.optionInputTabRef]]),(0,n.Lk)("label",O,(0,s.v_)(e.displayName("その他")),1)]),(0,n.bF)(ue,{character:e.characterInputRea.character,"team-members":e.optionInputRea.teamMembers,"onUpdate:teamMembers":e.updateTeamMembers},null,8,["character","team-members","onUpdate:teamMembers"]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bF)(re,{ref:"elementalResonanceInputVmRef","option-input":e.optionInputRea,character:e.characterInputRea.character,"team-members":e.optionInputRea.teamMembers,"onUpdate:elementalResonance":e.updateElementalResonance},null,8,["option-input","character","team-members","onUpdate:elementalResonance"])],512),[[l.aG,1==e.optionInputTabRef]]),3==e.optionInputTabRef?((0,n.uX)(),(0,n.CE)("div",N,[(0,n.bF)(ce,{ref:"miscOptionInputVmRef","condition-input":e.optionInputRea.miscOption,"onUpdate:miscOption":e.updateMiscOption},null,8,["condition-input","onUpdate:miscOption"])])):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("div",X,[(0,n.bF)(pe,{ref:"teamOptionInputVmRef",visible:!0,character:e.characterInputRea.character,"team-members":e.optionInputRea.teamMembers,"condition-input":e.optionInputRea.teamOption,"onUpdate:teamOption":e.updateTeamOption,"onUpdate:buildnameSelection":e.updateBuildnameSelection,"onUpdate:teamMembers":e.updateTeamMembers},null,8,["character","team-members","condition-input","onUpdate:teamOption","onUpdate:buildnameSelection","onUpdate:teamMembers"])],512),[[l.aG,e.optionInputSupporterRef]])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",w,[(0,n.bF)(de,{ref:"damageResultVmRef","damage-result":e.damageResult},null,8,["damage-result"])]),(0,n.Lk)("div",A,[(0,n.bF)(me,{"character-master":e.characterInputRea.characterMaster,"damage-result":e.damageResult,"damage-result2":e.damageResult2,"onUpdate:rotationDamage":e.updateRotationDamage},null,8,["character-master","damage-result","damage-result2","onUpdate:rotationDamage"]),(0,n.bF)(ke,{"onShare:twitter":e.openTwitter},null,8,["onShare:twitter"])]),(0,n.Lk)("div",V,[(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-1",type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=t=>e.ownListToggle1Ref=t)},null,512),[[l.lH,e.ownListToggle1Ref]]),(0,n.Lk)("label",M,(0,s.v_)(e.displayName("キャラクター所持状況")),1)]),e.ownListToggle1Ref?((0,n.uX)(),(0,n.Wv)(be,{key:0})):(0,n.Q3)("",!0),(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-2",type:"checkbox","onUpdate:modelValue":t[25]||(t[25]=t=>e.ownListToggle2Ref=t)},null,512),[[l.lH,e.ownListToggle2Ref]]),(0,n.Lk)("label",K,(0,s.v_)(e.displayName("武器所持状況")),1)]),e.ownListToggle2Ref?((0,n.uX)(),(0,n.Wv)(fe,{key:1})):(0,n.Q3)("",!0),(0,n.Lk)("h2",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"own-list-toggle-3",type:"checkbox","onUpdate:modelValue":t[26]||(t[26]=t=>e.ownListToggle3Ref=t)},null,512),[[l.lH,e.ownListToggle3Ref]]),(0,n.Lk)("label",T,(0,s.v_)(e.displayName("聖遺物所持状況")),1)]),e.ownListToggle3Ref?((0,n.uX)(),(0,n.Wv)(ve,{key:2})):(0,n.Q3)("",!0),t[30]||(t[30]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[27]||(t[27]=t=>e.enableClearLocalStorage=t)},null,512),[[l.lH,e.enableClearLocalStorage]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("ローカルストレージをクリアする")),1)]),(0,n.Lk)("button",{type:"button",onClick:t[28]||(t[28]=(...t)=>e.clearLocalStorage&&e.clearLocalStorage(...t)),disabled:!e.enableClearLocalStorage},(0,s.v_)(e.displayName("実行")),9,D),(0,n.Lk)("p",null,(0,s.v_)(e.displayName("全ての保存データを削除します")),1)]),(0,n.Lk)("div",W,[(0,n.bF)(ye),(0,n.bF)(ge,{"configuration-input":e.configurationInputRea,"onUpdate:configurationInput":e.updateConfigurationInput,"onOrder:initializeArtifactStatsSub":e.orderInitializeArtifactStatsSub},null,8,["configuration-input","onUpdate:configurationInput","onOrder:initializeArtifactStatsSub"])]),t[31]||(t[31]=(0,n.Lk)("hr",null,null,-1)),t[32]||(t[32]=(0,n.Lk)("div",{class:"footer"},[(0,n.Lk)("hr"),(0,n.Lk)("p",null,"© 2021 asagume"),(0,n.Lk)("p",{class:"left"}," 本サイト内の画像はHoYoverse/COGNOSPHEREの著作物です。 Copyright © COGNOSPHERE. All Rights Reserved. ")],-1))]),((0,n.uX)(),(0,n.CE)("div",F,[t[33]||(t[33]=(0,n.Lk)("hr",null,null,-1)),t[34]||(t[34]=(0,n.Lk)("h2",null,"DEBUG",-1)),e.characterInputRea?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(e.myDamageDatailArr.filter((e=>e)),((t,a)=>((0,n.uX)(),(0,n.CE)("dl",{key:a},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.objectKeys(t),(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[e.getValue(t,a)?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("dt",null,(0,s.v_)(a),1),(0,n.Lk)("dd",null,[Array.isArray(e.getValue(t,a))?((0,n.uX)(),(0,n.CE)("ol",U,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getValue(t,a),(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))])):((0,n.uX)(),(0,n.CE)("div",x,(0,s.v_)(e.getValue(t,a)),1))])],64)):(0,n.Q3)("",!0)],64)))),128))])))),128)):(0,n.Q3)("",!0),t[35]||(t[35]=(0,n.Lk)("hr",null,null,-1)),e.statsInput?((0,n.uX)(),(0,n.CE)("table",j,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.keys(e.statsInput.statsObj),(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",H,(0,s.v_)(t),1),(0,n.Lk)("td",Q,(0,s.v_)(e.statsInput.statsObj[t]),1)])))),128))])])):(0,n.Q3)("",!0),t[36]||(t[36]=(0,n.Lk)("hr",null,null,-1)),e.conditionInput?((0,n.uX)(),(0,n.CE)("table",B,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.keys(e.conditionInput.conditionValues),(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",P,(0,s.v_)(t),1),(0,n.Lk)("td",q,(0,s.v_)(e.conditionInput.conditionValues[t]),1)])))),128))])])):(0,n.Q3)("",!0),t[37]||(t[37]=(0,n.Lk)("hr",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.HTML_LOGGER),1)]))],64)}a(4114),a(3110),a(1454);var G=a(8626),J=a.n(G),z=a(144);const $={class:"bottom-right"},Z=["value"];function ee(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)("fieldset",null,[(0,n.Lk)("legend",null,"げんかるく - 原神ダメージシミュレーター Ver."+(0,s.v_)(e.version),1),t[3]||(t[3]=(0,n.Fv)('<p data-v-7e366596><a href="StatList.html" data-v-7e366596>ステータス一覧</a><a href="BirthdayCalendar.html" data-v-7e366596>誕生日カレンダー</a></p><p data-v-7e366596><a href="WeaponList.html?kind=Sword" data-v-7e366596>片手剣一覧</a><a href="WeaponList.html?kind=Claymore" data-v-7e366596>両手剣一覧</a><a href="WeaponList.html?kind=Polearm" data-v-7e366596>長柄武器一覧</a><a href="WeaponList.html?kind=Bow" data-v-7e366596>弓一覧</a><a href="WeaponList.html?kind=Catalyst" data-v-7e366596>法器一覧</a></p><p data-v-7e366596><a href="ArtifactSetList.html" data-v-7e366596>聖遺物セット効果一覧</a></p><p data-v-7e366596><a href="TeamManager.html" data-v-7e366596>チーム編成</a><a href="RandomTeam.html" data-v-7e366596>ランダムチーム編成メーカー</a></p><p style="margin-bottom:4rem;" data-v-7e366596><a href="EnkaNetwork3.html" data-v-7e366596>DATA IMPORTER</a><a href="GoogleDrive.html" data-v-7e366596>Google Drive連携</a></p><div class="top-left" data-v-7e366596><a href="history.html" data-v-7e366596>更新履歴</a></div><div class="top-right" data-v-7e366596><a href="https://zawazawa.jp/gencalc/topic/1" target="_blank" rel="noopener noreferrer" data-v-7e366596>バグ報告·要望</a></div><div class="bottom-left" data-v-7e366596></div>',8)),(0,n.Lk)("label",$,[t[2]||(t[2]=(0,n.eW)(" Language ")),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.locale=t),onChange:t[1]||(t[1]=t=>e.localeOnChange(e.targetValue(t)))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.localeList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e.value,key:e.value},(0,s.v_)(e.name),9,Z)))),128))],544),[[l.u1,e.locale]])])])}var te=a(5384),ae=a(5682),le=(0,n.pM)({name:"TitleAndHeader",setup(){const{locale:e}=(0,te.s9)({useScope:"global"}),{localeList:t,setI18nLanguage:l,displayName:n,targetValue:s}=(0,ae.A)(),i=e=>{e&&l(e)};return{locale:e,localeList:t,displayName:n,targetValue:s,localeOnChange:i,version:a(8330).rE}}}),ne=a(1241);const se=(0,ne.A)(le,[["render",ee],["__scopeId","data-v-7e366596"]]);var ie=se,oe=a(5063);const ue={style:{width:"20%"}},re=["value"],ce=["value"],pe=["value"],de={style:{position:"relative",width:"30%"}},me=["src","alt"],ke=["src","alt"],be={class:"icon"},fe=["src","alt"],ve={class:"tooltip"},ye={style:{width:"20%"}},ge=["value"],he=["value"],Le=["value"],Ce={class:"talent-and-artifact"},Se={class:"icon"},Ee=["src","alt"],_e={class:"tooltip"},Re={class:"icon"},Ie=["src","alt"],Oe={class:"tooltip"},Ne={class:"icon"},Xe=["src","alt"],we={class:"tooltip"},Ae={class:"icon"},Ve=["src","alt"],Me={class:"tooltip"},Ke={class:"icon"},Te=["src","alt"],De={class:"tooltip"},We={class:"artifact-detail-button icon"},Fe=["src","alt"],Ue={class:"artifact-score"},xe={class:"tooltip"},je=["value"],He=["value"],Qe=["value"],Be={style:{"table-layout":"fixed"}},Pe={colspan:"3"},qe=["disabled"],Ye=["disabled"],Ge={colspan:"6"},Je=["value"];function ze(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("table",null,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:(0,s.C4)("name "+e.colorClass(e.characterMaster)),colspan:"2"},[(0,n.Lk)("span",{onClick:t[0]||(t[0]=t=>e.$emit("open:character-info",1))},[(0,n.eW)((0,s.v_)(e.displayName(e.characterMaster.名前))+" ",1),t[32]||(t[32]=(0,n.Lk)("span",{class:"material-symbols-outlined"}," info ",-1))])],2),(0,n.Lk)("td",{colspan:"2",class:(0,s.C4)("title "+e.colorClass(e.characterMaster))},[(0,n.bo)((0,n.Lk)("span",null,(0,s.v_)(e.displayName(e.characterMaster.baseInfo.称号)),513),[[l.aG,e.characterMaster.baseInfo.称号]])],2)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",ue,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.characterInputRea.突破レベル=t),onChange:t[2]||(t[2]=(...t)=>e.ascensionOnChange&&e.ascensionOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.ascensionRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," A"+(0,s.v_)(e),9,re)))),128))],544),[[l.u1,e.characterInputRea.突破レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.characterInputRea.レベル=t),onChange:t[4]||(t[4]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.levelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,ce)))),128))],544),[[l.u1,e.characterInputRea.レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.characterInputRea.命ノ星座=t),onChange:t[6]||(t[6]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.constellationRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," C"+(0,s.v_)(e),9,pe)))),128))],544),[[l.u1,e.characterInputRea.命ノ星座]])]),(0,n.Lk)("td",de,[(0,n.Lk)("img",{class:(0,s.C4)("character"+e.bgImageClass(e.characterMaster)),src:e.characterMaster.icon_url,alt:e.characterMaster.名前,onClick:t[7]||(t[7]=t=>e.$emit("open:character-select"))},null,10,me),(0,n.Lk)("img",{class:"vision",src:e.visionSrc(e.characterMaster),alt:e.characterMaster.元素},null,8,ke)]),(0,n.Lk)("td",be,[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(e.weaponMaster)),src:e.weaponMaster["icon_url"],alt:e.weaponMaster.名前,onClick:t[8]||(t[8]=t=>e.$emit("open:weapon-select"))},null,10,fe),(0,n.Lk)("div",ve,(0,s.v_)(e.displayName(e.weaponMaster.名前)),1)]),(0,n.Lk)("td",ye,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.characterInputRea.武器突破レベル=t),onChange:t[10]||(t[10]=(...t)=>e.weaponAscensionOnChange&&e.weaponAscensionOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponAscensionRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," A"+(0,s.v_)(e),9,ge)))),128))],544),[[l.u1,e.characterInputRea.武器突破レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.characterInputRea.武器レベル=t),onChange:t[12]||(t[12]=(...t)=>e.weaponOnChange&&e.weaponOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,he)))),128))],544),[[l.u1,e.characterInputRea.武器レベル]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.characterInputRea.武器精錬ランク=t),onChange:t[14]||(t[14]=(...t)=>e.weaponOnChange&&e.weaponOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponRefineRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," R"+(0,s.v_)(e),9,Le)))),128))],544),[[l.u1,e.characterInputRea.武器精錬ランク]])])])])]),(0,n.Lk)("table",Ce,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",Se,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["通常攻撃"]["icon_url"],alt:e.characterMaster["通常攻撃"]["名前"],onClick:t[15]||(t[15]=t=>e.$emit("open:character-info",2))},null,10,Ee),(0,n.Lk)("div",_e,(0,s.v_)(e.displayName(e.characterMaster["通常攻撃"]["名前"])),1)]),(0,n.Lk)("td",Re,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["元素スキル"]["icon_url"],alt:e.characterMaster["元素スキル"]["名前"],onClick:t[16]||(t[16]=t=>e.$emit("open:character-info",3))},null,10,Ie),(0,n.Lk)("div",Oe,(0,s.v_)(e.displayName(e.characterMaster["元素スキル"]["名前"])),1)]),(0,n.Lk)("td",Ne,[(0,n.Lk)("img",{class:(0,s.C4)("talent "+e.bgColorClass(e.characterMaster)),src:e.characterMaster["元素爆発"]["icon_url"],alt:e.characterMaster["元素爆発"]["名前"],onClick:t[17]||(t[17]=t=>e.$emit("open:character-info",4))},null,10,Xe),(0,n.Lk)("div",we,(0,s.v_)(e.displayName(e.characterMaster["元素爆発"]["名前"])),1)]),(0,n.Lk)("td",Ae,[(0,n.Lk)("label",{onClick:t[18]||(t[18]=t=>e.openArtifactSetSelect(0))},[(0,n.Lk)("img",{class:(0,s.C4)("artifact-set"+e.artifactSetSelectClass(0)),src:e.getArtifactIconUrl(e.artifactSetMasters[0].key),alt:e.artifactSetMasters[0].key},null,10,Ve)]),(0,n.Lk)("div",Me,(0,s.v_)(e.displayName(e.artifactSetMasters[0].key)),1)]),(0,n.Lk)("td",Ke,[(0,n.Lk)("label",{onClick:t[19]||(t[19]=t=>e.openArtifactSetSelect(1))},[(0,n.Lk)("img",{class:(0,s.C4)("artifact-set"+e.artifactSetSelectClass(1)),src:e.getArtifactIconUrl(e.artifactSetMasters[1].key),alt:e.artifactSetMasters[1].key},null,10,Te)]),(0,n.Lk)("div",De,(0,s.v_)(e.displayName(e.artifactSetMasters[1].key)),1)]),(0,n.Lk)("td",We,[(0,n.Lk)("label",{onClick:t[20]||(t[20]=t=>e.$emit("open:artifact-detail-input"))},[(0,n.Lk)("img",{class:"artifact-set",src:e.IMG_SRC_DUMMY,alt:e.displayName("聖遺物ステータス")},null,8,Fe),t[35]||(t[35]=(0,n.Lk)("img",{class:"left-icon",src:"images/artifact.png",alt:"artifact"},null,-1)),t[36]||(t[36]=(0,n.Lk)("img",{class:"right-icon",src:"images/artifact.png",alt:"artifact"},null,-1)),(0,n.Lk)("div",Ue,[t[33]||(t[33]=(0,n.eW)(" score ")),t[34]||(t[34]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(Math.round(10*e.artifactScore)/10),1)])]),(0,n.Lk)("div",xe,(0,s.v_)(e.displayName("聖遺物詳細")),1)])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[21]||(t[21]=t=>e.characterInputRea.通常攻撃レベル=t),onChange:t[22]||(t[22]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.normalAttackLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,je)))),128))],544),[[l.u1,e.characterInputRea.通常攻撃レベル]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[23]||(t[23]=t=>e.characterInputRea.元素スキルレベル=t),onChange:t[24]||(t[24]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalSkillLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,He)))),128))],544),[[l.u1,e.characterInputRea.元素スキルレベル]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[25]||(t[25]=t=>e.characterInputRea.元素爆発レベル=t),onChange:t[26]||(t[26]=(...t)=>e.characterOnChange&&e.characterOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalBurstLevelRange,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e}," Lv."+(0,s.v_)(e),9,Qe)))),128))],544),[[l.u1,e.characterInputRea.元素爆発レベル]])])])])]),(0,n.Lk)("table",Be,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[t[37]||(t[37]=(0,n.Lk)("td",null,"buildname",-1)),(0,n.Lk)("td",Pe,[(0,n.bo)((0,n.Lk)("input",{class:"save-name",type:"text","onUpdate:modelValue":t[27]||(t[27]=t=>e.characterInputRea.buildname=t),maxlength:"20",placeholder:"input build name"},null,512),[[l.Jo,e.characterInputRea.buildname]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",disabled:e.saveDisabled,onClick:t[28]||(t[28]=(...t)=>e.saveOnClick&&e.saveOnClick(...t))}," Save ",8,qe)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",disabled:e.characterInputRea.removeDisabled,onClick:t[29]||(t[29]=(...t)=>e.removeOnClick&&e.removeOnClick(...t))}," Remove ",8,Ye)])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",Ge,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[30]||(t[30]=t=>e.characterInputRea.recommendationSelectedIndex=t),onChange:t[31]||(t[31]=t=>e.recommendationOnChange(e.targetValue(t))),placeholder:"select preset or saved build"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.recommendationList,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayBuildName(t)),9,Je)))),128))],544),[[l.u1,e.characterInputRea.recommendationSelectedIndex]])])])])])],64)}var $e=a(2277),Ze=a(1493),et=a(1659),tt=(0,n.pM)({name:"CharacterInput",props:{characterInput:{type:Object,required:!0},recommendationList:{type:Array,required:!0},recommendation:{type:Object,required:!0},builddataSavable:{type:Boolean,required:!0},artifactSetSelectVisible:{type:Boolean},artifactScore:{type:Number,required:!0}},emits:["open:character-select","open:character-info","update:recommendation","save-to-storage","remove-from-storage","open:weapon-select","open:artifact-set-select","open:artifact-detail-input","update:character-input-character","update:character-input-weapon","open:character-info"],setup(e,t){const{displayName:a,targetValue:l}=(0,ae.A)(),s=(0,z.Kh)(e.characterInput),i=(0,z.KR)("0"),o=(0,z.KR)(0),u=(0,n.EW)((()=>[0,1,2,3,4,5,6])),r=(0,n.EW)((()=>s.突破レベル<6?Ze.BY[s.突破レベル]:[...Ze.BY[6],95,100])),c=(0,n.EW)((()=>s.characterMaster)),p=(0,n.EW)((()=>s.weaponMaster)),d=(0,n.EW)((()=>s.artifactSetMasters??[Ze.Ej,Ze.Ej])),m=(0,n.EW)((()=>s.characterMaster.武器!=s.weaponMaster.種類||!e.builddataSavable)),k=(0,n.EW)((()=>Array.from({length:(0,Ze.E_)(c.value)+1},((e,t)=>t)))),b=(0,n.EW)((()=>Array.from({length:(0,Ze.Zq)(c.value,"通常攻撃")},((e,t)=>t+1)))),f=(0,n.EW)((()=>Array.from({length:(0,Ze.Zq)(c.value,"元素スキル")},((e,t)=>t+1)))),v=(0,n.EW)((()=>Array.from({length:(0,Ze.Zq)(c.value,"元素爆発")},((e,t)=>t+1)))),y=(0,n.EW)((()=>{const e=p.value.レアリティ<3?4:6;return Array.from({length:e+1},((e,t)=>t))})),g=(0,n.EW)((()=>Ze.BY[s.武器突破レベル])),h=(0,n.EW)((()=>{const e=p.value.レアリティ<3?1:5;return Array.from({length:e},((e,t)=>t+1))})),L=e=>{if("ja-jp"==$e.A.global.locale.value)return e.name;if(e.overwrite)return e.name;let t="";t+=a(e.build["武器"]),t+=" - ",e.build["聖遺物セット効果1"]&&(t+=a(e.build["聖遺物セット効果1"])),e.build["聖遺物セット効果2"]&&e.build["聖遺物セット効果2"]!=e.build["聖遺物セット効果1"]&&(t+="/",t+=a(e.build["聖遺物セット効果2"])),t+="[";for(const a of["聖遺物メイン効果3","聖遺物メイン効果4","聖遺物メイン効果5"]){const l=e.build[a].split("_");t+=et.hM.get(l[1])}return t+="]",t},C=e=>et.cu[e.元素],S=e=>" "+et.$A[e.レアリティ],E=e=>et.KM[e.元素],_=e=>et.or[e.元素],R=async()=>{s.removeDisabled=!0,await(0,n.dY)(),t.emit("save-to-storage",s.buildname)},I=async()=>{s.removeDisabled=!1,await(0,n.dY)(),t.emit("remove-from-storage",s.buildname)},O=async()=>{const e=r.value[0],t=r.value[r.value.length-1];s.レベル<e?s.レベル=e:s.レベル>t&&(s.レベル=t),await(0,n.dY)(),V()},N=async a=>{if(!e.recommendationList||!a)return;await(0,n.dY)();const l=e.recommendationList[Number(a)];t.emit("update:recommendation",l)},X=async()=>{const e=g.value[0],t=g.value[g.value.length-1];s.武器レベル<e?s.武器レベル=e:s.武器レベル>t&&(s.武器レベル=t),await(0,n.dY)(),M()},w=t=>e.artifactSetSelectVisible&&t==o.value?" selected":"",A=e=>{o.value=e,t.emit("open:artifact-set-select",e)},V=async()=>{const e={};e.突破レベル=s.突破レベル,e.レベル=s.レベル,e.命ノ星座=s.命ノ星座,e.通常攻撃レベル=s.通常攻撃レベル,e.元素スキルレベル=s.元素スキルレベル,e.元素爆発レベル=s.元素爆発レベル,await(0,n.dY)(),t.emit("update:character-input-character",e)},M=async()=>{const e={};e.武器突破レベル=s.武器突破レベル,e.武器レベル=s.武器レベル,e.武器精錬ランク=s.武器精錬ランク,await(0,n.dY)(),t.emit("update:character-input-weapon",e)};return{displayName:a,targetValue:l,getArtifactIconUrl:et.ft,displayBuildName:L,visionSrc:C,bgImageClass:S,colorClass:E,bgColorClass:_,characterInputRea:s,characterMaster:c,weaponMaster:p,artifactSetMasters:d,recommendationOnChange:N,saveDisabled:m,saveOnClick:R,removeOnClick:I,ascensionRange:u,levelRange:r,constellationRange:k,ascensionOnChange:O,weaponAscensionRange:y,weaponLevelRange:g,weaponRefineRange:h,weaponAscensionOnChange:X,storageOrRecommendationRef:i,normalAttackLevelRange:b,elementalSkillLevelRange:f,elementalBurstLevelRange:v,openArtifactSetSelect:A,artifactSetSelectClass:w,characterOnChange:V,weaponOnChange:M,IMG_SRC_DUMMY:et.M2}}});const at=(0,ne.A)(tt,[["render",ze],["__scopeId","data-v-02f76592"]]);var lt=at;const nt={class:"character-info status"},st={class:"character-info"},it={rowspan:"2"},ot=["src","alt"],ut={class:"title"},rt=["innerHTML"],ct={class:"character-info"},pt={rowspan:"2"},dt=["src","alt"],mt={class:"title"},kt=["innerHTML"],bt={key:1,class:"character-info"},ft={colspan:"2",class:"title"},vt=["innerHTML"],yt={key:0},gt={class:"key"},ht={class:"value"},Lt={key:0},Ct={class:"key"},St={class:"value"},Et={key:0},_t={class:"key"},Rt={class:"value"},It={key:2,class:"character-info"},Ot={colspan:"2",class:"title"},Nt={class:"key"},Xt={class:"value"},wt=["innerHTML"],At={key:0},Vt={class:"key"},Mt={class:"value"},Kt={key:3,class:"character-info"},Tt={colspan:"2",class:"title"},Dt={class:"key"},Wt={class:"value"},Ft=["innerHTML"],Ut={key:0},xt={class:"key"},jt={class:"value"};function Ht(e,t,a,l,i,o){return e.visible?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[1==e.mode?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("table",nt,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("ステータス")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.statsInfoList,((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("td",null,(0,s.v_)(e.displayStatValue(t.key,t.value)),1)])))),128))])]),(0,n.Lk)("table",st,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("命ノ星座")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.constellationInfoList,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",it,[(0,n.Lk)("img",{class:"icon",src:t.icon_url,alt:t.名前},null,8,ot)]),(0,n.Lk)("th",ut,(0,s.v_)(e.displayName("第"+(a+1)+"重"))+" "+(0,s.v_)(e.displayName(t.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"description",innerHTML:t.説明},null,8,rt)])],64)))),128))])]),(0,n.Lk)("table",ct,[(0,n.Lk)("caption",null,(0,s.v_)(e.displayName("固有天賦")),1),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.passiveTalentInfoList,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",pt,[(0,n.Lk)("img",{class:"icon",src:t.icon_url,alt:t.名前},null,8,dt)]),(0,n.Lk)("th",mt,(0,s.v_)(e.displayName(t.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"description",innerHTML:t.説明},null,8,kt)])],64)))),128))])])],64)):(0,n.Q3)("",!0),2==e.mode?((0,n.uX)(),(0,n.CE)("table",bt,[t[0]||(t[0]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",ft,(0,s.v_)(e.displayName(e.characterMaster.通常攻撃.名前)),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.通常攻撃.説明},null,8,vt)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("通常攻撃").詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",yt,[(0,n.Lk)("th",gt,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",ht,(0,s.v_)(e.talentValue(t.数値,e.levelNormalAttack("通常攻撃"))),1)])):(0,n.Q3)("",!0)],64)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("重撃").詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",Lt,[(0,n.Lk)("th",Ct,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",St,(0,s.v_)(e.talentValue(t.数値,e.levelNormalAttack("重撃"))),1)])):(0,n.Q3)("",!0)],64)))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentNormalAttack("落下攻撃").詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",Et,[(0,n.Lk)("th",_t,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",Rt,(0,s.v_)(e.talentValue(t.数値,e.levelNormalAttack("落下攻撃"))),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0),3==e.mode?((0,n.uX)(),(0,n.CE)("table",It,[t[1]||(t[1]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Ot,(0,s.v_)(e.displayName(e.characterMaster.元素スキル.名前)),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentAttributes(e.characterMaster.元素スキル,e.elementalSkillLevel),((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",Nt,(0,s.v_)(e.displayName(t[0])),1),(0,n.Lk)("td",Xt,(0,s.v_)(t[1]),1)])))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.元素スキル.説明},null,8,wt)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterMaster.元素スキル.詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",At,[(0,n.Lk)("th",Vt,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",Mt,(0,s.v_)(e.talentValue(t.数値,e.elementalSkillLevel)),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0),4==e.mode?((0,n.uX)(),(0,n.CE)("table",Kt,[t[2]||(t[2]=(0,n.Lk)("caption",null,null,-1)),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Tt,(0,s.v_)(e.displayName(e.characterMaster.元素爆発.名前)),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.talentAttributes(e.characterMaster.元素爆発,e.elementalBurstLevel),((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",Dt,(0,s.v_)(e.displayName(t[0])),1),(0,n.Lk)("td",Wt,(0,s.v_)(t[1]),1)])))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"2",class:"description",innerHTML:e.characterMaster.元素爆発.説明},null,8,Ft)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterMaster.元素爆発.詳細,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[t.名前&&!t.名前.startsWith("非表示_")?((0,n.uX)(),(0,n.CE)("tr",Ut,[(0,n.Lk)("th",xt,(0,s.v_)(e.displayName(t.名前)),1),(0,n.Lk)("td",jt,(0,s.v_)(e.talentValue(t.数値,e.elementalBurstLevel)),1)])):(0,n.Q3)("",!0)],64)))),128))])])):(0,n.Q3)("",!0)],64)):(0,n.Q3)("",!0)}var Qt=a(725),Bt=(0,n.pM)({name:"CharacterInfo",props:{visible:{type:Boolean,required:!0},mode:{type:Number,required:!0},characterMaster:{type:Object,required:!0},ascension:{type:Number,required:!0},level:{type:Number,required:!0},normalAttackLevel:{type:Number,required:!0},elementalSkillLevel:{type:Number,required:!0},elementalBurstLevel:{type:Number,required:!0},normalAttackReplacing:{type:Array,required:!0}},setup(e){const{displayName:t,displayStatValue:a}=(0,ae.A)(),l=(0,n.EW)((()=>{const t=[];if("ステータス"in e.characterMaster)for(const a of Object.keys(e.characterMaster.ステータス)){const l=e.characterMaster.ステータス[a],n=(0,Qt.Fd)(l,e.ascension,e.level);t.push({key:a,value:n})}return t})),s=(0,n.EW)((()=>{const t=[];if("命ノ星座"in e.characterMaster)for(const a of Object.keys(e.characterMaster.命ノ星座))t.push(e.characterMaster.命ノ星座[a]);return t})),i=(0,n.EW)((()=>{const t=[];if("固有天賦"in e.characterMaster)for(const a of e.characterMaster.固有天賦)t.push(a);return t})),o=t=>{let a;return"通常攻撃"==t?a=e.normalAttackReplacing[0]?e.characterMaster.特殊通常攻撃:e.characterMaster.通常攻撃:"重撃"==t?a=e.normalAttackReplacing[1]?e.characterMaster.特殊重撃:e.characterMaster.重撃:"落下攻撃"==t&&(a=e.normalAttackReplacing[2]?e.characterMaster.特殊落下攻撃:e.characterMaster.落下攻撃),a},u=t=>{let a=e.normalAttackLevel;const l=o(t);if("種類"in l)switch(l["種類"]){case"元素スキルダメージ":a=e.elementalSkillLevel;break;case"元素爆発ダメージ":a=e.elementalBurstLevel;break}return a},r=(e,t)=>{const a=[];return["時間","クールタイム","元素エネルギー"].forEach((l=>{const n=Object.keys(e).filter((e=>e.endsWith(l)));for(const s of n){let l=e[s];J().isPlainObject(l)&&(l=l[String(t)]),a.push([s,l])}})),a},c=(e,t)=>J().isPlainObject(e)?e[String(t)]:e;return{displayName:t,displayStatValue:a,statsInfoList:l,constellationInfoList:s,passiveTalentInfoList:i,talentNormalAttack:o,levelNormalAttack:u,talentAttributes:r,talentValue:c}}});const Pt=(0,ne.A)(Bt,[["render",Ht],["__scopeId","data-v-554c4cca"]]);var qt=Pt;const Yt={key:0},Gt={class:"title"},Jt={class:"stat"},zt={class:"stat-value"},$t={class:"stat"},Zt={class:"stat-value"},ea={class:"title",colspan:"3"},ta=["innerHTML"],aa={class:"select-list"},la=["src","alt","onClick"],na={class:"tooltip"};function sa(e,t,a,l,i,o){return e.visible?((0,n.uX)(),(0,n.CE)("div",Yt,[(0,n.Lk)("table",null,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Gt,(0,s.v_)(e.displayName(e.weaponMaster.名前)),1),(0,n.Lk)("th",Jt,(0,s.v_)(e.displayName("基礎攻撃力")),1),(0,n.Lk)("td",zt,(0,s.v_)(e.displayStatValue("基礎攻撃力",e.stats[0].value)),1)])]),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Array.from({length:e.weaponMaster.レアリティ},((e,t)=>t)),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",alt:"star",key:e})))),128))]),(0,n.Lk)("th",$t,[e.stats[1]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)((0,s.v_)(e.displayName(e.stats[1].key)),1)],64)):(0,n.Q3)("",!0)]),(0,n.Lk)("td",Zt,[e.stats[1]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.eW)((0,s.v_)(e.displayStatValue(e.stats[1].key,e.stats[1].value)),1)],64)):(0,n.Q3)("",!0)])]),e.weaponMaster.武器スキル?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",ea,(0,s.v_)(e.weaponMaster.武器スキル.名前),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{colspan:"3",class:"description",innerHTML:e.weaponMaster.武器スキル.説明},null,8,ta)])],64)):(0,n.Q3)("",!0)])]),(0,n.Lk)("ul",aa,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.filteredList,(t=>((0,n.uX)(),(0,n.CE)("li",{class:"icon",key:t.key},[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(t)+e.selectedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.updateWeapon(t.key)},null,10,la),(0,n.Lk)("div",na,(0,s.v_)(e.displayName(t.key)),1)])))),128))])])):(0,n.Q3)("",!0)}var ia=(0,n.pM)({name:"WeaponSelect",props:{visible:{type:Boolean,required:!0},weapon:{type:String,required:!0},weaponType:{type:String},weaponMaster:{type:Object,required:!0},ascension:{type:Number,required:!0},level:{type:Number,required:!0}},emits:["update:weapon"],setup(e,t){const{displayName:a,displayStatValue:l}=(0,ae.A)(),s=e=>" "+et.$A[e.レアリティ],i=t=>t.key==e.weapon?" selected":"",o=(0,z.KR)(e.weapon),u=(0,n.EW)((()=>{const t=[];if(e.weaponMaster&&e.weaponMaster.ステータス&&void 0!==e.ascension&&void 0!==e.level)for(const a of Object.keys(e.weaponMaster.ステータス))t.push({key:a,value:(0,Qt.Fd)(e.weaponMaster.ステータス[a],e.ascension,e.level)});return t})),r=(0,n.EW)((()=>{if(e.weaponType)return et.Nc[e.weaponType];const t=[];return Object.keys(et.Nc).forEach((e=>{const a=et.Nc[e];t.push(...a)})),t})),c=async e=>{o.value=e,await(0,n.dY)(),t.emit("update:weapon",e)};return{displayName:a,displayStatValue:l,bgImageClass:s,selectedClass:i,filteredList:r,updateWeapon:c,stats:u}}});const oa=(0,ne.A)(ia,[["render",sa],["__scopeId","data-v-52cbcd47"]]);var ua=oa,ra=a(9390);const ca={key:0},pa={class:"two"},da=["value"],ma={class:"two"},ka=["value"],ba={class:"three"},fa=["value"],va={class:"three"},ya=["value"],ga={class:"three"},ha=["value"],La={class:"detail"},Ca={class:"stat-value"},Sa=["step"],Ea={key:1},_a=["min","step"],Ra={key:1},Ia={class:"stat-value"},Oa=["step"],Na={key:1},Xa=["min","step"],wa={key:1},Aa={class:"stat-value"},Va=["step"],Ma={key:1},Ka=["min","step"],Ta={key:1},Da={class:"stat-value"},Wa=["step"],Fa={key:1},Ua=["min","step"],xa={key:1},ja={class:"stat-value"},Ha=["step"],Qa={key:1},Ba=["min","step"],Pa={key:1},qa={class:"stat-value"},Ya=["step"],Ga={key:1},Ja=["min","step"],za={key:1},$a={class:"stat-value"},Za=["step"],el={key:1},tl=["min","step"],al={key:1},ll={rowspan:"4",colspan:"2",style:{"border-color":"transparent"}},nl={class:"button"},sl={style:{position:"relative"}},il={key:0,class:"wait-icon",src:"images/icon_loader_f_ww_01_s1.gif",width:"25",height:"25"},ol=["disabled"],ul={class:"stat-value"},rl=["step"],cl={key:1},pl=["min","step"],dl={key:1},ml={class:"stat-value"},kl=["step"],bl={key:1},fl=["min","step"],vl={key:1},yl={class:"stat-value"},gl=["step"],hl={key:1},Ll=["min","step"],Cl={key:1},Sl={class:"tab-switch"},El={for:"input-mode-tab-1"},_l={for:"input-mode-tab-2"},Rl={class:"sub-input",id:"artifact-sub-input"},Il={key:0},Ol={class:"priority-substat"},Nl={style:{"border-color":"transparent"}},Xl=["onUpdate:modelValue"],wl=["value"],Al=["onUpdate:modelValue"],Vl=["value"],Ml=["onUpdate:modelValue"],Kl=["value"],Tl={style:{"border-color":"transparent"}},Dl={style:{"border-color":"transparent"}},Wl=["disabled"],Fl=["value"],Ul={key:1,class:"artifact-cat-select"},xl={class:"cat-select"},jl=["alt"],Hl=["alt"],Ql=["alt"],Bl=["alt"],Pl=["alt"],ql={key:0},Yl={key:1,class:"artifact-select-list"},Gl={key:2},Jl=["disabled"],zl={key:3};function $l(e,t,a,i,o,u){const r=(0,n.g2)("ArtifactItem"),c=(0,n.g2)("ArtifactChangeInput"),p=(0,n.g2)("ArtifactDetailOcrResult");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e.visible?((0,n.uX)(),(0,n.CE)("div",ca,[(0,n.Lk)("fieldset",null,[(0,n.Lk)("legend",null,(0,s.v_)(e.displayName("聖遺物詳細")),1),(0,n.Lk)("label",pa,[(0,n.eW)((0,s.v_)(e.displayName("生の花"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.mainstats[0]=t),onChange:t[1]||(t[1]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[78]||(t[78]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat1List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,da)))),128))],544),[[l.u1,e.mainstats[0]]])]),(0,n.Lk)("label",ma,[(0,n.eW)((0,s.v_)(e.displayName("死の羽"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.mainstats[1]=t),onChange:t[3]||(t[3]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[79]||(t[79]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat2List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,ka)))),128))],544),[[l.u1,e.mainstats[1]]])]),(0,n.Lk)("label",ba,[(0,n.eW)((0,s.v_)(e.displayName("時の砂"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.mainstats[2]=t),onChange:t[5]||(t[5]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[80]||(t[80]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat3List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,fa)))),128))],544),[[l.u1,e.mainstats[2]]])]),(0,n.Lk)("label",va,[(0,n.eW)((0,s.v_)(e.displayName("空の杯"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.mainstats[3]=t),onChange:t[7]||(t[7]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[81]||(t[81]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat4List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,ya)))),128))],544),[[l.u1,e.mainstats[3]]])]),(0,n.Lk)("label",ga,[(0,n.eW)((0,s.v_)(e.displayName("理の冠"))+" ",1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.mainstats[4]=t),onChange:t[9]||(t[9]=(...t)=>e.updateMainstats&&e.updateMainstats(...t))},[t[82]||(t[82]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainstat5List,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,ha)))),128))],544),[[l.u1,e.mainstats[4]]])]),(0,n.Lk)("table",La,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("HP")),1),(0,n.Lk)("td",Ca,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[10]||(t[10]=t=>e.artifactStatsSub["HP"]=t),min:0,step:e.substatStep("HP"),onChange:t[11]||(t[11]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Sa)),[[l.Jo,e.artifactStatsSub["HP"]]]):((0,n.uX)(),(0,n.CE)("span",Ea,(0,s.v_)(e.displayStatValue("HP",e.artifactStatsSub["HP"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[12]||(t[12]=t=>e.artifactStats["HP"]=t),min:e.substatMin("HP"),step:e.substatStep("HP"),onChange:t[13]||(t[13]=t=>e.artifactStatsOnChange("HP",e.targetValue(t)))},null,40,_a)),[[l.Jo,e.artifactStats["HP"]]]):((0,n.uX)(),(0,n.CE)("span",Ra,(0,s.v_)(e.displayStatValue("HP",e.artifactStats["HP"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("HP%")),1),(0,n.Lk)("td",Ia,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[14]||(t[14]=t=>e.artifactStatsSub["HP%"]=t),min:0,step:e.substatStep("HP%"),onChange:t[15]||(t[15]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Oa)),[[l.Jo,e.artifactStatsSub["HP%"]]]):((0,n.uX)(),(0,n.CE)("span",Na,(0,s.v_)(e.displayStatValue("HP%",e.artifactStatsSub["HP%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[16]||(t[16]=t=>e.artifactStats["HP%"]=t),min:e.substatMin("HP%"),step:e.substatStep("HP%"),onChange:t[17]||(t[17]=t=>e.artifactStatsOnChange("HP%",e.targetValue(t)))},null,40,Xa)),[[l.Jo,e.artifactStats["HP%"]]]):((0,n.uX)(),(0,n.CE)("span",wa,(0,s.v_)(e.displayStatValue("HP%",e.artifactStats["HP%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("攻撃力")),1),(0,n.Lk)("td",Aa,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[18]||(t[18]=t=>e.artifactStatsSub["攻撃力"]=t),min:0,step:e.substatStep("攻撃力"),onChange:t[19]||(t[19]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Va)),[[l.Jo,e.artifactStatsSub["攻撃力"]]]):((0,n.uX)(),(0,n.CE)("span",Ma,(0,s.v_)(e.displayStatValue("攻撃力",e.artifactStatsSub["攻撃力"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[20]||(t[20]=t=>e.artifactStats["攻撃力"]=t),min:e.substatMin("攻撃力"),step:e.substatStep("攻撃力"),onChange:t[21]||(t[21]=t=>e.artifactStatsOnChange("攻撃力",e.targetValue(t)))},null,40,Ka)),[[l.Jo,e.artifactStats["攻撃力"]]]):((0,n.uX)(),(0,n.CE)("span",Ta,(0,s.v_)(e.displayStatValue("攻撃力",e.artifactStats["攻撃力"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("攻撃力%")),1),(0,n.Lk)("td",Da,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[22]||(t[22]=t=>e.artifactStatsSub["攻撃力%"]=t),min:0,step:e.substatStep("攻撃力%"),onChange:t[23]||(t[23]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Wa)),[[l.Jo,e.artifactStatsSub["攻撃力%"]]]):((0,n.uX)(),(0,n.CE)("span",Fa,(0,s.v_)(e.displayStatValue("攻撃力%",e.artifactStatsSub["攻撃力%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[24]||(t[24]=t=>e.artifactStats["攻撃力%"]=t),min:e.substatMin("攻撃力%"),step:e.substatStep("攻撃力%"),onChange:t[25]||(t[25]=t=>e.artifactStatsOnChange("攻撃力%",e.targetValue(t)))},null,40,Ua)),[[l.Jo,e.artifactStats["攻撃力%"]]]):((0,n.uX)(),(0,n.CE)("span",xa,(0,s.v_)(e.displayStatValue("攻撃力%",e.artifactStats["攻撃力%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("防御力")),1),(0,n.Lk)("td",ja,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[26]||(t[26]=t=>e.artifactStatsSub["防御力"]=t),min:0,step:e.substatStep("防御力"),onChange:t[27]||(t[27]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Ha)),[[l.Jo,e.artifactStatsSub["防御力"]]]):((0,n.uX)(),(0,n.CE)("span",Qa,(0,s.v_)(e.displayStatValue("防御力",e.artifactStatsSub["防御力"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[28]||(t[28]=t=>e.artifactStats["防御力"]=t),min:e.substatMin("防御力"),step:e.substatStep("防御力"),onChange:t[29]||(t[29]=t=>e.artifactStatsOnChange("防御力",e.targetValue(t)))},null,40,Ba)),[[l.Jo,e.artifactStats["防御力"]]]):((0,n.uX)(),(0,n.CE)("span",Pa,(0,s.v_)(e.displayStatValue("防御力",e.artifactStats["防御力"])),1))],64))]),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("防御力%")),1),(0,n.Lk)("td",qa,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[30]||(t[30]=t=>e.artifactStatsSub["防御力%"]=t),min:0,step:e.substatStep("防御力%"),onChange:t[31]||(t[31]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Ya)),[[l.Jo,e.artifactStatsSub["防御力%"]]]):((0,n.uX)(),(0,n.CE)("span",Ga,(0,s.v_)(e.displayStatValue("防御力%",e.artifactStatsSub["防御力%"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[32]||(t[32]=t=>e.artifactStats["防御力%"]=t),min:e.substatMin("防御力%"),step:e.substatStep("防御力%"),onChange:t[33]||(t[33]=t=>e.artifactStatsOnChange("防御力%",e.targetValue(t)))},null,40,Ja)),[[l.Jo,e.artifactStats["防御力%"]]]):((0,n.uX)(),(0,n.CE)("span",za,(0,s.v_)(e.displayStatValue("防御力%",e.artifactStats["防御力%"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("元素熟知")),1),(0,n.Lk)("td",$a,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[34]||(t[34]=t=>e.artifactStatsSub["元素熟知"]=t),min:0,step:e.substatStep("元素熟知"),onChange:t[35]||(t[35]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,Za)),[[l.Jo,e.artifactStatsSub["元素熟知"]]]):((0,n.uX)(),(0,n.CE)("span",el,(0,s.v_)(e.displayStatValue("元素熟知",e.artifactStatsSub["元素熟知"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[36]||(t[36]=t=>e.artifactStats["元素熟知"]=t),min:e.substatMin("元素熟知"),step:e.substatStep("元素熟知"),onChange:t[37]||(t[37]=t=>e.artifactStatsOnChange("元素熟知",e.targetValue(t)))},null,40,tl)),[[l.Jo,e.artifactStats["元素熟知"]]]):((0,n.uX)(),(0,n.CE)("span",al,(0,s.v_)(e.displayStatValue("元素熟知",e.artifactStats["元素熟知"])),1))],64))]),(0,n.Lk)("td",ll,[(0,n.Lk)("div",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[38]||(t[38]=t=>e.editableRef=t)},null,512),[[l.lH,e.editableRef]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("直接入力モード")),1)])]),(0,n.Lk)("div",null,[(0,n.Lk)("label",nl,[(0,n.eW)((0,s.v_)(e.displayName("聖遺物詳細画面OCR"))+" ",1),(0,n.Lk)("input",{class:"hidden",type:"file",id:"artifact-stats-image",onChange:t[39]||(t[39]=t=>e.loadArtifactStatsByOcr(t))},null,32)])]),(0,n.Lk)("div",sl,[e.isScanning?((0,n.uX)(),(0,n.CE)("img",il)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[40]||(t[40]=t=>e.canInitializeStats=t)},null,512),[[l.lH,e.canInitializeStats]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("全てクリア")),1)]),(0,n.Lk)("button",{onClick:t[41]||(t[41]=(...t)=>e.initializeAll&&e.initializeAll(...t)),disabled:!e.canInitializeStats},(0,s.v_)(e.displayName("実行")),9,ol)])])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心率")),1),(0,n.Lk)("td",ul,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[42]||(t[42]=t=>e.artifactStatsSub["会心率"]=t),min:0,step:e.substatStep("会心率"),onChange:t[43]||(t[43]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,rl)),[[l.Jo,e.artifactStatsSub["会心率"]]]):((0,n.uX)(),(0,n.CE)("span",cl,(0,s.v_)(e.displayStatValue("会心率",e.artifactStatsSub["会心率"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[44]||(t[44]=t=>e.artifactStats["会心率"]=t),min:e.substatMin("会心率"),step:e.substatStep("会心率"),onChange:t[45]||(t[45]=t=>e.artifactStatsOnChange("会心率",e.targetValue(t)))},null,40,pl)),[[l.Jo,e.artifactStats["会心率"]]]):((0,n.uX)(),(0,n.CE)("span",dl,(0,s.v_)(e.displayStatValue("会心率",e.artifactStats["会心率"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心ダメージ")),1),(0,n.Lk)("td",ml,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[46]||(t[46]=t=>e.artifactStatsSub["会心ダメージ"]=t),min:0,step:e.substatStep("会心ダメージ"),onChange:t[47]||(t[47]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,kl)),[[l.Jo,e.artifactStatsSub["会心ダメージ"]]]):((0,n.uX)(),(0,n.CE)("span",bl,(0,s.v_)(e.displayStatValue("会心ダメージ",e.artifactStatsSub["会心ダメージ"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[48]||(t[48]=t=>e.artifactStats["会心ダメージ"]=t),min:e.substatMin("会心ダメージ"),step:e.substatStep("会心ダメージ"),onChange:t[49]||(t[49]=t=>e.artifactStatsOnChange("会心ダメージ",e.targetValue(t)))},null,40,fl)),[[l.Jo,e.artifactStats["会心ダメージ"]]]):((0,n.uX)(),(0,n.CE)("span",vl,(0,s.v_)(e.displayStatValue("会心ダメージ",e.artifactStats["会心ダメージ"])),1))],64))])]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("元素チャージ効率")),1),(0,n.Lk)("td",yl,[e.isSubStatOnly?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[50]||(t[50]=t=>e.artifactStatsSub["元素チャージ効率"]=t),min:0,step:e.substatStep("元素チャージ効率"),onChange:t[51]||(t[51]=(...t)=>e.artifactStatsSubOnChange&&e.artifactStatsSubOnChange(...t))},null,40,gl)),[[l.Jo,e.artifactStatsSub["元素チャージ効率"]]]):((0,n.uX)(),(0,n.CE)("span",hl,(0,s.v_)(e.displayStatValue("元素チャージ効率",e.artifactStatsSub["元素チャージ効率"])),1))],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.editableRef?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"number","onUpdate:modelValue":t[52]||(t[52]=t=>e.artifactStats["元素チャージ効率"]=t),min:e.substatMin("元素チャージ効率"),step:e.substatStep("元素チャージ効率"),onChange:t[53]||(t[53]=t=>e.artifactStatsOnChange("元素チャージ効率",e.targetValue(t)))},null,40,Ll)),[[l.Jo,e.artifactStats["元素チャージ効率"]]]):((0,n.uX)(),(0,n.CE)("span",Cl,(0,s.v_)(e.displayStatValue("元素チャージ効率",e.artifactStats["元素チャージ効率"])),1))],64))])])])])]),(0,n.Lk)("div",Sl,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"input-mode-tab-1",type:"radio",value:"1","onUpdate:modelValue":t[54]||(t[54]=t=>e.artifactInputModeTab=t)},null,512),[[l.XL,e.artifactInputModeTab]]),(0,n.Lk)("label",El,(0,s.v_)(e.displayName("簡易設定")),1),(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"input-mode-tab-2",type:"radio",value:"2","onUpdate:modelValue":t[55]||(t[55]=t=>e.artifactInputModeTab=t)},null,512),[[l.XL,e.artifactInputModeTab]]),(0,n.Lk)("label",_l,(0,s.v_)(e.displayName("個別設定")),1)]),(0,n.Lk)("div",Rl,["1"==e.artifactInputModeTab?((0,n.uX)(),(0,n.CE)("fieldset",Il,[(0,n.Lk)("table",Ol,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("優先するサブ効果")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("上昇値")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("初期+強化")),1),(0,n.Lk)("td",Nl,"合計 "+(0,s.v_)(e.upTotalCount)+" 回",1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)([...Array(e.prioritySubstats.length)].map(((e,t)=>t)),(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.prioritySubstats[a]=t,onChange:t[56]||(t[56]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[t[83]||(t[83]=(0,n.Lk)("option",{value:""},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatList,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(e.displayName(t)),9,wl)))),128))],40,Xl),[[l.u1,e.prioritySubstats[a]]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.prioritySubstatIndices[a]=t,onChange:t[57]||(t[57]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatValueList(a),((e,t)=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t},(0,s.v_)(Math.round(10*e)/10),9,Vl)))),128))],40,Al),[[l.u1,e.prioritySubstatIndices[a]]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.prioritySubstatCounts[a]=t,onChange:t[58]||(t[58]=(...t)=>e.updatePrioritySubstats&&e.updatePrioritySubstats(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.prioritySubstatCountList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e},(0,s.v_)(" × "+e),9,Kl)))),128))],40,Ml),[[l.u1,e.prioritySubstatCounts[a]]])]),(0,n.bo)((0,n.Lk)("td",Tl,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[59]||(t[59]=t=>e.gensenEnabledRef=t)},null,512),[[l.lH,e.gensenEnabledRef]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("一括変更")),1)])],512),[[l.aG,0==a]]),(0,n.bo)((0,n.Lk)("td",Dl,[(0,n.bo)((0,n.Lk)("select",{class:"gensen","onUpdate:modelValue":t[60]||(t[60]=t=>e.gensenRef=t),onChange:t[61]||(t[61]=(...t)=>e.gensenOnChange&&e.gensenOnChange(...t)),disabled:!e.gensenEnabledRef},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.gensenMasterList,(t=>((0,n.uX)(),(0,n.CE)("option",{value:t,key:t.key},(0,s.v_)(e.displayName(t.key)),9,Fl)))),128))],40,Wl),[[l.u1,e.gensenRef]])],512),[[l.aG,1==a]])])))),128))])])])):(0,n.Q3)("",!0),"2"==e.artifactInputModeTab?((0,n.uX)(),(0,n.CE)("div",Ul,[(0,n.Lk)("div",xl,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"1","onUpdate:modelValue":t[62]||(t[62]=t=>e.artifactCatTabSelected=t),onChange:t[63]||(t[63]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/flower_of_life.png",alt:e.displayName("生の花")},null,8,jl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"2","onUpdate:modelValue":t[64]||(t[64]=t=>e.artifactCatTabSelected=t),onChange:t[65]||(t[65]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/plume_of_death.png",alt:e.displayName("死の羽")},null,8,Hl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"3","onUpdate:modelValue":t[66]||(t[66]=t=>e.artifactCatTabSelected=t),onChange:t[67]||(t[67]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/sands_of_eon.png",alt:e.displayName("時の砂")},null,8,Ql)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"4","onUpdate:modelValue":t[68]||(t[68]=t=>e.artifactCatTabSelected=t),onChange:t[69]||(t[69]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/goblet_of_eonothem.png",alt:e.displayName("空の杯")},null,8,Bl)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"5","onUpdate:modelValue":t[70]||(t[70]=t=>e.artifactCatTabSelected=t),onChange:t[71]||(t[71]=(...t)=>e.artifactCatTabOnChange&&e.artifactCatTabOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/circlet_of_logos.png",alt:e.displayName("理の冠")},null,8,Pl)])]),e.isArtifactSelectListShow||e.isNewArtifactInputShow||e.isArtifactChangeInputShow?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",ql,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactListCat,((e,t)=>((0,n.uX)(),(0,n.Wv)(r,{key:t,artifact:e},null,8,["artifact"])))),128)),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[72]||(t[72]=(...t)=>e.artifactSelectOnClick&&e.artifactSelectOnClick(...t))},(0,s.v_)(e.displayName("選択")),1),(0,n.Lk)("button",{type:"button",onClick:t[73]||(t[73]=(...t)=>e.artifactNewOnClick&&e.artifactNewOnClick(...t))},(0,s.v_)(e.displayName("新規")),1),e.artifactListCat.length?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:t[74]||(t[74]=(...t)=>e.artifactRemoveOnClick&&e.artifactRemoveOnClick(...t))},(0,s.v_)(e.displayName("解除")),1)):(0,n.Q3)("",!0)])])),e.isArtifactSelectListShow?((0,n.uX)(),(0,n.CE)("div",Yl,[(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[75]||(t[75]=t=>e.isArtifactSelectListShow=!e.isArtifactSelectListShow)},(0,s.v_)(e.displayName("閉じる")),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactOwnArrCatId(e.artifactCatTabSelected),(t=>((0,n.uX)(),(0,n.Wv)(r,{key:t.id,artifact:t.artifact,id:t.id,score:t.score,control:"selectable",selected:e.artifactSelected(t.artifact),"onSelect:artifact":e.selectArtifact},null,8,["artifact","id","score","selected","onSelect:artifact"])))),128))])):(0,n.Q3)("",!0),e.isNewArtifactInputShow?((0,n.uX)(),(0,n.CE)("div",Gl,[(0,n.bF)(r,{artifact:e.newArtifact,id:0,control:"editable",initial:!0,"onUpdate:artifact":e.updateNewArtifact},null,8,["artifact","onUpdate:artifact"]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[76]||(t[76]=(...t)=>e.newArtifactAddOnClick&&e.newArtifactAddOnClick(...t)),disabled:!e.isNewArtifactAddable},(0,s.v_)(e.displayName("適用")),9,Jl),(0,n.Lk)("button",{type:"button",onClick:t[77]||(t[77]=(...t)=>e.isNewArtifactInputShowEndProc&&e.isNewArtifactInputShowEndProc(...t))},(0,s.v_)(e.displayName("キャンセル")),1)])])):(0,n.Q3)("",!0),e.isArtifactChangeInputShow?((0,n.uX)(),(0,n.CE)("div",zl,[(0,n.bF)(c,{before:e.artifactBefore,after:e.artifactAfter,"onApply:artifactChange":e.applyArtifactChange,"onCancel:artifactChange":e.cancelArtifactChange},null,8,["before","after","onApply:artifactChange","onCancel:artifactChange"])])):(0,n.Q3)("",!0),t[84]||(t[84]=(0,n.Lk)("p",null," 聖遺物の入れ替えではなく、0から設定する場合は、「全てクリア」を実行してから行ってください。 ",-1))])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),(0,n.Lk)("div",null,[(0,n.bF)(p,{visible:e.ocrResultVisible,ocrResult:e.ocrResult,"onCancel:artifactDetailOcrResult":e.cancelArtifactDetailOcrResult,"onAccept:artifactDetailOcrResult":e.acceptArtifactDetailOcrResult},null,8,["visible","ocrResult","onCancel:artifactDetailOcrResult","onAccept:artifactDetailOcrResult"])]),(0,n.bo)((0,n.Lk)("div",null,t[85]||(t[85]=[(0,n.Lk)("canvas",{id:"artifact-stats-canvas"},null,-1)]),512),[[l.aG,!1]])],64)}const Zl={class:"modal"},en={class:"modal-content"},tn={class:"ocr-result"};function an(e,t,a,i,o,u){return(0,n.uX)(),(0,n.Wv)(n.Im,{to:"body"},[(0,n.bo)((0,n.Lk)("div",Zl,[(0,n.Lk)("div",en,[(0,n.Lk)("table",tn,[t[2]||(t[2]=(0,n.Lk)("caption",null,"OCR RESULT",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.items,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.key},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatName(t.key)),1),(0,n.Lk)("td",null,(0,s.v_)(e.displayStatValue(t.key,t.value)),1)])))),128))]),t[3]||(t[3]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.ok&&e.ok(...t))}," OK "),(0,n.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.cancel&&e.cancel(...t))}," CANCEL ")])],512),[[l.aG,e.visible]])])}var ln=(0,n.pM)({name:"ArtifactDetailOcrResult",props:{visible:{type:Boolean,required:!0,default:!1},ocrResult:{type:Object,required:!0}},emits:["cancel:artifact-detail-ocr-result","accept:artifact-detail-ocr-result"],setup(e,t){const{displayStatName:a,displayStatValue:l}=(0,ae.A)(),s=(0,n.EW)((()=>Object.keys(e.ocrResult).map((t=>({key:t,value:e.ocrResult[t]}))))),i=()=>{t.emit("cancel:artifact-detail-ocr-result")},o=()=>{t.emit("accept:artifact-detail-ocr-result")};return{displayStatName:a,displayStatValue:l,items:s,cancel:i,ok:o}}});const nn=(0,ne.A)(ln,[["render",an],["__scopeId","data-v-7f3f3a1f"]]);var sn=nn,on=a(3345);const un={class:"artifact"},rn={class:"artifact"},cn={key:0,class:"artifact-before-after"},pn={colspan:"2"},dn=["src","alt"],mn={colspan:"2"},kn={key:0,class:"artifact-before-after"},bn={colspan:"2"},fn=["src","alt"],vn={colspan:"2"},yn={key:0},gn={colspan:"2"},hn={class:"artifact-stat"},Ln={colspan:"2"},Cn={style:{"margin-top":"5px"}};function Sn(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)("div",un,[(0,n.Lk)("table",rn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[e.before?((0,n.uX)(),(0,n.CE)("table",cn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",pn,(0,s.v_)(e.displayName("現在装備")),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,[(0,n.Lk)("img",{class:"artifact-icon",src:e.artifactImgSrc(e.before),alt:e.displayName(e.before.name)},null,8,dn)]),(0,n.Lk)("td",null,[(0,n.eW)((0,s.v_)(e.displayStatStr(e.before.mainStat,e.before.mainStatValue))+" ",1),t[3]||(t[3]=(0,n.Lk)("br",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(new Array(e.before.rarity),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",key:e})))),128))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.before.subStats,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.name},[(0,n.Lk)("td",mn,(0,s.v_)(e.displayStatStr(t.name,t.value)),1)])))),128))])])):(0,n.Q3)("",!0)]),(0,n.Lk)("td",null,[e.after?((0,n.uX)(),(0,n.CE)("table",kn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",bn,(0,s.v_)(e.displayName("変更後")),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,[(0,n.Lk)("img",{class:"artifact-icon",src:e.artifactImgSrc(e.after),alt:e.displayName(e.after.name)},null,8,fn)]),(0,n.Lk)("td",null,[(0,n.eW)((0,s.v_)(e.displayStatStr(e.after.mainStat,e.after.mainStatValue))+" ",1),t[4]||(t[4]=(0,n.Lk)("br",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(new Array(e.after.rarity),(e=>((0,n.uX)(),(0,n.CE)("img",{class:"star",src:"images/star.png",key:e})))),128))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.after.subStats,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.name},[(0,n.Lk)("td",vn,(0,s.v_)(e.displayStatStr(t.name,t.value)),1)])))),128))])])):(0,n.Q3)("",!0)])]),e.isStatsChange?((0,n.uX)(),(0,n.CE)("tr",yn,[(0,n.Lk)("td",gn,[(0,n.Lk)("table",hn,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Ln,(0,s.v_)(e.displayName("ステータス変化")),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mainStatDiffList,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.key},[(0,n.Lk)("td",null,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("td",{class:(0,s.C4)("value "+e.statValueClass(t.value))},(0,s.v_)((t.value>=0?"+":"")+e.displayStatValue(t.key,t.value)),3)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.subStatDiffList,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.key},[(0,n.Lk)("td",null,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("td",{class:(0,s.C4)("value "+e.statValueClass(t.value))},(0,s.v_)((t.value>=0?"+":"")+e.displayStatValue(t.key,t.value)),3)])))),128))])])])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Cn,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.isStatsChange=t)},null,512),[[l.lH,e.isStatsChange]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("ステータス変化分を適用する")),1)]),t[5]||(t[5]=(0,n.Lk)("br",null,null,-1)),t[6]||(t[6]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.applyOnClick&&e.applyOnClick(...t))},(0,s.v_)(e.displayName("適用")),1),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.cancelOnClick&&e.cancelOnClick(...t))},(0,s.v_)(e.displayName("キャンセル")),1)])])}var En=(0,n.pM)({name:"ArtifactChangeInput",props:{before:{type:Object},after:{type:Object}},emits:["apply:artifact-change","cancel:artifact-change"],setup(e,t){const{displayName:a,displayStatValue:l}=(0,ae.A)(),s=(0,z.KR)(!0),i=e=>e?.setname?(0,et.ft)(e.setname,e.cat_id):et.M2;function o(e,t){let a=e.replace(/%$/,"");return t>=0&&(a+="+"),a+=l(e,t),a}const u=(0,n.EW)((()=>{const t=[];if(e.after){const a=e.after.mainStat;let l=e.after.mainStatValue;e.before&&(a==e.before.mainStat&&e.before.mainStatValue?l-=e.before.mainStatValue:t.push({key:e.before.mainStat,value:-e.before.mainStatValue})),a&&l&&t.push({key:a,value:l})}return t})),r=(0,n.EW)((()=>{const t=[];for(const a of Ze.tB){const l=a;let n=0;if(e.after)for(const t of e.after.subStats)l==t.name&&(n+=t.value);if(e.before)for(const t of e.before.subStats)l==t.name&&(n-=t.value);0!=n&&t.push({key:l,value:n})}return t})),c=e=>e>=0?"plus":"minus",p=()=>{s.value?t.emit("apply:artifact-change",s.value,r.value):t.emit("apply:artifact-change",s.value,[])},d=()=>{t.emit("cancel:artifact-change")};return{displayName:a,displayStatValue:l,isStatsChange:s,artifactImgSrc:i,mainStatDiffList:u,subStatDiffList:r,displayStatStr:o,statValueClass:c,applyOnClick:p,cancelOnClick:d}}});const _n=(0,ne.A)(En,[["render",Sn],["__scopeId","data-v-7c9ac9da"]]);var Rn=_n,In=a(3216),On=a.n(In);const{createWorker:Nn}=On();let Xn="0123456789.%+";function wn(e){return new Promise((function(t,a){const l=new FileReader;l.onload=function(){t(l.result)},l.onerror=function(e){a(e)},l.readAsDataURL(e)}))}function An(e){return new Promise((function(t,a){const l=new Image;l.onload=function(){t(l)},l.onerror=function(e){a(e)},l.src=e.toString()}))}async function Vn(e){const t=await wn(e),a=await An(t),l=document.getElementById("artifact-stats-canvas"),n=l.getContext("2d"),s=2;l.width=a.width*s,l.height=a.height*s,n.drawImage(a,0,0,l.width,l.height);const i=n.getImageData(0,0,l.width,l.height);for(let o=0;o<i.height;o++)for(let e=0;e<i.width;e++){const t=4*o*i.width+4*e,a=(i.data[t]+i.data[t+1]+i.data[t+2])/3;i.data[t]=255-(a<64?0:i.data[t]),i.data[t+1]=255-(a<64?0:i.data[t+1]),i.data[t+2]=255-(a<64?0:i.data[t+2])}return n.putImageData(i,0,0,0,0,i.width,i.height),l}function Mn(e){console.log(e),e=e.replace(/[,\s]/g,""),e=e.replace(/[Ａ-Ｚａ-ｚ０-９]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})),e=e.replace(/[①②③④⑤⑥⑦⑧⑨]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-("①".charCodeAt(0)-"1".charCodeAt(0)))})),[["⑪","11"],["⑫","12"],["⑬","13"],["⑭","14"],["⑮","15"],["⑯","16"],["⑰","17"],["⑱","18"],["⑲","19"],["⑳","20"]].forEach((t=>{e=e.replace(new RegExp(t[0],"g"),t[1])})),console.log(e);const t={};return["HP上限","攻撃力","防御力","元素.*?知","会心率","会心ダメージ","元素チャージ効率"].forEach((a=>{let l=a;"HP上限"==a&&(l="HP"),"元素.*?知"==a&&(l="元素熟知");const n=new RegExp(a+"\\+([0-9\\.]+)"),s=n.exec(e);s?(["HP","攻撃力","防御力","元素熟知"].includes(l)?t[l]=Number(s[1].replace(".","")):t[l]=Number(s[1]),console.log(l,t[l])):t[l]=0})),t}async function Kn(e){const t=await Vn(e),a=Nn({logger:e=>console.debug(e)});await a.load(),await a.loadLanguage("jpn"),await a.initialize("jpn"),await a.setParameters({tessedit_char_whitelist:Xn,preserve_interword_spaces:"1"});const{data:{text:l}}=await a.recognize(t);await a.terminate();const n=Mn(l);return n}async function Tn(e){let t;const a=e.currentTarget,l=a.files;if(l&&l[0]){const e=l[0];e.type.match("image.*")&&(a.files=null,a.value="",t=await Kn(e))}return console.log("resizePinnedImage",t),t}["HP上限","攻撃力","防御力","元素熟知","会心率","会心ダメージ","元素チャージ効率","基本ステータス","高級ステータス","元素ステータス","スタミナ上限","与える治療効果","受ける治療効果","クールタイム短縮","シールド強化","炎元素ダメージ","水元素ダメージ","風元素ダメージ","雷元素ダメージ","草元素ダメージ","氷元素ダメージ","岩元素ダメージ","物理ダメージ","？"].forEach((e=>{e.split("").forEach((e=>{-1==Xn.indexOf(e)&&(Xn+=e)}))}));var Dn=a(2112),Wn=1,Fn=(0,n.pM)({name:"ArtifactDetailInput",props:{visible:Boolean,artifactDetailInput:{type:Object,required:!0},isSubStatOnly:Boolean,nextStatRows:Array},components:{ArtifactDetailOcrResult:sn,ArtifactItem:on.A,ArtifactChangeInput:Rn},emits:["update:artifact-detail"],setup(e,t){const{displayName:a,targetValue:l,displayStatValue:s}=(0,ae.A)(),i="artifact_list",o=(0,z.Kh)(e.artifactDetailInput),u=o.聖遺物メイン効果,r=o.聖遺物優先するサブ効果,c=o.聖遺物優先するサブ効果上昇値,p=o.聖遺物優先するサブ効果上昇回数,d=o.聖遺物ステータス,m=o.聖遺物ステータスメイン効果,k=o.聖遺物ステータスサブ効果,b=o.artifact_list,f=(0,z.Kh)(J().cloneDeep(Ze.wE)),v=(0,z.Kh)([]),y=(0,z.Kh)(J().cloneDeep(Ze.wE)),g=(0,z.KR)(!1),h=(0,z.KR)(!1),L=et.Rm,C=(0,z.KR)(et.Rm[2]),S=(0,z.KR)(!1),E=(0,z.KR)(!1),_=(0,z.KR)(!1),R=(0,z.KR)("1"),I=(0,z.KR)(1),O=(0,z.KR)(!1),N=(0,n.EW)((()=>{let e=0;for(let t=0;t<r.length;t++)r[t]&&(e+=p[t]);return Math.min(45,40+Math.floor(Math.max(0,(e-12)/5)))})),X=(0,n.EW)((()=>{if(!y.name)return!1;if(!y.rarity)return!1;if(!y.setname)return!1;if(!y.cat_id)return!1;if(!y.mainStat)return!1;if(!y.mainStatValue)return!1;for(const e of y.subStats){if(!e.name)return!1;if(!e.value)return!1}return!0})),w=(0,n.EW)((()=>{const e=Number(I.value),t=b.filter((t=>t.cat_id==e));return t})),A=(0,n.EW)((()=>{const e=w.value;return e.length>0?e[0]:void 0})),V=(e,t)=>(0,Ze.Yk)(r,e,t),M=e=>e in m?m[e]:0,K=e=>["HP","攻撃力","防御力","元素熟知"].includes(e)?1:.1,T=()=>{$(),S.value=!1},D=e=>J().isEqual(e,A.value);function W(t){let a=0;return e.nextStatRows&&e.nextStatRows.forEach((e=>{t.subStats.forEach((t=>{t.name==e[0]&&(a+=t.value*e[4]/e[1][e[2]])}))})),a}function F(){v.forEach((e=>{e.score=W(e.artifact)}))}const U=e=>{e=Number(e);const t=v.filter((t=>t.artifact.cat_id==e)),a=b.filter((t=>t.cat_id==e)),l=a.length>0?a[0]:void 0;return t.sort(((e,t)=>{if(e.artifact.setname!=t.artifact.setname){if(l){if(e.artifact.setname==l.setname)return-1;if(t.artifact.setname==l.setname)return 1;if(e.artifact.mainStat!=t.artifact.mainStat){if(e.artifact.mainStat==l.mainStat)return-1;if(t.artifact.mainStat==l.mainStat)return 1}}}else if(e.artifact.mainStat!=t.artifact.mainStat&&l){if(e.artifact.mainStat==l.mainStat)return-1;if(t.artifact.mainStat==l.mainStat)return 1}return t.score-e.score}))},x=()=>{E.value=!1,_.value=!1,S.value=!0},j=()=>{(0,Dn.BW)(y,Ze.wE),y.cat_id=Number(I.value),S.value=!1,E.value=!1,_.value=!0},H=()=>{$(),S.value=!1,_.value=!1,E.value=!0},Q=e=>{S.value=!1;const t=v.filter((t=>t.id==e));t.length>0&&((0,Dn.BW)(f,t[0].artifact),E.value=!0),document.getElementById("artifact-sub-input")?.scrollIntoView({behavior:"smooth"})},B=(e,t)=>{console.log(t),0==e&&(0,Dn.BW)(y,t)},P=()=>{_.value&&((0,Dn.BW)(f,y),E.value=!0),q()},q=()=>{_.value=!1},Y=async(e,a)=>{if(E.value=!1,e){const e=A.value?.mainStat,t=A.value?.mainStatValue,l=f?.mainStat,n=f?.mainStatValue,s=f?.rarity;e&&t&&(m[e]-=t),l&&n&&(s&&(u[Number(I.value)-1]=s+"_"+l),m[l]+=n);for(const i of a)k[i.key]+=i.value}if(f?.name){const e=b.filter((e=>e.cat_id==Number(I.value))).length;if(e>0){for(let t=0;t<b.length;t++)if(b[t].cat_id==Number(I.value)){b.splice(t,1,J().cloneDeep(f));break}}else b.push(J().cloneDeep(f))}else for(let t=0;t<b.length;t++)if(b[t].cat_id==Number(I.value)){b.splice(t,1);break}$(),Z(),(0,Qt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},G=()=>{$(),E.value=!1},$=()=>{(0,Dn.BW)(f,Ze.wE)},Z=()=>{(0,Qt.Jo)(m,u)},ee=()=>{if(o.聖遺物優先するサブ効果Disabled)return;const e=[];for(let t=0;t<o.聖遺物優先するサブ効果.length;t++)e.push(V(t));(0,Qt.om)(k,u,r,c,e,p)};Z(),ee(),(0,Qt.S_)(o);const te=async()=>{Z(),(0,Qt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},le=async(e,a)=>{Object.keys(d).filter((t=>!e||t==e)).forEach((t=>{t==e&&void 0!==a&&(k[t]=Number(a)),k[t]=d[t]-m[t],k[t]<0&&(k[t]=0,d[t]=m[t])})),(0,Qt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},ne=async()=>{(0,Qt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},se=async()=>{o.聖遺物優先するサブ効果Disabled=!1,ee(),(0,Qt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},ie=async()=>{o.聖遺物優先するサブ効果Disabled=!1,h.value=!1,C.value&&C.value.key&&(c.splice(0,c.length,...C.value.values),p.splice(0,p.length,...C.value.counts),ee(),(0,Qt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o))},oe=async()=>{o.聖遺物優先するサブ効果Disabled=!0;for(const e of Object.keys(k))k[e]=0;(0,Qt.S_)(o),await(0,n.dY)(),t.emit("update:artifact-detail",o)},ue=(0,z.KR)(!1),re=(0,z.KR)(!1),ce=(0,z.Kh)({}),pe=async e=>{ue.value=!0;const t=await Tn(e);ue.value=!1,t&&((0,Dn.BW)(ce,t),re.value=!0)},de=()=>{re.value=!1},me=()=>{if(de(),ce){o.聖遺物優先するサブ効果Disabled=!0;for(const e of Object.keys(k))k[e]=e in ce?ce[e]:0;for(const[e,t]of u.entries())t.endsWith("ダメージバフ")||"与える治療効果"==t||u.splice(e,1,"");te()}},ke=async()=>{O.value=!1;for(let e=0;e<u.length;e++)u[e]="";Z(),await oe(),b.splice(0,b.length)},be=()=>{if(i in localStorage){const e=JSON.parse(localStorage[i]),t=e.filter((e=>"setname"in e)).map((e=>({id:Wn++,artifact:e,score:0})));v.splice(0,v.length,...t),F()}};return be(),(0,n.wB)(e,(e=>{e.nextStatRows&&F()})),{displayName:a,targetValue:l,displayStatValue:s,mainstat1List:Ze.dU,mainstat2List:Ze.Ro,mainstat3List:Ze.Fv,mainstat4List:Ze.iF,mainstat5List:Ze.de,substatMin:M,substatStep:K,prioritySubstatList:Ze.ZI,prioritySubstatValueList:V,prioritySubstatCountList:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],mainstats:u,prioritySubstats:r,prioritySubstatIndices:c,prioritySubstatCounts:p,artifactStats:d,artifactStatsSub:k,upTotalCount:N,editableRef:g,gensenEnabledRef:h,gensenRef:C,gensenMasterList:L,gensenOnChange:ie,artifactStatsOnChange:le,artifactStatsSubOnChange:ne,updateMainstats:te,updatePrioritySubstats:se,isArtifactSelectListShow:S,isArtifactChangeInputShow:E,isNewArtifactInputShow:_,artifactListCat:w,artifactOwnArrCatId:U,newArtifact:y,isNewArtifactAddable:X,artifactCatTabOnChange:T,artifactSelectOnClick:x,artifactNewOnClick:j,artifactRemoveOnClick:H,artifactInputModeTab:R,artifactCatTabSelected:I,artifactBefore:A,artifactAfter:f,selectArtifact:Q,artifactSelected:D,updateNewArtifact:B,applyArtifactChange:Y,cancelArtifactChange:G,newArtifactAddOnClick:P,isNewArtifactInputShowEndProc:q,loadArtifactStatsByOcr:pe,isScanning:ue,ocrResultVisible:re,ocrResult:ce,cancelArtifactDetailOcrResult:de,acceptArtifactDetailOcrResult:me,initializeArtifactStatsSub:oe,canInitializeStats:O,initializeAll:ke}}});const Un=(0,ne.A)(Fn,[["render",$l],["__scopeId","data-v-54720362"]]);var xn=Un;const jn=["onUpdate:modelValue","onChange"],Hn=["onUpdate:modelValue","onChange"],Qn=["value"],Bn=["onUpdate:modelValue","min","max","step","onBlur"],Pn={style:{"text-align":"center"}},qn={class:"open-close"},Yn={key:0,class:"option-description"};function Gn(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.checkboxList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,onChange:a=>e.updateCondition(a,t)},null,40,jn),[[l.lH,e.conditionValues[t.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.selectList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.conditionValues[t.name]=a,onChange:a=>e.updateCondition(a,t)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:a},(0,s.v_)(e.displayOptionName(t)),9,Qn)))),128))],40,Hn),[[l.u1,e.conditionValues[t.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.numberList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,min:t.min,max:t.max,step:t.step,onBlur:a=>e.updateCondition(a,t)},null,40,Bn),[[l.Jo,e.conditionValues[t.name]]])])))),128)),(0,n.Lk)("div",Pn,[(0,n.Lk)("label",qn,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.isDisplayDescription=t)},null,512),[[l.lH,e.isDisplayDescription]]),t[1]||(t[1]=(0,n.Lk)("span",null,null,-1))])]),e.isDisplayDescription?((0,n.uX)(),(0,n.CE)("ul",Yn,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))])):(0,n.Q3)("",!0)])}var Jn=(0,n.pM)({name:"ConditionInput",props:{characterInput:{type:Object,required:!0}},emits:["update:condition"],setup(e,t){const{displayName:a,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,ae.A)(),o=["月兆","月反応ボーナス","魔導秘儀"],u=(0,z.Kh)(J().cloneDeep(Ze.yQ.checkboxList)),r=(0,z.Kh)(J().cloneDeep(Ze.yQ.selectList)),c=(0,z.Kh)(J().cloneDeep(Ze.yQ.numberList)),p=(0,z.Kh)(J().cloneDeep(Ze.yQ.conditionValues)),d=(0,z.Kh)(J().cloneDeep(Ze.yQ.conditionAdjustments)),m=(0,z.KR)(!1),k=(0,n.EW)((()=>{const e=[];for(const t of Object.keys(d)){const a=d[t];let n=l(t).replace("%","");if(null===a);else if((0,Dn.kf)(a)){if(0===a)continue;a>=0&&("別枠乗算"===t.split(".")[0]?n+="=":n+="+"),n+=s(t,a)}else a&&(n+="="+a);e.push(n)}return e})),b=(0,n.EW)((()=>(0,Ze._y)(e.characterInput))),f=e=>{const t=e.checkboxList.filter((e=>!o.includes(e.name)));J().isEqual(u,t)||u.splice(0,u.length,...t);const a=e.selectList.filter((e=>!o.includes(e.name)));J().isEqual(r,a)||r.splice(0,r.length,...a);const l=e.numberList.filter((e=>!o.includes(e.name)));J().isEqual(c,l)||c.splice(0,c.length,...l),J().isEqual(p,e.conditionValues)||(0,Dn.BW)(p,e.conditionValues),J().isEqual(d,e.conditionAdjustments)||(0,Dn.BW)(d,e.conditionAdjustments)},v=async(e,a)=>{let l;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(l=b.value.get(a.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(l=b.value.get(a.name)),l&&l.forEach((e=>{u.filter((t=>t.name==e)).length>0&&(p[e]=!1),r.filter((t=>t.name==e)).length>0&&(p[e]=0)})),await(0,n.dY)(),t.emit("update:condition",p)};return(0,n.wB)(e,(()=>{b.value})),{displayName:a,displayOptionName:i,checkboxList:u,selectList:r,numberList:c,conditionValues:p,isDisplayDescription:m,displayStatAjustmentList:k,initialize:f,updateCondition:v}}});const zn=(0,ne.A)(Jn,[["render",Gn],["__scopeId","data-v-141110bd"]]);var $n=zn;const Zn={key:0,class:"stats"},es={colspan:"3"},ts={class:"open-close"},as=["onUpdate:modelValue"],ls=["onUpdate:modelValue"],ns={class:"stat-value"},ss={class:"left"},is={colspan:"2",class:"right"},os=["disabled"],us={key:1,class:"two-table"},rs={class:"stats"},cs={colspan:"2"},ps={class:"open-close"},ds=["onUpdate:modelValue"],ms={class:"stat-value"},ks={class:"stats"},bs={colspan:"2"},fs={class:"open-close"},vs=["onUpdate:modelValue"],ys={class:"stat-value"},gs={class:"left"};function hs(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)("fieldset",null,[e.editable?((0,n.uX)(),(0,n.CE)("table",Zn,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.categoryList,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",es,[(0,n.Lk)("label",ts,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t=>e.categoryOpenClose[a]=t},null,8,as),[[l.lH,e.categoryOpenClose[a]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(a),(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(a)),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.statAdjustments[a]=t,onChange:t[0]||(t[0]=(...t)=>e.adjustmentsOnChange&&e.adjustmentsOnChange(...t))},null,40,ls),[[l.Jo,e.statAdjustments[a]]])]),(0,n.Lk)("td",ns,(0,s.v_)(e.displayStatValue(a,e.statsObj[a])),1)])))),128))],64)))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("td",ss,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.editable=t)},null,512),[[l.lH,e.editable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値入力モード")),1)])]),(0,n.Lk)("td",is,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.initializable=t)},null,512),[[l.lH,e.initializable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値0初期化")),1)]),(0,n.Lk)("button",{type:"button",disabled:!e.initializable,onClick:t[3]||(t[3]=(...t)=>e.initializeAdjustments&&e.initializeAdjustments(...t))},(0,s.v_)(e.displayName("実行")),9,os)])])])])):(0,n.Q3)("",!0),e.editable?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("table",us,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("table",rs,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.category1List,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",cs,[(0,n.Lk)("label",ps,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.categoryOpenClose[t]=a},null,8,ds),[[l.lH,e.categoryOpenClose[t]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(t),(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(t)),1),(0,n.Lk)("td",ms,(0,s.v_)(e.displayStatValue(t,e.statsObj[t])),1)])))),128))],64)))),128))])])]),(0,n.Lk)("td",null,[(0,n.Lk)("table",ks,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.category2List,(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",bs,[(0,n.Lk)("label",fs,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.categoryOpenClose[t]=a},null,8,vs),[[l.lH,e.categoryOpenClose[t]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t)),1)])])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.visibleStatList(t),(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",null,(0,s.v_)(e.displayStatAbbrev(t)),1),(0,n.Lk)("td",ys,(0,s.v_)(e.displayStatValue(t,e.statsObj[t])),1)])))),128))],64)))),128))])])])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",gs,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.editable=t)},null,512),[[l.lH,e.editable]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("補正値入力モード")),1)])])])])]))])}var Ls=(0,n.pM)({name:"StatsInput1",props:{statsInput:{type:Object,required:!0},category1List:{type:Array,required:!0},category2List:{type:Array,required:!0}},emits:["update:stat-adjustments"],setup(e,t){const{displayName:a,displayStatAbbrev:l,displayStatValue:s}=(0,ae.A)(),i=(0,z.Kh)(e.statsInput),o=(0,z.KR)(!1),u=(0,z.KR)(!1),r=e=>Ze.w_.get(e),c=i.statsObj,p=i.statAdjustments,d=[...e.category1List,...e.category2List],m=(0,z.KR)({});for(const n of d)m.value[n]=!1;const k=e=>r(e)?.filter((t=>m.value[e]||i.statsObj&&i.statsObj[t]||i.statAdjustments&&i.statAdjustments[t]))??[],b=async()=>{await(0,n.dY)(),t.emit("update:stat-adjustments",i.statAdjustments)},f=()=>{for(const e of d){const t=r(e);if(t)for(const e of t)i.statAdjustments[e]=0}b()};return f(),{displayName:a,displayStatAbbrev:l,displayStatValue:s,categoryList:d,statList:r,visibleStatList:k,statsObj:c,statAdjustments:p,categoryOpenClose:m,adjustmentsOnChange:b,editable:o,initializable:u,initializeAdjustments:f}}});const Cs=(0,ne.A)(Ls,[["render",hs],["__scopeId","data-v-1597255b"]]);var Ss=Cs;const Es={key:0,class:"next-step"},_s={key:0},Rs={class:"right"},Is=["value"],Os={class:"reaction-area"},Ns=["src","alt","onClick"],Xs={class:"tooltip"},ws={class:"next-stat"},As={key:0},Vs={class:"name"},Ms={class:"step"},Ks=["onUpdate:modelValue","onChange"],Ts=["value"],Ds={class:"count"},Ws=["onUpdate:modelValue"],Fs={class:"damage"},Us={key:1};function xs(e,t,a,i,o,u){return e.visible?((0,n.uX)(),(0,n.CE)("div",Es,[e.toggleSwitch?((0,n.uX)(),(0,n.CE)("fieldset",_s,[(0,n.Lk)("legend",{onClick:t[0]||(t[0]=t=>e.toggleSwitch=!e.toggleSwitch)},"  "+(0,s.v_)(e.displayName("NEXT STEP"))+"  ",1),(0,n.Lk)("div",Rs,[(0,n.bo)((0,n.Lk)("select",{class:"evaluation-item","onUpdate:modelValue":t[1]||(t[1]=t=>e.evaluationItem=t),onChange:t[2]||(t[2]=(...t)=>e.evaluationItemOnChange&&e.evaluationItemOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.evaluationItemList,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e},(0,s.v_)(e.replace("."," ")),9,Is)))),128))],544),[[l.u1,e.evaluationItem]]),(0,n.Lk)("div",Os,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.amplifyingReactionList,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"reaction with-tooltip",key:t},[(0,n.Lk)("img",{class:(0,s.C4)("reaction"+(e.selectedAmplifyingReaction==t?" selected":"")),src:e.reactionImgSrc(t),alt:t,onClick:a=>e.reactionImgOnClick(t)},null,10,Ns),(0,n.Lk)("div",Xs,(0,s.v_)(e.displayName(t)),1)])))),128))])]),(0,n.Lk)("table",ws,[(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.nextStatRows,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a[0]},[a[3]||a[4]?((0,n.uX)(),(0,n.CE)("tr",As,[(0,n.Lk)("th",Vs,(0,s.v_)(e.displayName(a[0])),1),(0,n.Lk)("td",Ms,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>a[2]=e,onChange:t=>e.nextStatStepOnChange(a)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a[1],((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:t},(0,s.v_)(Math.round(10*e)/10),9,Ts)))),128))],40,Ks),[[l.u1,a[2]]])]),(0,n.Lk)("td",null,(0,s.v_)(Math.round(1e3*a[4])/1e3+"%"),1),(0,n.Lk)("td",Ds,[(0,n.bo)((0,n.Lk)("input",{type:"range",min:"-3",max:"5","onUpdate:modelValue":e=>a[3]=e,onChange:t[3]||(t[3]=(...t)=>e.nextStatOnChange&&e.nextStatOnChange(...t))},null,40,Ws),[[l.Jo,a[3]]])]),(0,n.Lk)("td",null,(0,s.v_)(e.displayNextStatValue(a)),1)])):(0,n.Q3)("",!0)],64)))),128)),(0,n.Lk)("tr",null,[(0,n.Lk)("th",Fs,[(0,n.eW)((0,s.v_)(e.isStop?e.displayName("停止中"):e.displayName("稼働中"))+" ",1),(0,n.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...t)=>e.stopButtonOnClick&&e.stopButtonOnClick(...t))},(0,s.v_)(e.isStop?e.displayName("再開"):e.displayName("停止")),1)]),t[9]||(t[9]=(0,n.Lk)("td",null,null,-1)),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.resetButtonOnClick&&e.resetButtonOnClick(...t))}," Reset ")]),(0,n.Lk)("td",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=t=>e.containsDealMoreDamage=t),onChange:t[7]||(t[7]=(...t)=>e.containsDealMoreDamageOnChange&&e.containsDealMoreDamageOnChange(...t))},null,544),[[l.lH,e.containsDealMoreDamage]]),(0,n.eW)(" "+(0,s.v_)(e.displayName("与えるダメージ")),1)])]),t[10]||(t[10]=(0,n.Lk)("td",null,null,-1))])])])])):((0,n.uX)(),(0,n.CE)("div",Us,[(0,n.Lk)("label",{onClick:t[8]||(t[8]=t=>e.toggleSwitch=!e.toggleSwitch)},(0,s.v_)(e.displayName("+ NEXT STEP +")),1)]))])):(0,n.Q3)("",!0)}var js=(0,n.pM)({name:"NextStat",props:{visible:Boolean,characterInput:{type:Object,required:!0},artifactDetailInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},optionInput:{type:Object,required:!0},statsInput:{type:Object,required:!0},damageResult:{type:Object,required:!0},rotationDamageInfo:{type:Object}},emits:["update:stat-adjustments","update:next-stat-rows"],setup(e,t){const{displayName:a,displayStatValue:l}=(0,ae.A)(),s="ローテーション合計ダメージ",i=["HP%","攻撃力%","防御力%","元素熟知","会心率","会心ダメージ","元素チャージ効率","HP","攻撃力","防御力"],o=(0,z.KR)(e.visible),u=(0,z.KR)(""),r=(0,z.Kh)([]),c=(0,z.KR)(""),p="nextStepStopFlg",d=(0,z.KR)(!1),m=(0,z.KR)(!1),k=localStorage.getItem(p);k&&(d.value=JSON.parse(k));const b=(0,n.EW)((()=>{let t=[];e.rotationDamageInfo?.rotationDamages&&t.push(s);for(const a of["通常攻撃","落下攻撃","重撃","元素スキル","元素爆発","その他"]){const l=e.damageResult[a];if(Array.isArray(l))for(const e of l){if(!e)continue;if(e[0]?.endsWith("合計ダメージ"))continue;if(!e[5]?.endsWith("ダメージ"))continue;const l=a+"."+e[0];t.push(l)}}return t})),f=(0,n.EW)((()=>{let t="物理";if(e.damageResult&&u.value){const a=u.value.split(".");if(2==a.length){const l=a[0],n=a[1];if(l in e.damageResult){const a=e.damageResult[l].filter((e=>e[0]==n));if(a.length){const e=a[0];e[1]&&(t=e[1])}}}}return t})),v=(0,n.EW)((()=>{const e=[];return f.value&&f.value in et.NX&&e.push(...Object.keys(et.NX[f.value]).filter((e=>["蒸発","溶解","超激化","草激化"].includes(e)))),e})),y=e=>{const t=(0,Qt.UH)(e,f.value);return t?et.cu[t]:et.M2},g=e=>e&&e[3]?e[3]*e[1][e[2]]:0,h=e=>{let t="";const a=g(e);return a>0&&(t+="+"),t+=l(e[0],a),t};function L(){const e=[];for(const t of i)e.push([t,(0,Ze.GX)(t),2,0,0]);m.value&&e.push(["与えるダメージ",(0,Ze.GX)("攻撃力%"),2,0,0]),r.splice(0,r.length,...e)}function C(t,a){let l=0;if(t==s)e.rotationDamageInfo&&(l=(0,Qt.OY)(e.rotationDamageInfo.rotationDamages,a));else{const e=t.split("."),n=a[e[0]].filter((t=>t[0]==e[1]));n.length&&(l=(0,Qt.OD)(n[0],2,a.元素反応,c.value))}return l}function S(t,a,l){if(d.value)return;a||(a=J().cloneDeep(Ze.R7)),l||(l=J().cloneDeep(e.statsInput));let n=0;const s="HP"!=t[0]?t[0]:"HP+",i=t[1][t[2]];if(i&&e.rotationDamageInfo){const t=C(u.value,e.damageResult);s in l.statAdjustmentsEx?l.statAdjustmentsEx[s]+=i:l.statAdjustmentsEx[s]=i,(0,Qt.s2)(l,e.characterInput,e.artifactDetailInput,e.conditionInput,e.optionInput),(0,Qt.h9)(a,e.characterInput,e.conditionInput,l);const o=C(u.value,a);o&&t&&(n=o/t-1,n*=100),l.statAdjustmentsEx[s]-=i}t[4]=n}function E(){if(u.value){const t=J().cloneDeep(Ze.R7),a=J().cloneDeep(e.statsInput);for(const e of r)S(e,t,a)}r.sort(((e,t)=>t[4]-e[4])),t.emit("update:next-stat-rows",r)}function _(){if(b.value.length){let t;if(b.value.length>1&&e.characterInput?.characterMaster["NEXT STEP"]){const a=e.characterInput.characterMaster["NEXT STEP"];b.value.includes(a)?t=a:console.warn(a,b.value)}t||(t=b.value.includes(u.value)?u.value:b.value.includes(s)?s:b.value[b.value.length-1]),u.value=t}}const R=()=>{E()},I=e=>{c.value==e?c.value="":c.value=e,E()},O=e=>{S(e),r.sort(((e,t)=>t[4]-e[4]))},N=async()=>{await(0,n.dY)();const e={};r.forEach((t=>{t[3]&&(e[t[0]]=g(t))})),t.emit("update:stat-adjustments",e)},X=async()=>{L(),await N()},w=()=>{d.value=!d.value,localStorage.setItem(p,String(d.value)),d.value||E()},A=()=>{L(),E()};return(0,n.wB)([e.characterInput,e.statsInput],(()=>{E()})),(0,n.wB)([e.damageResult,e.rotationDamageInfo],(()=>{_()})),(0,n.sV)((()=>{L(),_(),E()})),{displayName:a,displayStatValue:l,toggleSwitch:o,evaluationItem:u,nextStatRows:r,selectedAmplifyingReaction:c,isStop:d,containsDealMoreDamage:m,evaluationItemList:b,amplifyingReactionList:v,reactionImgSrc:y,displayNextStatValue:h,initializeEvaluationItem:_,setupNextStatRows:E,evaluationItemOnChange:R,reactionImgOnClick:I,nextStatStepOnChange:O,nextStatOnChange:N,resetButtonOnClick:X,stopButtonOnClick:w,containsDealMoreDamageOnChange:A}}});const Hs=(0,ne.A)(js,[["render",xs],["__scopeId","data-v-ee0680f6"]]);var Qs=Hs;const Bs={key:0,class:"member-area"},Ps={class:"member"},qs=["src","alt"],Ys=["src"],Gs=["src","alt","onClick"],Js=["src"];function zs(e,t,a,l,s,i){return e.teamMembers.length?((0,n.uX)(),(0,n.CE)("div",Bs,[(0,n.Lk)("div",Ps,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(e.character),alt:e.displayName(e.character)},null,8,qs),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(e.character),alt:"vision"},null,8,Ys)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.teamMembers,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"member",key:t},[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(t),alt:e.displayName(t),onClick:a=>e.removeFromTeamOnClick(t)},null,8,Gs),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(t),alt:"vision"},null,8,Js)])))),128))])):(0,n.Q3)("",!0)}var $s=(0,n.pM)({name:"EasyTeamInput",props:{character:{type:String,required:!0},teamMembers:{type:Array,required:!0}},emits:["update:team-members"],setup(e,t){const{displayName:a,displayOptionName:l}=(0,ae.A)();function n(e){t.emit("update:team-members",e)}const s=t=>{n([...e.teamMembers,t])},i=t=>{n(e.teamMembers.filter((e=>e!=t)))},o=e=>et.Zn[e].icon_url,u=e=>et.cu[et.Zn[e].元素];return{displayName:a,displayOptionName:l,addToTeamOnClick:s,removeFromTeamOnClick:i,characterIconSrc:o,characterVisionIconSrc:u}}});const Zs=(0,ne.A)($s,[["render",zs],["__scopeId","data-v-8f0bc762"]]);var ei=Zs;const ti={class:"elemental-resonance"},ai=["onUpdate:modelValue","onChange"],li=["onChange"],ni=["disabled"],si=["value"],ii=["disabled"],oi={key:0},ui={class:"option-description"};function ri(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)("fieldset",ti,[(0,n.Lk)("p",null,(0,s.v_)(e.displayName("元素共鳴")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementalResonanceList,(a=>((0,n.uX)(),(0,n.CE)("label",{key:a.key},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.elementalResonanceChecked[a.key]=t,onChange:t=>e.onChange(a.key)},null,40,ai),[[l.lH,e.elementalResonanceChecked[a.key]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(a.名前)),1),"草元素共鳴"==a.key?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dendroOption=t),onChange:t=>e.onChange(a.key)},t[11]||(t[11]=[(0,n.Lk)("option",{value:"0"},null,-1),(0,n.Lk)("option",{value:"20"},"+20",-1),(0,n.Lk)("option",{value:"30"},"+30",-1),(0,n.Lk)("option",{value:"50"},"+50",-1)]),40,li)),[[l.u1,e.dendroOption]]):(0,n.Q3)("",!0)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.descriptionList,((t,a)=>((0,n.uX)(),(0,n.CE)("article",{key:a,class:(0,s.C4)(e.elementClass(t[0]))},(0,s.v_)(t[1]),3)))),128)),t[16]||(t[16]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("p",null,(0,s.v_)(e.displayName("月兆")),1),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.workMoonsign.nascentGleam=t),onChange:t[2]||(t[2]=t=>e.onChangeMoonsign(1))},null,544),[[l.lH,e.workMoonsign.nascentGleam]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("初照")),1)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=t=>e.workMoonsign.ascendantGleam=t),onChange:t[4]||(t[4]=t=>e.onChangeMoonsign(2))},null,544),[[l.lH,e.workMoonsign.ascendantGleam]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("満照")),1)]),t[17]||(t[17]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("label",null,[t[12]||(t[12]=(0,n.eW)((0,s.v_)("月兆キャラクター以外")+" ")),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.workMoonsign.otherCharacter=t),onChange:t[6]||(t[6]=t=>e.onChangeMoonsign(2)),disabled:!e.workMoonsign.ascendantGleam},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.moonsignOtherCharacterList,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,s.v_)(e),9,si)))),128))],40,ni),[[l.u1,e.workMoonsign.otherCharacter]])]),t[18]||(t[18]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("label",null,[t[13]||(t[13]=(0,n.eW)((0,s.v_)("月兆キャラクター以外による月反応ダメージ +")+" ")),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=t=>e.workMoonsign.lunarDmgBonus=t),min:"0",max:"36",onChange:t[8]||(t[8]=t=>e.onChangeMoonsign(2)),disabled:!e.workMoonsign.ascendantGleam||null!==e.workMoonsign.otherCharacter&&e.workMoonsign.otherCharacter.length>0},null,40,ii),[[l.Jo,e.workMoonsign.lunarDmgBonus]])]),t[19]||(t[19]=(0,n.Lk)("br",null,null,-1)),e.workMoonsign.ascendantGleam?((0,n.uX)(),(0,n.CE)("span",oi,t[14]||(t[14]=[(0,n.Fv)(' 月反応ダメージ最大36%アップ<br data-v-dbf60574><span class="pyro" data-v-dbf60574>炎元素</span>、<span class="electro" data-v-dbf60574>雷元素</span>、<span class="cryo" data-v-dbf60574>氷元素</span>:攻撃力4000まで<br data-v-dbf60574><span class="hydro" data-v-dbf60574>水元素</span>:HP上限60000まで<br data-v-dbf60574><span class="geo" data-v-dbf60574>岩元素</span>:防御力3600まで<br data-v-dbf60574><span class="anemo" data-v-dbf60574>風元素</span>、<span class="dendro" data-v-dbf60574>草元素</span>:元素熟知1600まで ',19)]))):(0,n.Q3)("",!0),t[20]||(t[20]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("p",null,(0,s.v_)(e.displayName("魔導")),1),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=t=>e.workHexerei.hexerei=t),onChange:t[10]||(t[10]=t=>e.onChangeHexerei())},null,544),[[l.lH,e.workHexerei.hexerei]]),t[15]||(t[15]=(0,n.Lk)("span",null,"魔導秘儀",-1))]),t[21]||(t[21]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",ui,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))])])}a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var ci=(0,n.pM)({name:"ElementalResonanceInput",props:{optionInput:{type:Object,required:!0},character:{type:String,required:!0},teamMembers:{type:Array,required:!0}},emits:["update:elemental-resonance"],setup(e,t){const{displayName:a,displayStatName:l,displayStatValue:s}=(0,ae.A)(),i=et.Zs,o=(0,Ze.Xs)(),u=(0,z.Kh)({});i.forEach((e=>{u[e.key]=!1}));const r=(0,z.KR)(0),c=(0,z.Kh)({}),p=(0,z.Kh)({}),d=(0,z.Kh)({}),m=(0,n.EW)((()=>{const t=[""];if(p?.moonsignCharacters){const a=Array.from(new Set([...e.teamMembers,e.character]));t.push(...a.filter((e=>!p.moonsignCharacters.includes(e))))}return t})),k=(0,n.EW)((()=>{const t=[],a=e.optionInput?.elementalResonance?.conditionAdjustments;if(a)for(const e of Object.keys(a)){const n=a[e];let i=l(e).replace("%","");if(null===n);else if((0,Dn.kf)(n)){if(0===n)continue;n>=0&&("別枠乗算"===e.split(".")[0]?i+="=":i+="+"),i+=s(e,n)}else n&&(i+="="+n);t.push(i)}return t})),b=(0,n.EW)((()=>{const e=[];for(const t of Object.keys(u).filter((e=>u[e])))e.push([t,et.u[t].説明]);return e})),f=e=>{let t="";return e&&(t=et.KM[e.substring(0,1)]),t},v=async(e=!1)=>{await(0,n.dY)(),o.elementalResonance.conditionValues=c,o.moonsign=p,o.hexerei=d,t.emit("update:elemental-resonance",o,e)},y=async e=>{if(e&&u[e])if("元素共鳴なし"==e)for(const t of Object.keys(u).filter((e=>"元素共鳴なし"!=e)))u[t]=!1;else Object.keys(u).filter((e=>"元素共鳴なし"!=e&&u[e])).length>2&&(u[e]=!1),u["元素共鳴なし"]=!1;await(0,n.dY)(),Object.keys(u).forEach((e=>{c[e]=u[e]})),r.value?c["dendroOption"]=r.value:c["dendroOption"]=0,v()},g=async e=>{1==e?p.nascentGleam||(p.ascendantGleam=!1):2==e&&p.ascendantGleam&&(p.nascentGleam=!0),await(0,n.dY)(),v()},h=async()=>{await(0,n.dY)(),v()},L=e=>{(0,Dn.BW)(c,e.elementalResonance.conditionValues),(0,Dn.BW)(p,e.moonsign),(0,Dn.BW)(d,e.hexerei),Object.keys(u).forEach((e=>{u[e]=e in c&&Boolean(c[e])})),"dendroOption"in c&&(r.value=Number(c["dendroOption"])),v(!0)};return(0,n.sV)((()=>{(0,Dn.BW)(c,e.optionInput.elementalResonance.conditionValues),(0,Dn.BW)(p,e.optionInput.moonsign),(0,Dn.BW)(d,e.optionInput.hexerei),v()})),(0,n.wB)(e,(()=>{k.value})),{displayName:a,elementalResonanceList:i,elementalResonanceChecked:u,dendroOption:r,workMoonsign:p,moonsignOtherCharacterList:m,workHexerei:d,displayStatAjustmentList:k,descriptionList:b,elementClass:f,onChange:y,onChangeMoonsign:g,onChangeHexerei:h,initializeValues:L}}});const pi=(0,ne.A)(ci,[["render",ri],["__scopeId","data-v-dbf60574"]]);var di=pi;const mi={key:0},ki={class:"team-option"},bi={class:"select-list"},fi=["onUpdate:modelValue","onChange"],vi=["src","alt"],yi={key:0,class:"supporter"},gi={class:"left"},hi=["id","onUpdate:modelValue"],Li=["for"],Ci={class:"character"},Si=["src","alt"],Ei=["src"],_i={class:"tooltip"},Ri=["onClick"],Ii=["disabled","onClick"],Oi={key:0,class:"builddata-selector"},Ni=["onUpdate:modelValue"],Xi=["value"],wi={class:"equipment"},Ai={class:"with-tooltip"},Vi=["src"],Mi={class:"tooltip"},Ki={class:"with-tooltip"},Ti=["src"],Di={class:"tooltip"},Wi={class:"with-tooltip"},Fi=["src"],Ui={class:"tooltip"},xi=["onUpdate:modelValue","disabled","onChange"],ji=["onUpdate:modelValue","disabled","onChange"],Hi=["value"],Qi=["onUpdate:modelValue","min","max","step","disabled","onBlur"],Bi=["id","onUpdate:modelValue"],Pi=["for"],qi={class:"character"},Yi=["src","alt"],Gi=["src"],Ji={class:"tooltip"},zi=["onClick"],$i=["disabled","onClick"],Zi={class:"option-description"};function eo(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)("div",mi,[(0,n.Lk)("fieldset",ki,[(0,n.Lk)("legend",{onClick:t[0]||(t[0]=t=>e.toggleSwitch=!e.toggleSwitch)},"  "+(0,s.v_)(e.displayName("サポーター"))+"  ",1),(0,n.Lk)("div",null,[(0,n.Lk)("ul",bi,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.elementList,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t},[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.elementCheckList[t]=a,onChange:a=>e.checkListOnChange(t,e.elementCheckList)},null,40,fi),[[l.lH,e.elementCheckList[t]]]),(0,n.Lk)("img",{class:"filter",src:e.elementSrc(t),alt:t},null,8,vi)])])))),128))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.SUPPORTER_KEY_LIST,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[e.supporterOpenClose[a]?(0,n.bo)(((0,n.uX)(),(0,n.CE)("fieldset",yi,[(0,n.Lk)("div",gi,[(0,n.Lk)("div",{class:(0,s.C4)("supporter"+e.supporterOptionSelectedClass(a))},[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"supporter-"+a,type:"checkbox","onUpdate:modelValue":t=>e.supporterOpenClose[a]=t},null,8,hi),[[l.lH,e.supporterOpenClose[a]]]),(0,n.Lk)("label",{class:"fold with-tooltip",for:"supporter-"+a},[(0,n.Lk)("div",Ci,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(a),alt:e.displayName(a)},null,8,Si),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(a),alt:"vision"},null,8,Ei)]),(0,n.Lk)("span",_i,(0,s.v_)(e.displayName(a)),1)],8,Li),e.teamMembers.includes(a)?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:t=>e.removeFromTeamOnClick(a)},t[5]||(t[5]=[(0,n.Lk)("span",{class:"material-symbols-outlined remove"}," person_remove ",-1)]),8,Ri)):((0,n.uX)(),(0,n.CE)("button",{key:1,type:"button",disabled:e.teamMembers.length>=3,onClick:t=>e.addToTeamOnClick(a)},t[6]||(t[6]=[(0,n.Lk)("span",{class:"material-symbols-outlined add"}," person_add ",-1)]),8,Ii))],2),e.buildnameList(a).length?((0,n.uX)(),(0,n.CE)("div",Oi,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.selectedBuildname[a]=t,onChange:t[1]||(t[1]=(...t)=>e.buildnameSelectionOnChange&&e.buildnameSelectionOnChange(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.buildnameList(a),(e=>((0,n.uX)(),(0,n.CE)("option",{value:e,key:e},(0,s.v_)(e),9,Xi)))),128))],40,Ni),[[l.u1,e.selectedBuildname[a]]])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",wi,[(0,n.Lk)("div",Ai,[(0,n.Lk)("img",{src:e.weaponIconSrc(a),alt:"weapon"},null,8,Vi),(0,n.Lk)("span",Mi,(0,s.v_)(e.weaponName(a)),1)]),(0,n.Lk)("div",Ki,[(0,n.Lk)("img",{src:e.artifactSetIconSrc(a,0),alt:"artifact set"},null,8,Ti),(0,n.Lk)("span",Di,(0,s.v_)(e.artifactSetName(a,0)),1)]),(0,n.Lk)("div",Wi,[(0,n.Lk)("img",{src:e.artifactSetIconSrc(a,1),alt:"artifact set"},null,8,Fi),(0,n.Lk)("span",Ui,(0,s.v_)(e.artifactSetName(a,1)),1)])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterCheckboxList(a),(t=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:t.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,disabled:e.conditionDisabled(t),onChange:a=>e.valueOnChange(a,t)},null,40,xi),[[l.lH,e.conditionValues[t.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.displayName)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterSelectList(a),(t=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.displayName)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.conditionValues[t.name]=a,disabled:e.conditionDisabled(t),onChange:a=>e.valueOnChange(a,t)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:t},(0,s.v_)(e.displayOptionName(t)),9,Hi)))),128))],40,ji),[[l.u1,e.conditionValues[t.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.supporterNumberList(a),(t=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.displayName)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,min:t.min,max:t.max,step:t.step,disabled:e.conditionDisabled(t),onBlur:a=>e.valueOnChange(a,t)},null,40,Qi),[[l.Jo,e.conditionValues[t.name]]])])))),128))])],512)),[[l.aG,e.supporterVisible(a)]]):(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,s.C4)("supporter-else"+e.elementBgClass(a)+e.supporterOptionSelectedClass(a))},[(0,n.bo)((0,n.Lk)("input",{class:"hidden",id:"supporter-else-"+a,type:"checkbox","onUpdate:modelValue":t=>e.supporterOpenClose[a]=t},null,8,Bi),[[l.lH,e.supporterOpenClose[a]]]),(0,n.Lk)("label",{class:"fold with-tooltip",for:"supporter-else-"+a},[(0,n.Lk)("div",qi,[(0,n.Lk)("img",{class:"character",src:e.characterIconSrc(a),alt:e.displayName(a)},null,8,Yi),(0,n.Lk)("img",{class:"vision",src:e.characterVisionIconSrc(a),alt:"vision"},null,8,Gi)]),(0,n.Lk)("span",Ji,(0,s.v_)(e.displayName(a)),1)],8,Pi),e.teamMembers.includes(a)?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",onClick:t=>e.removeFromTeamOnClick(a)},t[7]||(t[7]=[(0,n.Lk)("span",{class:"material-symbols-outlined remove"}," person_remove ",-1)]),8,zi)):((0,n.uX)(),(0,n.CE)("button",{key:1,type:"button",disabled:e.teamMembers.length>=3,onClick:t=>e.addToTeamOnClick(a)},t[8]||(t[8]=[(0,n.Lk)("span",{class:"material-symbols-outlined add"}," person_add ",-1)]),8,$i))],2)),[[l.aG,e.supporterVisible(a)]])],64)))),128)),t[9]||(t[9]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",Zi,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))]),(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName("すべて閉じる"))+" ",1),(0,n.Lk)("button",{class:"execute",type:"button",onClick:t[2]||(t[2]=(...t)=>e.closeAllSupporters&&e.closeAllSupporters(...t))},(0,s.v_)(e.displayName("実行")),1)]),(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName("すべてクリア"))+" ",1),(0,n.Lk)("button",{class:"execute",type:"button",onClick:t[3]||(t[3]=(...t)=>e.clearAllSupporterOptions&&e.clearAllSupporterOptions(...t))},(0,s.v_)(e.displayName("実行")),1)])]),t[10]||(t[10]=(0,n.Lk)("p",{class:"notice"},[(0,n.eW)(" キャラクターの天賦レベルやステータスによって効果量が変動する種類のオプションはデフォルト名称の構成保存データが存在する場合に選択可能になります。 "),(0,n.Lk)("br"),(0,n.eW)(" 構成保存データのデフォルト名称：あなたの{キャラクターの名前} ")],-1))])}var to=(0,n.pM)({name:"TeamOptionInput",props:{visible:Boolean,character:{type:String,required:!0},teamMembers:{type:Array,required:!0},conditionInput:{type:Object,required:!0}},emits:["update:team-option","update:buildname-selection","update:team-members"],setup(e,t){const{displayName:a,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,ae.A)(),o=(0,z.KR)(e.visible),u=Object.keys(et.Zn);u.sort(((e,t)=>et.gN.indexOf(et.Zn[e].元素)-et.gN.indexOf(et.Zn[t].元素)));const r=(0,z.Kh)({});for(const n of u)r[n]=!1;const c=(0,z.Kh)({}),p=(0,z.Kh)({}),d=(0,z.Kh)([]),m=(0,z.Kh)({}),k=(0,z.Kh)({}),b=(0,n.EW)((()=>e.conditionInput.optionDetails1)),f=(0,n.EW)((()=>e.conditionInput.optionDetails2)),v=(0,n.EW)((()=>e.conditionInput.conditionMap)),y=(0,n.EW)((()=>e.conditionInput.exclusionMap)),g=(0,n.EW)((()=>e.conditionInput.checkboxList)),h=(0,n.EW)((()=>e.conditionInput.selectList)),L=(0,n.EW)((()=>e.conditionInput.numberList)),C=Object.keys(et.cu),S=e=>et.cu[e],E=(0,z.Kh)({});for(let n of C)E[n]=!1;const _=function(e,t){console.log("checkListOnChange",e,t)},R=e=>g.value.filter((t=>t.name.startsWith(e+"*"))),I=e=>h.value.filter((t=>t.name.startsWith(e+"*"))),O=e=>L.value.filter((t=>t.name.startsWith(e+"*"))),N=t=>t!=e.character&&(0==Object.keys(E).filter((e=>E[e])).length||E[et.Zn[t].元素]),X=e=>R(e).filter((e=>k[e.name])).length>0||I(e).filter((e=>!e.required&&k[e.name])).length>0?" selected":"",w=e=>" "+et.or[et.Zn[e].元素],A=e=>et.Zn[e].icon_url,V=e=>et.cu[et.Zn[e].元素],M=e=>{const t=m[e];return t?.characterInput?.weaponMaster?.icon_url??et.M2},K=e=>{const t=m[e];return t?.characterInput?.weapon??""},T=(e,t)=>{const a=m[e]?.characterInput?.artifactSetMasters;return J().isArray(a)?a[t].icon_url?.replace(/\.png$/,"/flower_of_life.png")??et.M2:et.M2},D=(e,t)=>{const a=m[e]?.characterInput?.artifactSetMasters;return J().isArray(a)?a[t].key??"":""};function W(e,t){const a=(0,Ze.F0)(e);return t==a?(0,Ze.no)(e):t.replace(new RegExp("^"+a+"_"),"")}const F=e=>{const t=new RegExp("^構成_"+e.replace("(","\\(").replace(")","\\)")+"(_|$)"),a=Object.keys(localStorage).filter((e=>t.test(e))),l=a.map((t=>W(e,t))),n=(0,Ze.no)(e),s=l.filter((e=>e!=n)).sort();return l.includes(n)&&s.unshift(n),s},U=e=>F(e).length>0,x=e=>{const t=e.name.split("*")[0];if(0===F(t).length){for(const t of b.value)if(J().isString(t.条件)&&t.条件.startsWith(e.name)&&(t.数値?.includes("$")||t.上限?.includes("$")))return!0;for(const t of f.value)if(J().isString(t.条件)&&t.条件.startsWith(e.name)&&(t.数値?.includes("$")||t.上限?.includes("$")))return!0}return!1},j=(0,n.EW)((()=>{const t=[];for(const a of Object.keys(e.conditionInput.conditionAdjustments)){let n=l(a).replace("%","");const i=e.conditionInput.conditionAdjustments[a];a.endsWith("元素付与")||null===i||((0,Dn.kf)(i)?(i>=0&&(n+=["別枠乗算"].includes(a.split(".")[0])?"=":"+"),n+=s(a,i)):i&&(n+="="+i)),t.push(n)}return t}));u.forEach((e=>{c[e]=!1;const t=F(e);t.length>0&&(p[e]=t[0])}));const H=async()=>{await(0,n.dY)(),t.emit("update:team-option",k)},Q=async(e,t)=>{let a;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(a=y.value.get(t.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(a=y.value.get(t.name)),a&&a.forEach((e=>{g.value.filter((t=>t.name==e)).length>0&&(k[e]=!1),h.value.filter((t=>t.name==e)).length>0&&(k[e]=0)})),H()},B=()=>{t.emit("update:buildname-selection",p)};function P(e){t.emit("update:team-members",e)}const q=t=>{P([...e.teamMembers,t])},Y=t=>{P(e.teamMembers.filter((e=>e!=t)))},G=()=>{for(const e of Object.keys(r))r[e]=!1},$=()=>{for(const e of g.value)k[e.name]=!1;for(const e of h.value)k[e.name]=0;for(const e of L.value)k[e.name]=e.initial;H()};function Z(){v.value.forEach(((e,t)=>{null===e?t in k||(k[t]=!1):J().isArray(e)?t in k||(k[t]=0):J().isPlainObject(e)&&(t in k||(k[t]=e.initial))}))}const ee=e=>{for(const t of u)F(t).length?p[t]||(p[t]=F(t)[0]):p[t]=void 0;Object.keys(e).forEach((t=>{J().isEqual(m[t],e[t])||(m[t]=e[t])})),Z(),H()},te=e=>{(0,Dn.BW)(k,e.conditionValues),Z(),H()};return(0,n.sV)((()=>{J().isEqual(d,e.teamMembers)&&d.splice(0,d.length,...e.teamMembers),(0,Dn.BW)(k,e.conditionInput.conditionValues),Z(),H(),B()})),(0,n.wB)(e,(()=>{J().isEqual(d,e.teamMembers)&&d.splice(0,d.length,...e.teamMembers),Z()})),{displayName:a,displayOptionName:i,toggleSwitch:o,SUPPORTER_KEY_LIST:u,supporterCheckboxList:R,supporterSelectList:I,supporterNumberList:O,conditionValues:k,supporterVisible:N,supporterOptionSelectedClass:X,conditionDisabled:x,supporterOpenClose:r,closeAllSupporters:G,clearAllSupporterOptions:$,builddataSelectable:U,builddataSelectorVisible:c,buildnameList:F,selectedBuildname:p,elementList:C,elementSrc:S,elementCheckList:E,checkListOnChange:_,elementBgClass:w,characterIconSrc:A,characterVisionIconSrc:V,weaponIconSrc:M,weaponName:K,artifactSetIconSrc:T,artifactSetName:D,displayStatAjustmentList:j,valueOnChange:Q,buildnameSelectionOnChange:B,addToTeamOnClick:q,removeFromTeamOnClick:Y,initializeSupporters:ee,initializeValues:te}}});const ao=(0,ne.A)(to,[["render",eo],["__scopeId","data-v-4788d4db"]]);var lo=ao;const no=["onUpdate:modelValue","value","onChange"],so=["onUpdate:modelValue","onChange"],io=["value"],oo=["onUpdate:modelValue","min","max","step","onBlur"],uo={class:"option-description"};function ro(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.checkboxList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,value:t,onChange:a=>e.valueOnChange(a,t)},null,40,no),[[l.lH,e.conditionValues[t.name]]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1)])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.selectList,(t=>((0,n.uX)(),(0,n.CE)("label",{key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a=>e.conditionValues[t.name]=a,onChange:a=>e.valueOnChange(a,t)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{value:a,key:t},(0,s.v_)(e.displayOptionName(t)),9,io)))),128))],40,so),[[l.u1,e.conditionValues[t.name]]])])))),128)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.numberList,(t=>((0,n.uX)(),(0,n.CE)("label",{class:"condition",key:t.name},[(0,n.Lk)("span",null,(0,s.v_)(e.displayName(t.name)),1),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.conditionValues[t.name]=a,min:t.min,max:t.max,step:t.step,onBlur:a=>e.valueOnChange(a,t)},null,40,oo),[[l.Jo,e.conditionValues[t.name]]])])))),128)),t[0]||(t[0]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",uo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.displayStatAjustmentList,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,s.v_)(e),1)))),128))])])}var co=(0,n.pM)({name:"MiscOptionInput",props:{conditionInput:{type:Object,required:!0}},emits:["update:misc-option"],setup(e,t){const{displayName:a,displayStatName:l,displayStatValue:s,displayOptionName:i}=(0,ae.A)(),o=(0,z.Kh)({}),u=(0,n.EW)((()=>e.conditionInput.conditionMap)),r=(0,n.EW)((()=>e.conditionInput.exclusionMap)),c=(0,n.EW)((()=>e.conditionInput.checkboxList)),p=(0,n.EW)((()=>e.conditionInput.selectList)),d=(0,n.EW)((()=>e.conditionInput.numberList)),m=(0,n.EW)((()=>{const t=[];for(const a of Object.keys(e.conditionInput.conditionAdjustments)){let n=l(a).replace("%","");const i=e.conditionInput.conditionAdjustments[a];null!==i&&((0,Dn.kf)(i)?(i>=0&&(n+=["別枠乗算"].includes(a.split(".")[0])?"=":"+"),n+=s(a,i)):i&&(n+="="+i)),t.push(n)}return t})),k=async()=>{await(0,n.dY)(),t.emit("update:misc-option",o)},b=async(e,t)=>{let a;e.currentTarget instanceof HTMLInputElement?e.currentTarget.checked&&(a=r.value.get(t.name)):e.currentTarget instanceof HTMLSelectElement&&e.currentTarget.value&&(a=r.value.get(t.name)),a&&a.forEach((e=>{c.value.filter((t=>t.name==e)).length>0&&(o[e]=!1),p.value.filter((t=>t.name==e)).length>0&&(o[e]=0)})),k()},f=e=>{u.value.forEach(((t,a)=>{void 0!==e.conditionValues[a]?o[a]=e.conditionValues[a]:null===t?o[a]=!1:J().isArray(t)?o[a]=0:J().isPlainObject(t)?o[a]=t.initial:o[a]=0})),k()};return(0,n.sV)((()=>{f(e.conditionInput)})),{displayName:a,displayOptionName:i,checkboxList:c,selectList:p,numberList:d,conditionValues:o,displayStatAjustmentList:m,valueOnChange:b,initializeValues:f}}});const po=(0,ne.A)(co,[["render",ro],["__scopeId","data-v-835a4e2c"]]);var mo=po;const ko={class:"elemental-reaction"},bo={for:"増幅反応-なし"},fo={key:0},vo={for:"増幅反応-蒸発_炎",class:"pyro"},yo={key:0,class:"savepoint"},go={key:1},ho={for:"増幅反応-蒸発_水",class:"hydro"},Lo={key:0,class:"savepoint"},Co={key:2},So={for:"増幅反応-溶解_氷",class:"cryo"},Eo={key:0,class:"savepoint"},_o={key:3},Ro={for:"増幅反応-溶解_炎",class:"pyro"},Io={key:0,class:"savepoint"},Oo={key:4},No={for:"増幅反応-超激化"},Xo={key:0,class:"savepoint"},wo={key:5},Ao={for:"増幅反応-草激化"},Vo={key:0,class:"savepoint"},Mo={key:6},Ko={class:"pyro"},To={key:0,class:"savepoint"},Do={key:7},Wo={class:"electro"},Fo={key:0,class:"savepoint"},Uo={key:8},xo={class:"cryo"},jo={key:0,class:"savepoint"},Ho={key:9},Qo={key:0},Bo={key:0,class:"savepoint"},Po={key:10},qo={class:"pyro"},Yo={key:0,class:"savepoint"},Go={key:11},Jo={class:"dendro"},zo={key:0,class:"savepoint"},$o={key:12},Zo={class:"dendro"},eu={key:0,class:"savepoint"},tu={key:13},au={class:"dendro"},lu={key:0,class:"savepoint"},nu={key:14},su={class:"cryo"},iu={key:0,class:"savepoint"},ou={key:15,class:"with-tooltip"},uu={class:"electro lunar"},ru={key:0,class:"savepoint"},cu={key:0,class:"tooltip"},pu={key:16,class:"with-tooltip"},du={class:"geo lunar"},mu={key:0,class:"savepoint"},ku={key:0,class:"tooltip"},bu={key:0,class:"result v-style"},fu=["onClick"],vu=["rowspan"],yu=["innerHTML"],gu={key:0,class:"savepoint"},hu={key:0,class:"savepoint"},Lu={key:0,class:"savepoint"},Cu={key:1,class:"result h-style"},Su=["onClick"],Eu=["colspan"],_u={class:"result damage-result"},Ru={key:0},Iu={class:"notes"},Ou={class:"right"};function Nu(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",ko,[(0,n.Lk)("div",null,[(0,n.Lk)("input",{id:"増幅反応-なし",type:"radio",value:"なし",name:"増幅反応-name",onChange:t[0]||(t[0]=t=>e.増幅反応="なし"),checked:""},null,32),(0,n.Lk)("label",bo,(0,s.v_)(e.displayName("反応なし")),1)]),e.damageResult.元素反応.蒸発倍率_炎?((0,n.uX)(),(0,n.CE)("div",fo,[(0,n.Lk)("input",{id:"増幅反応-蒸発_炎",type:"radio",value:"蒸発_炎",name:"増幅反応-name",onChange:t[1]||(t[1]=t=>e.増幅反応="蒸発_炎")},null,32),(0,n.Lk)("label",vo,[(0,n.eW)((0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.蒸発倍率_炎)/100),1),e.copiedDamageResult?.元素反応?.蒸発倍率_炎?((0,n.uX)(),(0,n.CE)("span",yo,[t[10]||(t[10]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.蒸発倍率_炎)/100),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.蒸発倍率_水?((0,n.uX)(),(0,n.CE)("div",go,[(0,n.Lk)("input",{id:"増幅反応-蒸発_水",type:"radio",value:"蒸発_水",name:"増幅反応-name",onChange:t[2]||(t[2]=t=>e.増幅反応="蒸発_水")},null,32),(0,n.Lk)("label",ho,[(0,n.eW)((0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.蒸発倍率_水)/100),1),e.copiedDamageResult?.元素反応?.蒸発倍率_水?((0,n.uX)(),(0,n.CE)("span",Lo,[t[11]||(t[11]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("蒸発"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.蒸発倍率_水)/100),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.溶解倍率_氷?((0,n.uX)(),(0,n.CE)("div",Co,[(0,n.Lk)("input",{id:"増幅反応-溶解_氷",type:"radio",value:"溶解_氷",name:"増幅反応-name",onChange:t[3]||(t[3]=t=>e.増幅反応="溶解_氷")},null,32),(0,n.Lk)("label",So,[(0,n.eW)((0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.溶解倍率_氷)/100),1),e.copiedDamageResult?.元素反応?.溶解倍率_氷?((0,n.uX)(),(0,n.CE)("span",Eo,[t[12]||(t[12]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.溶解倍率_氷)/100),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.溶解倍率_炎?((0,n.uX)(),(0,n.CE)("div",_o,[(0,n.Lk)("input",{id:"増幅反応-溶解_炎",type:"radio",value:"溶解_炎",name:"増幅反応-name",onChange:t[4]||(t[4]=t=>e.増幅反応="溶解_炎")},null,32),(0,n.Lk)("label",Ro,[(0,n.eW)((0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.damageResult.元素反応.溶解倍率_炎)/100),1),e.copiedDamageResult?.元素反応?.溶解倍率_炎?((0,n.uX)(),(0,n.CE)("span",Io,[t[13]||(t[13]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("溶解"))+"×",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(100*e.copiedDamageResult.元素反応.溶解倍率_炎)/100),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.超激化反応ダメージ?((0,n.uX)(),(0,n.CE)("div",Oo,[(0,n.Lk)("input",{id:"増幅反応-超激化",type:"radio",value:"超激化",name:"増幅反応-name",onChange:t[5]||(t[5]=t=>e.増幅反応="超激化")},null,32),(0,n.Lk)("label",No,[(0,n.eW)((0,s.v_)(e.displayName("超激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.超激化反応ダメージ)),1),e.copiedDamageResult?.元素反応?.超激化反応ダメージ?((0,n.uX)(),(0,n.CE)("span",Xo,[t[14]||(t[14]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超激化反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.草激化反応ダメージ?((0,n.uX)(),(0,n.CE)("div",wo,[(0,n.Lk)("input",{id:"増幅反応-草激化",type:"radio",value:"草激化",name:"増幅反応-name",onChange:t[6]||(t[6]=t=>e.増幅反応="草激化")},null,32),(0,n.Lk)("label",Ao,[(0,n.eW)((0,s.v_)(e.displayName("草激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.草激化反応ダメージ)),1),e.copiedDamageResult?.元素反応?.草激化反応ダメージ?((0,n.uX)(),(0,n.CE)("span",Vo,[t[15]||(t[15]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("草激化"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.草激化反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.過負荷反応ダメージ?((0,n.uX)(),(0,n.CE)("div",Mo,[(0,n.Lk)("label",Ko,[(0,n.eW)((0,s.v_)(e.displayName("過負荷"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.過負荷反応ダメージ)),1),e.copiedDamageResult?.元素反応?.過負荷反応ダメージ?((0,n.uX)(),(0,n.CE)("span",To,[t[16]||(t[16]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("過負荷"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.過負荷反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.感電反応ダメージ?((0,n.uX)(),(0,n.CE)("div",Do,[(0,n.Lk)("label",Wo,[(0,n.eW)((0,s.v_)(e.displayName("感電"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.感電反応ダメージ)),1),e.copiedDamageResult?.元素反応?.感電反応ダメージ?((0,n.uX)(),(0,n.CE)("span",Fo,[t[17]||(t[17]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("感電"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.感電反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.超電導反応ダメージ?((0,n.uX)(),(0,n.CE)("div",Uo,[(0,n.Lk)("label",xo,[(0,n.eW)((0,s.v_)(e.displayName("超電導"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.超電導反応ダメージ)),1),e.copiedDamageResult?.元素反応?.超電導反応ダメージ?((0,n.uX)(),(0,n.CE)("span",jo,[t[18]||(t[18]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超電導"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超電導反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.拡散反応ダメージ?((0,n.uX)(),(0,n.CE)("div",Ho,[(0,n.Lk)("label",{class:(0,s.C4)(e.elementClass(e.damageResult.元素反応.拡散元素))},[(0,n.eW)((0,s.v_)(e.displayName("拡散"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.swirlDmg)),1)],2),e.damageResult.元素反応.結晶吸収量?((0,n.uX)(),(0,n.CE)("label",Qo,[(0,n.eW)((0,s.v_)(e.displayName("結晶"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.damageResult.元素反応.結晶吸収量)),1),e.copiedDamageResult?.元素反応?.結晶吸収量?((0,n.uX)(),(0,n.CE)("span",Bo,[t[19]||(t[19]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("結晶"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.結晶吸収量)),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.燃焼反応ダメージ?((0,n.uX)(),(0,n.CE)("div",Po,[(0,n.Lk)("label",qo,[(0,n.eW)((0,s.v_)(e.displayName("燃焼"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("燃焼反応ダメージ"))),1),e.copiedDamageResult?.元素反応?.燃焼反応ダメージ?((0,n.uX)(),(0,n.CE)("span",Yo,[t[20]||(t[20]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("燃焼"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.燃焼反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.開花反応ダメージ?((0,n.uX)(),(0,n.CE)("div",Go,[(0,n.Lk)("label",Jo,[(0,n.eW)((0,s.v_)(e.displayName("開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("開花反応ダメージ"))),1),e.copiedDamageResult?.元素反応?.開花反応ダメージ?((0,n.uX)(),(0,n.CE)("span",zo,[t[21]||(t[21]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.開花反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.烈開花反応ダメージ?((0,n.uX)(),(0,n.CE)("div",$o,[(0,n.Lk)("label",Zo,[(0,n.eW)((0,s.v_)(e.displayName("烈開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("烈開花反応ダメージ"))),1),e.copiedDamageResult?.元素反応?.烈開花反応ダメージ?((0,n.uX)(),(0,n.CE)("span",eu,[t[22]||(t[22]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("烈開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.烈開花反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.超開花反応ダメージ?((0,n.uX)(),(0,n.CE)("div",tu,[(0,n.Lk)("label",au,[(0,n.eW)((0,s.v_)(e.displayName("超開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("超開花反応ダメージ"))),1),e.copiedDamageResult?.元素反応?.超開花反応ダメージ?((0,n.uX)(),(0,n.CE)("span",lu,[t[23]||(t[23]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("超開花"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.超開花反応ダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.氷砕きダメージ?((0,n.uX)(),(0,n.CE)("div",nu,[(0,n.Lk)("label",su,[(0,n.eW)((0,s.v_)(e.displayName("氷砕き"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.reactionDmg("氷砕きダメージ"))),1),e.copiedDamageResult?.元素反応?.氷砕きダメージ?((0,n.uX)(),(0,n.CE)("span",iu,[t[24]||(t[24]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("氷砕き"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedDamageResult.元素反応.氷砕きダメージ)),1)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),e.damageResult.元素反応.月感電反応ダメージ?((0,n.uX)(),(0,n.CE)("div",ou,[(0,n.Lk)("label",uu,[(0,n.eW)((0,s.v_)(e.displayName("月感電"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.lunarReactionDmg("月感電反応ダメージ"))),1),e.copiedDamageResult?.元素反応?.月感電反応ダメージ?((0,n.uX)(),(0,n.CE)("span",ru,[t[25]||(t[25]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("月感電"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedLunarReactionDmg("月感電反応ダメージ"))),1)])):(0,n.Q3)("",!0)]),e.damageResult.元素反応.月感電反応ダメージ会心率?((0,n.uX)(),(0,n.CE)("div",cu,[(0,n.Lk)("table",null,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("期待値")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("非会心")),1)])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.damageResult.元素反応.月感電反応ダメージALL,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,s.v_)(Math.round(e[2])),1),(0,n.Lk)("td",null,(0,s.v_)(Math.round(e[3]||0)),1),(0,n.Lk)("td",null,(0,s.v_)(Math.round(e[4])),1)])))),128))])])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),e.damageResult.元素反応.月結晶反応ダメージ?((0,n.uX)(),(0,n.CE)("div",pu,[(0,n.Lk)("label",du,[(0,n.eW)((0,s.v_)(e.displayName("月結晶"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.lunarReactionDmg("月結晶反応ダメージ"))),1),e.copiedDamageResult?.元素反応?.月結晶反応ダメージ?((0,n.uX)(),(0,n.CE)("span",mu,[t[26]||(t[26]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayName("月結晶"))+" ",1),(0,n.Lk)("span",null,(0,s.v_)(Math.round(e.copiedLunarReactionDmg("月結晶反応ダメージ"))),1)])):(0,n.Q3)("",!0)]),e.damageResult.元素反応.月結晶反応ダメージ会心率?((0,n.uX)(),(0,n.CE)("div",ku,[(0,n.Lk)("table",null,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("期待値")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("非会心")),1)])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.damageResult.元素反応.月結晶反応ダメージALL,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,s.v_)(Math.round(e[2])),1),(0,n.Lk)("td",null,(0,s.v_)(Math.round(e[3]||0)),1),(0,n.Lk)("td",null,(0,s.v_)(Math.round(e[4])),1)])))),128))])])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),(0,n.Lk)("fieldset",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.CATEGORY_LIST,(a=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[e.damageResult[a]&&e.itemList(a).length>0?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},["1"==e.resultStyleRef?((0,n.uX)(),(0,n.CE)("table",bu,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",{onClick:t=>e.categoryOnClick(a)},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(a)),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("期待値")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心")),1),(0,n.Lk)("th",null,(0,s.v_)(e.displayName("非会心")),1)],8,fu)]),(0,n.Lk)("tbody",null,[e.categoryOpenClose[a]?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(e.itemList(a),((l,i)=>((0,n.uX)(),(0,n.CE)("tr",{key:i},[l[l.length-1]?((0,n.uX)(),(0,n.CE)("th",{key:0,class:"with-tooltip",rowspan:l[l.length-1]},[(0,n.Lk)("span",null,(0,s.v_)(e.displayNameV(l[0])),1),e.displayDamageParam(l)?((0,n.uX)(),(0,n.CE)("span",{key:0,class:"tooltip",innerHTML:e.displayDamageParam(l)},null,8,yu)):(0,n.Q3)("",!0)],8,vu)):(0,n.Q3)("",!0),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,2,a))+" ",1),e.displayCopiedDamageValue(i,2,a)?((0,n.uX)(),(0,n.CE)("span",gu,[t[27]||(t[27]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,2,a)),1)])):(0,n.Q3)("",!0)],2),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,3,a))+" ",1),e.displayCopiedDamageValue(i,3,a)?((0,n.uX)(),(0,n.CE)("span",hu,[t[28]||(t[28]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,3,a)),1)])):(0,n.Q3)("",!0)],2),(0,n.Lk)("td",{class:(0,s.C4)("damage-value "+e.elementClass(l[1],l[5]))},[(0,n.eW)((0,s.v_)(e.displayDamageValue(l,4,a))+" ",1),e.displayCopiedDamageValue(i,4,a)?((0,n.uX)(),(0,n.CE)("span",Lu,[t[29]||(t[29]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" "+(0,s.v_)(e.displayCopiedDamageValue(i,4,a)),1)])):(0,n.Q3)("",!0)],2)])))),128)):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),"0"==e.resultStyleRef?((0,n.uX)(),(0,n.CE)("table",Cu,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",{onClick:t=>e.categoryOnClick(a)},[(0,n.Lk)("th",null,(0,s.v_)(e.displayName(a)),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(a),(t=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t[0]},[t[t.length-1]?((0,n.uX)(),(0,n.CE)("th",{key:0,colspan:t[t.length-1]},(0,s.v_)(e.displayNameH(t[0],a)),9,Eu)):(0,n.Q3)("",!0)],64)))),128))],8,Su)]),(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("期待値")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(a),(t=>((0,n.uX)(),(0,n.CE)("td",{key:t[0],class:(0,s.C4)("damage-value "+e.elementClass(t[1],t[5]))},(0,s.v_)(e.displayDamageValue(t,2,a)),3)))),128))]),e.categoryOpenClose[a]?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("会心")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(a),(t=>((0,n.uX)(),(0,n.CE)("td",{key:t[0],class:(0,s.C4)("damage-value "+e.elementClass(t[1],t[5]))},(0,s.v_)(e.displayDamageValue(t,3,a)),3)))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("非会心")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList(a),(t=>((0,n.uX)(),(0,n.CE)("td",{key:t[0],class:(0,s.C4)("damage-value "+e.elementClass(t[1],t[5]))},(0,s.v_)(e.displayDamageValue(t,4,a)),3)))),128))])],64)):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0)],64)):(0,n.Q3)("",!0)],64)))),128)),t[30]||(t[30]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("table",_u,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("被ダメージ")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.damageTakenList,(t=>((0,n.uX)(),(0,n.CE)("td",{class:"damage-value",key:t.key},[(0,n.Lk)("span",{class:(0,s.C4)(e.elementClass(t.key))},(0,s.v_)(Math.round(t.value)),3)])))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,(0,s.v_)(e.displayName("耐久スコア")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.resScoreList,(t=>((0,n.uX)(),(0,n.CE)("td",{class:"damage-value",key:t.key},[(0,n.Lk)("span",{class:(0,s.C4)(e.elementClass(t.key))},(0,s.v_)(Math.round(t.value)),3)])))),128))])])])]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(...t)=>e.copyDamageResult&&e.copyDamageResult(...t))},(0,s.v_)(e.displayName("比較用に現在値を記憶")),1),(0,n.Lk)("button",{type:"button",onClick:t[8]||(t[8]=(...t)=>e.clearCopiedDamageResult&&e.clearCopiedDamageResult(...t))},(0,s.v_)(e.displayName("削除")),1)]),e.damageResult.キャラクター注釈.length>0?((0,n.uX)(),(0,n.CE)("div",Ru,[(0,n.Lk)("ul",Iu,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.damageResult.キャラクター注釈,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},(0,s.v_)(e),1)))),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",Ou,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.resultStyleRef=t)},t[31]||(t[31]=[(0,n.Lk)("option",{value:"1"},"V-style",-1),(0,n.Lk)("option",{value:"0"},"H-style",-1)]),512),[[l.u1,e.resultStyleRef]])])])],64)}var Xu=(0,n.pM)({name:"DamageResult",props:{damageResult:{type:Object,required:!0}},setup(e){const{displayName:t}=(0,ae.A)(),a=["通常攻撃","重撃","落下攻撃","元素スキル","元素爆発","その他"],l=(0,z.KR)("なし"),s=(0,z.KR)("1"),i=(0,z.Kh)({}),o=(0,z.Kh)({});(0,n.wB)(e.damageResult,(e=>{("蒸発_炎"==l.value&&0===e.元素反応.蒸発倍率_炎||"蒸発_水"==l.value&&0===e.元素反応.蒸発倍率_水||"溶解_氷"==l.value&&0===e.元素反応.溶解倍率_氷||"溶解_炎"==l.value&&0===e.元素反応.溶解倍率_炎||"超激化"==l.value&&0===e.元素反応.超激化反応ダメージ||"草激化"==l.value&&0===e.元素反応.草激化反応ダメージ)&&(l.value="なし",document.getElementById("増幅反応-なし").checked=!0)}));const u=(0,n.EW)((()=>{let t=d("拡散ダメージ");return"蒸発_炎"==l.value&&"炎"==e.damageResult.元素反応.拡散元素?t*=e.damageResult.元素反応.蒸発倍率_炎:"蒸発_水"==l.value&&"水"==e.damageResult.元素反応.拡散元素?t*=e.damageResult.元素反応.蒸発倍率_水:"溶解_氷"==l.value&&"氷"==e.damageResult.元素反応.拡散元素?t*=e.damageResult.元素反応.溶解倍率_氷:"溶解_炎"==l.value&&"炎"==e.damageResult.元素反応.拡散元素?t*=e.damageResult.元素反応.溶解倍率_炎:"超激化"==l.value&&"雷"==e.damageResult.元素反応.拡散元素&&(t+=e.damageResult.元素反応.超激化反応ダメージ),t})),r=(0,n.EW)((()=>{const t=e.damageResult.被ダメージ.filter((e=>"物理"==e.key));for(const a of e.damageResult.被ダメージ.filter((e=>"物理"!=e.key))){const e=t.map((e=>e.value));e.includes(a.value)||t.push(a)}return t})),c=(0,n.EW)((()=>{const t=e.damageResult.耐久スコア.filter((e=>"物理"==e.key));for(const a of e.damageResult.耐久スコア.filter((e=>"物理"!=e.key))){const e=t.map((e=>e.value));e.includes(a.value)||t.push(a)}return t})),p=(e,t)=>{let a="";return"HP回復"===t?a="healing":"HP消費"===t?a="hpcost":e&&(a=et.KM[e]),a},d=t=>{let a=e.damageResult.元素反応[t];if(a&&J().isNumber(a)){const l=e.damageResult.元素反応[t+"会心率"];if(l&&J().isNumber(l)){const n=e.damageResult.元素反応[t+"会心ダメージ"];n&&J().isNumber(n)&&(a*=((100+n)/100*l+(100-l))/100)}}else a=0;return a},m=t=>{let a=0,l=e.damageResult.元素反応[t+"ALL"];if(J().isArray(l)){const e=l.map((e=>e[2]));e.sort(((e,t)=>t-e)),a=e[0],e.length>1&&(a+=e[1]/2),e.length>2&&(a+=e[2]/12),e.length>3&&(a+=e[3]/12)}return a},k=e=>{let t=0,a=i.元素反応[e+"ALL"];if(J().isArray(a)){const e=a.map((e=>e[2]));e.sort(((e,t)=>t-e)),t=e[0],e.length>1&&(t+=e[1]/2),e.length>2&&(t+=e[2]/12),e.length>3&&(t+=e[3]/12)}return t};function b(e){let t="";return"蒸発_炎"===l.value&&"炎"===e||"蒸発_水"===l.value&&"水"===e?t="蒸発":"溶解_氷"===l.value&&"氷"===e||"溶解_炎"===l.value&&"炎"===e?t="溶解":"超激化"===l.value&&"雷"===e?t="超激化":"草激化"===l.value&&"草"===e&&(t="草激化"),t}const f=(t,a,l)=>{let n=Number(t[a]);if(!n)return"-";if(!t[5]||!["シールド"].includes(t[5])){const s=t[1],i=b(s),o="通常攻撃"===l&&"合計ダメージ"===t[0]?g.value:1;n=(0,Qt.OD)(t,a,e.damageResult.元素反応,i,o)}return n=n<10?Math.round(100*n)/100:n<100?Math.round(10*n)/10:Math.round(n),n},v=(e,t,a)=>{let l=0;if(a in i){const n=i.元素反応;let s;const o=i[a],u=y(a)[e];if(e<o.length&&u[0]==o[e][0])s=o[e];else{const t=o.filter((e=>e[0]==u[0]));if(0==t.length)return;if(s=t[0],t.length>1)for(let l=0;l<y(a).length;l++)y(a)[l][0]==u[0]&&l<e&&(s=t[1])}if(void 0===s)return 0;if(l=Number(s[t]),!l)return"-";if(!s[5]||!["シールド"].includes(s[5])){const e=s[1];let i=b(e);const o="通常攻撃"===a&&"合計ダメージ"===s[0]?g.value:1;l=(0,Qt.OD)(s,t,n,i,o)}l=l<10?Math.round(100*l)/100:l<100?Math.round(10*l)/10:Math.round(l)}return l},y=t=>{const a=[],l=e.damageResult[t].filter((e=>e[0]&&!e[0].startsWith("非表示")));for(let e=0;e<l.length;e++){let t=1;t=e>0&&l[e][0]==l[e-1][0]?0:l.slice(e).filter((t=>t[0]==l[e][0])).length,a.push([...l[e],t])}return a},g=(0,n.EW)((()=>y("通常攻撃").filter((e=>e[0].endsWith("段ダメージ")&&!e[0].startsWith("非表示_"))).length));for(const n of a)o[n]=!0;const h=e=>{o[e]=!o[e]},L=e=>{if(e&&"ja-jp"==$e.A.global.locale.value&&e.length>10){let t=e;return t=t.replace(/の攻撃ダメージ$/,"").replace(/のダメージ$/,"").replace(/ダメージ$/,""),t}return t(e)},C=(e,a)=>{if(e&&"ja-jp"==$e.A.global.locale.value&&y(a).length>2){let t=e;return t=t.replace(/の攻撃ダメージ$/,"").replace(/のダメージ$/,"").replace(/ダメージ$/,""),t}return t(e)},S=e=>{let a="";if(!e||!e[5]||["HP回復","シールド","表示","HP消費"].includes(e[5]))return"";if(e[9]&&(a+=t("天賦")+":"+t(e[9]),a+="<br>"),a+=t(e[5]),a+="<br>",a+=t("ダメージバフ"),a+=":&nbsp;",a+=Math.round(1e3*(e[7]-1))/10,a+="%<br>",e[2]&&e[3]&&e[4]){let l=e[2]-e[4];l/=e[3]-e[4],l=Math.round(1e3*l)/10;const n=Math.round(1e3*(e[3]/e[4]-1))/10;a+=t("会心"),a+=":&nbsp;",a+=l,a+="%/",a+=n,a+="%<br>"}return e[6]&&(a+=e[6],a+="Hit"+(e[6]>1?"s":""),a+="<br>"),a},E=()=>{(0,Dn.BW)(i,J().cloneDeep(e.damageResult))},_=()=>{(0,Dn.BW)(i,{})};return{displayName:t,displayNameV:L,displayNameH:C,"増幅反応":l,swirlDmg:u,reactionDmg:d,lunarReactionDmg:m,copiedLunarReactionDmg:k,elementClass:p,displayDamageValue:f,displayDamageParam:S,CATEGORY_LIST:a,itemList:y,categoryOpenClose:o,categoryOnClick:h,resultStyleRef:s,displayCopiedDamageValue:v,copiedDamageResult:i,damageTakenList:r,resScoreList:c,copyDamageResult:E,clearCopiedDamageResult:_}}});const wu=(0,ne.A)(Xu,[["render",Nu],["__scopeId","data-v-49145ec6"]]);var Au=wu;const Vu={class:"total-damage"},Mu={class:"damage-name"},Ku={class:"total-damage-value"},Tu={class:"action-list"},Du=["onClick"],Wu=["src","alt"],Fu={class:"customized-result"},Uu={class:"category handle with-tooltip"},xu=["src","alt"],ju={class:"tooltip"},Hu={class:"damage",style:{"vertical-align":"middle"}},Qu={class:"damage-name"},Bu={class:"reaction-list"},Pu=["onClick"],qu=["src","alt"],Yu={class:"tooltip"},Gu=["onClick"],Ju=["src","alt"],zu={class:"tooltip"},$u=["onUpdate:modelValue","onChange"],Zu=["onClick"],er={class:"savedata"},tr=["value"];function ar(e,t,a,i,o,u){const r=(0,n.g2)("draggable");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("fieldset",null,[(0,n.Lk)("table",Vu,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Mu,(0,s.v_)(e.displayNameV("ローテーション合計ダメージ")),1),(0,n.Lk)("td",Ku,(0,s.v_)(Math.round(e.totalDamage)),1)])])]),t[6]||(t[6]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("ul",Tu,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.itemList,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.id},[(0,n.Lk)("div",{class:"add-item",onClick:a=>e.addItem(t)},[(0,n.Lk)("img",{class:(0,s.C4)("action"+e.itemImgClass(t)),src:t.src,alt:e.displayName(t.name)},null,10,Wu)],8,Du),(0,n.Lk)("div",null,(0,s.v_)(e.displayName(t.name)),1)])))),128))]),t[7]||(t[7]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("table",Fu,[(0,n.bF)(r,{list:e.rotationDamageCustomList,"item-key":"id",group:"action",sort:!0,handle:".handle"},{item:(0,n.k6)((({element:a,index:i})=>[(0,n.Lk)("tr",null,[(0,n.Lk)("th",Uu,[(0,n.Lk)("img",{class:(0,s.C4)("action"+e.itemImgClass(a)),src:a.src,alt:e.displayName(a.name)},null,10,xu),(0,n.Lk)("div",ju,(0,s.v_)(e.displayName(a.name)),1)]),(0,n.Lk)("td",Hu,[(0,n.Lk)("table",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getDamageResultArr(a,e.selectDamageResult(a)),((i,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:o},[(0,n.Lk)("th",Qu,(0,s.v_)(e.displayNameV(i[0])),1),(0,n.Lk)("td",Bu,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.amplifyingReactionList(a,o),(t=>((0,n.uX)(),(0,n.CE)("div",{class:"reaction with-tooltip",key:t[0],onClick:l=>e.reactionOnClick(a,o,t)},[(0,n.Lk)("span",null,(0,s.v_)(e.reactionCount(a,o,t)),1),(0,n.Lk)("img",{class:(0,s.C4)("reaction"+e.reactionUnselectedClass(a,o,t)),src:t[1],alt:e.displayName(t[0])},null,10,qu),(0,n.Lk)("div",Yu,(0,s.v_)(e.displayName(t[0])),1)],8,Pu)))),128))]),(0,n.Lk)("td",null,[(0,n.Lk)("div",{class:"reaction with-tooltip",onClick:t=>e.statChangeOnClick(a)},[(0,n.Lk)("img",{class:(0,s.C4)("stat-change"+e.statChangeUnselectedClass(a)),src:e.instructorImg,alt:e.displayName("教官")},null,10,Ju),(0,n.Lk)("div",zu,(0,s.v_)(e.displayName("教官")),1)],8,Gu)]),(0,n.Lk)("td",null,[t[4]||(t[4]=(0,n.eW)(" × ")),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":e=>a.counts[o]=e,min:"0",onChange:t=>e.countOnChange(a,o)},null,40,$u),[[l.Jo,a.counts[o]]])]),(0,n.Lk)("td",{class:(0,s.C4)("damage-value"+e.elementColorClass(a,o))},(0,s.v_)(Math.round(e.damageValue(a,o))),3)])))),128))])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",onClick:t=>e.doDelete(i)},t[5]||(t[5]=[(0,n.Lk)("span",{class:"material-symbols-outlined"}," close ",-1)]),8,Zu)])])])),_:1},8,["list"])])]),(0,n.Lk)("div",er,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.savedataIndex=t),onChange:t[1]||(t[1]=(...t)=>e.load&&e.load(...t))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.savedataList,(e=>((0,n.uX)(),(0,n.CE)("option",{value:e[0],key:e[0]},(0,s.v_)(e[1]),9,tr)))),128))],544),[[l.u1,e.savedataIndex]]),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.save&&e.save(...t))},"Save"),(0,n.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...t)=>e.remove&&e.remove(...t))},"Remove")]),t[8]||(t[8]=(0,n.Lk)("p",{class:"notice"}," 天賦アイコンまたは元素反応アイコンをクリックしてスキルローテーションを設定してください。 ",-1))],64)}var lr=a(1527),nr=a.n(lr);let sr=1;var ir=(0,n.pM)({name:"RotationDamage",components:{draggable:nr()},props:{characterMaster:{type:Object,required:!0},damageResult:{type:Object,required:!0},damageResult2:{type:Object,required:!0}},emits:["update:rotation-damage"],setup(e,t){const{displayName:a,targetValue:l}=(0,ae.A)(),{characterMaster:s}=(0,z.QW)(e),i=(0,z.Kh)([]),o=(0,n.EW)((()=>(0,Qt.OY)(c.value,e.damageResult))),u=t=>1===t.resultIndex?e.damageResult:e.damageResult2,r=e=>{if(e&&"ja-jp"==$e.A.global.locale.value&&e.length>10){let t=e;return t=t.replace(/の攻撃ダメージ$/,"").replace(/のダメージ$/,"").replace(/ダメージ$/,""),t}return a(e)},c=(0,n.EW)((()=>{let e=[];for(const t of i)e.push({name:t.name,category:t.category,reactions:t.reactions,counts:t.counts});return e}));function p(){const e={totalDamage:o.value,rotationDamages:c.value};t.emit("update:rotation-damage",e)}const d=(0,n.EW)((()=>{const t=[];return["通常攻撃","落下攻撃","重撃","元素スキル","元素爆発","その他"].forEach((a=>{if(!(a in e.damageResult))return;const l={};if(l.category=a,l.id=sr++,l.name=a,"その他"==a)l.src=et.M2;else{const e=["重撃","落下攻撃"].includes(a)?"通常攻撃":a;l.src=s.value[e].icon_url}l.reactions=[],l.counts=[],l.resultIndex=1;const n=(0,Qt.ok)(l,u(l));if(0!=n.length){for(let e=0;e<n.length;e++)l.reactions.push({}),["落下期間のダメージ"].includes(n[e][0])||"弓"==s.value.武器&&"重撃"==a&&n.length>3&&e<2?l.counts.push(0):l.counts.push(1);t.push(l)}})),Qt.$H.forEach((a=>{if(e.damageResult.元素反応[a]){const l=a.replace(/反応ダメージ$/,"");let n;n="拡散ダメージ"==a?e.damageResult.元素反応.拡散元素:Qt.jU.get(a);const s={};s.id=sr++,s.name=l,s.src=et.cu[n],s.category=a,s.reactions=[{}],s.counts=[1],s.resultIndex=1,t.push(s)}})),t})),m=e=>Qt.$H.includes(e.category)?" reaction ":"",k=e=>{const t=s.value.名前,a="ROTATION_"+t+"_"+e;return a},b=(0,z.KR)(1),f=new Map([["通常攻撃","N"],["重撃","C"],["落下攻撃","P"],["元素スキル","E"],["元素爆発","Q"]]),v="**** NEW DATA ****",y=(0,z.KR)(0),g=(0,n.EW)((()=>{const e=[],t=s.value.名前,a=Object.keys(localStorage).filter((e=>e.startsWith("ROTATION_"+t+"_"))),l=a.map((e=>Number(e.replace("ROTATION_"+t+"_",""))));let n=Math.max(0,...l);for(let s=1;s<=n;s++){const t=k(s);let a=s+" : ";if(t in localStorage){const e=localStorage.getItem(t),l=JSON.parse(e);Array.isArray(l)&&l.forEach((e=>{if(f.has(e.name)){const t=f.get(e.name);if(a+=t,["N","C","P"].includes(t)){const t=Math.max(...e.counts);t&&(a+=t)}}else a+="*"}))}else a+=v;e.push([s,a,y.value])}const i=n+1,o=i+" : "+v;return e.push([i,o,y.value]),e})),h=()=>{if(i.length>0){const e=k(b.value),t=JSON.stringify(i);localStorage.setItem(e,t),y.value++}},L=()=>{const e=k(b.value);if(e in localStorage){const t=localStorage.getItem(e),a=JSON.parse(t);Array.isArray(a)&&(a.forEach((e=>{e.category&&Qt.$H.forEach((t=>{const a=t.replace(/反応ダメージ$/,"");e.category==a+"ダメージ"&&(e.category=t)}))})),i.splice(0,i.length,...a)),p()}};L();const C=()=>{const e=k(b.value);e in localStorage&&(localStorage.removeItem(e),y.value++)},S=({id:e})=>{const t=d.value.filter((t=>t.id==e))[0],a=J().cloneDeep(t);return a.id=e++,a},E=e=>{i.push(S(e))};function _(e,t){const a=(0,Qt.UH)(e,t);return a?et.cu[a]:et.M2}const R=(t,a)=>{const l=[],n=(0,Qt.ok)(t,u(t)),s=n[a],i=s[1];if(i){const t=[];"炎"===i?(e.damageResult.元素反応.蒸発倍率_炎>0&&t.push("蒸発"),e.damageResult.元素反応.溶解倍率_炎>0&&t.push("溶解")):"水"===i?e.damageResult.元素反応.蒸発倍率_水>0&&t.push("蒸発"):"氷"===i?e.damageResult.元素反応.溶解倍率_氷>0&&t.push("溶解"):"雷"===i?e.damageResult.元素反応.超激化反応ダメージ>0&&t.push("超激化"):"草"===i&&e.damageResult.元素反応.草激化反応ダメージ>0&&t.push("草激化"),t.forEach((e=>{l.push([e,_(e,i)])}))}return l},I=(e,t,a)=>{let l="";const n=e.reactions[t];return a[0]in n&&n[a[0]]&&(l=n[a[0]]),l},O=(e,t,a)=>{let l;return l=I(e,t,a)?"":" unselected ",l},N=(e,t,a)=>{const l=e.reactions[t];let n=e.counts[t];const s=(0,Qt.ok)(e,u(e))[t];["超激化","草激化"].includes(a[0])&&s[6]&&(n*=s[6]),a[0]in l?l[a[0]]<n?l[a[0]]++:l[a[0]]=0:l[a[0]]=1},X=(e,t)=>{const a=e.reactions[t],l=e.counts[t];Object.keys(a).forEach((e=>{l<a[e]&&(a[e]=l)}))},w=(e,t)=>(0,Qt.kr)(e,t,u(e)),A=(e,t)=>{const a=(0,Qt.ok)(e,u(e)),l=a[t];return l[1]?" "+et.KM[l[1]]+" ":""},V=et.Z3["教官"].image,M=e=>{e&&(e.resultIndex=1===e.resultIndex?2:1)},K=e=>1===e.resultIndex?" unselected":"",T=e=>{i.splice(e,1)};return(0,n.wB)(i,(()=>{p()})),(0,n.wB)(s,(()=>{i.splice(0,i.length),b.value=1,L()})),{displayName:a,targetValue:l,displayNameV:r,itemList:d,itemImgClass:m,addItem:E,selectDamageResult:u,getDamageResultArr:Qt.ok,clone:S,rotationDamageCustomList:i,amplifyingReactionList:R,reactionCount:I,reactionUnselectedClass:O,reactionOnClick:N,countOnChange:X,instructorImg:V,statChangeOnClick:M,statChangeUnselectedClass:K,damageValue:w,elementColorClass:A,doDelete:T,totalDamage:o,savedataIndex:b,savedataList:g,save:h,load:L,remove:C}}});const or=(0,ne.A)(ir,[["render",ar],["__scopeId","data-v-318c1632"]]);var ur=or;function rr(e,t,a,l,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.$emit("share:twitter"))},t[1]||(t[1]=[(0,n.Lk)("img",{width:"32",height:"32",src:"images/Twitter social icons - rounded square - blue.png",alt:"Twitter"},null,-1)]))])}var cr=(0,n.pM)({name:"ShareSns",emits:["share:twitter"]});const pr=(0,ne.A)(cr,[["render",rr],["__scopeId","data-v-358e4396"]]);var dr=pr;function mr(e,t,a,l,s,i){return t[0]||(t[0]=(0,n.Fv)('<h2 data-v-338e7eeb>げんかるく</h2><fieldset data-v-338e7eeb><legend data-v-338e7eeb>構成保存の対象範囲</legend><button type="button" data-v-338e7eeb>キャラクター</button><button type="button" data-v-338e7eeb>武器</button><button type="button" data-v-338e7eeb>聖遺物セット効果</button><button type="button" data-v-338e7eeb>聖遺物メイン効果</button><button type="button" data-v-338e7eeb>聖遺物サブ効果</button><button type="button" data-v-338e7eeb>オプション条件</button><hr data-v-338e7eeb><a href="SavedataList.html" data-v-338e7eeb>保存構成リンク集</a></fieldset><fieldset data-v-338e7eeb><legend data-v-338e7eeb>聖遺物詳細画面OCR</legend><div class="description" data-v-338e7eeb> キャラクター＞聖遺物＞聖遺物詳細のスクリーンショットから聖遺物のステータスを設定する機能です。 読み取り精度はいまひとつなので、実行後に目視にて確認、修正願います。 本機能はすべてブラウザ内で処理されます。外部へのデータ送信などはありません。 </div></fieldset><fieldset data-v-338e7eeb><legend data-v-338e7eeb>被ダメージ表示</legend><div class="description" data-v-338e7eeb> 基礎ダメージ10000に対する被ダメージ(推定値)を表示します。<br data-v-338e7eeb> 基礎ダメージはざっくり防御力0の場合の被ダメージです。 </div></fieldset><fieldset data-v-338e7eeb><legend data-v-338e7eeb>NEXT STEP</legend><div class="description" data-v-338e7eeb> 選択したダメージアクションについて、現在のステータスから聖遺物サブ効果1回上昇分ステータスが変化した場合のダメージの上昇率を計算します。 次にどのステータスを伸ばすべきかの参考情報となります。<br data-v-338e7eeb> 比較的高い計算力を要求する機能のため、動作が重い場合は下部の停止ボタンから機能を止めて下さい。 </div></fieldset><fieldset data-v-338e7eeb><legend data-v-338e7eeb>内部リンク</legend><p data-v-338e7eeb><a href="RecommendationList.html" data-v-338e7eeb>おすすめセット一覧</a></p><p data-v-338e7eeb><a href="HoYoDictionary.html" data-v-338e7eeb>原神の辞書</a></p><p data-v-338e7eeb><a href="TeamOptionList.html" data-v-338e7eeb>強化・弱体効果一覧</a></p><p data-v-338e7eeb><a href="CritTarget.html" data-v-338e7eeb>会心目標</a></p><p data-v-338e7eeb><a href="index2.html" data-v-338e7eeb>旧バージョン(V2)</a></p><p data-v-338e7eeb><a href="RotationVisualizer.html" data-v-338e7eeb>げんろーて</a></p></fieldset>',6))}var kr=(0,n.pM)({name:"AboutMyApp"});const br=(0,ne.A)(kr,[["render",mr],["__scopeId","data-v-338e7eeb"]]);var fr=br;const vr={class:"left"},yr=["disabled"];function gr(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("fieldset",null,[t[15]||(t[15]=(0,n.Lk)("legend",null,"おまけ",-1)),(0,n.Lk)("div",vr,[(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.configurationInputRea["全武器解放"]=t),onChange:t[1]||(t[1]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["全武器解放"]]]),t[8]||(t[8]=(0,n.Lk)("span",null,"全ての武器が選択可能になる",-1))]),t[9]||(t[9]=(0,n.Lk)("div",{class:"notice"}," ※正規の武器タイプ以外の武器を選択した場合、構成保存できなくなります。 ",-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.configurationInputRea["聖遺物詳細サブ効果オンリー"]=t),onChange:t[3]||(t[3]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["聖遺物詳細サブ効果オンリー"]]]),t[10]||(t[10]=(0,n.Lk)("span",null,"聖遺物詳細の表示値をサブ効果のみの合計にする",-1))]),t[11]||(t[11]=(0,n.Lk)("div",{class:"notice"},[(0,n.eW)(" 聖遺物詳細の表示値からメイン効果分が除外されます。"),(0,n.Lk)("br")],-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.configurationInputRea["聖遺物サブ効果計算停止"]=t),onChange:t[5]||(t[5]=t=>e.$emit("update:configuration-input",e.configurationInputRea))},null,544),[[l.lH,e.configurationInputRea["聖遺物サブ効果計算停止"]]]),t[12]||(t[12]=(0,n.Lk)("span",null,"聖遺物サブ効果の自動計算を止める",-1))]),t[13]||(t[13]=(0,n.Lk)("div",{class:"notice"},[(0,n.eW)(" 聖遺物サブ効果が自動計算されなくなります。"),(0,n.Lk)("br"),(0,n.eW)(" 手動で入力して下さい。 ")],-1))]),(0,n.Lk)("article",null,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=t=>e.initializeArtifactStatsSubClickableRef=t)},null,512),[[l.lH,e.initializeArtifactStatsSubClickableRef]]),t[14]||(t[14]=(0,n.Lk)("span",null,"聖遺物サブ効果0初期化",-1))]),(0,n.Lk)("button",{type:"button",disabled:!e.initializeArtifactStatsSubClickableRef,onClick:t[7]||(t[7]=(...t)=>e.initializeArtifactStatsSub&&e.initializeArtifactStatsSub(...t))},(0,s.v_)(e.displayName("実行")),9,yr)])])]),(0,n.Lk)("div",null,(0,s.v_)(e.screen.width)+" , "+(0,s.v_)(e.screen.height),1)],64)}var hr=(0,n.pM)({name:"ConfigurationInput",props:{configurationInput:{type:Object,required:!0}},emits:["update:configuration-input","order:initialize-artifact-stats-sub"],setup(e,t){const{displayName:a}=(0,ae.A)(),l=(0,z.Kh)(e.configurationInput),n=(0,z.KR)(!1),s=()=>{t.emit("order:initialize-artifact-stats-sub"),n.value=!1};return{displayName:a,configurationInputRea:l,initializeArtifactStatsSubClickableRef:n,initializeArtifactStatsSub:s,screen:screen}}});const Lr=(0,ne.A)(hr,[["render",gr],["__scopeId","data-v-4d61b92a"]]);var Cr=Lr;const Sr={class:"own-list"},Er=["src","alt","onClick"],_r={class:"tooltip"},Rr=["src","alt"],Ir={class:"constellation"},Or=["disabled"],Nr=["disabled"];function Xr(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("ul",Sr,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characterList,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.key},[(0,n.Lk)("img",{class:(0,s.C4)("character"+e.bgImageClass(t)+e.notOwnedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.onClick(t)},null,10,Er),(0,n.Lk)("div",_r,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("img",{class:"vision",src:e.visionSrc(t),alt:t.元素},null,8,Rr),(0,n.Lk)("div",Ir,(0,s.v_)(e.constellationObj[t.key]),1)])))),128))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.savable=t),disabled:!e.changed},null,8,Or),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("キャラクター所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,Nr)],64)}var wr=(0,n.pM)({name:"CharacterOwnList",setup(){const{displayName:e}=(0,ae.A)(),t=e=>et.cu[e.元素],a=e=>" "+et.$A[e.レアリティ],l=et.AB,n=(0,z.Kh)({});for(const c of l)n[c.key]=null;if(localStorage["キャラクター所持状況"]){const e=JSON.parse(localStorage["キャラクター所持状況"]);Object.keys(e).forEach((t=>{(0,Dn.kf)(e[t])&&(n[t]=Number(e[t]))}))}const s=(0,z.KR)(!1),i=(0,z.KR)(!1),o=e=>null==n[e.key]?" not-owned":"",u=e=>{if(null===n[e.key])n[e.key]=0;else if(6==n[e.key])n[e.key]=null;else{let t=n[e.key];n[e.key]=t+1}s.value=!0},r=()=>{const e={};Object.keys(n).filter((e=>null!==n[e])).forEach((t=>{e[t]=n[t]})),localStorage.setItem("キャラクター所持状況",JSON.stringify(e)),i.value=!1,s.value=!1};return{displayName:e,visionSrc:t,bgImageClass:a,characterList:l,constellationObj:n,onClick:u,changed:s,savable:i,save:r,notOwnedClass:o}}});const Ar=(0,ne.A)(wr,[["render",Xr],["__scopeId","data-v-2dba67b9"]]);var Vr=Ar;const Mr={class:"select-list"},Kr=["value"],Tr=["src","alt"],Dr={key:0,class:"own-list"},Wr=["src","alt","onClick"],Fr={class:"tooltip"},Ur={class:"refine"},xr=["disabled"],jr=["disabled"];function Hr(e,t,a,i,o,u){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("ul",Mr,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponTypeList,(a=>((0,n.uX)(),(0,n.CE)("li",{key:a},[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio","onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedWeaponType=t),value:a,name:"weapon-own-list-type"},null,8,Kr),[[l.XL,e.selectedWeaponType]]),(0,n.Lk)("img",{class:"filter",src:e.weaponSrc(a),alt:a},null,8,Tr)])])))),128))]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponTypeList,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t},[t==e.selectedWeaponType?((0,n.uX)(),(0,n.CE)("ul",Dr,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.weaponList(t),(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.key},[(0,n.Lk)("img",{class:(0,s.C4)("weapon"+e.bgImageClass(t)+e.notOwnedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.onClick(t)},null,10,Wr),(0,n.Lk)("div",Fr,(0,s.v_)(e.displayName(t.key)),1),(0,n.Lk)("div",Ur,(0,s.v_)(e.refineObj[t.key]),1)])))),128))])):(0,n.Q3)("",!0)])))),128)),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.savable=t),disabled:!e.changed},null,8,xr),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("武器所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,jr)],64)}var Qr=(0,n.pM)({name:"WeaponOwnList",setup(){const{displayName:e,targetValue:t}=(0,ae.A)(),a=e=>" "+et.$A[e.レアリティ],l=(0,n.EW)((()=>Object.keys(et.uM))),s=e=>et.uM[e],i=e=>et.Nc[e],o=(0,z.KR)(l.value[0]),u=(0,z.Kh)({});for(const n of l.value)for(const e of i(n))u[e.key]=null;if(localStorage["武器所持状況"]){const e=JSON.parse(localStorage["武器所持状況"]);Object.keys(e).forEach((t=>{(0,Dn.kf)(e[t])&&(u[t]=Number(e[t]))}))}const r=(0,z.KR)(!1),c=(0,z.KR)(!1),p=e=>null==u[e.key]?" not-owned":"",d=e=>{if(null===u[e.key])u[e.key]=1;else if(5==u[e.key])u[e.key]=null;else{let t=u[e.key];u[e.key]=t+1}r.value=!0},m=()=>{const e={};Object.keys(u).filter((e=>null!==u[e])).forEach((t=>{e[t]=u[t]})),localStorage.setItem("武器所持状況",JSON.stringify(e)),c.value=!1,r.value=!1};return{displayName:e,targetValue:t,bgImageClass:a,weaponTypeList:l,weaponSrc:s,weaponList:i,selectedWeaponType:o,refineObj:u,onClick:d,changed:r,savable:c,save:m,notOwnedClass:p}}});const Br=(0,ne.A)(Qr,[["render",Hr],["__scopeId","data-v-4c7e45c8"]]);var Pr=Br;const qr={class:"cat-select"},Yr=["alt"],Gr=["alt"],Jr=["alt"],zr=["alt"],$r=["alt"],Zr={class:"artifact-list"},ec={style:{"margin-top":"10px"}},tc=["disabled"],ac=["disabled"],lc={style:{"margin-top":"10px"}},nc=["disabled"],sc=["disabled"];function ic(e,t,a,i,o,u){const r=(0,n.g2)("ArtifactItem");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",qr,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"1","onUpdate:modelValue":t[0]||(t[0]=t=>e.artifactCatTabSelected=t),onChange:t[1]||(t[1]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/flower_of_life.png",alt:e.displayName("生の花")},null,8,Yr)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"2","onUpdate:modelValue":t[2]||(t[2]=t=>e.artifactCatTabSelected=t),onChange:t[3]||(t[3]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/plume_of_death.png",alt:e.displayName("死の羽")},null,8,Gr)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"3","onUpdate:modelValue":t[4]||(t[4]=t=>e.artifactCatTabSelected=t),onChange:t[5]||(t[5]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/sands_of_eon.png",alt:e.displayName("時の砂")},null,8,Jr)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"4","onUpdate:modelValue":t[6]||(t[6]=t=>e.artifactCatTabSelected=t),onChange:t[7]||(t[7]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/goblet_of_eonothem.png",alt:e.displayName("空の杯")},null,8,zr)]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{class:"hidden",type:"radio",value:"5","onUpdate:modelValue":t[8]||(t[8]=t=>e.artifactCatTabSelected=t),onChange:t[9]||(t[9]=(...t)=>e.catOnChange&&e.catOnChange(...t))},null,544),[[l.XL,e.artifactCatTabSelected]]),(0,n.Lk)("img",{src:"images/circlet_of_logos.png",alt:e.displayName("理の冠")},null,8,$r)])]),(0,n.Lk)("div",Zr,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactOwnArrCatId(e.artifactCatTabSelected),(t=>((0,n.uX)(),(0,n.Wv)(r,{key:t.id,artifact:t.artifact,id:t.id,control:e.artifactControl,selected:t.selected,"onUpdate:artifact":e.updateArtifact,"onSelect:artifact":e.selectArtifact},null,8,["artifact","id","control","selected","onUpdate:artifact","onSelect:artifact"])))),128))]),(0,n.Lk)("div",ec,[e.controlMode?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("button",{type:"button",onClick:t[10]||(t[10]=(...t)=>e.removeOnClick&&e.removeOnClick(...t))},(0,s.v_)(e.displayName("削除")),1),(0,n.Lk)("button",{type:"button",onClick:t[11]||(t[11]=(...t)=>e.newArtifactOnClick&&e.newArtifactOnClick(...t))},(0,s.v_)(e.displayName("新規聖遺物")),1),(0,n.Lk)("button",{type:"button",onClick:t[12]||(t[12]=(...t)=>e.reloadOnClick&&e.reloadOnClick(...t))},(0,s.v_)(e.displayName("最新")),1)],64)),"remove"==e.controlMode?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("button",{type:"button",disabled:0==e.selectCount,onClick:t[13]||(t[13]=(...t)=>e.removeExecOnClick&&e.removeExecOnClick(...t))},(0,s.v_)(e.displayName("削除実行")),9,tc),(0,n.Lk)("button",{type:"button",onClick:t[14]||(t[14]=(...t)=>e.removeModeEndProc&&e.removeModeEndProc(...t))},(0,s.v_)(e.displayName("キャンセル")),1)],64)):(0,n.Q3)("",!0),"new-artifact"==e.controlMode?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.bF)(r,{artifact:e.newArtifact,id:0,control:"editable",initial:!0,"onUpdate:artifact":e.updateArtifact},null,8,["artifact","onUpdate:artifact"]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"button",onClick:t[15]||(t[15]=(...t)=>e.newArtifactAddOnClick&&e.newArtifactAddOnClick(...t)),disabled:!e.addable},(0,s.v_)(e.displayName("聖遺物追加")),9,ac),(0,n.Lk)("button",{type:"button",onClick:t[16]||(t[16]=(...t)=>e.newArtifactModeEndProc&&e.newArtifactModeEndProc(...t))},(0,s.v_)(e.displayName("キャンセル")),1)])],64)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",lc,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=t=>e.savable=t),disabled:!e.changed},null,8,nc),[[l.lH,e.savable]]),(0,n.Lk)("span",null,(0,s.v_)(e.displayName("聖遺物所持状況を保存する")),1)]),(0,n.Lk)("button",{type:"button",onClick:t[18]||(t[18]=(...t)=>e.save&&e.save(...t)),disabled:!e.savable},(0,s.v_)(e.displayName("実行")),9,sc)])],64)}var oc=1,uc=(0,n.pM)({name:"ArtifactOwnList",components:{ArtifactItem:on.A},setup(){const{displayName:e,displayStatValue:t,targetValue:a}=(0,ae.A)(),l="artifact_list",s=(0,z.KR)(1),i=(0,z.Kh)([]),o=(0,z.Kh)(J().cloneDeep(Ze.wE)),u=(0,z.KR)("editable"),r=(0,z.KR)(""),c=(0,z.KR)(!1),p=(0,z.KR)(!1),d=(0,n.EW)((()=>i.filter((e=>e.selected)).length)),m=(0,n.EW)((()=>{if(!o.name)return!1;if(!o.rarity)return!1;if(!o.setname)return!1;if(!o.cat_id)return!1;if(!o.mainStat)return!1;if(!o.mainStatValue)return!1;for(const e of o.subStats){if(!e.name)return!1;if(!e.value)return!1}return 0==i.filter((e=>J().isEqual(e.artifact,o))).length})),k=e=>{const t=i.filter((t=>t.artifact.cat_id==Number(e)));return t.sort(((e,t)=>{if(e.artifact.setname!=t.artifact.setname){const a=Object.keys(et.Z3),l=a.indexOf(e.artifact.setname),n=a.indexOf(t.artifact.setname);return l-n}if(e.artifact.mainStat!=t.artifact.mainStat){const a=Object.keys(Ze.Ty),l=a.indexOf(e.artifact.mainStat),n=a.indexOf(t.artifact.mainStat);return l-n}return 0}))},b=[["",0],["HP",4780],["攻撃力",311],["攻撃力%",46.6],["炎元素ダメージバフ",46.6],["会心率",31.1]],f=()=>{g(),C(),o.cat_id=Number(s.value),o.mainStat=String(b[o.cat_id][0]),o.mainStatValue=Number(b[o.cat_id][1])},v=()=>{r.value="remove",u.value="selectable"},y=()=>{const e=i.filter((e=>!e.selected));i.splice(0,i.length,...e),g(),c.value=!0},g=()=>{r.value="",i.forEach((e=>{e.selected=!1})),u.value="editable"},h=()=>{r.value="new-artifact",u.value=""},L=()=>{const e={id:oc++,artifact:J().cloneDeep(o),selected:!1};i.push(e),C(),c.value=!0},C=()=>{r.value="",u.value="editable"},S=()=>{I(),c.value=!1},E=(e,t)=>{if(0==e)return void(0,Dn.BW)(o,t);let a=0;for(;a<i.length;a++)if(i[a].id==e){i[a].artifact=t;break}c.value=!0},_=e=>{let t=0;for(;t<i.length;t++)if(i[t].id==e){i[t].selected=!i[t].selected;break}},R=()=>{const e=i.map((e=>e.artifact));localStorage.setItem(l,JSON.stringify(e)),c.value=!1,p.value=!1},I=()=>{if(l in localStorage){const e=JSON.parse(localStorage[l]),t=e.filter((e=>"setname"in e)).map((e=>({id:oc++,artifact:e,selected:!1})));i.splice(0,i.length,...t)}};return I(),{displayName:e,displayStatValue:t,targetValue:a,artifactCatTabSelected:s,newArtifact:o,artifactControl:u,controlMode:r,selectCount:d,addable:m,artifactOwnArrCatId:k,changed:c,savable:p,catOnChange:f,removeOnClick:v,removeExecOnClick:y,removeModeEndProc:g,newArtifactOnClick:h,newArtifactAddOnClick:L,newArtifactModeEndProc:C,reloadOnClick:S,updateArtifact:E,selectArtifact:_,save:R}}});const rc=(0,ne.A)(uc,[["render",ic],["__scopeId","data-v-9dcf17ca"]]);var cc=rc;const pc={key:0},dc={for:"artifact-score-formula",class:"toggle-switch header"},mc={value:"-1"},kc=["value"],bc={class:"formula-detail"},fc=["onUpdate:modelValue"],vc={class:"formula-detail"},yc=["disabled"];function gc(e,t,a,i,o,u){return e.visible?((0,n.uX)(),(0,n.CE)("div",pc,[(0,n.bo)((0,n.Lk)("input",{id:"artifact-score-formula",type:"checkbox",class:"hidden","onUpdate:modelValue":t[0]||(t[0]=t=>e.expanded=t)},null,512),[[l.lH,e.expanded]]),(0,n.Lk)("label",dc,(0,s.v_)(e.displayName("聖遺物スコア計算式")),1),(0,n.bo)((0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedIndex=t),onChange:t[2]||(t[2]=(...t)=>e.selectOnChange&&e.selectOnChange(...t))},[(0,n.Lk)("option",mc,(0,s.v_)(e.artifactScoreFormulaName(e.currentFormula)),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.artifactScoreFormulaList,((t,a)=>((0,n.uX)(),(0,n.CE)("option",{key:a,value:a},"   "+(0,s.v_)(e.artifactScoreFormulaName(t)),9,kc)))),128))],544),[[l.u1,e.selectedIndex]]),(0,n.Lk)("div",bc,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.currentFormula,((a,i)=>((0,n.uX)(),(0,n.CE)("div",{class:"right",key:i},[(0,n.Lk)("label",null,[(0,n.eW)((0,s.v_)(e.displayName(a[0]))+" × ",1),(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0","onUpdate:modelValue":e=>a[1]=e,onChange:t[3]||(t[3]=t=>e.changed=!0)},null,40,fc),[[l.Jo,a[1]]])])])))),128))]),(0,n.Lk)("div",vc,[(0,n.Lk)("button",{type:"button",disabled:!e.changed,onClick:t[4]||(t[4]=(...t)=>e.applyFormula&&e.applyFormula(...t))},"Apply",8,yc)])],512),[[l.aG,e.expanded]])])):(0,n.Q3)("",!0)}var hc=(0,n.pM)({name:"ArtifactScoreFormula",emits:["apply:formula"],props:{visible:Boolean},setup(e,t){const{displayName:a}=(0,ae.A)(),l=(0,z.KR)(!1),n=(0,z.KR)(!1),s=(0,z.Kh)([]);et.Od.forEach((e=>{s.push(e)}));const i=(0,z.KR)(-1),o=(0,z.Kh)(J().cloneDeep(s[0])),u=()=>{if(-1==i.value)return;const e=J().cloneDeep(s[i.value]);o.splice(0,o.length,...e),n.value=!0},r=e=>{let t=[];return e.forEach((e=>{let l=a(e[0]);1!=e[1]&&(l+="*"+e[1]),t.push(l)})),t.join("+")},c=()=>{t.emit("apply:formula",o),n.value=!1},p=e=>{o.splice(0,o.length,...J().cloneDeep(e)),i.value=-1,n.value=!1};return{displayName:a,expanded:l,artifactScoreFormulaList:s,artifactScoreFormulaName:r,selectedIndex:i,currentFormula:o,selectOnChange:u,changed:n,applyFormula:c,initialize:p}}});const Lc=(0,ne.A)(hc,[["render",gc],["__scopeId","data-v-79e749d5"]]);var Cc=Lc,Sc=(0,n.pM)({name:"App",props:{characterInput:{type:Object,required:!0},artifactDetailInput:{type:Object,required:!0},conditionInput:{type:Object,required:!0},recommendationList:{type:Array,required:!0},recommendation:{type:Object,required:!0},urldata:{type:Object},teamMembers:{type:Array}},components:{AboutMyApp:fr,ArtifactDetailInput:xn,ArtifactOwnList:cc,ArtifactScoreFormula:Cc,ArtifactSetSelect:ra.A,CharacterInfo:qt,CharacterInput:lt,CharacterOwnList:Vr,CharacterSelect:oe.A,ConditionInput:$n,ConfigurationInput:Cr,DamageResult:Au,EasyTeamInput:ei,ElementalResonanceInput:di,MiscOptionInput:mo,NextStat:Qs,RotationDamage:ur,ShareSns:dr,StatsInput:Ss,TeamOptionInput:lo,TitleAndHeader:ie,WeaponOwnList:Pr,WeaponSelect:ua},setup(e){const{setI18nLanguage:t,displayName:a}=(0,ae.A)(),l=(0,z.KR)([]),s=Object.keys(et.Zn),i=["基本ステータス","高級ステータス"],o=["元素ステータス·ダメージ","ダメージバフ","実数ダメージ加算","元素反応バフ"],u=["基礎ステータス","元素ステータス·耐性"],r=["その他","ステータス連動","チーム内最高値"],c=["敵ステータス·元素耐性"],p=["敵ステータス·その他"],d=et.zA,m=(0,z.KR)(),k=(0,z.KR)(),b=(0,z.KR)(),f=(0,z.KR)(),v=(0,z.KR)(),y=(0,z.KR)(),g=(0,z.KR)(),h=(0,z.KR)(),L=(0,z.KR)(),C=(0,z.KR)(),S=(0,z.Kh)((0,Ze.D$)()),E=(0,z.Kh)((0,Ze.fD)()),_=(0,z.Kh)((0,Ze.BP)()),R=(0,z.Kh)((0,Ze.Xs)()),I=(0,z.Kh)((0,Ze.b7)()),O=(0,z.KR)(d[0]),N=(0,z.Kh)((0,Ze.GQ)()),X=(0,z.Kh)((0,Ze.GQ)()),w=(0,z.Kh)([]),A=(0,z.KR)({}),V=(0,z.Kh)({}),M=(0,z.Kh)({"全武器解放":!1,"聖遺物詳細サブ効果オンリー":!1,"聖遺物サブ効果計算停止":!1}),K=(0,z.Kh)(J().cloneDeep(et.Od[0])),T=(0,z.Kh)([]),D=(0,Ze.Xs)(),W=(0,z.Kh)([]),F=(0,z.Kh)({totalDamage:0,rotationDamages:[]});(0,Dn.BW)(S,e.characterInput),(0,Dn.BW)(E,e.artifactDetailInput),(0,Dn.BW)(_,e.conditionInput),w.splice(0,w.length,...e.recommendationList),(0,Dn.BW)(A,e.recommendation),I.statAdjustments["敵レベル"]=90,I.statAdjustments["敵防御力"]=0;const U=(0,z.KR)(!1),x=(0,z.KR)(0),j=(0,z.KR)(!1),H=(0,z.KR)(!1),Q=(0,z.KR)(!1),B=(0,z.KR)(0),P=S.artifactSets,q=(0,z.KR)(!0),Y=(0,z.KR)(!0),G=(0,z.KR)(!0),$=(0,z.KR)(!0),Z=(0,z.KR)(1),ee=(0,z.KR)(1),te=(0,z.KR)(!1),le=(0,z.KR)(!1),ne=(0,z.KR)(!1),se=(0,z.KR)(!1),ie=(0,z.KR)(!1),oe=(0,z.KR)(0);(0,n.sV)((async()=>{t("en-us"),t("ja-jp"),e.recommendation.build?.artifactScoring&&Le(e.recommendation.build.artifactScoring),(0,Ze.fY)(R),await(0,n.dY)(),await Promise.all(s.map((e=>(0,Qt._J)(D,e)))),await Ce(),await Ee(S.character,e.teamMembers)}));const ue=(0,n.EW)((()=>M.全武器解放?void 0:S.characterMaster.武器)),re=(0,n.EW)((()=>(0,Qt.zd)(S,E,K))),ce=(0,n.EW)((()=>M["聖遺物詳細サブ効果オンリー"])),pe=(0,n.EW)((()=>{const e=["特殊通常攻撃","特殊重撃","特殊落下攻撃"],t=[!1,!1,!1],a=Object.keys(S.characterMaster).filter((t=>e.includes(t))).map((e=>[e,S.characterMaster[e]]));if(a.length>0)for(const l of a){const a=e.indexOf(l[0]),n=l[1];n.条件 in _.conditionValues&&_.conditionValues[n.条件]&&(t[a]=!0)}return t})),de=(0,n.EW)((()=>[S.damageDetailMyCharacter,S.damageDetailMyWeapon,S.damageDetailMyArtifactSets])),me=(0,n.EW)((()=>{const e={};return Ze.Nk.forEach((t=>{e[t]=I.statsObj[t]})),e})),ke=(0,n.EW)((()=>{const e=(0,Ze.II)(S,E,_),t=(0,Ze.cq)(S.character,R);return[e,t]})),be=(0,n.EW)((()=>{oe.value;const[e,t]=ke.value,a=(0,Ze.F0)(S.character,S.buildname),l=(0,Ze.Uo)(S.character,S.buildname);let n=!1;return J().isEqual(JSON.stringify(e),localStorage.getItem(a))&&J().isEqual(JSON.stringify(t),localStorage.getItem(l))||(n=!0),n})),fe=async()=>{j.value=!j.value,j.value&&(await(0,n.dY)(),document.querySelector(".pane2")?.scrollIntoView({block:"nearest"}))},ve=async()=>{H.value=!H.value,H.value&&(Q.value=!1,q.value=!1,U.value=!1,await(0,n.dY)(),document.querySelector(".pane4")?.scrollIntoView({block:"nearest"}))},ye=async e=>{e==B.value?Q.value=!Q.value:(B.value=e,Q.value=!0),Q.value&&(H.value=!1,q.value=!1,U.value=!1,await(0,n.dY)(),document.querySelector(".pane4")?.scrollIntoView({block:"nearest"}))},ge=()=>{q.value=!q.value,q.value&&(H.value=!1,Q.value=!1,U.value=!1)},he=e=>{x.value==e?U.value=!U.value:(x.value=e,U.value=!0),U.value&&(H.value=!1,Q.value=!1,q.value=!1)},Le=e=>{K.splice(0,K.length,...e)};async function Ce(){const e=Object.keys(V),t=[];s.forEach((a=>{const l=(0,Ze.F0)(a);let n=l,s=(0,Ze.no)(a);e.includes(a)&&(s=V[a],n=(0,Ze.F0)(a,s));let i=localStorage[n];if(i)t.push({key:a,value:i,buildname:s});else{const e=Object.keys(localStorage).filter((e=>e.startsWith(l)));e.length&&(n=e.sort()[0],i=localStorage[n],s=n.replace(new RegExp("^"+l+"_"),""),t.push({key:a,value:i,buildname:s}),V[a]=s)}}));const a=[];t.forEach((e=>{const t=T.filter((t=>t.key==e.key));t.length&&J().isEqual(t[0].value,e.value)&&!["雷電将軍"].includes(e.key)||a.push(e)}));const l=t.map((e=>e.key)),n=T.filter((e=>!l.includes(e.key))).map((e=>e.key));if(T.splice(0,T.length,...t),a.length){const e=a.map((e=>(0,Qt._J)(R,e.key,e.value,S.character)));await Promise.all(e)}s.filter((e=>!T.map((e=>e.key)).includes(e))).forEach((e=>{R.supporters[e]=D.supporters[e]})),(0,Ze.ux)(R),y.value&&(console.log("App","supporters",l,n),y.value.initializeSupporters(R.supporters))}function Se(){(0,Qt.s2)(I,S,E,_,R),(0,Ze.OE)(_,S,I.statsObj),f.value&&f.value.initialize(_),(0,Qt.s2)(I,S,E,_,R),(0,Qt.h9)(N,S,_,I),(0,Qt.Ei)(N,S,R);const e=J().cloneDeep(I);e.statsObj["元素熟知"]=(e.statsObj["元素熟知"]||0)+120,(0,Qt.h9)(X,S,_,e),(0,Qt.Ei)(X,S,R),C.value&&C.value.setupNextStatRows(),oe.value++}const Ee=async function(t,a){console.debug("updateCharacter",t,a),L.value&&L.value.clearCopiedDamageResult(),j.value=!1,S.character=t,S.characterMaster=await(0,et.Td)(t);let l=0;if("キャラクター所持状況"in localStorage){const e=JSON.parse(localStorage["キャラクター所持状況"]);t in e&&e[t]&&(l=Number(e[t]))}const s=(0,Ze.E_)(S.characterMaster);l>s&&(l=s),S.命ノ星座=l,S.通常攻撃レベル=8,S.元素スキルレベル=8,S.元素爆発レベル=8;const i=S.characterMaster.元素スキル.名前,o=S.characterMaster.元素爆発.名前;for(let e=1;e<=l;e++){if(3!=e&&5!=e)continue;const t=S.characterMaster.命ノ星座[String(e)];t&&t.説明&&(i&&-1!=t.説明.indexOf(i)?S.元素スキルレベル+=3:o&&-1!=t.説明.indexOf(o)&&(S.元素爆発レベル+=3))}const u=e.urldata&&e.urldata.キャラクター==t?e.urldata:void 0;w.splice(0,w.length,...(0,Ze.Y5)(S.characterMaster,u)),A.value=w[0],S.recommendationSelectedIndex=0,a?R.teamMembers.splice(0,R.teamMembers.length,...a):R.teamMembers.splice(0,R.teamMembers.length),Le(et.Od[0]),await Ce(),(0,Qt.V5)(R,me.value,t),await _e(A.value),y.value&&y.value.initializeSupporters(R.supporters),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},_e=async e=>{if(console.log("App","recommendation",e),await(0,Ze.g4)(S,E,_,R,e.build,e.name),!("精錬ランク"in e.build)){const e=S.weapon;let t,a=[1,1,1,5,3,1][S.weaponMaster.レアリティ];if("武器所持状況"in localStorage){const a=JSON.parse(localStorage["武器所持状況"]);e in a&&a[e]&&(t=Number(a[e]))}t?a=t:void 0!==S.weaponMaster.精錬ランク&&(a=S.weaponMaster.精錬ランク);const l=S.weaponMaster.レアリティ<3?1:5;a>l&&(a=l),S.武器精錬ランク=Number(a)}(0,Ze.Lk)(S),(0,Ze.Oq)(S),(0,Ze.pL)(S),(0,Ze.D2)(S),(0,Ze.N2)(_,S,R),await Fe(),(0,Qt.Jo)(E.聖遺物ステータスメイン効果,E.聖遺物メイン効果);let t=!E.聖遺物優先するサブ効果Disabled;if("聖遺物サブ効果計算停止"in M&&M.聖遺物サブ効果計算停止&&(t=!1),t){const e=[];for(let t=0;t<E.聖遺物優先するサブ効果.length;t++)e.push((0,Ze.Yk)(E.聖遺物優先するサブ効果,t));(0,Qt.om)(E.聖遺物ステータスサブ効果,E.聖遺物メイン効果,E.聖遺物優先するサブ効果,E.聖遺物優先するサブ効果上昇値,e,E.聖遺物優先するサブ効果上昇回数)}(0,Qt.S_)(E);const a=(0,Qt.WI)(R,_,S,I);if((0,Dn.BW)(R.elementalResonance.conditionAdjustments,a),Se(),e.overwrite?S.buildname=e.name:S.buildname="",S.removeDisabled=!e.overwrite,await(0,n.dY)(),v.value&&v.value.initializeValues(R),y.value&&y.value.initializeValues(R.teamOption),g.value&&g.value.initializeValues(R.miscOption),C.value&&(C.value.initializeEvaluationItem(),C.value.setupNextStatRows()),"artifactScoring"in e.build){const t=e.build.artifactScoring;Le(t),h.value&&h.value.initialize(K)}},Re=e=>{Object.keys(e).forEach((t=>{t in S&&(S[t]=e[t])})),(0,Ze.Lk)(S),(0,Ze.N2)(_,S,R),Se()},Ie=async e=>{S.weapon=e,S.weaponMaster=await(0,et.cd)(e);const t=[4,4,4,6,6,6][S.weaponMaster.レアリティ];S.武器突破レベル>t&&(S.武器突破レベル=t,S.武器レベル=[20,40,50,60,70,80,90][t]);let a,l=[1,1,1,5,3,1][S.weaponMaster.レアリティ];if("武器所持状況"in localStorage){const t=JSON.parse(localStorage["武器所持状況"]);e in t&&t[e]&&(a=Number(t[e]))}a?l=a:void 0!==S.weaponMaster.精錬ランク&&(l=S.weaponMaster.精錬ランク);const s=S.weaponMaster.レアリティ<3?1:5;l>s&&(l=s),S.武器精錬ランク=Number(l),(0,Ze.Oq)(S),(0,Ze.N2)(_,S,R),Se(),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},Oe=e=>{Object.keys(e).forEach((t=>{S&&t in S&&(S[t]=e[t])})),(0,Ze.Oq)(S),(0,Ze.N2)(_,S,R),Se()},Ne=async e=>{P[B.value]=e;const t=et.Z3[e];S.artifactSetMasters.splice(B.value,1,t),(0,Ze.pL)(S),(0,Ze.N2)(_,S,R),Se(),await(0,n.dY)(),document.querySelector(".pane3")?.scrollIntoView({block:"nearest"})},Xe=e=>{E.聖遺物メイン効果.splice(0,E.聖遺物メイン効果.length,...e.聖遺物メイン効果),E.聖遺物優先するサブ効果.splice(0,E.聖遺物優先するサブ効果.length,...e.聖遺物優先するサブ効果),E.聖遺物優先するサブ効果上昇値.splice(0,E.聖遺物優先するサブ効果上昇値.length,...e.聖遺物優先するサブ効果上昇値),E.聖遺物優先するサブ効果上昇回数.splice(0,E.聖遺物優先するサブ効果上昇回数.length,...e.聖遺物優先するサブ効果上昇回数);for(const t of Object.keys(e.聖遺物ステータス))E.聖遺物ステータス[t]=e.聖遺物ステータス[t];E.artifact_list.splice(0,E.artifact_list.length,...e.artifact_list),Se(),M.聖遺物サブ効果計算停止=e.聖遺物優先するサブ効果Disabled},we=()=>{I.enemyMaster=O.value,Se()},Ae=e=>{e&&Object.keys(e).forEach((t=>{I.statAdjustments[t]=e[t]})),Se()},Ve=e=>{(0,Dn.BW)(_.conditionValues,e);const t=(0,Qt.WI)(R,_,S,I);(0,Dn.BW)(R.elementalResonance.conditionAdjustments,t),Se()},Me=(e,t=!1)=>{let a=!1,l=!1,n=!1;if(e?.elementalResonance?.conditionValues&&Object.keys(e.elementalResonance.conditionValues).length&&(J().isEqual(R.elementalResonance.conditionValues,e.elementalResonance.conditionValues)||((0,Dn.BW)(R.elementalResonance.conditionValues,e.elementalResonance.conditionValues),a=!0)),e?.moonsign&&!J().isEqual(R.moonsign,e.moonsign)&&(R.moonsign.nascentGleam=e.moonsign.nascentGleam,R.moonsign.ascendantGleam=e.moonsign.ascendantGleam,R.moonsign.otherCharacter=e.moonsign.otherCharacter,R.moonsign.lunarDmgBonus=e.moonsign.lunarDmgBonus,l=!0),e?.hexerei&&!J().isEqual(R.hexerei,e.hexerei)&&(R.hexerei.hexerei=e.hexerei.hexerei,n=!0),!a&&!l&&!n&&!t)return;(0,Ze.N2)(_,S,R);const s=(0,Qt.WI)(R,_,S,I);(0,Dn.BW)(R.elementalResonance.conditionAdjustments,s),(0,Qt.V5)(R,me.value,S.character),Se()},Ke=e=>{e&&(J().isEqual(R.miscOption.conditionValues,e)||(0,Dn.BW)(R.miscOption.conditionValues,e),(0,Qt.QQ)(R),Se())},Te=e=>{e&&(J().isEqual(R.teamOption.conditionValues,e)||(0,Dn.BW)(R.teamOption.conditionValues,e),(0,Qt.V5)(R,me.value,S.character),Se())},De=async e=>{(0,Dn.BW)(V,e),await Ce(),(0,Qt.V5)(R,me.value,S.character),Se()},We=async e=>{R.teamMembers.splice(0,R.teamMembers.length,...e),await Fe(),(0,Qt.V5)(R,me.value,S.character),Se()};async function Fe(){await(0,Ze.c0)(S,_,R),await(0,Ze.Ww)(S,R)&&v.value&&v.value.initializeValues(R),console.log("App","conditionValues",_.conditionValues)}const Ue=e=>{e&&(I.statAdjustmentsEx=e,Ae())},xe=e=>{Array.isArray(e)&&W.splice(0,W.length,...e)},je=e=>{F.totalDamage=e.totalDamage,F.rotationDamages.splice(0,F.rotationDamages.length,...e.rotationDamages)},He=e=>{console.debug(e),e.全武器解放&&console.log("全武器解放"),e.聖遺物サブ効果計算停止&&(E.聖遺物優先するサブ効果Disabled=!0)},Qe=()=>{b.value&&b.value.initializeArtifactStatsSub()},Be=()=>{(0,Ze.q6)(S,E,_)},Pe=async t=>{const[a,l]=ke.value,n=(0,Ze.F0)(S.character,t),s=(0,Ze.Uo)(S.character,t);localStorage.setItem(n,JSON.stringify(a)),localStorage.setItem(s,JSON.stringify(l));const i=K,o=(0,Ze.y$)(S.character,t);localStorage.setItem(o,JSON.stringify(i));const u=e.urldata&&e.urldata.キャラクター==S.character?e.urldata:void 0;w.splice(0,w.length,...(0,Ze.Y5)(S.characterMaster,u)),await Ce(),n==(0,Ze.F0)(S.character)&&(S.buildname=(0,Ze.no)(S.character));const r="artifact_list";if(E.artifact_list&&E.artifact_list.length){let e=[],t=localStorage.getItem(r);t&&(e=JSON.parse(t));let a=!1;for(const l of E.artifact_list)0==e.filter((e=>J().isEqual(e,l))).length&&(e.push(l),a=!0);a&&localStorage.setItem(r,JSON.stringify(e))}S.removeDisabled=!1,oe.value++},qe=async t=>{let a=S.character;const l=[(0,Ze.no)(S.character)];t&&!l.includes(t)&&(a+="_"+t);const n="構成_"+a;localStorage.removeItem(n);const s="オプション構成_"+a;localStorage.removeItem(s);const i="ArtifactScoring_"+a;localStorage.removeItem(i);const o=e.urldata&&e.urldata.キャラクター==S.character?e.urldata:void 0;w.splice(0,w.length,...(0,Ze.Y5)(S.characterMaster,o)),await Ce(),S.removeDisabled=!0,oe.value++},Ye=()=>{localStorage.clear(),ie.value=!1},Ge=e=>e&&J().isPlainObject(e)?Object.keys(e):[],Je=(e,t)=>e&&J().isPlainObject(e)?e[t]:void 0;return{displayName:a,HTML_LOGGER:l,CHARACTER_STATS_CATEGORY1_LIST:i,CHARACTER_STATS_CATEGORY2_LIST:o,CHARACTER_STATS2_CATEGORY1_LIST:u,CHARACTER_STATS2_CATEGORY2_LIST:r,ENEMY_STATS_CATEGORY1_LIST:c,ENEMY_STATS_CATEGORY2_LIST:p,ENEMY_LIST:d,characterSelectVmRef:m,characterInputVmRef:k,artifactDetailInputVmRef:b,conditionInputVmRef:f,elementalResonanceInputVmRef:v,teamOptionInputVmRef:y,miscOptionInputVmRef:g,artifactScoreFormulaVmRef:h,damageResultVmRef:L,nextStatVmRef:C,characterInputRea:S,artifactDetailInputRea:E,conditionInputRea:_,optionInputRea:R,statsInput:I,selectedEnemyRef:O,damageResult:N,damageResult2:X,recommendationListRea:w,recommendationRef:A,configurationInputRea:M,artifactScoringStats:K,savedSupporters:T,nextStatRows:W,rotationDamageInfo:F,characterInfoVisibleRef:U,characterInfoModeRef:x,characterSelectVisibleRef:j,weaponSelectVisibleRef:H,artifactSetSelectVisibleRef:Q,artifactSetIndexRef:B,artifactSets:P,artifactDetailInputVisibleRef:q,pane6Toggle1Ref:Y,pane6Toggle2Ref:G,pane6Toggle3Ref:$,statInputTabRef:Z,optionInputTabRef:ee,optionInputSupporterRef:te,ownListToggle1Ref:le,ownListToggle2Ref:ne,ownListToggle3Ref:se,enableClearLocalStorage:ie,builddataSavable:be,weaponType:ue,artifactScore:re,isSubStatOnly:ce,normalAttackReplacing:pe,myDamageDatailArr:de,topStats:me,openCharacterSelect:fe,openWeaponSelect:ve,openArtifactSetSelect:ye,openArtifactDetailInput:ge,openCharacterInfo:he,applyArtifactScoreFormula:Le,updateCharacter:Ee,updateRecommendation:_e,updateCharacterInputCharacter:Re,updateWeapon:Ie,updateCharacterInputWeapon:Oe,updateArtifactSet:Ne,updateArtifactDetail:Xe,updateEnemy:we,updateStatAdjustments:Ae,updateCondition:Ve,updateElementalResonance:Me,updateMiscOption:Ke,updateTeamOption:Te,updateBuildnameSelection:De,updateTeamMembers:We,updateNextStatAdjustments:Ue,updateNextStatRows:xe,updateRotationDamage:je,updateConfigurationInput:He,orderInitializeArtifactStatsSub:Qe,openTwitter:Be,saveToStorage:Pe,removeFromStorage:qe,clearLocalStorage:Ye,objectKeys:Ge,getValue:Je}}});const Ec=(0,ne.A)(Sc,[["render",Y],["__scopeId","data-v-5f797766"]]);var _c=Ec;function Rc(e){const t={};try{const a=e.split(",");let l,n=0;for((et.Zi.forEach(((e,s)=>{let i=a[n];switch(s){case"キャラクター":Object.keys(et.Zn).forEach((e=>{if("import"in et.Zn[e]){const t=(0,Dn.P8)(et.Zn[e]["import"]),a=t.split("_")[t.split("_").length-1];i==a&&(l=e,i=l)}}));break;case"武器":if(l){const e=et.Zn[l]["武器"],t=et._U[e];let a;Object.keys(t).forEach((t=>{if("import"in et._U[e][t]){const l=(0,Dn.P8)(et._U[e][t]["import"]),n=l.split("_")[l.split("_").length-1];i==n&&(a=t)}})),a||(a=Object.keys(et._U[e]).filter((e=>e.startsWith("西風")))[0]),i=a}break;case"聖遺物セット効果1":case"聖遺物セット効果2":i?Object.keys(et.Z3).forEach((e=>{if("image"in et.Z3[e]){const t=(0,Dn.P8)(et.Z3[e]["image"]),a=t.split("_")[t.split("_").length-1];i==a&&(i=e)}})):i="NONE";break;case"聖遺物メイン効果1":case"聖遺物メイン効果2":case"聖遺物メイン効果3":case"聖遺物メイン効果4":case"聖遺物メイン効果5":i&&(i=i.split("_")[0]+"_"+et.ts.get(i.split("_")[1]));break}s.match(/^聖遺物優先するサブ効果\d$/)&&i&&(i=et.ts.get(i)),null!=e&&(0,Dn.kf)(e)?t[s]=i?Number(i):0:t[s]=i||"",n++})));n<a.length;n++){const e=a[n];let l,s;if(1!=e.indexOf("=")){const a=e.split("=");l=a[0],s=a[1],t[l]=s}}return t}catch(a){throw console.error(a),a}}function Ic(){const e=new Date;let t=Number.MAX_SAFE_INTEGER,a=et.AB[0].key;for(const l of et.AB)if(l["誕生日"]){const n=l["誕生日"].split("/"),s=new Date(e.getFullYear(),Number(n[0])-1,Number(n[1]),0,0,0,0),i=e.getTime()-s.getTime();if(i<0)continue;i<t&&(t=i,a=l.key)}return a}async function Oc(){const e=(0,Ze.D$)(),t=(0,Ze.fD)(),a=(0,Ze.BP)(),n=(0,Ze.Xs)(),s=new URLSearchParams(window.location.search);let i,o,u,r;if(s.has("allin")){const e=s.get("allin");e?(u=Rc(e),i=u.キャラクター):console.error("query strings are not valid!")}else{if([i,o,u,r]=(0,Ze.uI)(),i||(i=Ic()),o&&!u){const e=localStorage.getItem((0,Ze.F0)(i,o));e&&(u=JSON.parse(e))}u&&void 0!==r&&(void 0===u.options&&(u.options={}),u.options.teamMembers=r)}e.character=i,e.characterMaster=await(0,et.Td)(e.character);const c=(0,Ze.Y5)(e.characterMaster,u);let p;o&&(p=c.filter((e=>e.name==o))[0]),p||(p=c[0]),await(0,Ze.g4)(e,t,a,n,p.build),(0,l.Ef)(_c,{characterInput:e,artifactDetailInput:t,conditionInput:a,recommendationList:c,recommendation:p,urldata:u,teamMembers:n.teamMembers}).use($e.A).mount("#app")}Oc()},8330:function(e){e.exports={rE:"4.1.6"}}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var s=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,s){if(!l){var i=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],s=e[c][2];for(var o=!0,u=0;u<l.length;u++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](l[u])}))?l.splice(u--,1):(o=!1,s<i&&(i=s));if(o){e.splice(c--,1);var r=n();void 0!==r&&(t=r)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,n,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.j=57}(),function(){var e={57:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,s,i=l[0],o=l[1],u=l[2],r=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(u)var c=u(a)}for(t&&t(l);r<i.length;r++)s=i[r],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},l=self["webpackChunkgencalc"]=self["webpackChunkgencalc"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504,996],(function(){return a(5797)}));l=a.O(l)})();
//# sourceMappingURL=index.5db56845.js.map