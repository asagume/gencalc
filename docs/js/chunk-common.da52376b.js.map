{"version":3,"file":"js/chunk-common.da52376b.js","mappings":"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","sources":["webpack://gencalc/./src/common.ts","webpack://gencalc/./src/i18n.ts","webpack://gencalc/./src/components/CharacterSelect.vue?c946","webpack://gencalc/./src/components/CharacterSelect.vue?1f8b","webpack://gencalc/./src/components/CharacterSelect.vue","webpack://gencalc/./src/components/CompositionFunction.vue?c68d","webpack://gencalc/./src/components/CompositionFunction.vue"],"sourcesContent":["export function isString(value: any): boolean {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\n\r\nexport function isNumber(value: any): boolean {\r\n    return isFinite(value) && value != null;\r\n}\r\n\r\nexport function isBoolean(value: any): boolean {\r\n    return value === true || value === false;\r\n}\r\n\r\nexport function isPlainObject(value: any): boolean {\r\n    const myType = Object.prototype.toString.call(value);\r\n    return myType === '[object Object]';\r\n}\r\n\r\n/** 簡易なdeep copy。undefinedなどは消失します */\r\nexport function deepcopy(value: any): any {\r\n    const result = JSON.parse(JSON.stringify(value));\r\n    return result;\r\n}\r\n\r\nexport function overwriteObject(dst: any, src: any) {\r\n    if (isPlainObject(src) && isPlainObject(dst)) {\r\n        const srcKeys = Object.keys(src);\r\n        for (const key of srcKeys) {\r\n            dst[key] = src[key];\r\n        }\r\n        for (const key of Object.keys(dst)) {\r\n            if (!srcKeys.includes(key)) delete dst[key];\r\n        }\r\n    }\r\n    return dst;\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport const basename = (path: string) => path!.split('/')!.pop()!.split('.')!.shift()!;\r\n","import { createI18n } from 'vue-i18n'\r\n\r\nconst i18n = createI18n({\r\n  legacy: false,\r\n  locale: 'ja-jp',\r\n  fallbackLocale: 'en-us',\r\n  isGlobal: true,\r\n})\r\nexport default i18n;\r\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, vShow as _vShow, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a66d2282\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"select-list\" }\nconst _hoisted_3 = [\"onUpdate:modelValue\", \"onChange\"]\nconst _hoisted_4 = [\"src\", \"alt\"]\nconst _hoisted_5 = { class: \"select-list\" }\nconst _hoisted_6 = [\"onUpdate:modelValue\", \"onChange\"]\nconst _hoisted_7 = [\"src\", \"alt\"]\nconst _hoisted_8 = { class: \"select-list\" }\nconst _hoisted_9 = [\"src\", \"alt\", \"onClick\"]\nconst _hoisted_10 = { class: \"tooltip\" }\nconst _hoisted_11 = [\"src\", \"alt\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.visible)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"ul\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.elementList, (item) => {\n            return (_openBlock(), _createElementBlock(\"li\", { key: item }, [\n              _createElementVNode(\"label\", null, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  class: \"hidden\",\n                  type: \"checkbox\",\n                  \"onUpdate:modelValue\": ($event: any) => ((_ctx.elementCheckList[item]) = $event),\n                  onChange: ($event: any) => (_ctx.checkListOnChange(item, _ctx.elementCheckList))\n                }, null, 40, _hoisted_3), [\n                  [_vModelCheckbox, _ctx.elementCheckList[item]]\n                ]),\n                _createElementVNode(\"img\", {\n                  class: \"filter\",\n                  src: _ctx.elementSrc(item),\n                  alt: item\n                }, null, 8, _hoisted_4)\n              ])\n            ]))\n          }), 128))\n        ]),\n        _createElementVNode(\"ul\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.weaponList, (item) => {\n            return (_openBlock(), _createElementBlock(\"li\", { key: item }, [\n              _createElementVNode(\"label\", null, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  class: \"hidden\",\n                  type: \"checkbox\",\n                  \"onUpdate:modelValue\": ($event: any) => ((_ctx.weaponCheckList[item]) = $event),\n                  onChange: ($event: any) => (_ctx.checkListOnChange(item, _ctx.weaponCheckList))\n                }, null, 40, _hoisted_6), [\n                  [_vModelCheckbox, _ctx.weaponCheckList[item]]\n                ]),\n                _createElementVNode(\"img\", {\n                  class: \"filter\",\n                  src: _ctx.weaponSrc(item),\n                  alt: item\n                }, null, 8, _hoisted_7)\n              ])\n            ]))\n          }), 128))\n        ]),\n        _createElementVNode(\"ul\", _hoisted_8, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filteredList, (item) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              class: \"with-tooltip\",\n              key: item.key\n            }, [\n              _createElementVNode(\"img\", {\n                class: _normalizeClass('character' + _ctx.bgImageClass(item) + _ctx.selectedClass(item)),\n                src: item.icon_url,\n                alt: item.key,\n                onClick: ($event: any) => (_ctx.characterOnClick(item.key))\n              }, null, 10, _hoisted_9),\n              _createElementVNode(\"div\", _hoisted_10, _toDisplayString(_ctx.displayName(item.key)), 1),\n              _createElementVNode(\"img\", {\n                class: \"vision\",\n                src: _ctx.visionSrc(item),\n                alt: item.元素\n              }, null, 8, _hoisted_11),\n              _withDirectives(_createElementVNode(\"div\", { class: \"selection-number\" }, _toDisplayString(_ctx.selectionNumber(item.key)), 513), [\n                [_vShow, _ctx.selectionNumber(item.key)]\n              ])\n            ]))\n          }), 128))\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","\r\nimport {\r\n  TCharacterEntry,\r\n  ELEMENT_IMG_SRC,\r\n  TVisionKey,\r\n  WEAPON_IMG_SRC,\r\n  TWeaponTypeKey,\r\n  CHARACTER_MASTER_LIST,\r\n  STAR_BACKGROUND_IMAGE_CLASS,\r\n} from \"@/master\";\r\nimport { defineComponent, reactive, computed, PropType } from \"vue\";\r\nimport CompositionFunction from \"./CompositionFunction.vue\";\r\n\r\ninterface ICheckList {\r\n  [key: string]: boolean;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"CharacterSelect\",\r\n  props: {\r\n    character: { type: String },\r\n    characters: { type: Array as PropType<string[]> },\r\n    visible: { type: Boolean, required: true },\r\n  },\r\n  emits: [\"update:character\", \"update:characters\"],\r\n  setup(props, context) {\r\n    const { displayName } = CompositionFunction();\r\n\r\n    const visionSrc = (item: TCharacterEntry) => ELEMENT_IMG_SRC[item.元素];\r\n    const bgImageClass = (item: TCharacterEntry) =>\r\n      (\" \" + STAR_BACKGROUND_IMAGE_CLASS[item.レアリティ]) as string;\r\n    const selectedClass = (item: TCharacterEntry) => {\r\n      if (props.character && props.character == item.key) {\r\n        return \" selected\";\r\n      }\r\n      if (props.characters && props.characters.includes(item.key)) {\r\n        return \" selected\";\r\n      }\r\n      return \"\";\r\n    };\r\n\r\n    const elementList = Object.keys(ELEMENT_IMG_SRC) as TVisionKey[];\r\n    const elementSrc = (element: TVisionKey) => ELEMENT_IMG_SRC[element] as string;\r\n    const elementCheckList = reactive({}) as ICheckList;\r\n    for (let key of elementList) {\r\n      elementCheckList[key] = false;\r\n    }\r\n\r\n    const weaponList = Object.keys(WEAPON_IMG_SRC) as TWeaponTypeKey[];\r\n    const weaponSrc = (weapon: TWeaponTypeKey) => WEAPON_IMG_SRC[weapon] as string;\r\n    const weaponCheckList = reactive({}) as ICheckList;\r\n    for (let key of weaponList) {\r\n      weaponCheckList[key] = false;\r\n    }\r\n\r\n    const checkListOnChange = function (item: string, checkList: ICheckList) {\r\n      if (!checkList[item]) return;\r\n      Object.keys(checkList)\r\n        .filter((s) => s != item)\r\n        .forEach((key) => {\r\n          checkList[key] = false;\r\n        });\r\n    };\r\n\r\n    const filteredList = computed(() => {\r\n      const result = [];\r\n      const elementChecked =\r\n        Object.keys(elementCheckList).filter((s) => elementCheckList[s]).length > 0;\r\n      const weaponChecked =\r\n        Object.keys(weaponCheckList).filter((s) => weaponCheckList[s]).length > 0;\r\n      for (let entry of CHARACTER_MASTER_LIST as TCharacterEntry[]) {\r\n        if (elementChecked && !elementCheckList[entry.元素]) continue;\r\n        if (weaponChecked && !weaponCheckList[entry.武器]) continue;\r\n        result.push(entry);\r\n      }\r\n      return result;\r\n    });\r\n\r\n    const selectionNumber = (character: string) => {\r\n      let result = \"\";\r\n      if (props.characters) {\r\n        const index = props.characters.indexOf(character);\r\n        if (index != -1) {\r\n          result = String(index + 1);\r\n        }\r\n      }\r\n      return result;\r\n    };\r\n\r\n    const characterOnClick = (character: string) => {\r\n      if (props.character) {\r\n        context.emit(\"update:character\", character);\r\n      }\r\n      if (props.characters) {\r\n        const characters: string[] = props.characters.map((s) => s);\r\n        const index = props.characters.indexOf(character);\r\n        if (index != -1) {\r\n          characters[index] = \"\";\r\n        } else {\r\n          const blankIndex = props.characters.indexOf(\"\");\r\n          if (blankIndex != -1) {\r\n            characters[blankIndex] = character;\r\n          }\r\n        }\r\n        context.emit(\"update:characters\", characters);\r\n      }\r\n    };\r\n\r\n    return {\r\n      displayName,\r\n\r\n      visionSrc,\r\n      bgImageClass,\r\n      selectedClass,\r\n      elementList,\r\n      elementSrc,\r\n      elementCheckList,\r\n      weaponList,\r\n      weaponSrc,\r\n      weaponCheckList,\r\n      checkListOnChange,\r\n      filteredList,\r\n\r\n      selectionNumber,\r\n      characterOnClick,\r\n    };\r\n  },\r\n});\r\n","import { render } from \"./CharacterSelect.vue?vue&type=template&id=a66d2282&scoped=true&ts=true\"\nimport script from \"./CharacterSelect.vue?vue&type=script&lang=ts\"\nexport * from \"./CharacterSelect.vue?vue&type=script&lang=ts\"\n\nimport \"./CharacterSelect.vue?vue&type=style&index=0&id=a66d2282&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Github\\\\gencalc\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a66d2282\"]])\n\nexport default __exports__","\r\nimport i18n from \"@/i18n\";\r\nimport { STAT_PERCENT_LIST } from \"@/input\";\r\nimport { nextTick } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\n\r\nexport default function CompositionFunction() {\r\n    const { t, te } = useI18n({\r\n        useScope: \"global\",\r\n    });\r\n\r\n    const localeList = [\r\n        { name: \"日本語\", value: \"ja-jp\" },\r\n        { name: \"English\", value: \"en-us\" },\r\n        { name: \"简体中文\", value: \"zh-cn\" },\r\n        { name: \"繁體中文\", value: \"zh-tw\" },\r\n        { name: \"한국어\", value: \"ko-kr\" },\r\n        { name: \"Deutsch\", value: \"de-de\" },\r\n        { name: \"Español\", value: \"es-es\" },\r\n        { name: \"Français\", value: \"fr-fr\" },\r\n        { name: \"Indonesia\", value: \"id-id\" },\r\n        { name: \"Português\", value: \"pt-pt\" },\r\n        { name: \"Pусский\", value: \"ru-ru\" },\r\n        { name: 'ภาษาไทย', value: 'th-th' },\r\n        { name: \"Tiếng Việt\", value: \"vi-vn\" },\r\n    ];\r\n\r\n    const setI18nLanguage = function (locale: string) {\r\n        i18n.global.locale.value = locale;\r\n        loadLocaleMessages(locale);\r\n        document.querySelector('html')?.setAttribute('lang', locale)\r\n    }\r\n\r\n    const loadLocaleMessages = async function (locale: string) {\r\n        if (locale != 'ja-jp') {\r\n            const messages = await fetch(`./locales/${locale}.json`).then(resp => resp.json());\r\n            i18n.global.setLocaleMessage(locale, messages);\r\n        }\r\n        return nextTick();\r\n    }\r\n\r\n    const displayName = function (key: any): string {\r\n        if (!key) return key;\r\n        if (i18n.global.locale.value === 'ja-jp') { // 日本語はtranslateしません\r\n            let result = String(key);\r\n            if (['ダメージバフ', 'ダメージアップ', '反応ボーナス', '敵'].includes(result)) {\r\n                return result;\r\n            }\r\n            result = result.replace(/ダメージバフ$/, 'ダメージ');\r\n            result = result.replace(/ダメージアップ$/, 'ダメージ');\r\n            result = result.replace('凍結反応ボーナス', '凍結反応の継続時間');\r\n            result = result.replace(/反応ボーナス$/, '反応ダメージ');\r\n            result = result.replace(/^敵/, '敵の');\r\n            return result;\r\n        }\r\n        if (te(key)) return t(key);\r\n        const re = new RegExp('(.*?)([\\\\s_\\\\(\\\\)/]+)(.*)');\r\n        let result = '';\r\n        let work = key;\r\n        while (work) {\r\n            const reRet = re.exec(work);\r\n            if (!reRet) {\r\n                result += t(work);\r\n                break;\r\n            }\r\n            if (reRet[1]) result += t(reRet[1]);\r\n            result += reRet[2];\r\n            work = reRet[3];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    const percent = function (stat: string) {\r\n        const tempArr = stat.split('.');\r\n        let work = tempArr[0];\r\n        let hasPercent = work.endsWith(\"%\") || STAT_PERCENT_LIST.includes(work);\r\n        if (!hasPercent) {\r\n            ['会心率', '会心ダメージ', 'クールタイム'].forEach(postfix => {\r\n                if (work.endsWith(postfix)) hasPercent = true;\r\n            })\r\n        }\r\n        return hasPercent ? '%' : '';\r\n    }\r\n\r\n    const displayStatName = function (stat: string) {\r\n        let result = stat;\r\n        const tempArr = stat.split('.');\r\n        if (tempArr.length == 1) {\r\n            result = displayName(stat);\r\n            result = result.replace('ダメージ会心', 'ダメージの会心')\r\n        } else if (i18n.global.locale.value === 'ja-jp') {\r\n            result = tempArr[tempArr.length - 1] + 'の' + displayName(tempArr[0]);\r\n        } else {\r\n            result = displayName(tempArr[tempArr.length - 1]) + ' ' + displayName(tempArr[0]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    const displayStatValue = function (stat: string, value: number, opt_s?: number): string {\r\n        const myPercent = percent(stat);\r\n        let p = myPercent ? 10 : 1;\r\n        if (opt_s) p = Math.pow(10, opt_s);\r\n        return String(Math.round(value * p) / p) + myPercent;\r\n    }\r\n\r\n    const displayStatAbbrev = function (stat: string) {\r\n        let result = stat;\r\n        const tempArr = stat.split('.');\r\n        if (tempArr.length == 1) {\r\n            if (stat.startsWith('敵')) stat = stat.replace(/^敵/, '');\r\n            if (stat.endsWith('ダメージバフ')) stat = stat.replace(/ダメージバフ$/, '');\r\n            else if (stat.endsWith('ダメージアップ')) stat = stat.replace(/ダメージアップ$/, '');\r\n            else if (stat.endsWith('元素ダメージ')) stat = stat.replace(/元素ダメージ$/, '');\r\n            else if (stat.endsWith('物理ダメージ')) stat = stat.replace(/ダメージ$/, '');\r\n            else if (stat.endsWith('反応ボーナス')) stat = stat.replace(/反応ボーナス$/, '');\r\n            else if (stat.endsWith('耐性')) stat = stat.replace(/耐性$/, '');\r\n            result = displayName(stat);\r\n        } else {\r\n            result = displayStatName(stat);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /** $event.target.valueでのtypescriptエラー回避のために */\r\n    const targetValue = function (event: Event) {\r\n        if (event.target instanceof HTMLInputElement) return event.target.value;\r\n        if (event.target instanceof HTMLSelectElement) return event.target.value;\r\n        return undefined;\r\n    }\r\n\r\n    const displayOptionName = function (name: string) {\r\n        return displayName(name.replace(/^required_/, \"\"));\r\n    }\r\n\r\n    return {\r\n        localeList,\r\n        setI18nLanguage,\r\n        loadLocaleMessages,\r\n        displayName,\r\n        displayStatName,\r\n        displayStatValue,\r\n        displayStatAbbrev,\r\n        targetValue,\r\n        displayOptionName,\r\n    }\r\n}\r\n","import script from \"./CompositionFunction.vue?vue&type=script&lang=ts\"\nexport * from \"./CompositionFunction.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["isString","value","String","isNumber","isFinite","isBoolean","isPlainObject","myType","Object","prototype","toString","call","deepcopy","result","JSON","parse","stringify","overwriteObject","dst","src","srcKeys","keys","key","includes","basename","path","split","pop","shift","i18n","createI18n","legacy","locale","fallbackLocale","isGlobal","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","_ctx","_cache","$props","$setup","$data","$options","visible","_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","elementList","item","_withDirectives","type","$event","elementCheckList","onChange","checkListOnChange","_vModelCheckbox","elementSrc","alt","weaponList","weaponCheckList","weaponSrc","filteredList","_normalizeClass","bgImageClass","selectedClass","icon_url","onClick","characterOnClick","_toDisplayString","displayName","visionSrc","元素","selectionNumber","_vShow","_createCommentVNode","defineComponent","name","props","character","characters","Array","Boolean","required","emits","setup","context","CompositionFunction","ELEMENT_IMG_SRC","STAR_BACKGROUND_IMAGE_CLASS","レアリティ","element","reactive","WEAPON_IMG_SRC","weapon","checkList","filter","s","forEach","computed","elementChecked","length","weaponChecked","entry","CHARACTER_MASTER_LIST","武器","push","index","indexOf","emit","map","blankIndex","__exports__","t","te","useI18n","useScope","localeList","setI18nLanguage","loadLocaleMessages","document","querySelector","setAttribute","async","messages","fetch","then","resp","json","nextTick","replace","re","RegExp","work","reRet","exec","percent","stat","tempArr","hasPercent","endsWith","STAT_PERCENT_LIST","postfix","displayStatName","displayStatValue","opt_s","myPercent","p","Math","pow","round","displayStatAbbrev","startsWith","targetValue","event","target","HTMLInputElement","HTMLSelectElement","displayOptionName"],"sourceRoot":""}