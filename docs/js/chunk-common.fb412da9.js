"use strict";(self["webpackChunkgencalc"]=self["webpackChunkgencalc"]||[]).push([[64],{8710:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{BH:function(){return calculateArtifactScore},V1:function(){return calculateDamageResult},Zm:function(){return getStatValueByLevel},Zr:function(){return calculateArtifactStats},bk:function(){return calculateTeamStatsAdjustments},fk:function(){return calculateArtifactStatsMain},i6:function(){return calculateStats},i8:function(){return REACTION_DMG_ELEMENT_MAP},jX:function(){return calculateRotationTotalDamage},lT:function(){return setupTeamOptionSupporter},ni:function(){return REACTION_DMG_ARR},ns:function(){return evalFormula},oV:function(){return getDamageResultArr},pA:function(){return calculateMiscStatsAdjustments},q4:function(){return getAmplifyingReactionElement},qJ:function(){return calculateArtifactSubStatByPriority},rs:function(){return calculateRotationDamageEntry},vd:function(){return calculateElementalResonance},vt:function(){return calculateReactedDamage}});var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(560),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4806),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5983),_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2986),_master__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6125);const REACTION_DMG_ARR=["過負荷ダメージ","感電ダメージ","超電導ダメージ","拡散ダメージ","燃焼ダメージ","開花ダメージ","烈開花ダメージ","超開花ダメージ"],REACTION_DMG_ELEMENT_MAP=new Map;function setupReactionDmgElementMap(){REACTION_DMG_ARR.forEach((e=>{const t=e.replace(/ダメージ$/,"");Object.keys(_master__WEBPACK_IMPORTED_MODULE_4__.q4).forEach((a=>{const n=_master__WEBPACK_IMPORTED_MODULE_4__.q4[a],r=Object.keys(n);r.includes(t)&&"元素"in n[t]&&REACTION_DMG_ELEMENT_MAP.set(e,n[t].元素)}))}))}function getLevelStr(e,t){return t+_input__WEBPACK_IMPORTED_MODULE_3__.iU[e][0]==t?"+":""}function getStatValueByLevel(e,t,a){if(!e)return 0;const n=getLevelStr(t,a);if(n in e)return e[n];const r=_input__WEBPACK_IMPORTED_MODULE_3__.iU[t][0],o=_input__WEBPACK_IMPORTED_MODULE_3__.iU[t][_input__WEBPACK_IMPORTED_MODULE_3__.iU[t].length-1],s=e[r+"+"],i=e[o];return s+(i-s)*(a-r)/(o-r)}function getPropertyValueByLevel(e,t){const a=_input__WEBPACK_IMPORTED_MODULE_3__.iU[t][0];return e[a+"+"]}function getValueByLevel(e,t){if(e in t)return t[e];e=Number(e);const a=Object.keys(t).map((e=>Number(e)));let n,r;for(let o=0;o<a.length-1;o++)a[o]<=e&&a[o+1]>=e&&(n=a[o],r=a[o+1]);return n&&r?t[n]+(t[r]-t[n])*(e-n)/(r-n):0}function calculateArtifactStatsMain(e,t){Object.keys(e).forEach((t=>{e[t]=0}));for(const a of t){if(!a)continue;const t=a.split("_");e[t[1]]+=_master__WEBPACK_IMPORTED_MODULE_4__.$Y[t[0]][t[1]]}}function calculateArtifactSubStatByPriority(e,t,a,n,r,o){Object.keys(e).forEach((t=>{e[t]=0}));let s=0;for(let m=0;m<a.length;m++)a[m]&&(void 0===n[m]||n[m]<0||o[m]&&(e[a[m]]+=r[m][n[m]]*o[m],s+=o[m]));const i=_input__WEBPACK_IMPORTED_MODULE_3__.Hx.filter((e=>!a.includes(e)));let l=Math.min(45,40+Math.floor(Math.max(0,(s-12)/5)));l-=Math.min(45,s);for(let m=l;m>0;m--){const t=i[m%i.length];e[t]+=_master__WEBPACK_IMPORTED_MODULE_4__._J[t][3]}const c=t.filter((e=>e&&e.startsWith("4"))).length,u=1-.07*c;Object.keys(e).forEach((t=>{e[t]*=u,e[t]=Math.round(10*e[t])/10}))}function calculateArtifactStats(e){const t=e.聖遺物ステータス,a=e.聖遺物ステータスメイン効果,n=e.聖遺物ステータスサブ効果;for(const r of Object.keys(t))t[r]=0;for(const r of Object.keys(a))r in t?t[r]+=a[r]:t[r]=a[r];for(const r of Object.keys(n))r in t?t[r]+=n[r]:t[r]=n[r]}function makeEvalableScript(e,t,a){const n=new Map,r=/\$\{(.+?)\}/g;let o;while(null!==(o=r.exec(e))){const r=o[1];if(!n.has(r)){let o;if(r.includes("#")){const t=r.split("#");if(2===t.length){const e=t[0],n=t[1];if(e in a){const t=a[e].filter((e=>e[0]==n));t.length&&(o=String(t[0][4]))}}void 0===o&&(console.warn(e,a,r),o="0")}else o=String((0,_input__WEBPACK_IMPORTED_MODULE_3__.A2)(r,t));void 0!==o&&n.set(r,o)}}let s=e;return n.forEach(((e,t)=>{s=s.replaceAll("${"+t+"}",e)})),s}function evalFormula(formula,statsObj,damageResult,opt_max=null,opt_min=null){let result=0,script;if(formula)if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isNumber(formula))result=formula;else{script=makeEvalableScript(formula,statsObj,damageResult);try{result=eval(script)}catch(error){console.error(error),console.error(formula,statsObj,damageResult,script)}}else;if(null!==opt_max){const e=evalFormula(opt_max,statsObj,damageResult);result=Math.min(result,e)}if(null!==opt_min){const e=evalFormula(opt_min,statsObj,damageResult);result=Math.max(result,e)}return console.debug(formula,opt_max,opt_min,script,result),result}setupReactionDmgElementMap();const calculateStats=function(e,t,a,n,r){if(t&&a&&n&&r)try{const o=t.characterMaster,s=t.突破レベル,i=t.レベル,l=t.命ノ星座,c=t.weaponMaster,u=t.武器突破レベル,m=t.武器レベル,_=lodash__WEBPACK_IMPORTED_MODULE_1___default().cloneDeep(_input__WEBPACK_IMPORTED_MODULE_3__.q2);if(_["突破レベル"]=s,_["レベル"]=i,_["命ノ星座"]=l,_["元素"]=o.元素,"元素エネルギー"in o["元素爆発"]&&(_["元素エネルギー"]=Number(o["元素爆発"]["元素エネルギー"])),"固有変数"in c)for(const e of Object.keys(c["固有変数"]))e in n.conditionValues?_[e]=Number(n.conditionValues[e]):_[e]=c["固有変数"][e];if("固有変数"in o)for(const e of Object.keys(o["固有変数"]))e in n.conditionValues?_[e]=Number(n.conditionValues[e]):_[e]=o["固有変数"][e];for(const t of Object.keys(e.enemyMaster).filter((e=>"key"!=e))){const a="敵"+t;_[a]=e.enemyMaster[t]}Object.keys(e.statAdjustments).filter((e=>!_input__WEBPACK_IMPORTED_MODULE_3__.PL.includes(e))).forEach((t=>{t in _&&(_[t]+=e.statAdjustments[t])})),Object.keys(e.statAdjustmentsEx).filter((e=>!_input__WEBPACK_IMPORTED_MODULE_3__.PL.includes(e))).forEach((t=>{t in _&&(_[t]+=e.statAdjustmentsEx[t])}));for(const e of Object.keys(o["ステータス"]))if(_input__WEBPACK_IMPORTED_MODULE_3__.Vd.includes(e))_[e]+=getStatValueByLevel(o["ステータス"][e],s,i);else{const t=["HP","攻撃力","防御力"].includes(e)?e+"+":e;t in _&&(_[t]+=getPropertyValueByLevel(o["ステータス"][e],s))}if(c["ステータス"])for(const e of Object.keys(c["ステータス"]))_[e]+=getStatValueByLevel(c["ステータス"][e],u,m);const p=a.聖遺物ステータス;for(const e of Object.keys(p)){const t=["HP","攻撃力","防御力"].includes(e)?e+"+":e;_[t]+=p[e]}let d="法器"==o.武器?o.元素:"物理",f="法器"==o.武器?o.元素:"物理",h="法器"==o.武器?o.元素:"物理";r&&[r.elementalResonance,r.teamOption,r.miscOption].forEach((e=>{e&&e.conditionAdjustments&&Object.keys(e.conditionAdjustments).forEach((t=>{const a=e.conditionAdjustments[t];if(t.endsWith("元素付与")){if(["片手剣","両手剣","長柄武器"].includes(o.武器)){const e=t.replace(/元素付与$/,"");d=e,f=e,h=e}}else if(null!==a&&(t in _?_[t]+=a:_[t]=a,t.endsWith("V1")||t.endsWith("V2")||t.endsWith("V3"))){const e=t.replace(/V[1-3]$/,"");e in _?_[e]+=a:_[e]=a}}))}));const g=makeValidConditionValueArr(n);for(const e of[t.damageDetailMyCharacter,t.damageDetailMyWeapon,t.damageDetailMyArtifactSets])if(e&&_input__WEBPACK_IMPORTED_MODULE_3__.yL in e)for(const t of e[_input__WEBPACK_IMPORTED_MODULE_3__.yL]){if(t["条件"]){const e=checkConditionMatches(t["条件"],g,l);if(0===e)continue}"固有変数"===t["種類"]&&t["名前"]&&null!==t["数値"]&&(_[t["名前"]]=evalFormula(t["数値"],_,_input__WEBPACK_IMPORTED_MODULE_3__.US))}calculateStatsTop(_,r),_input__WEBPACK_IMPORTED_MODULE_3__.PL.forEach((t=>{t in e.statAdjustments&&t in _&&(_[t]+=e.statAdjustments[t])}));const y=updateStatsWithCondition(t,g,_);for(const e of[t.damageDetailMyCharacter,t.damageDetailMyWeapon,t.damageDetailMyArtifactSets])if(e&&_input__WEBPACK_IMPORTED_MODULE_3__.yL in e)for(const t of e[_input__WEBPACK_IMPORTED_MODULE_3__.yL]){if(t["条件"]){const e=checkConditionMatches(t["条件"],g,l,_,n.conditionValues);if(0===e)continue}if(t["種類"]&&t["種類"].endsWith("元素付与")){const e=t["種類"].replace("元素付与","");t["対象"]?"通常攻撃ダメージ"==t["対象"]?d=e:"重撃ダメージ"==t["対象"]?f=e:"落下攻撃ダメージ"==t["対象"]&&(h=e):(d=e,f=e,h=e)}}n.攻撃元素=[d,f,h],(0,_common__WEBPACK_IMPORTED_MODULE_2__.fX)(e.statsObj,_),(0,_common__WEBPACK_IMPORTED_MODULE_2__.fX)(n.conditionAdjustments,y)}catch(o){console.error(o),console.error(e,t,a,n,r)}};function updateStatsWithCondition(e,t,a){const n=e.命ノ星座,r={},o=new Map;for(const m of[e.damageDetailMyCharacter,e.damageDetailMyWeapon,e.damageDetailMyArtifactSets])if(m&&_input__WEBPACK_IMPORTED_MODULE_3__.e2 in m)for(const e of m[_input__WEBPACK_IMPORTED_MODULE_3__.e2]){let r=!1,s=e["数値"];if(null===s)continue;if(e["条件"]){const o=checkConditionMatches(e.条件,t,n,a);if(s.includes("${INDEX}"))s=s.replaceAll("${INDEX}",String(o));else{if(0===o)continue;s="("+s+")*"+o}r=!0}let i=e["種類"];i&&(e["対象"]&&(i+="."+e["対象"]),o.has(i)||o.set(i,[]),o.get(i)?.push([i,s,e.上限,e.下限,r]))}const s=["基礎HP","HP%","HP+","HP上限"],i=["基礎防御力","防御力%","防御力+","防御力"],l=["基礎攻撃力","攻撃力%","攻撃力+","攻撃力"],c=[..._input__WEBPACK_IMPORTED_MODULE_3__.U3,..._input__WEBPACK_IMPORTED_MODULE_3__.tH,..._input__WEBPACK_IMPORTED_MODULE_3__.Em,..._input__WEBPACK_IMPORTED_MODULE_3__.wB,..._input__WEBPACK_IMPORTED_MODULE_3__.uc,"ダメージ軽減"];c.push(...Array.from(o.keys()).filter((e=>-1!=e.indexOf("."))));const u=[...new Set(Array.from(o.keys()).map((e=>e.replace(/V[1-3]$/,""))))].filter((e=>![...s,...i,...l,...c].includes(e)));u.sort(compareFunction);for(const m of s){const e={};["V1","V2","V3"].forEach((t=>{const n=m+t;e[n]=n in a?a[n]:0})),updateStatsWithConditionSub(r,a,o,m),["V1","V2","V3"].forEach((t=>{const n=m+t;a[n]&&(m in a?a[m]+=a[n]-e[n]:a[m]=a[n]-e[n])}))}a["HP上限"]+=a["基礎HP"]+a["HP+"],a["HP上限"]+=a["基礎HP"]*a["HP%"]/100;for(const m of u){const e={};["V1","V2","V3"].forEach((t=>{const n=m+t;e[n]=n in a?a[n]:0})),updateStatsWithConditionSub(r,a,o,m),["V1","V2","V3"].forEach((t=>{const n=m+t;a[n]&&(m in a?a[m]+=a[n]-e[n]:a[m]=a[n]-e[n])}))}for(const m of i){const e={};["V1","V2","V3"].forEach((t=>{const n=m+t;e[n]=n in a?a[n]:0})),updateStatsWithConditionSub(r,a,o,m),["V1","V2","V3"].forEach((t=>{const n=m+t;a[n]&&(m in a?a[m]+=a[n]-e[n]:a[m]=a[n]-e[n])}))}a["防御力"]+=a["基礎防御力"]+a["防御力+"],a["防御力"]+=a["基礎防御力"]*a["防御力%"]/100;for(const m of l){const e={};["V1","V2","V3"].forEach((t=>{const n=m+t;e[n]=n in a?a[n]:0})),updateStatsWithConditionSub(r,a,o,m),["V1","V2","V3"].forEach((t=>{const n=m+t;a[n]&&(m in a?a[m]+=a[n]-e[n]:a[m]=a[n]-e[n])}))}a["攻撃力"]+=a["基礎攻撃力"]+a["攻撃力+"],a["攻撃力"]+=a["基礎攻撃力"]*a["攻撃力%"]/100;for(const m of c){const e={};["V1","V2","V3"].forEach((t=>{const n=m+t;e[n]=n in a?a[n]:0})),updateStatsWithConditionSub(r,a,o,m),["V1","V2","V3"].forEach((t=>{const n=m+t;a[n]&&(m in a?a[m]+=a[n]-e[n]:a[m]=a[n]-e[n])}))}return r}function updateStatsWithConditionSub(e,t,a,n){for(const r of[a.get(n),...["V1","V2","V3"].map((e=>a.get(n+e)))])r&&r.forEach((a=>{const n=updateStats(t,a[0],a[1],a[2],a[3]);for(const e of Object.keys(n))if(_input__WEBPACK_IMPORTED_MODULE_3__.PL.includes(e+"TOP")){const a=(0,_input__WEBPACK_IMPORTED_MODULE_3__.A2)(e+"X7",t),n=t[e+"TOP"];void 0!==a&&void 0!==n&&a>n&&(t[e+"TOP"]=a)}if(a[4])for(const t of Object.keys(n))t in e?e[t]+=n[t]:e[t]=n[t]}))}function compareFunction(e,t){const a=["元素熟知","会心率","会心ダメージ","与える治療効果","受ける治療効果","元素チャージ効率","シールド強化"],n=["ダメージ軽減"];let r=a.indexOf(e);n.indexOf(e)>=0&&(r=a.length+1);let o=a.indexOf(t);return n.indexOf(t)>=0&&(o=a.length+1),(-1!=r?r:a.length)-(-1!=o?o:a.length)}function calculateElementalResonance(e,t){const a={},n=makeValidConditionValueArr(t);for(const r of Object.keys(_master__WEBPACK_IMPORTED_MODULE_4__._9)){if(!e[r])continue;const t=_master__WEBPACK_IMPORTED_MODULE_4__._9[r];if(t.詳細)for(const e of t.詳細){if(e.条件){const t=checkConditionMatches(e.条件,n,0);if(0===t)continue}e.種類&&e.数値&&(e.種類 in a?a[e.種類]+=e.数値:a[e.種類]=e.数値)}"草元素共鳴"==r&&e.dendroOption&&(a["元素熟知"]+=Number(e.dendroOption))}return a}function calculateDamageResult(e,t,a,n){try{if(!t)return;if(!a)return;if(!n)return;const r=t.characterMaster,o=t["命ノ星座"],s=r["元素"],i=lodash__WEBPACK_IMPORTED_MODULE_1___default().cloneDeep(_input__WEBPACK_IMPORTED_MODULE_3__.vo),l=[],c=new Set;if(c.add(s),a.selectList.filter((e=>"元素変化"==e.name)).length){const e=a.selectList.filter((e=>"元素変化"==e.name))[0],t=a.conditionValues["元素変化"];if(t){const a=e.options[t].replace(/元素$/,"");c.add(a)}}if(a.selectList.filter((e=>"拡散"==e.name)).length){const e=a.selectList.filter((e=>"拡散"==e.name))[0],t=a.conditionValues["拡散"];if(t){const a=e.options[t].replace(/元素$/,"");c.add(a)}}for(const e of a.攻撃元素)e&&"物理"!=e&&c.add(e);for(const e of c)l.push([e,_master__WEBPACK_IMPORTED_MODULE_4__.q4[e]]);let u=!1;if("岩"==r.元素||"両手剣"==r.武器)u=!0;else{const e=_master__WEBPACK_IMPORTED_MODULE_4__.q4.破砕?.氷砕き?.キャラクター;e&&e.includes(r.名前)&&(u=!0)}if(u){const e="破砕";l.push([e,_master__WEBPACK_IMPORTED_MODULE_4__.q4[e]])}i["元素"]=s,l.forEach((e=>{const t=e[0],r=e[1];Object.keys(r).forEach((e=>{const o=r[e];let s=0;if("結晶"==e)s=calculate結晶シールド吸収量(t,n.statsObj);else if("拡散"==e){let r="炎";for(const e of a.selectList)if("拡散"==e.name){const t=e.options[Number(a.conditionValues["拡散"])];t&&(r=t.replace(/元素$/,""));break}i["拡散元素"]=r,s=calculate固定値系元素反応ダメージ(e,t,n.statsObj,r)}else switch(o["種類"]){case"乗算":s=calculate乗算系元素反応倍率(e,t,n.statsObj);break;case"固定":s=calculate固定値系元素反応ダメージ(e,t,n.statsObj);break;case"加算":s=calculate加算系元素反応ダメージ(e,t,n.statsObj);break}["倍率","ダメージ","吸収量"].forEach((a=>{let n=e+a;"倍率"===a&&(n+="_"+t),n in i&&(i[n]=s)}))}))})),Object.keys(i).filter((e=>e.endsWith("ダメージ")&&-1==e.indexOf("会心"))).forEach((e=>{["会心率","会心ダメージ"].forEach((t=>{const a=e+t;a in n.statsObj&&(i[a]=n.statsObj[a])}))})),(0,_common__WEBPACK_IMPORTED_MODULE_2__.fX)(e.元素反応,i);const m=makeValidConditionValueArr(a),_=t.damageDetailMyCharacter,p=t.damageDetailMyWeapon,d=t.damageDetailMyArtifactSets;if(Array.isArray(e["キャラクター注釈"])&&e["キャラクター注釈"].splice(0,e["キャラクター注釈"].length),_){for(const r of["通常攻撃","重撃","落下攻撃"]){if(e[r]=[],!(r in _))continue;const s=a.攻撃元素[["通常攻撃","重撃","落下攻撃"].indexOf(r)];let i=_[r];if("特殊"+r in _){const e=_["特殊"+r];0!==checkConditionMatches(e["条件"],m,o,n.statsObj,a.conditionValues)&&(i=e["詳細"])}for(const l of i){if(l["条件"]&&0===checkConditionMatches(l["条件"],m,o,n.statsObj,a.conditionValues))continue;const i=calculateDamageFromDetail(l,t,a,n.statsObj,e,s);e[r].push(i)}if("通常攻撃"==r){let t=0;const a=["合計ダメージ",null,0,0,0,null,0,0,1];for(const n of e[r])!n[0].endsWith("段ダメージ")&&!["水月ダメージ"].includes(n[0])||n[0].startsWith("非表示_")||(a[1]=n[1],a[2]+=n[2],null==n[3]?a[3]=null:null!=a[3]&&(a[3]+=n[3]),a[4]+=n[4],null!=a[6]&&(n[6]?a[6]+=n[6]:a[6]++),a[7]=n[7],a[8]=n[8],t++);t>0&&e[r].splice(t,0,a)}}for(const r of["元素スキル","元素爆発","その他"]){if(e[r]=[],!(r in _))continue;const s=_[r];for(const i of s){if(i["条件"]&&0===checkConditionMatches(i["条件"],m,o,n.statsObj,a.conditionValues))continue;const s=calculateDamageFromDetail(i,t,a,n.statsObj,e);e[r].push(s)}}}for(const g of[p,d]){const r="その他";if(!g||!(r in g))continue;const s=g[r];for(const i of s){if(i["条件"]&&0===checkConditionMatches(i["条件"],m,o,n.statsObj,a.conditionValues))continue;const s=calculateDamageFromDetail(i,t,a,n.statsObj,e);e[r].push(s)}}const f=[];for(const e of _input__WEBPACK_IMPORTED_MODULE_3__.tH){const t=e.replace(/元素耐性$/,"").replace(/耐性$/,""),a=calculateDamageTaken(n.statsObj,1e4,t);f.push({key:t,value:a})}e["被ダメージ"]=f;const h=[];for(const e of f)h.push({key:e.key,value:1e4*n.statsObj["HP上限"]/e.value});e["耐久スコア"]=h,console.debug("damageResult",e)}catch(r){console.error(r),console.error(e,t,a,n)}}function makeValidConditionValueArr(e){try{const t=[];if(!e)return t;const a=e.checkboxList;a&&a.forEach((a=>{e.conditionValues[a.name]&&t.push(a.name)}));const n=e.selectList;n&&n.forEach((a=>{const n=e.conditionValues[a.name];lodash__WEBPACK_IMPORTED_MODULE_1___default().isNumber(n)&&(n>0||0===n&&a.required)&&t.push(a.name+"@"+a.options[n])}));const r=e.numberList;return r&&r.forEach((a=>{const n=e.conditionValues[a.name];lodash__WEBPACK_IMPORTED_MODULE_1___default().isNumber(n)&&t.push(a.name+"="+n)})),t}catch(t){throw console.error(t),console.error(e),t}}function checkConditionMatches(e,t,a,n={},r={}){const o=e.split("^")[0];if(-1!==o.indexOf("|")){const e=o.split("|");for(let o=0;o<e.length;o++){const s=checkConditionMatchesSub(e[o],t,a,n,r);if(1===s)return 1}return 0}const s=o.split("&");let i=1;for(let l=0;l<s.length;l++){const e=checkConditionMatchesSub(s[l],t,a,n,r);if(0===e)return 0;1!==e&&(i=e)}return i}function checkConditionMatchesSub(e,t,a,n,r){const o=(0,_input__WEBPACK_IMPORTED_MODULE_3__.sB)(e),s=o?e.split(o):[e],i=s[0];let l=2===s.length?s[1]:void 0;if(void 0===o)return t.filter((e=>e.split("@")[0]==i)).length>0?1:0;if(!l)return console.error(e,t,a,n),0;if("命ノ星座"===i){if((0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l)){if(l=Number(l),">="===o||"@"===o)return a>=l?1:0;if("<="===o)return a<=l?1:0;if(">"===o)return a>l?1:0;if("<"===o)return a<l?1:0;if("="===o)return a==l?1:0}}else if("@"===o){const e=new RegExp("([^0-9]*?)([\\-0-9\\.]+)(.*)");for(let a=0;a<t.length;a++)if(t[a].startsWith(i+"@")){const n=t[a].split("@"),r=e.exec(n[1]);if(r){let e=l;r[1]&&(e=e.substring(r[1].length)),r[3]&&(e=e.substring(0,e.length-r[3].length)),e=e.replace(/\/.+/,"");const t=e.split(/[,-]/),a=Number(t[0]),n=Number(t[t.length-1]),o=Number(r[2]);if(a<=o&&o<=n)return o}}}else if("="===o){if(t.includes(i+"@"+l))return 1;if(_input__WEBPACK_IMPORTED_MODULE_3__.r2.test(l)){const e=t.filter((e=>e.split("=")[0]==i));if(e.length>0)return Number(e[0].split("=")[1])}if((0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l))return i in n&&n[i]==Number(l)?1:0}else if(">="===o){if((0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l))return i in n&&n[i]>=Number(l)?1:0;if(l.startsWith("index_")&&(l=l.replace(/$index_/,""),(0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l)&&i in r)){const e=r[i];if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isNumber(e)&&e>=Number(l))return 1}}else if("<="===o){if((0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l))return i in n&&n[i]<=Number(l)?1:0;if(l.startsWith("index_")&&(l=l.replace(/$index_/,""),(0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l)&&i in r)){const e=r[i];if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isNumber(e)&&e<=Number(l))return 1}}else if(">"===o){if((0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l))return i in n&&n[i]>Number(l)?1:0;if(l.startsWith("index_")&&(l=l.replace(/$index_/,""),(0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l)&&i in r)){const e=r[i];if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isNumber(e)&&e>Number(l))return 1}}else if("<"===o){if((0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l))return i in n&&n[i]<Number(l)?1:0;if(l.startsWith("index_")&&(l=l.replace(/$index_/,""),(0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(l)&&i in r)){const e=r[i];if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isNumber(e)&&e<Number(l))return 1}}return 0}function calculate乗算系元素反応倍率(e,t,a){try{if(!t||"物理"==t)return 0;const n=a["元素熟知"],r=a[e+"反応ボーナス"]??0;let o=_master__WEBPACK_IMPORTED_MODULE_4__.q4[t][e]["数値"];return o*=1+25*n/(9*(n+1400))+r/100,o}catch(n){throw console.error(n),console.error(e,t,a),n}}function calculate固定値系元素反応ダメージ(e,t,a,n){try{if(!t||"物理"==t)return 0;const r=a["レベル"],o=a["元素熟知"],s=a[e+"反応ボーナス"]??0,i=n??_master__WEBPACK_IMPORTED_MODULE_4__.q4[t][e]["元素"];let l=getValueByLevel(r,_master__WEBPACK_IMPORTED_MODULE_4__.q4[t][e]["数値"]);return l*=1+16*o/(o+2e3)+s/100,l*=calculateEnemyRes(i,a),l}catch(r){throw console.error(r),console.error(e,t,a,n),r}}function calculate結晶シールド吸収量(e,t){try{if(!e||"物理"==e)return 0;const a=t["レベル"],n=t["元素熟知"],r=t["結晶反応ボーナス"]??0;let o=getValueByLevel(a,_master__WEBPACK_IMPORTED_MODULE_4__.q4[e]["結晶"]["数値"]);return o*=1+40*n/(9*(n+1400))+r/100,o}catch(a){throw console.error(a),console.error(e,t),a}}function calculate加算系元素反応ダメージ(e,t,a){try{if(!t||"物理"==t)return 0;const n=a["レベル"],r=a["元素熟知"],o=a[e+"反応ボーナス"]??0,s=_master__WEBPACK_IMPORTED_MODULE_4__.q4[t][e]["元素"];let i=getValueByLevel(n,_master__WEBPACK_IMPORTED_MODULE_4__.q4[t][e]["数値"]);return i*=1+5*r/(r+1200)+o/100,i*=calculateEnemyRes(s,a),i}catch(n){throw console.error(n),console.error(e,t,a),n}}function calculateEnemyDef(e,t=0){try{const a=e["レベル"]??0,n=e["敵レベル"]??0,r=t/100,o=Math.max(-100,e["敵防御力"]??0)/100,s=(a+100)/((1-r)*(1+o)*(n+100)+a+100);return s}catch(a){throw console.error(a),console.error(e,t),a}}function calculateRes(e){if(e==1/0)return 0;let t=e;return t=t<0?100-t/2:t<75?100-t:1e4/(4*t+100),t/=100,t}function calculateEnemyRes(e,t){try{const a="敵"+e+("物理"!=e?"元素":"")+"耐性",n=calculateRes(t[a]??0);return n}catch(a){throw console.error(a),console.error(e,t),a}}function calculateDamageFromDetail(e,t,a,n,r,o=null){try{const s=[];let i=!0,l=!0,c=!0,u=null!=e["元素"]?e["元素"]:null!=o?o:null,m=0,_=0;const p=null!=e["HIT数"]?Number(e["HIT数"]):1,d={},f=n["命ノ星座"],h=getChangeDetailObjArr(t,_input__WEBPACK_IMPORTED_MODULE_3__.yL);let g=makeValidConditionValueArr(a);const y=lodash__WEBPACK_IMPORTED_MODULE_1___default().cloneDeep(a.conditionValues);if(e["除外条件"])for(const t of e["除外条件"]){let e=t;lodash__WEBPACK_IMPORTED_MODULE_1___default().isPlainObject(t)&&(e=t.名前),e in y&&((0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(y[e])?y[e]=0:lodash__WEBPACK_IMPORTED_MODULE_1___default().isBoolean(y[e])&&(y[e]=!1))}if(e["適用条件"])for(const t of e["適用条件"])if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isString(t))t in y&&lodash__WEBPACK_IMPORTED_MODULE_1___default().isBoolean(y[t])&&(y[t]=!0);else if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isPlainObject(t)){if(t.名前 in y){let e=y[t.名前];if("数値"in t){if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isString(t.数値)){const a=String(t.数値).replace(/^\+/,"");e+=Number(a)}else e=((0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(t.数値),t.数値);null!==e&&(0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(e)&&(e<0?e=0:a.selectList.filter((e=>e.name==t.名前)).forEach((t=>{null!==e&&e>=t.options.length&&(e=t.options.length-1)})))}else e=!0;y[t.名前]=e}if(t.説明)if(Array.isArray(t.説明))t.説明.forEach((e=>{r["キャラクター注釈"].includes(e)||r["キャラクター注釈"].push(e)}));else{const e=t.説明;r["キャラクター注釈"].includes(e)||r["キャラクター注釈"].push(e)}}if(e["除外条件"]||e["適用条件"]){const e=lodash__WEBPACK_IMPORTED_MODULE_1___default().cloneDeep(a);e.conditionValues=y;const o=makeValidConditionValueArr(e);[t.damageDetailMyCharacter,t.damageDetailMyWeapon,t.damageDetailMyArtifactSets].forEach((e=>{e&&e.ステータス変更系詳細.filter((e=>e.条件)).forEach((e=>{if(null===e.数値)return;const t=e.条件,s=checkConditionMatches(t,g,f,n,a.conditionValues),i=checkConditionMatches(t,o,f,n,a.conditionValues);if(s==i)return;let l=0,c=0,u=e.数値;u=u.includes("${INDEX}")?u.replaceAll("${INDEX}",String(s)):0!==s?"("+u+")*"+s:"0",l=evalFormula(u,n,r,e.上限,e.下限);let m=e.数値;m=m.includes("${INDEX}")?m.replaceAll("${INDEX}",String(i)):0!==i?"("+m+")*"+i:"0",c=evalFormula(m,n,r,e.上限,e.下限);const _=c-l;if(_){let t=e.種類;e.対象&&(t+="."+e.対象),t in d?d[t]+=_:d[t]=_}}))})),g=o}const E=[];h&&h.forEach((t=>{let o=null;if(!t.条件||(o=checkConditionMatches(t.条件,g,f,n,a.conditionValues),0!==o)){if(t.対象)if(t.対象.endsWith("元素ダメージ")){if(!t.対象.startsWith(u))return}else if("物理ダメージ"==t.対象){if("物理"!=u)return}else{const a=e.種類,n=t.対象.split(".");if(n[0]!=a)return;if(n.length>1&&n[n.length-1]!=e.名前)return}if(t["種類"].endsWith("元素付与"))["通常攻撃ダメージ","重撃ダメージ","落下攻撃ダメージ"].includes(e.種類)&&(e["元素付与無効"]||(u=t["種類"].replace("元素付与","")));else if("防御無視"==t.種類){const e=evalFormula(t.数値,n,r,t.上限,t.下限);m+=e}else if("固有変数"==t.種類);else if(null!=o&&1!=o){const e=JSON.parse(JSON.stringify(t));lodash__WEBPACK_IMPORTED_MODULE_1___default().isString(e.数値)?e.数値+="*"+o:lodash__WEBPACK_IMPORTED_MODULE_1___default().isArray(e.数値)&&(e.数値=e.数値.concat(["*",o])),E.push(e)}else E.push(t)}}));const b={};[n,d].forEach((t=>{Object.keys(t).forEach((a=>{const n=a.split(".");if(1==n.length)return;let r=!1;if(n[1]==e.種類?(2==n.length||n[2]==e.名前&&3==n.length)&&(r=!0):n[1]==u+"元素ダメージ"?2==n.length&&(r=!0):"物理ダメージ"==n[1]&&"物理"==u&&2==n.length&&(r=!0),r){const e=n[0];e in b?"別枠乗算"==e&&b[e]>0?b[e]*=t[a]/100:b[e]+=t[a]:b[e]=t[a]}}))})),Object.keys(b).forEach((e=>{e in d?e.startsWith("別枠乗算")&&d[e]>0?d[e]*=b[e]/100:d[e]+=b[e]:d[e]=b[e]}));const w=t.damageDetailMyArtifactSets;if(w&&"通常攻撃ダメージ"==e.種類&&e.HIT数>1&&"来歆の余響"==t.artifactSets[0]&&"来歆の余響"==t.artifactSets[1]){let t=!1;for(const o of w[_input__WEBPACK_IMPORTED_MODULE_3__.e2].filter((e=>e.条件&&e.種類&&e.数値))){const s=o.種類,i=o.条件,l=e.HIT数;if(0!==checkConditionMatches(i,g,f,n,a.conditionValues)){const e=o.数値,a=evalFormula(e,n,r,o.上限,o.下限);s in d||(d[s]=0),d[s]-=a*(l-Math.max(1,Math.floor(l/2)))/l,t=!0}}if(t){const e="来歆の余響4セット効果の幽谷祭祀のダメージアップは多段HITダメージの全てには乗らない。3HIT以下：1回分、4HIT：2回分を計上する";r["キャラクター注釈"].includes(e)||r["キャラクター注釈"].push(e)}}switch(Object.keys(d).forEach((e=>{e in n?e.startsWith("別枠乗算")&&n[e]>0?n[e]*=d[e]:n[e]+=d[e]:n[e]=d[e]})),n["別枠乗算"]&&(_=n["別枠乗算"]),e.種類){case"HP回復":s.push("与える治療効果"),s.push("受ける治療効果"),i=!1,l=!1,c=!1,u=null;break;case"シールド":s.push("シールド強化"),i=!1,l=!1,c=!1;break;case"元素創造物HP":i=!1,l=!1,c=!1,u=null;break;case"他所基準ダメージ":l=!1,c=!1;break;case"他所基準HP回復":i=!1,l=!1,c=!1,u=null;break;case"付加元素ダメージ":["炎","水","雷","氷"].includes(u)||(u="炎");break;case"HP消費":i=!1,l=!1,c=!1,u=null;break;default:e.種類.startsWith("表示")||e.種類.startsWith("非表示")?(i=!1,l=!1,c=!1,u=null):(s.push("与えるダメージ"),"NONE"!=e.ダメージバフ&&(e.ダメージバフ?s.push(e.ダメージバフ):_master__WEBPACK_IMPORTED_MODULE_4__.vN.includes(e.種類)&&s.push(e.種類+"バフ")),u&&s.push("物理"==u?"物理ダメージバフ":u+"元素ダメージバフ"));break}const O=calculateDamageFromDetailSub(n,r,e.数値,s,i,l,c,u,m,_,e.上限,e.下限);if(E.forEach((t=>{const a=calculateDamageFromDetailSub(n,r,t.数値,s,i,l,c,u,m,null,t.上限,t.下限);if(t.種類.endsWith("ダメージアップ")){if("ダメージアップ"==e.名前)return;_master__WEBPACK_IMPORTED_MODULE_4__.vN.includes(e.種類)&&p>1&&(a[2]*=p,null!=a[3]&&(a[3]*=p),a[4]*=p)}O[2]+=a[2],null!=O[3]&&a[3]&&(O[3]+=a[3]),O[4]+=a[4]})),[..._master__WEBPACK_IMPORTED_MODULE_4__.vN,"その他ダメージ"].includes(e.種類)){let t=e.種類;if(e.ダメージバフ){const a=e.ダメージバフ.replace(/バフ$/,"");_master__WEBPACK_IMPORTED_MODULE_4__.vN.includes(a)&&(t=a)}const a=[];a.push(t+"アップ"),u&&a.push("物理"==u?"物理ダメージアップ":u+"元素ダメージアップ"),a.forEach((t=>{if(!n[t])return;if(!l||!c)return;if(e.名前.startsWith("非表示_狼の魂基礎"))return;const a=calculateDamageFromDetailSub(n,r,n[t],s,i,l,c,u,m,null);p>1&&(a[2]*=p,null!=a[3]&&(a[3]*=p),a[4]*=p),O[2]+=a[2],null!=O[3]&&a[3]&&(O[3]+=a[3]),O[4]+=a[4]}))}Object.keys(d).forEach((e=>{n[e]-=d[e]})),"シールド"==e.種類&&"岩"==O[1]&&(O[2]=1.5*O[2],O[4]=1.5*O[4]);const D=[e.名前,O[1],O[2],O[3],O[4],e.種類,e.HIT数,O[7],O[8]];return console.debug(D),D}catch(s){throw console.error(s),console.error(e,t,a,n,o),s}}function isUseReference(e){return lodash__WEBPACK_IMPORTED_MODULE_1___default().isString(e)&&e.includes("#")}function calculateDamageFromDetailSub(e,t,a,n,r,o,s,i,l,c,u=null,m=null){const _=evalFormula(a,e,t,u,m);let p=_;c?p*=c/100:c=1,isUseReference(a)&&(n=null,o=!1,s=!1);let d=1;n&&(d=100,n.forEach((t=>{e[t]&&(d+=e[t])})),d/=100,p*=d);let f=1;o&&(f=calculateEnemyDef(e,l),p*=f);let h=1;s&&i&&(h=calculateEnemyRes(i,e),p*=h);let g=e["会心率"];"物理"==i?"物理ダメージ会心率"in e&&(g+=e["物理ダメージ会心率"]):i+"元素ダメージ会心率"in e&&(g+=e[i+"元素ダメージ会心率"]),g=Math.min(100,Math.max(0,g))/100;let y=e["会心ダメージ"];"物理"==i?"物理ダメージ会心ダメージ"in e&&(y+=e["物理ダメージ会心ダメージ"]):i+"元素ダメージ会心ダメージ"in e&&(y+=e[i+"元素ダメージ会心ダメージ"]),y=(100+y)/100;let E=null,b=p;return r&&g>0&&(E=p*y,b=E*g+p*(1-g)),console.debug("別枠乗算[%f] ダメージバフ補正[%o=%f] 会心[%f,%f] 防御補正[%f] 耐性補正[%f]",c,n,d,g,y,f,h),["未設定",i,b,E,p,null,null,d,f]}function getChangeDetailObjArr(e,t){let a=[];return e?(e.damageDetailMyCharacter&&t in e.damageDetailMyCharacter&&(a=a.concat(e.damageDetailMyCharacter[t])),e.damageDetailMyWeapon&&t in e.damageDetailMyWeapon&&(a=a.concat(e.damageDetailMyWeapon[t])),e.damageDetailMyArtifactSets&&t in e.damageDetailMyArtifactSets&&(a=a.concat(e.damageDetailMyArtifactSets[t])),a):a}function updateStats(e,t,a,n=null,r=null){const o=evalFormula(a,e,_input__WEBPACK_IMPORTED_MODULE_3__.US,n,r);(0,_common__WEBPACK_IMPORTED_MODULE_2__.kE)(o)||console.error(e,t,a,o);const s=[];"HP"==t?s.push("HP上限"):t.startsWith("自元素")?s.push(t.replace(/^自/,String(e["元素"]))):t.startsWith("全元素")?_master__WEBPACK_IMPORTED_MODULE_4__.vV.forEach((e=>{s.push(t.replace(/^全/,e))})):t.startsWith("敵自元素")?s.push(t.replace(/^敵自/,"敵"+String(e["元素"]))):t.startsWith("敵全元素")?_master__WEBPACK_IMPORTED_MODULE_4__.vV.forEach((e=>{s.push(t.replace(/^敵全/,"敵"+e))})):s.push(t);const i={};s.forEach((e=>{i[e]=o}));for(const l of Object.keys(i))l in e?l.startsWith("別枠乗算")&&i[l]>0?e[l]*=i[l]/100:e[l]+=i[l]:e[l]=i[l];return console.debug(updateStats.name,null,t,a,"=>",i),i}function calculateDamageTaken(e,t,a){const n=e["防御力"],r=e["敵レベル"],o=e["ダメージ軽減"],s=calculateRes(e["物理"==a?"物理耐性":a+"元素耐性"]);let i=t*(1-n/(n+5*r+501))*(100-o)/100*s;return i=Math.max(0,i),i}function calculateArtifactScore(e,t,a){let n=0;for(const r of a){const e=r[0],a=r[1],o=t.聖遺物ステータスサブ効果[e];o&&(n+=o*a)}return n}function calculateStatsTop(e,t){_input__WEBPACK_IMPORTED_MODULE_3__.PL.forEach((a=>{const n=a.replace(/TOP$/,"X7");let r=(0,_input__WEBPACK_IMPORTED_MODULE_3__.A2)(n,e);r&&(e[a]=r);for(const o of t.teamMembers){const s=t.supporters[o];s?.statsInput?.statsObj&&(r=(0,_input__WEBPACK_IMPORTED_MODULE_3__.A2)(n,s.statsInput.statsObj),void 0!==r&&e[a]<r&&(e[a]=r))}}))}async function setupTeamOptionSupporter(e,t,a,n){const r=(0,_input__WEBPACK_IMPORTED_MODULE_3__.Yy)(),o=(0,_input__WEBPACK_IMPORTED_MODULE_3__.sx)(),s=(0,_input__WEBPACK_IMPORTED_MODULE_3__.tQ)(),i=(0,_input__WEBPACK_IMPORTED_MODULE_3__.O$)(),l=(0,_input__WEBPACK_IMPORTED_MODULE_3__.F7)(),c=[],u=[],m=new Map,_=new Map;if(r.character=t,r.characterMaster=await(0,_master__WEBPACK_IMPORTED_MODULE_4__.tm)(r.character),a){const t=JSON.parse(a);if(await(0,_input__WEBPACK_IMPORTED_MODULE_3__.pS)(r,o,s,e,t),(0,_input__WEBPACK_IMPORTED_MODULE_3__.ge)(r),(0,_input__WEBPACK_IMPORTED_MODULE_3__.Cl)(r),(0,_input__WEBPACK_IMPORTED_MODULE_3__.Vk)(r),(0,_input__WEBPACK_IMPORTED_MODULE_3__.Hk)(s,r,e),calculateArtifactStatsMain(o.聖遺物ステータスメイン効果,o.聖遺物メイン効果),calculateArtifactStats(o),e.elementalResonance&&(e.elementalResonance.conditionAdjustments=calculateElementalResonance(e.elementalResonance.conditionValues,s)),calculateStats(i,r,o,s,e),(0,_input__WEBPACK_IMPORTED_MODULE_3__.QW)(s,r,i.statsObj),calculateStats(i,r,o,s,e),n&&"雷電将軍"===r.character){const e=await(0,_master__WEBPACK_IMPORTED_MODULE_4__.tm)(n);"元素エネルギー"in e["元素爆発"]&&(i.statsObj["元素エネルギー"]=Number(e["元素爆発"]["元素エネルギー"]))}calculateDamageResult(l,r,s,i)}const p=[];_master__WEBPACK_IMPORTED_MODULE_4__.Rj.filter((e=>e.key.startsWith(t+"_"))).forEach((e=>{if(lodash__WEBPACK_IMPORTED_MODULE_1___default().isArray(e.詳細))for(const a of e.詳細)a.条件=makeSupporterCondition(t,e.名前,a.条件);p.splice(p.length,0,...(0,_input__WEBPACK_IMPORTED_MODULE_3__.CN)(e,null,null,null,c,u,"その他オプション"))})),p.filter((e=>e.条件)).forEach((e=>{(0,_input__WEBPACK_IMPORTED_MODULE_3__.UR)(e.条件,m,_)})),c.filter((e=>e.条件)).forEach((e=>{(0,_input__WEBPACK_IMPORTED_MODULE_3__.UR)(e.条件,m,_)})),u.filter((e=>e.条件)).forEach((e=>{(0,_input__WEBPACK_IMPORTED_MODULE_3__.UR)(e.条件,m,_)})),m.forEach(((e,t)=>{e&&lodash__WEBPACK_IMPORTED_MODULE_1___default().isArray(e)&&(e[0].startsWith("required_")||m.set(t,["",...e]))}));let d=[];r.characterMaster?.チームバフ&&(d=r.characterMaster.チームバフ);let f=[];r.weaponMaster?.チームバフ&&(f=r.weaponMaster.チームバフ);const h=[];r.artifactSets[0]&&r.artifactSets[1]&&r.artifactSets[0]==r.artifactSets[1]&&r.artifactSetMasters[0]["4セット効果"]&&lodash__WEBPACK_IMPORTED_MODULE_1___default().isArray(r.artifactSetMasters[0]["4セット効果"]["詳細"])&&r.artifactSetMasters[0]["4セット効果"]["詳細"].forEach((e=>{e.チーム&&(lodash__WEBPACK_IMPORTED_MODULE_1___default().isString(e.条件)&&(e.条件=e.条件.replace("拡散","翠緑の影")),h.push(e))}));for(const g of[d,f,h])if(g.length){const e=(0,_input__WEBPACK_IMPORTED_MODULE_3__.W3)(g);e.forEach((e=>{const a=makeSupporterCondition(t,e.名前,e.条件);e.条件=a;const n=(0,_input__WEBPACK_IMPORTED_MODULE_3__.e0)(e.種類);"STATUS"===n&&0===c.filter((t=>t.条件==a&&t.種類==e.種類)).length&&c.splice(c.length,0,e),"TALENT"===n&&0===u.filter((t=>t.条件==a&&t.種類==e.種類)).length&&u.splice(u.length,0,e),(0,_input__WEBPACK_IMPORTED_MODULE_3__.UR)(a,m,_)}))}return e.supporters[t]={characterInput:r,artifactDetailInput:o,conditionInput:s,statsInput:i,damageResult:l,optionDetails1:c,optionDetails2:u,conditionMap:m,exclusionMap:_},[i.statsObj,l]}function makeSupporterCondition(e,t,a){let n=e+"*";return a?n+=a.replace(/([&|^])/g,"$1"+e+"*"):t&&(n+=t),n=n.replace(e+"*"+e+"*",e+"*"),n}function calculateConditionAdjustments(e,t,a,n,r,o=6){if(void 0!==t)for(const s of t){let t=s.数値;if(null===t)continue;if(s.条件){const e=checkConditionMatches(s.条件,a,o,n);if(0===e)continue;t=t.includes("${INDEX}")?t.replaceAll("${INDEX}",String(e)):"("+t+")*"+e}const i=evalFormula(t,n,r,s.上限,s.下限),l=[];if(s.種類)if(s.種類.startsWith("全")||s.種類.startsWith("敵全"))for(const e of _master__WEBPACK_IMPORTED_MODULE_4__.vV)l.push(s.種類.replace("全",e));else l.push(s.種類);for(const a of l){let t=a;s.対象&&(t+="."+s.対象),t in e?e[t]+=i:e[t]=i}}}const TEAM_OPTION_NOT_UNIQUE_ARR=/^(299|562|826)$/.test(__webpack_require__.j)?["千夜に浮かぶ夢","サイフォスの月明かり","マカイラの水色","彷徨える星"]:null;function calculateTeamStatsAdjustments(e,t,a){const n={},r=[];return makeValidConditionValueArr(e.teamOption).forEach((e=>{const t=e.indexOf("*"),n=e.substring(0,t);if(n!=a){const a=e.substring(t);(TEAM_OPTION_NOT_UNIQUE_ARR.includes(a.substring(1))||0===r.filter((e=>e.endsWith(a))).length)&&r.push(e)}})),Object.keys(e.supporters).filter((e=>e!=a)).forEach((a=>{const o=e.supporters[a];let s=o?o.statsInput.statsObj:_input__WEBPACK_IMPORTED_MODULE_3__.q2;Object.keys(t).length&&(s=lodash__WEBPACK_IMPORTED_MODULE_1___default().cloneDeep(s),Object.keys(t).forEach((e=>{s[e]=t[e]})));const i=o?o.damageResult:_input__WEBPACK_IMPORTED_MODULE_3__.US;[e.supporters[a]?.optionDetails1,e.supporters[a]?.optionDetails2].forEach((e=>{calculateConditionAdjustments(n,e,r,s,i)}))})),(0,_common__WEBPACK_IMPORTED_MODULE_2__.fX)(e.teamOption.conditionAdjustments,n),n}function calculateMiscStatsAdjustments(e){const t={},a=[],n=makeValidConditionValueArr(e.teamOption);makeValidConditionValueArr(e.miscOption).forEach((e=>{0===n.filter((t=>t.endsWith("*"+e))).length&&a.push(e)}));const r=_input__WEBPACK_IMPORTED_MODULE_3__.q2,o=_input__WEBPACK_IMPORTED_MODULE_3__.US;return[e.miscOption.optionDetails1,e.miscOption.optionDetails2].forEach((e=>{calculateConditionAdjustments(t,e,a,r,o)})),(0,_common__WEBPACK_IMPORTED_MODULE_2__.fX)(e.miscOption.conditionAdjustments,t),t}function getCritFromResultEntry(e){let t=0,a=0;return e[2]&&e[3]&&e[4]&&(t=e[2]-e[4],t/=e[3]-e[4],t=Math.round(1e3*t)/10,a=Math.round(1e3*(e[3]/e[4]-1))/10),[t,a]}function getDamageResultArr(e,t){const a=[],n=e.category;if(REACTION_DMG_ARR.includes(n))a.push([n,REACTION_DMG_ELEMENT_MAP?.get(n)??null,t.元素反応[n],null,t.元素反応[n],null,1,null,null]);else for(let r of t[n])if(r[0]&&!r[0].startsWith("非表示")&&!r[0].endsWith("合計ダメージ")&&r[5]?.endsWith("ダメージ")){if(r[0].startsWith("法獣の灼眼")){r=lodash__WEBPACK_IMPORTED_MODULE_1___default().cloneDeep(r);const[e]=getCritFromResultEntry(r);r[2]=r[2]*e/100}a.push(r)}return a}function calculateRotationDamageEntry(e,t,a){let n=0;const r=getDamageResultArr(e,a);if(r&&r.length>t&&e.reactions.length>t){const o=r[t],s=e.reactions[t],i=e.counts[t],l=calculateReactedDamage(o,2,a.元素反応,"");for(let e=0;e<i;e++){let t=l;["蒸発","溶解"].forEach((n=>{n in s&&e<s[n]&&(t=calculateReactedDamage(o,2,a.元素反応,n))})),n+=t}["超激化","草激化"].forEach((e=>{e in s&&(n+=calculateReactedDamage(o,2,a.元素反応,e,s[e])-l)}))}return n}function calculateRotationTotalDamage(e,t){let a=0;return e.forEach((e=>{const n=getDamageResultArr(e,t);for(let r=0;r<n.length;r++)a+=calculateRotationDamageEntry(e,r,t)})),a}function calculateReactedDamage(e,t,a,n,r=1){let o=Number(e[t]);const s=e[1];if(n&&s)if(["蒸発","溶解"].includes(n)){const e=n+"倍率_"+s;e in a&&(o*=a[e])}else if(["超激化","草激化"].includes(n)){const t=n+"ダメージ";if(t in a){let n=a[t];e[2]&&(n*=o/e[4]),e[7]&&(n*=e[7]),e[8]&&(n*=e[8]),n*=r,o+=n}}return o}function getAmplifyingReactionElement(e,t){let a;return"蒸発"===e&&"炎"===t?a="水":"蒸発"===e&&"水"===t?a="炎":"溶解"===e&&"炎"===t?a="氷":"溶解"===e&&"氷"===t?a="炎":"超激化"===e&&"雷"===t?a="草":"草激化"===e&&"草"===t&&(a="雷"),a}},5983:function(e,t,a){a.d(t,{EZ:function(){return i},fX:function(){return s},kE:function(){return o}});var n=a(4806),r=a.n(n);function o(e){return isFinite(e)&&null!=e}function s(e,t){if(r().isPlainObject(t)&&r().isPlainObject(e)){const a=Object.keys(t);for(const n of a)e[n]=t[n];for(const t of Object.keys(e))a.includes(t)||delete e[t]}return e}const i=e=>e.split("/").pop().split(".").shift()},2540:function(e,t,a){var n=a(7853);const r=(0,n.o)({legacy:!1,locale:"ja-jp",fallbackLocale:"en-us",isGlobal:!0});t.Z=r},2986:function(e,t,a){a.d(t,{A2:function(){return Me},Ac:function(){return Ue},CN:function(){return fe},Cl:function(){return ue},Em:function(){return _},F7:function(){return $},F_:function(){return te},HM:function(){return H},Hk:function(){return we},Hx:function(){return v},Jd:function(){return Re},K1:function(){return Z},Ke:function(){return ie},L0:function(){return pe},LA:function(){return R},Lp:function(){return We},Mz:function(){return P},NY:function(){return U},Nh:function(){return Be},O$:function(){return z},PH:function(){return Se},PL:function(){return g},QW:function(){return ke},R4:function(){return J},U3:function(){return u},UR:function(){return ge},US:function(){return W},V6:function(){return w},Vd:function(){return i},Vk:function(){return me},W3:function(){return he},YO:function(){return C},Yy:function(){return K},Z3:function(){return ee},ZT:function(){return _e},_z:function(){return Ne},a_:function(){return Te},e0:function(){return de},e2:function(){return G},ge:function(){return ce},hh:function(){return F},i1:function(){return j},i5:function(){return Ve},iU:function(){return T},jq:function(){return k},kA:function(){return S},kE:function(){return re},kM:function(){return b},pS:function(){return se},q2:function(){return D},qA:function(){return oe},qT:function(){return le},r2:function(){return Ee},sB:function(){return ye},sx:function(){return x},tH:function(){return m},tQ:function(){return q},uc:function(){return d},vo:function(){return N},wB:function(){return p},wM:function(){return ae},wY:function(){return Ie},wn:function(){return A},yL:function(){return X},zX:function(){return De},zf:function(){return I}});a(560),a(8858),a(1318),a(3228);var n=a(6125),r=a(4806),o=a.n(r),s=a(5983);const i=["基礎HP","基礎攻撃力","基礎防御力"],l=["HP上限","攻撃力","防御力","元素熟知"],c=["会心率","会心ダメージ","与える治療効果","受ける治療効果","元素チャージ効率","クールタイム短縮","シールド強化"],u=["炎元素ダメージバフ","水元素ダメージバフ","風元素ダメージバフ","雷元素ダメージバフ","草元素ダメージバフ","氷元素ダメージバフ","岩元素ダメージバフ","物理ダメージバフ"],m=["炎元素耐性","水元素耐性","風元素耐性","雷元素耐性","草元素耐性","氷元素耐性","岩元素耐性","物理耐性"],_=["通常攻撃ダメージバフ","重撃ダメージバフ","落下攻撃ダメージバフ","元素スキルダメージバフ","元素爆発ダメージバフ","与えるダメージ"],p=["通常攻撃ダメージアップ","重撃ダメージアップ","落下攻撃ダメージアップ","元素スキルダメージアップ","元素爆発ダメージアップ","炎元素ダメージアップ","水元素ダメージアップ","風元素ダメージアップ","雷元素ダメージアップ","草元素ダメージアップ","氷元素ダメージアップ","岩元素ダメージアップ","物理ダメージアップ"],d=["蒸発反応ボーナス","溶解反応ボーナス","過負荷反応ボーナス","感電反応ボーナス","凍結反応ボーナス","超電導反応ボーナス","拡散反応ボーナス","結晶反応ボーナス","燃焼反応ボーナス","開花反応ボーナス","烈開花反応ボーナス","超開花反応ボーナス","超激化反応ボーナス","草激化反応ボーナス"],f=["ダメージ軽減","HP%","攻撃力%","防御力%","HP+","攻撃力+","防御力+"],h=["HP上限V1","攻撃力V1","防御力V1","元素熟知V1","会心率V1","会心ダメージV1","与える治療効果V1","受ける治療効果V1","元素チャージ効率V1"],g=["元素熟知TOP"],y=["敵炎元素耐性","敵水元素耐性","敵風元素耐性","敵雷元素耐性","敵草元素耐性","敵氷元素耐性","敵岩元素耐性","敵物理耐性"],E=["敵防御力"],b=new Map([["基礎ステータス",i],["基本ステータス",l],["高級ステータス",c],["元素ステータス·ダメージ",u],["元素ステータス·耐性",m],["ダメージバフ",_],["実数ダメージ加算",p],["元素反応バフ",d],["その他",f],["ステータス連動",h],["チーム内最高値",g],["敵ステータス·元素耐性",y],["敵ステータス·その他",E]]),w=[...c,...u,...m,..._,...d,...y,"別枠乗算","敵防御力","ダメージ軽減"];function O(){const e={};return b.forEach((t=>{t.forEach((t=>{e[t]=0}))})),e["会心率"]=5,e["会心ダメージ"]=50,e["元素チャージ効率"]=100,e["敵レベル"]=0,e["敵防御力"]=0,e}const D=O();function M(){const e={};return[m].forEach((t=>{t.forEach((t=>{e[t]=0}))})),e["防御力"]=0,e}M();const k=/^(27|826)$/.test(a.j)?["5_HP","4_HP"]:null,C=/^(27|826)$/.test(a.j)?["5_攻撃力","4_攻撃力"]:null,A=/^(27|826)$/.test(a.j)?["5_元素チャージ効率","5_HP%","5_攻撃力%","5_防御力%","5_元素熟知","4_元素チャージ効率","4_HP%","4_攻撃力%","4_防御力%","4_元素熟知"]:null,j=/^(27|826)$/.test(a.j)?["5_炎元素ダメージバフ","5_水元素ダメージバフ","5_風元素ダメージバフ","5_雷元素ダメージバフ","5_草元素ダメージバフ","5_氷元素ダメージバフ","5_岩元素ダメージバフ","5_物理ダメージバフ","5_HP%","5_攻撃力%","5_防御力%","5_元素熟知","4_炎元素ダメージバフ","4_水元素ダメージバフ","4_風元素ダメージバフ","4_雷元素ダメージバフ","4_草元素ダメージバフ","4_氷元素ダメージバフ","4_岩元素ダメージバフ","4_物理ダメージバフ","4_HP%","4_攻撃力%","4_防御力%","4_元素熟知"]:null,P=/^(27|826)$/.test(a.j)?["5_会心率","5_会心ダメージ","5_HP%","5_攻撃力%","5_防御力%","5_元素熟知","5_与える治療効果","4_会心率","4_会心ダメージ","4_HP%","4_攻撃力%","4_防御力%","4_元素熟知","4_与える治療効果"]:null,v=/^(27|299|562|826)$/.test(a.j)?["HP%","HP","攻撃力%","攻撃力","防御力%","防御力","元素熟知","会心率","会心ダメージ","元素チャージ効率"]:null,S=826==a.j?["攻撃力%","HP%","防御力%","元素熟知","会心率","会心ダメージ","元素チャージ効率","HP","攻撃力","防御力"]:null,R={HP:0,"攻撃力":0,"防御力":0,"元素熟知":0,"会心率":0,"会心ダメージ":0,"元素チャージ効率":0,"HP%":0,"攻撃力%":0,"防御力%":0,"炎元素ダメージバフ":0,"水元素ダメージバフ":0,"風元素ダメージバフ":0,"雷元素ダメージバフ":0,"草元素ダメージバフ":0,"氷元素ダメージバフ":0,"岩元素ダメージバフ":0,"物理ダメージバフ":0,"与える治療効果":0},N={"元素":"炎","蒸発倍率_炎":0,"蒸発倍率_水":0,"溶解倍率_氷":0,"溶解倍率_炎":0,"過負荷ダメージ":0,"感電ダメージ":0,"超電導ダメージ":0,"拡散ダメージ":0,"拡散元素":"炎","結晶吸収量":0,"氷砕きダメージ":0,"燃焼ダメージ":0,"開花ダメージ":0,"烈開花ダメージ":0,"超開花ダメージ":0,"超激化ダメージ":0,"草激化ダメージ":0,"燃焼ダメージ会心率":0,"燃焼ダメージ会心ダメージ":0,"開花ダメージ会心率":0,"開花ダメージ会心ダメージ":0,"烈開花ダメージ会心率":0,"烈開花ダメージ会心ダメージ":0,"超開花ダメージ会心率":0,"超開花ダメージ会心ダメージ":0},W={"元素反応":o().cloneDeep(N),"通常攻撃":[],"重撃":[],"落下攻撃":[],"元素スキル":[],"元素爆発":[],"その他":[],"キャラクター注釈":[],"被ダメージ":[],"耐久スコア":[]},T=[Array.from({length:20},((e,t)=>t+1)),Array.from({length:21},((e,t)=>t+20)),Array.from({length:11},((e,t)=>t+40)),Array.from({length:11},((e,t)=>t+50)),Array.from({length:11},((e,t)=>t+60)),Array.from({length:11},((e,t)=>t+70)),Array.from({length:11},((e,t)=>t+80))],I={key:"NONE","レアリティ":5,image:n.bx},L={character:"アンバー",characterMaster:{},"突破レベル":6,"レベル":90,"命ノ星座":0,"通常攻撃レベル":8,"元素スキルレベル":8,"元素爆発レベル":8,weapon:"西風猟弓",weaponMaster:{},"武器突破レベル":6,"武器レベル":90,"武器精錬ランク":1,artifactSets:["NONE","NONE"],artifactSetMasters:[I,I],damageDetailMyCharacter:null,damageDetailMyWeapon:null,damageDetailMyArtifactSets:null,damageDetailElementalResonance:null,buildname:"",recommendationSelectedIndex:0,removeDisabled:!0},H={name:"",rarity:1,setname:"NONE",cat_id:1,mainStat:"",mainStatValue:0,subStats:[{name:"HP",value:0},{name:"攻撃力",value:0},{name:"防御力",value:0},{name:"元素熟知",value:0}]},V={"聖遺物メイン効果":["","","","",""],"聖遺物優先するサブ効果":o().fill(Array(n.GD),""),"聖遺物優先するサブ効果上昇値":Array.from(n.Ml[2].values),"聖遺物優先するサブ効果上昇回数":Array.from(n.Ml[2].counts),"聖遺物ステータス":o().cloneDeep(R),"聖遺物ステータスメイン効果":o().cloneDeep(R),"聖遺物ステータスサブ効果":o().cloneDeep(R),"聖遺物優先するサブ効果Disabled":!1,artifact_list:[]},U={optionDetails1:[],optionDetails2:[],conditionMap:new Map,exclusionMap:new Map,checkboxList:[],selectList:[],numberList:[],conditionValues:{},conditionAdjustments:{},"攻撃元素":[null,null,null]},B={statsObj:o().cloneDeep(D),statAdjustments:o().cloneDeep(D),statAdjustmentsEx:{},enemyMaster:n.FX[0]};for(const Ke of Object.keys(B.statAdjustments))B.statAdjustments[Ke]=0;function K(){return o().cloneDeep(L)}function x(){return o().cloneDeep(V)}function q(){return o().cloneDeep(U)}function F(){return o().cloneDeep(Y)}function z(){return o().cloneDeep(B)}function $(){return o().cloneDeep(W)}K(),x(),q(),z(),$(),new Map,new Map;const Y={elementalResonance:{conditionValues:{},conditionAdjustments:{}},supporterBuildname:{},supporters:{},teamMembers:[],teamOption:o().cloneDeep(U),miscOption:o().cloneDeep(U)},G="ステータス変更系詳細",X="天賦性能変更系詳細";function Q(e){let t=[0,1];try{let a;a=o().isString(e)?Number(String(e).replace("+","")):Number(e);let n=0;for(let t=T.length-1;t>=0;t--)if(n=t,!(T[t][0]>a)){T[t][0]!=a||String(e).endsWith("+")||n--;break}t=[Math.max(0,n),a]}catch(a){console.error(e)}return t}function Z(e){return"あなたの"+e}function J(e,t){let a="構成_"+e;return t&&t!=Z(e)&&(a+="_"+t),a}function ee(e,t){return"オプション"+J(e,t)}function te(e,t){return J(e,t).replace(/^構成/,"ArtifactScoring")}function ae(e,t){const a=[],r=e["名前"];let o=null;t&&(a.push({name:"IMPORTED DATA",build:t,overwrite:!1}),o=!0,console.log("IMPORTED DATA",t));const s=[];Object.keys(localStorage).forEach((e=>{e.startsWith(J(r))&&(s.push(e),null===o&&(o=!1))})),s.sort();const i=new RegExp("^構成_"+r+"_");return s.forEach((e=>{let t;t=e==J(r)?Z(r):e.replace(i,"");const n=JSON.parse(localStorage[e]),o="オプション"+e;if(o in localStorage){const e=JSON.parse(localStorage[o]);n.options=e}const s=e.replace(/^構成/,"ArtifactScoring");if(s in localStorage){const e=JSON.parse(localStorage[s]);n.artifactScoring=e}const l=e.replace(/^構成/,"SupporterBuildname");if(l in localStorage){const e=JSON.parse(localStorage[l]);n.supporterBuildname=e}a.push({name:t,build:n,overwrite:!0})})),e["おすすめセット"].forEach((e=>{const t=e;for(let a=1;a<=n.GD;a++){const t="聖遺物優先するサブ効果"+a;t in e||(e[t]=null)}const r=[[5,5,5,5,5],[4,4,5,5,5],[4,4,4,5,4]];let o=0;const s=t["聖遺物セット効果1"],i=t["聖遺物セット効果2"];4==n.oN[s]["レアリティ"]&&o++,4==n.oN[i]["レアリティ"]&&o++;for(let a=0;a<2;a++){const e="聖遺物メイン効果"+(a+1);e in t||(0==a?t[e]=r[o][a]+"_HP":1==a&&(t[e]=r[o][a]+"_攻撃力"))}let l=t["武器"];l+=" ",t["聖遺物セット効果1"]==t["聖遺物セット効果2"]?l+=t["聖遺物セット効果1"]:(l+=ne(t["聖遺物セット効果1"]),l+="/",l+=ne(t["聖遺物セット効果2"])),l+=" [";for(let a=3;a<=5;a++){const e=t["聖遺物メイン効果"+a].split("_")[1];n.kf.has(e)?l+=n.kf.get(e):l+=e.substring(0,1)}l+="]",a.push({name:l,build:t,overwrite:!1})})),a}function ne(e){const t=/[\p{sc=Hiragana}\p{sc=Katakana}ー]+/gu;let a=e.replace(t,"");return a.length>2&&(a=e.split(t).sort(((e,t)=>t.length-e.length))[0]),a.length>3&&(a=a.substring(0,2)),a}function re(e,t,a){const r=[];if(e[t]&&(a||(a=e[t]),a&&a in n._J)){const e=n._J[a];for(let t=0;t<e.length;t++)if(r.push(e[t]),t<e.length-1){const a=e[t+1]-e[t];r.push(e[t]+a/2)}}return r}function oe(e){const t=[];if(e&&e in n._J){const a=n._J[e];for(let e=0;e<a.length;e++)if(t.push(a[e]),e<a.length-1){const n=a[e+1]-a[e];t.push(a[e]+n/2)}}return t}async function se(e,t,a,r,i,l){try{const c=e.character,u=await(0,n.tm)(c);e.characterMaster=u;const m=o().cloneDeep(R);l&&(e.buildname=l),"レベル"in i&&([e.突破レベル,e.レベル]=Q(i["レベル"])),["命ノ星座","通常攻撃レベル","元素スキルレベル","元素爆発レベル"].forEach((t=>{t in i&&(e[t]=Number(i[t]))}));const _=u["武器"];"武器"in i&&(Object.keys(n.Nd[_]).includes(i["武器"])?e.weapon=i["武器"]:e.weapon=Object.keys(n.Nd[_]).filter((e=>e.startsWith("西風")))[0],e.weaponMaster=await(0,n.i7)(e.weapon,_)),"武器レベル"in i&&([e.武器突破レベル,e.武器レベル]=Q(i["武器レベル"])),"精錬ランク"in i&&(e.武器精錬ランク=Number(i["精錬ランク"]));let p=!1;for(const e of Object.keys(i).filter((e=>e.startsWith("聖遺物サブ効果")))){let t=e.replace(/^聖遺物サブ効果/,"");"HP"!=t&&(t=t.replace(/P$/,"%")),(i[e]||0==i[e])&&(p=!0,m[t]=Number(i[e]))}t.聖遺物優先するサブ効果Disabled=p;const d=[],f=[];["聖遺物セット効果1","聖遺物セット効果2"].forEach((e=>{const t=i[e]??"NONE";d.push(t),f.push(n.oN[t])})),e.artifactSets.splice(0,e.artifactSets.length,...d),e.artifactSetMasters.splice(0,e.artifactSetMasters.length,...f);const h=[];["聖遺物メイン効果1","聖遺物メイン効果2"].forEach(((e,a)=>{const n=i[e];h.push(n??["5_HP","5_攻撃力"][a]),t["聖遺物メイン効果"][a]=e in i?i[e]:["5_HP","5_攻撃力"][a]})),["聖遺物メイン効果3","聖遺物メイン効果4","聖遺物メイン効果5"].forEach((e=>{const t=i[e];h.push(t??"")})),t["聖遺物メイン効果"].splice(0,t["聖遺物メイン効果"].length,...h);const g=[],y=[],E=[];for(let e=0;e<t["聖遺物優先するサブ効果"].length;e++){const t="聖遺物優先するサブ効果"+(e+1),a=t+"上昇値",r=t+"上昇回数",o=i[t],s=i[a],l=i[r];g.push(o??""),y.push(void 0!==s?Number(s):n.Ml[2].values[e]),E.push(void 0!==l?Number(l):n.Ml[2].counts[e])}if(t["聖遺物優先するサブ効果"].splice(0,t["聖遺物優先するサブ効果"].length,...g),t["聖遺物優先するサブ効果上昇値"].splice(0,t["聖遺物優先するサブ効果上昇値"].length,...y),t["聖遺物優先するサブ効果上昇回数"].splice(0,t["聖遺物優先するサブ効果上昇回数"].length,...E),Object.keys(i).filter((e=>!n.PW.has(e)&&!["options","artifactScoring","supporterBuildname","artifact_list"].includes(e))).forEach((e=>{null===i[e]?a.conditionValues[e]=i[e]:o().isString(i[e])?a.conditionValues[e]=Number(i[e]):a.conditionValues[e]=i[e]})),"options"in i){(0,s.fX)(r.elementalResonance.conditionValues,{}),(0,s.fX)(r.teamOption.conditionValues,{}),(0,s.fX)(r.miscOption.conditionValues,{}),r.teamMembers.splice(0,r.teamMembers.length);const e=Object.keys(i.options);e.length&&e.forEach((e=>{if("teamMembers"===e&&o().isArray(i.options[e]))r.teamMembers.splice(0,r.teamMembers.length,...i.options[e]);else if(e in n._9||"dendroOption"===e)r.elementalResonance.conditionValues[e]=i.options[e];else{const t=e.indexOf("*");if(-1!=t){const a=e.substring(0,t);a in n.bw?r.teamOption.conditionValues[e]=i.options[e]:r.miscOption.conditionValues[e]=i.options[e]}else r.miscOption.conditionValues[e]=i.options[e]}}))}if("supporterBuildname"in i){const e=Object.keys(i.supporterBuildname);e.length&&((0,s.fX)(r.supporterBuildname,{}),e.forEach((e=>{r.supporterBuildname[e]=i.supporterBuildname[e]})))}if("artifact_list"in i){const e=Object.keys(H).sort(),a=i.artifact_list.filter((t=>o().isEqual(Object.keys(t).sort(),e)));t.artifact_list.splice(0,t.artifact_list.length,...a)}else t.artifact_list.splice(0,t.artifact_list.length);(0,s.fX)(t.聖遺物ステータスサブ効果,m),console.debug("loadRecommendation",e,t,a,i)}catch(c){console.error(e,t,a,i)}}function ie(e,t,a){const n={};n["キャラクター"]=e.character,n["レベル"]=e.レベル+(T[e.突破レベル][0]==e.レベル?"+":""),n["命ノ星座"]=e.命ノ星座,n["通常攻撃レベル"]=e.通常攻撃レベル,n["元素スキルレベル"]=e.元素スキルレベル,n["元素爆発レベル"]=e.元素爆発レベル,n["武器"]=e.weapon,n["武器レベル"]=e.武器レベル+(T[e.突破レベル][0]==e.武器レベル?"+":""),n["精錬ランク"]=e.武器精錬ランク,n["聖遺物セット効果1"]=e.artifactSets[0],n["聖遺物セット効果2"]=e.artifactSets[1],n["聖遺物メイン効果1"]=t.聖遺物メイン効果[0],n["聖遺物メイン効果2"]=t.聖遺物メイン効果[1],n["聖遺物メイン効果3"]=t.聖遺物メイン効果[2],n["聖遺物メイン効果4"]=t.聖遺物メイン効果[3],n["聖遺物メイン効果5"]=t.聖遺物メイン効果[4],n["聖遺物サブ効果HP"]=t.聖遺物ステータスサブ効果["HP"],n["聖遺物サブ効果攻撃力"]=t.聖遺物ステータスサブ効果["攻撃力"],n["聖遺物サブ効果防御力"]=t.聖遺物ステータスサブ効果["防御力"],n["聖遺物サブ効果元素熟知"]=t.聖遺物ステータスサブ効果["元素熟知"],n["聖遺物サブ効果会心率"]=t.聖遺物ステータスサブ効果["会心率"],n["聖遺物サブ効果会心ダメージ"]=t.聖遺物ステータスサブ効果["会心ダメージ"],n["聖遺物サブ効果元素チャージ効率"]=t.聖遺物ステータスサブ効果["元素チャージ効率"],n["聖遺物サブ効果HPP"]=t.聖遺物ステータスサブ効果["HP%"],n["聖遺物サブ効果攻撃力P"]=t.聖遺物ステータスサブ効果["攻撃力%"],n["聖遺物サブ効果防御力P"]=t.聖遺物ステータスサブ効果["防御力%"];for(let r=0;r<t.聖遺物優先するサブ効果.length;r++){const e=t.聖遺物優先するサブ効果[r];if(e){const a="聖遺物優先するサブ効果"+(r+1);n[a]=e,n[a+"上昇値"]=t.聖遺物優先するサブ効果上昇値[r],n[a+"上昇回数"]=t.聖遺物優先するサブ効果上昇回数[r]}}for(const r of a.checkboxList)n[r.name]=a.conditionValues[r.name];for(const r of a.selectList)n[r.name]=a.conditionValues[r.name];return n["artifact_list"]=t.artifact_list,n}function le(e,t){const a={};{const e=t.elementalResonance.conditionValues;Object.keys(e).forEach((t=>{e[t]&&(a[t]=e[t])}))}{const n=t.teamOption.conditionValues;Object.keys(n).forEach((t=>{t.startsWith(e+"*")||n[t]&&(a[t]=n[t])})),t.teamMembers.length&&(a["teamMembers"]=t.teamMembers)}{const e=t.miscOption.conditionValues;Object.keys(e).forEach((t=>{e[t]&&(a[t]=e[t])}))}return a}function ce(e){const t={};try{const a=e.characterMaster;let n,r,s,i;const l="キャラクター",c=[],u=[];r=e["通常攻撃レベル"],i="法器"===a["武器"]?a["元素"]:null,["通常攻撃","重撃","落下攻撃"].forEach((e=>{n=a[e],s=e+"ダメージ",t[e]=fe(n,r,s,i,c,u,l)})),["通常攻撃","重撃","落下攻撃"].forEach((o=>{const m="特殊"+o;if(m in a){if(n=a[m],"種類"in n)switch(s=n["種類"],s){case"元素スキルダメージ":r=e["元素スキルレベル"];break;case"元素爆発ダメージ":r=e["元素爆発レベル"];break}"元素"in n&&(i=n["元素"]);const o={"条件":n["条件"],"詳細":fe(n,r,s,i,c,u,l)};t[m]=o}})),r=e["元素スキルレベル"],s="元素スキルダメージ",i=a["元素"],t["元素スキル"]=fe(a["元素スキル"],r,s,i,c,u,l),r=e["元素爆発レベル"],s="元素爆発ダメージ",i=a["元素"],t["元素爆発"]=fe(a["元素爆発"],r,s,i,c,u,l),t["その他"]=[],"その他戦闘天賦"in a&&a["その他戦闘天賦"].forEach((e=>{const a=fe(e,null,null,null,c,u,l);a.length>0&&t["その他"].push(...a)})),a["固有天賦"].forEach((e=>{const a=fe(e,null,null,null,c,u,l);a.length>0&&t["その他"].push(...a)})),"命ノ星座"in a&&Object.keys(a["命ノ星座"]).forEach((r=>{if(Number(r)>e.命ノ星座)return;n=a["命ノ星座"][r];const o=fe(n,null,null,null,c,u,l);o.length>0&&t["その他"].push(...o)})),"風"==a["元素"]&&(0==u.filter((e=>e.条件&&e.条件.startsWith("拡散@"))).length&&["炎元素","水元素","雷元素","氷元素"].forEach((e=>{u.push({"名前":null,"種類":"固有変数","元素":null,"数値":null,"条件":"拡散@"+e,"対象":null,"上限":null,"下限":null,"HIT数":null,"ダメージバフ":null,"元素付与無効":null,"除外条件":null,"適用条件":null})})),"オプション初期値"in a?0==Object.keys(a["オプション初期値"]).filter((e=>"拡散"==e)).length&&(a["オプション初期値"]["拡散"]=1):a["オプション初期値"]={"拡散":1}),t[G]=c,t[X]=u;const m=new Map,_=new Map;c.filter((e=>e["条件"])).forEach((e=>{ge(e["条件"],m,_)})),u.filter((e=>e["条件"])).forEach((e=>{ge(e["条件"],m,_)})),m.forEach(((e,t)=>{e&&o().isArray(e)&&(e[0].startsWith("required_")||m.set(t,["",...e]))})),t["条件"]=m,t["排他"]=_,e.damageDetailMyCharacter=t}catch(a){console.error(e,t)}return t}function ue(e){const t={};try{const a=e.weapon,n=e.weaponMaster;if(!a||!n)return t;let r;const s=e.武器精錬ランク,i="武器",l=[],c=[];"武器スキル"in n&&(r=n["武器スキル"],t["その他"]=fe(r,s,null,null,l,c,i)),t[G]=l,t[X]=c;const u=new Map,m=new Map;l.filter((e=>e["条件"])).forEach((e=>{let t=e["条件"];o().isPlainObject(t)&&s in t&&(t=t[s]),ge(t,u,m)})),c.filter((e=>e["条件"])).forEach((e=>{let t=e["条件"];o().isPlainObject(t)&&s in t&&(t=t[s]),ge(t,u,m)})),u.forEach(((e,t)=>{e&&o().isArray(e)&&(e[0].startsWith("required_")||u.set(t,["",...e]))})),t["条件"]=u,t["排他"]=m,e.damageDetailMyWeapon=t}catch(a){console.error(e,t)}return t}function me(e){const t=[];try{let a;const n="聖遺物セット効果",r=[],s=[],i=e.artifactSetMasters.filter((e=>e));if(i.length>0){const e=[];"2セット効果"in i[0]&&(a=i[0]["2セット効果"],e.push(...fe(a,null,null,null,r,s,n))),2==i.length&&(i[0]==i[1]?(a=i[0]["4セット効果"],e.push(...fe(a,null,null,null,r,s,n))):(a=i[1]["2セット効果"],e.push(...fe(a,null,null,null,r,s,n)))),t["その他"]=e}t[G]=r,t[X]=s;const l=new Map,c=new Map;r.filter((e=>e["条件"])).forEach((e=>{ge(e["条件"],l,c)})),s.filter((e=>e["条件"])).forEach((e=>{ge(e["条件"],l,c)})),l.forEach(((e,t)=>{e&&o().isArray(e)&&(e[0].startsWith("required_")||l.set(t,["",...e]))})),t["条件"]=l,t["排他"]=c,e.damageDetailMyArtifactSets=t}catch(a){console.error(e,t)}return t}function _e(e){const t=[];try{const a="元素共鳴",r=[],s=[],i=[];for(const e of n.TG){const t=o().cloneDeep(e);t.詳細&&t.詳細.forEach((t=>{t.名前=e.key})),r.push(...fe(t,null,null,null,s,i,a))}t["その他"]=r,t[G]=s,t[X]=i;const l=new Map,c=new Map;s.filter((e=>e["条件"])).forEach((e=>{ge(e["条件"],l,c)})),i.filter((e=>e["条件"])).forEach((e=>{ge(e["条件"],l,c)})),l.forEach(((e,t)=>{e&&o().isArray(e)&&(e[0].startsWith("required_")||l.set(t,["",...e]))})),t["条件"]=l,t["排他"]=c,e.damageDetailElementalResonance=t}catch(a){console.error(e,t)}return t}function pe(e,t,a,n,r,s){let i=e.種類??a,l=e.対象??null;i&&-1!==i.indexOf(".")&&(l=i.substring(i.indexOf(".")+1),i=i.substring(0,i.indexOf(".")));let c=e.数値??0;o().isPlainObject(c)&&(t&&t in c?c=c[t]:(console.error(e,t,c),c=0)),c=ve(c);let u=e.条件??s??null;o().isPlainObject(u)&&t&&t in u&&(u=u[t]);let m=e.上限??null;o().isPlainObject(m)&&(t&&t in m?m=m[t]:(console.error(e,t,m),m=null)),m=ve(m);let _=e.下限??null;return o().isPlainObject(_)&&(t&&t in _?_=_[t]:(console.error(e,t,_),_=null)),_=ve(_),{"名前":e.名前??null,"種類":i,"元素":e.元素??n??null,"数値":c,"条件":u,"対象":l,"上限":m,"下限":_,"HIT数":e.HIT数??null,"ダメージバフ":e.ダメージバフ??null,"元素付与無効":e.元素付与無効??"武器"===r,"除外条件":e.除外条件??null,"適用条件":e.適用条件??null}}function de(e){return e in D||new RegExp("[自全].+(バフ|アップ)").exec(e)||["その他ダメージアップ"].includes(e)||new RegExp("敵?[自全]元素耐性").exec(e)||["別枠乗算","回復量アップ"].includes(e)||["敵防御力"].includes(e)||["発動回数","使用回数"].includes(e)||["攻撃速度","通常攻撃速度","重撃速度","移動速度"].includes(e)||e.endsWith("継続時間")||e.endsWith("クールタイム")||e.endsWith("会心率")||e.endsWith("会心ダメージ")?"STATUS":e.endsWith("強化")||e.endsWith("付与")||"防御無視"==e||"固有変数"==e?"TALENT":void 0}function fe(e,t,a,n,r,o,s,i){const l=[];return"詳細"in e?(e["詳細"].forEach((e=>{const c=pe(e,t,a,n,s,i),u=c.種類;return null!=r&&"STATUS"===de(u)?(c["元素"]=e.元素??null,void r.push(c)):null!=o&&"TALENT"===de(u)?(c["元素"]=e.元素??null,void o.push(c)):void l.push(c)})),l):l}function he(e){const t=[];return e.forEach((e=>{const a=pe(e,null,null,null,null);a&&t.push(a)})),t}function ge(e,t,a){let n;const r=e.split("^");r.length>1&&(n=r[1]);const o=r[0];if(o.includes("|")){const e=o.split("|");e.forEach((e=>{be(e,t,a,n)}))}else{const e=o.split("&");e.forEach((e=>{be(e,t,a,n)}))}}function ye(e){let t;return e.includes("@")?t="@":e.includes(">=")?t=">=":e.includes("<=")?t="<=":e.includes(">")?t=">":e.includes("<")?t="<":e.includes("=")&&(t="="),t}const Ee=/^\s*{.+}\s*$/;function be(e,t,a,n){const r=ye(e),i=r?e.split(r):[e],l=i[0];if(void 0===r)Ce(t,l,null);else if("@"===r||"="===r)if(2===i.length)if(Ee.test(i[1]))try{const r=JSON.parse(i[1]),c=r.min,u=r.max;if(o().isNumber(c)||o().isString(c)||console.error(e,t,a,n),void 0===u||o().isNumber(u)||o().isString(u)){const e={min:c,max:u,step:(0,s.kE)(r.step)?Number(r.step):1,initial:(0,s.kE)(r.initial)?Number(r.initial):c};Ce(t,l,e)}else console.error(e,t,a,n)}catch(c){console.error(c),console.error(e,t,a,n)}else if(i[1].includes(",")){const e=new RegExp("([^0-9]*?)([\\+\\-0-9\\.,]+)(.*)"),a=e.exec(i[1]);if(a){const e=a[1],n=a[2].split(","),r=a[3];n.forEach((a=>{Ce(t,l,e+a+r)}))}}else if(i[1].includes("-")){const e=new RegExp("([^0-9\\.]*)(-?[0-9\\.]+)-(-?[0-9\\.]+)(.*)"),a=new RegExp("/([0-9\\.]+)(.*)"),n=e.exec(i[1]);if(n){const e=n[1],r=Number(n[2]),o=Number(n[3]);let s=r,i=n[4];if(i){const e=a.exec(i);e&&(s=Number(e[1]),i=e[2])}s=s||1;for(let a=r;a<o;a=Pe(a,s,o))Ce(t,l,e+String(a)+i);Ce(t,l,e+String(o)+i)}else Ce(t,l,i[1])}else Ce(t,l,i[1]);else console.error(e,t,a,n);n&&n.split(",").forEach((e=>{Ce(a,l,e)}))}function we(e,t,a){try{const r=o().cloneDeep(e.conditionValues),i=[],l=[],c=[];for(const e of[t.characterMaster,t.weaponMaster,...t.artifactSetMasters])if("オプション初期値"in e)for(const t of Object.keys(e["オプション初期値"]))t in r||(r[t]=e["オプション初期値"][t]);const u=Oe(t),m=De(t);if(a.elementalResonance)for(const e of Object.keys(n._9)){if(!a.elementalResonance.conditionValues[e])continue;const t=n._9[e];if(t.詳細)for(const e of t.詳細)e.条件&&ge(e.条件,u,m)}u.forEach(((e,t)=>{if(null===e)0===i.filter((e=>e.name==t)).length&&i.push({name:t});else if(o().isArray(e)){if(0===l.filter((e=>e.name==t)).length){const a=e[0].startsWith("required_");l.push({name:t,options:e,required:a})}}else if(o().isPlainObject(e)&&0===c.filter((e=>e.name==t)).length){const a=e,n={name:t,min:a.min,max:a.max,step:a.step,initial:a.initial};c.push(n)}if(t in r&&null!==r[t]){const a=m.get(t);if(a)for(const t of a)if(t in r){const a=u.get(t);if(null===a)r[t]=!1;else if(o().isArray(e))r[t]=0;else if(o().isPlainObject(e)){const a=e.initial,n=e.min;(0,s.kE)(a)?r[t]=Number(a):(0,s.kE)(n)?r[t]=Number(n):r[t]=0}}}else if(null===e){let e=!0;const a=m.get(t);a&&a.filter((e=>r[e])).length>0&&(e=!1),r[t]=e}else if(o().isArray(e)){let a=e.length-1;const n=m.get(t);n&&n.filter((e=>r[e])).length>0&&(a=0),r[t]=a}else if(o().isPlainObject(e)){const a=e.initial,n=e.min;(0,s.kE)(a)?r[t]=Number(a):(0,s.kE)(n)?r[t]=Number(n):r[t]=0}})),o().isEqual(e.conditionValues,r)||(0,s.fX)(e.conditionValues,r),o().isEqual(e.checkboxList,i)||e.checkboxList.splice(0,e.checkboxList.length,...i),o().isEqual(e.selectList,l)||e.selectList.splice(0,e.selectList.length,...l),o().isEqual(e.numberList,c)||e.numberList.splice(0,e.numberList.length,...c)}catch(r){console.error(e,t,a)}}function Oe(e){const t=new Map;return[e.damageDetailMyCharacter,e.damageDetailMyWeapon,e.damageDetailMyArtifactSets].forEach((e=>{e&&e.条件&&e.条件.forEach(((e,a)=>{t.set(a,e)}))})),t}function De(e){const t=new Map;return[e.damageDetailMyCharacter,e.damageDetailMyWeapon,e.damageDetailMyArtifactSets].forEach((e=>{e&&e.排他&&e.排他.forEach(((e,a)=>{t.set(a,e)}))})),t}function Me(e,t){let a;if(e in t)a=t[e];else{const n=/(.+)X([0-7])$/,r=n.exec(e);if(r&&r[1]in t){a=t[r[1]];let e=Number(r[2]);for(let n=1;n<=3;n++){if(e%2==1){const e=r[1]+"V"+n;e in t&&(a-=t[e])}e=Math.trunc(e/2)}}}return void 0===a&&(console.warn(e,t),a=0),a}function ke(e,t,a){const n=Oe(t);n.forEach(((t,n)=>{if(o().isPlainObject(t)){const r=e.numberList.filter((e=>e.name==n));if(r.length>0){let s=t.min,i=t.max;if((o().isString(s)||o().isString(i))&&(o().isString(s)&&(s=Me(s,a)),o().isString(i)&&(i=Me(i,a)),r[0].min=s,r[0].max=i,n in e.conditionValues)){const t=e.conditionValues[n];o().isNumber(t)&&(t<s?e.conditionValues[n]=s:void 0!==i&&t>i&&(e.conditionValues[n]=i))}}}}))}function Ce(e,t,a){if(null===a)e.has(t)||e.set(t,null);else if(o().isString(a))if(e.has(t)){const n=e.get(t);null===n?e.set(t,[a]):o().isArray(n)?n.includes(a)||e.get(t).push(a):console.error(e,t,a)}else e.set(t,[a]);else o().isPlainObject(a)&&e.set(t,a)}function Ae(e){const t=(""+e).split(".");return t.length>1?t[1].length:0}function je(e,t){const a=Ae(e)+Ae(t),n=Number((""+e).replace(".","")),r=Number((""+t).replace(".","")),o=n*r/Math.pow(10,a);return Number(o)}function Pe(e,t,a){const n=Math.pow(10,Math.max(Ae(e),Ae(t)));let r=(je(e,n)+je(t,n))/n;return void 0!=a&&(r=Math.min(r,a)),r}function ve(e){let t="";if(void 0===e||null===e)t=null;else if(o().isNumber(e)||(0,s.kE)(e))t=String(e);else{const a="!\"&'()*+,-/:;<=>?@[\\]^`|~",n=a.split("").map((e=>"\\"+e)).join(""),r=new RegExp("([^"+n+"]+|["+n+"]+)","g");let i;while(null!==(i=r.exec(e))){let e=i[1];if(a.includes(e.substring(0,1)))t+=e;else if(e=o().trim(e),(0,s.kE)(e))t+=e;else if(e.length){if(e.includes("%")){const a=e.split("%").map((e=>o().trim(e)));t+=a[0]+"/100*",e=a[1].length?a[1]:"攻撃力"}t+="${"+e+"}"}}}return console.debug(e,t),t}function Se(e){let t=0;return"命ノ星座"in e&&(t=Object.keys(e.命ノ星座).length),t}function Re(e,t){let a=10;if(t in e){const n=e[t];if("詳細"in n)for(const e of n.詳細)if("数値"in e&&o().isPlainObject(e.数値)){const t=Object.keys(e.数値).length;a<t&&(a=t)}}return a}function Ne(e){const t=[],a=[],n=new Map,r=new Map,s=[],i=[],l=[];Object.keys(e.supporters).forEach((c=>{const u=e.supporters[c]?.optionDetails1,m=e.supporters[c]?.optionDetails2,_=e.supporters[c]?.conditionMap,p=e.supporters[c]?.exclusionMap;void 0!==u&&t.push(...u),void 0!==m&&a.push(...m),void 0!==_&&_.forEach(((e,t)=>{if(n.set(t,e),null===e)0===s.filter((e=>e.name==t)).length&&s.push({name:t,displayName:t.replace(/^.+\*/,"")});else if(o().isArray(e)){if(0===i.filter((e=>e.name==t)).length){const a=e[0].startsWith("required_");i.push({name:t,displayName:t.replace(/^.+\*/,""),options:a||!e[0]?e:["",...e],required:a})}}else o().isPlainObject(e)&&0===l.filter((e=>e.name==t)).length&&l.push({name:t,displayName:t.replace(/^.+\*/,""),min:e.min,max:e.max,step:e.step,initial:e.initial})})),void 0!==p&&p.forEach(((e,t)=>{r.set(t,e)}))})),e.teamOption.optionDetails1.splice(0,e.teamOption.optionDetails1.length,...t),e.teamOption.optionDetails2.splice(0,e.teamOption.optionDetails2.length,...a),e.teamOption.conditionMap=n,e.teamOption.exclusionMap=r,e.teamOption.checkboxList.splice(0,e.teamOption.checkboxList.length,...s),e.teamOption.selectList.splice(0,e.teamOption.selectList.length,...i),e.teamOption.numberList.splice(0,e.teamOption.numberList.length,...l)}function We(e){const t=[],a=[],r=new Map,s=new Map,i=[],l=[],c=[];[n.L6,n.dJ].forEach((e=>{for(const n of e){if("詳細"in n)for(const e of n.詳細)"条件"in e||(e.条件=n.key);fe(n,null,null,null,t,a,"その他オプション")}})),t.filter((e=>e.条件)).forEach((e=>{ge(e.条件,r,s)})),a.filter((e=>e.条件)).forEach((e=>{ge(e.条件,r,s)})),r.forEach(((e,t)=>{if(null===e)0===i.filter((e=>e.name==t)).length&&i.push({name:t,displayName:t.replace(/^.+\*/,"")});else if(o().isArray(e)){if(0===l.filter((e=>e.name==t)).length){const a=e[0].startsWith("required_");l.push({name:t,displayName:t.replace(/^.+\*/,""),options:a||!e[0]?e:["",...e],required:a})}}else o().isPlainObject(e)&&0===c.filter((e=>e.name==t)).length&&c.push({name:t,displayName:t.replace(/^.+\*/,""),min:e.min,max:e.max,step:e.step,initial:e.initial})})),e.miscOption.optionDetails1.splice(0,e.miscOption.optionDetails1.length,...t),e.miscOption.optionDetails2.splice(0,e.miscOption.optionDetails2.length,...a),e.miscOption.conditionMap=r,e.miscOption.exclusionMap=s,e.miscOption.checkboxList.splice(0,e.miscOption.checkboxList.length,...i),e.miscOption.selectList.splice(0,e.miscOption.selectList.length,...l),e.miscOption.numberList.splice(0,e.miscOption.numberList.length,...c)}async function Te(e,t,a){const r=e.character,o=[r];a?.teamMembers&&o.push(...a.teamMembers.filter((e=>e&&e!=r)));const s=n.bw[r].元素,i=new Map;let l=0;const c=new Map;for(const d of o){const e=await(0,n.tm)(d);if(e.region){const t=i.get(e.region);t?i.set(e.region,t+1):i.set(e.region,1)}if("元素エネルギー"in e.元素爆発&&(l+=Number(e.元素爆発.元素エネルギー)),e.元素){const t=c.get(e.元素);t?c.set(e.元素,t+1):c.set(e.元素,1)}}i.forEach(((e,a)=>{t.conditionValues["[チーム]"+a+"出身キャラクター"]=e,t.conditionValues["[チーム]"+a+"以外出身キャラクター"]=o.length-e})),l&&(t.conditionValues["[チーム]元素エネルギー上限の合計"]=l),c.forEach(((e,a)=>{t.conditionValues["[チーム]"+a+"元素キャラクター"]=e,t.conditionValues["[チーム]"+a+"元素以外キャラクター"]=o.length-e,a==s&&(t.conditionValues["[チーム]同じ元素のキャラクター"]=e-1,t.conditionValues["[チーム]異なる元素のキャラクター"]=o.length-e)})),t.conditionValues["[チーム]キャラクターの元素タイプ"]=c.size-1;const u=c.get("炎")??0,m=c.get("水")??0,_=c.get("雷")??0,p=c.get("氷")??0;t.conditionValues["[チーム]炎水雷氷元素のキャラクター"]=u+m+_+p}async function Ie(e,t){const a=e.character,r=[a];if(t?.teamMembers&&r.push(...t.teamMembers.filter((e=>e&&e!=a))),4==r.length){const e=new Map;for(const t of r){const a=await(0,n.tm)(t);if(a.元素){const t=e.get(a.元素);t?e.set(a.元素,t+1):e.set(a.元素,1)}}const a={},i=[],l=[];if(e.forEach(((e,t)=>{e>=2?i.push(t):1==e&&l.push(t)})),3==t.teamMembers.length)i.length>1?(a[i[0]+"元素共鳴"]=!0,a[i[1]+"元素共鳴"]=!0):i.length>0?a[i[0]+"元素共鳴"]=!0:a["元素共鳴なし"]=!0;else if(i.length>0){const e=[i[0]+"元素共鳴"],r=Object.keys(t.elementalResonance.conditionValues).filter((e=>t.elementalResonance.conditionValues[e]&&"元素共鳴なし"!=e)).map((e=>e.replace(/元素共鳴$/,"")));r.forEach((t=>{l.includes(t)&&e.push(t+"元素共鳴")})),e.length<2&&n.vV.forEach((a=>{const n=a+"元素共鳴";t.elementalResonance.conditionValues[n]&&(e.includes(n)||e.push(n))})),e.forEach((e=>{a[e]=!0}))}if(!o().isEqual(a,t.elementalResonance.conditionValues))return(0,s.fX)(t.elementalResonance.conditionValues,a),!0}return!1}function Le(e){const t=[];let a,r;return n.PW.forEach(((o,i)=>{let l,c=e[i];switch(i){case"キャラクター":a=c,l=(0,s.EZ)(n.bw[a]["import"]),c=l.split("_")[l.split("_").length-1];break;case"武器":r=n.bw[a]["武器"],l=(0,s.EZ)(n.Nd[r][c]["import"]),c=l.split("_")[l.split("_").length-1];break;case"聖遺物セット効果1":case"聖遺物セット効果2":"NONE"==c?c="":(l=(0,s.EZ)(n.oN[c]["image"]),c=l.split("_")[l.split("_").length-1]);break;case"聖遺物メイン効果1":case"聖遺物メイン効果2":case"聖遺物メイン効果3":case"聖遺物メイン効果4":case"聖遺物メイン効果5":c&&(c=c.split("_")[0]+"_"+n.Kl.get(c.split("_")[1]));break}i.match(/^聖遺物優先するサブ効果\d$/)&&c&&(c=n.Kl.get(c)),t.push(c)})),Object.keys(e).forEach((a=>{n.PW.has(a)||t.push(a+"="+e[a])})),t.join(",")}function He(e,t,a,n){const r="https://twitter.com/intent/tweet?",o=new URLSearchParams;o.append("text",e),o.append("url",t),a&&o.append("hashtags",a),n&&o.append("via",n);const s=o.toString(),i=`${r}${s}`;console.log(o),console.log(i),window.open(i)}function Ve(e,t,a){const n=ie(e,t,a),r=Le(n),o=e.buildname,s=encodeURI(r),i="https://asagume.github.io/gencalc/?allin="+s;He(o,i)}function Ue(e,t,a,n){sessionStorage.setItem("character",e),t&&sessionStorage.setItem("buildname",t),a&&sessionStorage.setItem("builddata",JSON.stringify(a)),n&&sessionStorage.setItem("teammembers",JSON.stringify(n))}function Be(){const e=[void 0,void 0,void 0,void 0],t=sessionStorage.getItem("character");if(t){e[0]=t;const a=sessionStorage.getItem("buildname");a&&(e[1]=a);const n=sessionStorage.getItem("builddata");n&&(e[2]=JSON.parse(n));const r=sessionStorage.getItem("teammembers");r&&(e[3]=JSON.parse(r)),console.log(t,a,n,r)}return sessionStorage.removeItem("character"),sessionStorage.removeItem("builddata"),sessionStorage.removeItem("buildname"),sessionStorage.removeItem("teammembers"),e}},6125:function(e,t,a){a.d(t,{vV:function(){return H},$Y:function(){return u},ZS:function(){return ee},oN:function(){return c},_j:function(){return j},Kl:function(){return G},Ps:function(){return X},_J:function(){return m},bw:function(){return n},qy:function(){return b},vN:function(){return z},q4:function(){return g},_9:function(){return p},TG:function(){return v},Cb:function(){return U},X9:function(){return V},GN:function(){return B},FX:function(){return P},Ml:function(){return Q},bx:function(){return y},GD:function(){return F},DH:function(){return f},L6:function(){return R},MB:function(){return h},dJ:function(){return N},mU:function(){return Y},kf:function(){return $},dr:function(){return x},ci:function(){return d},Rj:function(){return S},k9:function(){return K},Nd:function(){return w},JP:function(){return A},Uk:function(){return J},tm:function(){return T},i7:function(){return L},PW:function(){return q}});a(560);var n=JSON.parse('{"クロリンデ":{"レアリティ":5,"元素":"雷","武器":"片手剣","誕生日":"9/20","import":"data/characters/electro_5_sword_Clorinde.json"},"アルレッキーノ":{"レアリティ":5,"元素":"炎","武器":"長柄武器","誕生日":"8/22","import":"data/characters/pyro_5_polearm_Arlecchino.json"},"千織":{"レアリティ":5,"元素":"岩","武器":"片手剣","誕生日":"8/17","import":"data/characters/geo_5_sword_Chiori.json"},"閑雲":{"レアリティ":5,"元素":"風","武器":"法器","誕生日":"4/11","import":"data/characters/anemo_5_catalyst_Xianyun.json"},"ナヴィア":{"レアリティ":5,"元素":"岩","武器":"両手剣","誕生日":"8/16","import":"data/characters/geo_5_claymore_Navia.json"},"フリーナ":{"レアリティ":5,"元素":"水","武器":"片手剣","誕生日":"10/13","import":"data/characters/hydro_5_sword_Furina.json"},"リオセスリ":{"レアリティ":5,"元素":"氷","武器":"法器","誕生日":"11/23","import":"data/characters/cryo_5_catalyst_Wriothesley.json"},"ヌヴィレット":{"レアリティ":5,"元素":"水","武器":"法器","誕生日":"12/18","import":"data/characters/hydro_5_catalyst_Neuvillette.json"},"リネ":{"レアリティ":5,"元素":"炎","武器":"弓","誕生日":"2/2","import":"data/characters/pyro_5_bow_Lyney.json"},"白朮":{"レアリティ":5,"元素":"草","武器":"法器","誕生日":"4/25","import":"data/characters/dendro_5_catalyst_Baizhu.json"},"ディシア":{"レアリティ":5,"元素":"炎","武器":"両手剣","誕生日":"4/7","import":"data/characters/pyro_5_claymore_Dehya.json"},"アルハイゼン":{"レアリティ":5,"元素":"草","武器":"片手剣","誕生日":"2/11","import":"data/characters/dendro_5_sword_Alhaitham.json"},"放浪者":{"レアリティ":5,"元素":"風","武器":"法器","誕生日":"1/3","import":"data/characters/anemo_5_catalyst_Wanderer.json"},"ナヒーダ":{"レアリティ":5,"元素":"草","武器":"法器","誕生日":"10/27","import":"data/characters/dendro_5_catalyst_Nahida.json"},"ニィロウ":{"レアリティ":5,"元素":"水","武器":"片手剣","誕生日":"12/3","import":"data/characters/hydro_5_sword_Nilou.json"},"セノ":{"レアリティ":5,"元素":"雷","武器":"長柄武器","誕生日":"6/23","import":"data/characters/electro_5_polearm_Cyno.json"},"ティナリ":{"レアリティ":5,"元素":"草","武器":"弓","誕生日":"12/29","import":"data/characters/dendro_5_bow_Tighnari.json"},"夜蘭":{"レアリティ":5,"元素":"水","武器":"弓","誕生日":"4/20","import":"data/characters/hydro_5_bow_Yelan.json"},"神里綾人":{"レアリティ":5,"元素":"水","武器":"片手剣","誕生日":"3/26","import":"data/characters/hydro_5_sword_KamisatoAyato.json"},"八重神子":{"レアリティ":5,"元素":"雷","武器":"法器","誕生日":"6/27","import":"data/characters/electro_5_catalyst_YaeMiko.json"},"申鶴":{"レアリティ":5,"元素":"氷","武器":"長柄武器","誕生日":"3/10","import":"data/characters/cryo_5_polearm_Shenhe.json"},"荒瀧一斗":{"レアリティ":5,"元素":"岩","武器":"両手剣","誕生日":"6/1","import":"data/characters/geo_5_claymore_AratakiItto.json"},"珊瑚宮心海":{"レアリティ":5,"元素":"水","武器":"法器","誕生日":"2/22","import":"data/characters/hydro_5_catalyst_SangonomiyaKokomi.json"},"雷電将軍":{"レアリティ":5,"元素":"雷","武器":"長柄武器","誕生日":"6/26","import":"data/characters/electro_5_polearm_RaidenShogun.json"},"アーロイ":{"レアリティ":5,"元素":"氷","武器":"弓","import":"data/characters/cryo_5_bow_Aloy.json"},"宵宮":{"レアリティ":5,"元素":"炎","武器":"弓","誕生日":"6/21","import":"data/characters/pyro_5_bow_Yoimiya.json"},"神里綾華":{"レアリティ":5,"元素":"氷","武器":"片手剣","誕生日":"9/28","import":"data/characters/cryo_5_sword_KamisatoAyaka.json"},"楓原万葉":{"レアリティ":5,"元素":"風","武器":"片手剣","誕生日":"10/29","import":"data/characters/anemo_5_sword_KaedeharaKazuha.json"},"エウルア":{"レアリティ":5,"元素":"氷","武器":"両手剣","誕生日":"10/25","import":"data/characters/cryo_5_claymore_Eula.json"},"胡桃":{"レアリティ":5,"元素":"炎","武器":"長柄武器","誕生日":"7/15","import":"data/characters/pyro_5_polearm_HuTao.json"},"魈":{"レアリティ":5,"元素":"風","武器":"長柄武器","誕生日":"4/17","import":"data/characters/anemo_5_polearm_Xiao.json"},"甘雨":{"レアリティ":5,"元素":"氷","武器":"弓","誕生日":"12/2","import":"data/characters/cryo_5_bow_Ganyu.json"},"アルベド":{"レアリティ":5,"元素":"岩","武器":"片手剣","誕生日":"9/13","import":"data/characters/geo_5_sword_Albedo.json"},"鍾離":{"レアリティ":5,"元素":"岩","武器":"長柄武器","誕生日":"12/31","import":"data/characters/geo_5_polearm_Zhongli.json"},"タルタリヤ":{"レアリティ":5,"元素":"水","武器":"弓","誕生日":"7/20","import":"data/characters/hydro_5_bow_Tartaglia.json"},"クレー":{"レアリティ":5,"元素":"炎","武器":"法器","誕生日":"7/27","import":"data/characters/pyro_5_catalyst_Klee.json"},"ウェンティ":{"レアリティ":5,"元素":"風","武器":"弓","誕生日":"6/16","import":"data/characters/anemo_5_bow_Venti.json"},"刻晴":{"レアリティ":5,"元素":"雷","武器":"片手剣","誕生日":"11/20","import":"data/characters/electro_5_sword_Keqing.json"},"モナ":{"レアリティ":5,"元素":"水","武器":"法器","誕生日":"8/31","import":"data/characters/hydro_5_catalyst_Mona.json"},"七七":{"レアリティ":5,"元素":"氷","武器":"片手剣","誕生日":"3/3","import":"data/characters/cryo_5_sword_Qiqi.json"},"ディルック":{"レアリティ":5,"元素":"炎","武器":"両手剣","誕生日":"4/30","import":"data/characters/pyro_5_claymore_Diluc.json"},"ジン":{"レアリティ":5,"元素":"風","武器":"片手剣","誕生日":"3/14","import":"data/characters/anemo_5_sword_Jean.json"},"セトス":{"レアリティ":4,"元素":"雷","武器":"弓","誕生日":"5/31","import":"data/characters/electro_4_bow_Sethos.json"},"嘉明":{"レアリティ":4,"元素":"炎","武器":"両手剣","誕生日":"12/12","import":"data/characters/pyro_4_claymore_Gaming.json"},"シュヴルーズ":{"レアリティ":4,"元素":"炎","武器":"長柄武器","誕生日":"1/10","import":"data/characters/pyro_4_polearm_Chevreuse.json"},"シャルロット":{"レアリティ":4,"元素":"氷","武器":"法器","誕生日":"4/10","import":"data/characters/cryo_4_catalyst_Charlotte.json"},"フレミネ":{"レアリティ":4,"元素":"氷","武器":"両手剣","誕生日":"9/24","import":"data/characters/cryo_4_claymore_Freminet.json"},"リネット":{"レアリティ":4,"元素":"風","武器":"片手剣","誕生日":"2/2","import":"data/characters/anemo_4_sword_Lynette.json"},"綺良々":{"レアリティ":4,"元素":"草","武器":"片手剣","誕生日":"1/22","import":"data/characters/dendro_4_sword_Kirara.json"},"カーヴェ":{"レアリティ":4,"元素":"草","武器":"両手剣","誕生日":"7/9","import":"data/characters/dendro_4_claymore_Kaveh.json"},"ミカ":{"レアリティ":4,"元素":"氷","武器":"長柄武器","誕生日":"8/11","import":"data/characters/cryo_4_polearm_Mika.json"},"ヨォーヨ":{"レアリティ":4,"元素":"草","武器":"長柄武器","誕生日":"3/6","import":"data/characters/dendro_4_polearm_Yaoyao.json"},"ファルザン":{"レアリティ":4,"元素":"風","武器":"弓","誕生日":"8/20","import":"data/characters/anemo_4_bow_Faruzan.json"},"レイラ":{"レアリティ":4,"元素":"氷","武器":"片手剣","誕生日":"12/19","import":"data/characters/cryo_4_sword_Layla.json"},"キャンディス":{"レアリティ":4,"元素":"水","武器":"長柄武器","誕生日":"5/3","import":"data/characters/hydro_4_polearm_Candace.json"},"ドリー":{"レアリティ":4,"元素":"雷","武器":"両手剣","誕生日":"12/21","import":"data/characters/electro_4_claymore_Dori.json"},"コレイ":{"レアリティ":4,"元素":"草","武器":"弓","誕生日":"5/8","import":"data/characters/dendro_4_bow_Collei.json"},"鹿野院平蔵":{"レアリティ":4,"元素":"風","武器":"法器","誕生日":"7/24","import":"data/characters/anemo_4_catalyst_ShikanoinHeizou.json"},"久岐忍":{"レアリティ":4,"元素":"雷","武器":"片手剣","誕生日":"7/27","import":"data/characters/electro_4_sword_KukiShinobu.json"},"雲菫":{"レアリティ":4,"元素":"岩","武器":"長柄武器","誕生日":"5/21","import":"data/characters/geo_4_polearm_YunJin.json"},"ゴロー":{"レアリティ":4,"元素":"岩","武器":"弓","誕生日":"5/18","import":"data/characters/geo_4_bow_Gorou.json"},"トーマ":{"レアリティ":4,"元素":"炎","武器":"長柄武器","誕生日":"1/9","import":"data/characters/pyro_4_polearm_Thoma.json"},"九条裟羅":{"レアリティ":4,"元素":"雷","武器":"弓","誕生日":"7/14","import":"data/characters/electro_4_bow_KujouSara.json"},"早柚":{"レアリティ":4,"元素":"風","武器":"両手剣","誕生日":"10/19","import":"data/characters/anemo_4_claymore_Sayu.json"},"煙緋":{"レアリティ":4,"元素":"炎","武器":"法器","誕生日":"7/28","import":"data/characters/pyro_4_catalyst_Yanfei.json"},"ロサリア":{"レアリティ":4,"元素":"氷","武器":"長柄武器","誕生日":"1/24","import":"data/characters/cryo_4_polearm_Rosaria.json"},"辛炎":{"レアリティ":4,"元素":"炎","武器":"両手剣","誕生日":"10/16","import":"data/characters/pyro_4_claymore_Xinyan.json"},"ディオナ":{"レアリティ":4,"元素":"氷","武器":"弓","誕生日":"1/18","import":"data/characters/cryo_4_bow_Diona.json"},"スクロース":{"レアリティ":4,"元素":"風","武器":"法器","誕生日":"11/26","import":"data/characters/anemo_4_catalyst_Sucrose.json"},"重雲":{"レアリティ":4,"元素":"氷","武器":"両手剣","誕生日":"9/7","import":"data/characters/cryo_4_claymore_Chongyun.json"},"ノエル":{"レアリティ":4,"元素":"岩","武器":"両手剣","誕生日":"3/21","import":"data/characters/geo_4_claymore_Noelle.json"},"ベネット":{"レアリティ":4,"元素":"炎","武器":"片手剣","誕生日":"2/29","import":"data/characters/pyro_4_sword_Bennett.json"},"フィッシュル":{"レアリティ":4,"元素":"雷","武器":"弓","誕生日":"5/27","import":"data/characters/electro_4_bow_Fischl.json"},"凝光":{"レアリティ":4,"元素":"岩","武器":"法器","誕生日":"8/26","import":"data/characters/geo_4_catalyst_Ningguang.json"},"行秋":{"レアリティ":4,"元素":"水","武器":"片手剣","誕生日":"10/9","import":"data/characters/hydro_4_sword_Xingqiu.json"},"北斗":{"レアリティ":4,"元素":"雷","武器":"両手剣","誕生日":"2/14","import":"data/characters/electro_4_claymore_Beidou.json"},"香菱":{"レアリティ":4,"元素":"炎","武器":"長柄武器","誕生日":"11/2","import":"data/characters/pyro_4_polearm_Xiangling.json"},"レザー":{"レアリティ":4,"元素":"雷","武器":"両手剣","誕生日":"9/9","import":"data/characters/electro_4_claymore_Razor.json"},"バーバラ":{"レアリティ":4,"元素":"水","武器":"法器","誕生日":"7/5","import":"data/characters/hydro_4_catalyst_Barbara.json"},"リサ":{"レアリティ":4,"元素":"雷","武器":"法器","誕生日":"6/9","import":"data/characters/electro_4_catalyst_Lisa.json"},"ガイア":{"レアリティ":4,"元素":"氷","武器":"片手剣","誕生日":"11/30","import":"data/characters/cryo_4_sword_Kaeya.json"},"アンバー":{"レアリティ":4,"元素":"炎","武器":"弓","誕生日":"8/10","import":"data/characters/pyro_4_bow_Amber.json"},"旅人(水)":{"レアリティ":5,"元素":"水","武器":"片手剣","import":"data/characters/hydro_5_sword_Traveler.json"},"旅人(草)":{"レアリティ":5,"元素":"草","武器":"片手剣","import":"data/characters/dendro_5_sword_Traveler.json"},"旅人(雷)":{"レアリティ":5,"元素":"雷","武器":"片手剣","import":"data/characters/electro_5_sword_Traveler.json"},"旅人(岩)":{"レアリティ":5,"元素":"岩","武器":"片手剣","import":"data/characters/geo_5_sword_Traveler.json"},"旅人(風)":{"レアリティ":5,"元素":"風","武器":"片手剣","import":"data/characters/anemo_5_sword_Traveler.json"}}'),r=JSON.parse('{"赦罪":{"レアリティ":5,"import":"data/weapons/sword/5_Absolution.json"},"有楽御簾切":{"レアリティ":5,"import":"data/weapons/sword/5_UrakuMisugiri.json"},"静水流転の輝き":{"レアリティ":5,"import":"data/weapons/sword/5_SplendorofTranquilWaters.json"},"萃光の裁葉":{"レアリティ":5,"import":"data/weapons/sword/5_LightofFoliarIncision.json"},"聖顕の鍵":{"レアリティ":5,"import":"data/weapons/sword/5_KeyofKhaj-Nisut.json"},"波乱月白経津":{"レアリティ":5,"import":"data/weapons/sword/5_HaranGeppakuFutsu.json"},"霧切の廻光":{"レアリティ":5,"import":"data/weapons/sword/5_MistsplitterReforged.json"},"蒼古なる自由への誓い":{"レアリティ":5,"import":"data/weapons/sword/5_Freedom-Sworn.json"},"磐岩結緑":{"レアリティ":5,"import":"data/weapons/sword/5_PrimordialJadeCutter.json"},"斬山の刃":{"レアリティ":5,"import":"data/weapons/sword/5_SummitShaper.json"},"天空の刃":{"レアリティ":5,"import":"data/weapons/sword/5_SkywardBlade.json"},"風鷹剣":{"レアリティ":5,"import":"data/weapons/sword/5_AquilaFavonia.json"},"水仙十字の剣":{"レアリティ":4,"import":"data/weapons/sword/4_SwordofNarzissenkreuz.json"},"船渠剣":{"レアリティ":4,"import":"data/weapons/sword/4_TheDockhand\'sAssistant.json"},"狼牙":{"レアリティ":4,"import":"data/weapons/sword/4_Wolf-Fang.json"},"サーンドルの渡し守":{"レアリティ":4,"import":"data/weapons/sword/4_FleuveCendreFerryman.json"},"海淵のフィナーレ":{"レアリティ":4,"import":"data/weapons/sword/4_FinaleoftheDeep.json"},"東花坊時雨":{"レアリティ":4,"import":"data/weapons/sword/4_ToukabouShigure.json"},"サイフォスの月明かり":{"レアリティ":4,"import":"data/weapons/sword/4_Xiphos\'Moonlight.json"},"原木刀":{"レアリティ":4,"import":"data/weapons/sword/4_SapwoodBlade.json"},"籠釣瓶一心":{"レアリティ":4,"import":"data/weapons/sword/4_KagotsurubeIsshin.json"},"シナバースピンドル":{"レアリティ":4,"import":"data/weapons/sword/4_CinnabarSpindle.json"},"天目影打":{"レアリティ":4,"import":"data/weapons/sword/4_AmenomaKageuchi.json"},"ダークアレイの閃光":{"レアリティ":4,"import":"data/weapons/sword/4_TheAlleyFlash.json"},"腐植の剣":{"レアリティ":4,"import":"data/weapons/sword/4_FesteringDesire.json"},"黒剣":{"レアリティ":4,"import":"data/weapons/sword/4_TheBlackSword.json"},"黒岩の長剣":{"レアリティ":4,"import":"data/weapons/sword/4_BlackcliffLongsword.json"},"鉄蜂の刺し":{"レアリティ":4,"import":"data/weapons/sword/4_IronSting.json"},"斬岩·試作":{"レアリティ":4,"import":"data/weapons/sword/4_PrototypeRancour.json"},"匣中龍吟":{"レアリティ":4,"import":"data/weapons/sword/4_Lion\'sRoar.json"},"旧貴族長剣":{"レアリティ":4,"import":"data/weapons/sword/4_RoyalLongsword.json"},"祭礼の剣":{"レアリティ":4,"import":"data/weapons/sword/4_SacrificialSword.json"},"笛の剣":{"レアリティ":4,"import":"data/weapons/sword/4_TheFlute.json"},"西風剣":{"レアリティ":4,"import":"data/weapons/sword/4_FavoniusSword.json"},"飛天御剣":{"レアリティ":3,"import":"data/weapons/sword/3_SkyriderSword.json"},"チ虎魚の刀":{"レアリティ":3,"import":"data/weapons/sword/3_FilletBlade.json"},"暗鉄剣":{"レアリティ":3,"import":"data/weapons/sword/3_DarkIronSword.json"},"旅道の剣":{"レアリティ":3,"import":"data/weapons/sword/3_Traveler\'sHandySword.json"},"黎明の神剣":{"レアリティ":3,"import":"data/weapons/sword/3_HarbingerofDawn.json"},"冷刃":{"レアリティ":3,"import":"data/weapons/sword/3_CoolSteel.json"},"銀の剣":{"レアリティ":2,"import":"data/weapons/sword/2_SilverSword.json"},"無鋒の剣":{"レアリティ":1,"import":"data/weapons/sword/1_DullBlade.json"}}'),o=JSON.parse('{"裁断":{"レアリティ":5,"import":"data/weapons/claymore/5_Verdict.json"},"葦海の標":{"レアリティ":5,"import":"data/weapons/claymore/5_BeaconoftheReedSea.json"},"赤角石塵滅砕":{"レアリティ":5,"import":"data/weapons/claymore/5_RedhornStonethresher.json"},"松韻の響く頃":{"レアリティ":5,"import":"data/weapons/claymore/5_SongofBrokenPines.json"},"無工の剣":{"レアリティ":5,"import":"data/weapons/claymore/5_TheUnforged.json"},"狼の末路":{"レアリティ":5,"import":"data/weapons/claymore/5_Wolf\'sGravestone.json"},"天空の傲":{"レアリティ":5,"import":"data/weapons/claymore/5_SkywardPride.json"},"「スーパーアルティメット覇王魔剣」":{"レアリティ":4,"import":"data/weapons/claymore/4_UltimateOverlord\'sMegaMagicSword.json"},"携帯型チェーンソー":{"レアリティ":4,"import":"data/weapons/claymore/4_PortablePowerSaw.json"},"話死合い棒":{"レアリティ":4,"import":"data/weapons/claymore/4_TalkingStick.json"},"タイダル・シャドー":{"レアリティ":4,"import":"data/weapons/claymore/4_TidalShadow.json"},"鉄彩の花":{"レアリティ":4,"import":"data/weapons/claymore/4_MailedFlower.json"},"マカイラの水色":{"レアリティ":4,"import":"data/weapons/claymore/4_MakhairaAquamarine.json"},"森林のレガリア":{"レアリティ":4,"import":"data/weapons/claymore/4_ForestRegalia.json"},"惡王丸":{"レアリティ":4,"import":"data/weapons/claymore/4_Akuoumaru.json"},"銜玉の海皇":{"レアリティ":4,"import":"data/weapons/claymore/4_LuxuriousSea-Lord.json"},"桂木斬長正":{"レアリティ":4,"import":"data/weapons/claymore/4_KatsuragikiriNagamasa.json"},"千岩古剣":{"レアリティ":4,"import":"data/weapons/claymore/4_LithicBlade.json"},"雪葬の星銀":{"レアリティ":4,"import":"data/weapons/claymore/4_Snow-TombedStarsilver.json"},"螭龍の剣":{"レアリティ":4,"import":"data/weapons/claymore/4_SerpentSpine.json"},"黒岩の斬刀":{"レアリティ":4,"import":"data/weapons/claymore/4_BlackcliffSlasher.json"},"白影の剣":{"レアリティ":4,"import":"data/weapons/claymore/4_Whiteblind.json"},"古華·試作":{"レアリティ":4,"import":"data/weapons/claymore/4_PrototypeArchaic.json"},"旧貴族大剣":{"レアリティ":4,"import":"data/weapons/claymore/4_RoyalGreatsword.json"},"雨裁":{"レアリティ":4,"import":"data/weapons/claymore/4_Rainslasher.json"},"祭礼の大剣":{"レアリティ":4,"import":"data/weapons/claymore/4_SacrificialGreatsword.json"},"鐘の剣":{"レアリティ":4,"import":"data/weapons/claymore/4_TheBell.json"},"西風大剣":{"レアリティ":4,"import":"data/weapons/claymore/4_FavoniusGreatsword.json"},"飛天大御剣":{"レアリティ":3,"import":"data/weapons/claymore/3_SkyriderGreatsword.json"},"理屈責め":{"レアリティ":3,"import":"data/weapons/claymore/3_DebateClub.json"},"白鉄の大剣":{"レアリティ":3,"import":"data/weapons/claymore/3_WhiteIronGreatsword.json"},"龍血を浴びた剣":{"レアリティ":3,"import":"data/weapons/claymore/3_BloodtaintedGreatsword.json"},"鉄影段平":{"レアリティ":3,"import":"data/weapons/claymore/3_FerrousShadow.json"},"傭兵の重剣":{"レアリティ":2,"import":"data/weapons/claymore/2_OldMerc\'sPal.json"},"訓練用大剣":{"レアリティ":1,"import":"data/weapons/claymore/1_WasterGreatsword.json"}}'),s=JSON.parse('{"赤月のシルエット":{"レアリティ":5,"import":"data/weapons/polearm/5_CrimsonMoon\'sSemblance.json"},"赤砂の杖":{"レアリティ":5,"import":"data/weapons/polearm/5_StaffoftheScarletSands.json"},"息災":{"レアリティ":5,"import":"data/weapons/polearm/5_CalamityQueller.json"},"草薙の稲光":{"レアリティ":5,"import":"data/weapons/polearm/5_EngulfingLightning.json"},"護摩の杖":{"レアリティ":5,"import":"data/weapons/polearm/5_StaffofHoma.json"},"破天の槍":{"レアリティ":5,"import":"data/weapons/polearm/5_VortexVanquisher.json"},"天空の脊":{"レアリティ":5,"import":"data/weapons/polearm/5_SkywardSpine.json"},"和璞鳶":{"レアリティ":5,"import":"data/weapons/polearm/5_PrimordialJadeWinged-Spear.json"},"砂中の賢者達の問答":{"レアリティ":4,"import":"data/weapons/polearm/4_DialoguesoftheDesertSages.json"},"プロスペクタードリル":{"レアリティ":4,"import":"data/weapons/polearm/4_Prospector\'sDrill.json"},"フィヨルドの歌":{"レアリティ":4,"import":"data/weapons/polearm/4_BalladoftheFjords.json"},"正義の報酬":{"レアリティ":4,"import":"data/weapons/polearm/4_RightfulReward.json"},"風信の矛":{"レアリティ":4,"import":"data/weapons/polearm/4_MissiveWindspear.json"},"ムーンピアサー":{"レアリティ":4,"import":"data/weapons/polearm/4_Moonpiercer.json"},"斬波のひれ長":{"レアリティ":4,"import":"data/weapons/polearm/4_Wavebreaker\'sFin.json"},"「漁獲」":{"レアリティ":4,"import":"data/weapons/polearm/4_TheCatch.json"},"喜多院十文字槍":{"レアリティ":4,"import":"data/weapons/polearm/4_KitainCrossSpear.json"},"千岩長槍":{"レアリティ":4,"import":"data/weapons/polearm/4_LithicSpear.json"},"ドラゴンスピア":{"レアリティ":4,"import":"data/weapons/polearm/4_DragonspineSpear.json"},"旧貴族猟槍":{"レアリティ":4,"import":"data/weapons/polearm/4_RoyalSpear.json"},"西風長槍":{"レアリティ":4,"import":"data/weapons/polearm/4_FavoniusLance.json"},"死闘の槍":{"レアリティ":4,"import":"data/weapons/polearm/4_Deathmatch.json"},"黒岩の突槍":{"レアリティ":4,"import":"data/weapons/polearm/4_BlackcliffPole.json"},"流月の針":{"レアリティ":4,"import":"data/weapons/polearm/4_CrescentPike.json"},"星鎌·試作":{"レアリティ":4,"import":"data/weapons/polearm/4_PrototypeStarglitter.json"},"匣中滅龍":{"レアリティ":4,"import":"data/weapons/polearm/4_Dragon\'sBane.json"},"黒纓槍":{"レアリティ":3,"import":"data/weapons/polearm/3_BlackTassel.json"},"鉾槍":{"レアリティ":3,"import":"data/weapons/polearm/3_Halberd.json"},"白纓槍":{"レアリティ":3,"import":"data/weapons/polearm/3_WhiteTassel.json"},"鉄尖槍":{"レアリティ":2,"import":"data/weapons/polearm/2_IronPoint.json"},"新米の長槍":{"レアリティ":1,"import":"data/weapons/polearm/1_Beginner\'sProtector.json"}}'),i=JSON.parse('{"始まりの大魔術":{"レアリティ":5,"import":"data/weapons/bow/5_TheFirstGreatMagic.json"},"狩人の道":{"レアリティ":5,"import":"data/weapons/bow/5_Hunter\'sPath.json"},"若水":{"レアリティ":5,"import":"data/weapons/bow/5_AquaSimulacra.json"},"冬極の白星":{"レアリティ":5,"import":"data/weapons/bow/5_PolarStar.json"},"飛雷の鳴弦":{"レアリティ":5,"import":"data/weapons/bow/5_ThunderingPulse.json"},"終焉を嘆く詩":{"レアリティ":5,"import":"data/weapons/bow/5_ElegyfortheEnd.json"},"アモスの弓":{"レアリティ":5,"import":"data/weapons/bow/5_Amos\'Bow.json"},"天空の翼":{"レアリティ":5,"import":"data/weapons/bow/5_SkywardHarp.json"},"築雲":{"レアリティ":4,"import":"data/weapons/bow/4_Cloudforged.json"},"レンジゲージ":{"レアリティ":4,"import":"data/weapons/bow/4_RangeGauge.json"},"烈日の後嗣":{"レアリティ":4,"import":"data/weapons/bow/4_ScionoftheBlazingSun.json"},"静寂の唄":{"レアリティ":4,"import":"data/weapons/bow/4_SongofStillness.json"},"トキの嘴":{"レアリティ":4,"import":"data/weapons/bow/4_IbisPiercer.json"},"王の近侍":{"レアリティ":4,"import":"data/weapons/bow/4_King\'sSquire.json"},"竭沢":{"レアリティ":4,"import":"data/weapons/bow/4_EndoftheLine.json"},"落霞":{"レアリティ":4,"import":"data/weapons/bow/4_FadingTwilight.json"},"曚雲の月":{"レアリティ":4,"import":"data/weapons/bow/4_Mouun\'sMoon.json"},"破魔の弓":{"レアリティ":4,"import":"data/weapons/bow/4_Hamayumi.json"},"幽夜のワルツ":{"レアリティ":4,"import":"data/weapons/bow/4_MitternachtsWaltz.json"},"風花の頌歌":{"レアリティ":4,"import":"data/weapons/bow/4_WindblumeOde.json"},"ダークアレイの狩人":{"レアリティ":4,"import":"data/weapons/bow/4_AlleyHunter.json"},"蒼翠の狩猟弓":{"レアリティ":4,"import":"data/weapons/bow/4_TheViridescentHunt.json"},"黒岩の戦弓":{"レアリティ":4,"import":"data/weapons/bow/4_BlackcliffWarbow.json"},"リングボウ":{"レアリティ":4,"import":"data/weapons/bow/4_CompoundBow.json"},"澹月·試作":{"レアリティ":4,"import":"data/weapons/bow/4_PrototypeCrescent.json"},"弓蔵":{"レアリティ":4,"import":"data/weapons/bow/4_Rust.json"},"旧貴族長弓":{"レアリティ":4,"import":"data/weapons/bow/4_RoyalBow.json"},"祭礼の弓":{"レアリティ":4,"import":"data/weapons/bow/4_SacrificialBow.json"},"絶弦":{"レアリティ":4,"import":"data/weapons/bow/4_TheStringless.json"},"西風猟弓":{"レアリティ":4,"import":"data/weapons/bow/4_FavoniusWarbow.json"},"文使い":{"レアリティ":3,"import":"data/weapons/bow/3_Messenger.json"},"弾弓":{"レアリティ":3,"import":"data/weapons/bow/3_Slingshot.json"},"リカーブボウ":{"レアリティ":3,"import":"data/weapons/bow/3_RecurveBow.json"},"シャープシューターの誓い":{"レアリティ":3,"import":"data/weapons/bow/3_Sharpshooter\'sOath.json"},"鴉羽の弓":{"レアリティ":3,"import":"data/weapons/bow/3_RavenBow.json"},"歴戦の狩猟弓":{"レアリティ":2,"import":"data/weapons/bow/2_SeasonedHunter\'sBow.json"},"狩猟弓":{"レアリティ":1,"import":"data/weapons/bow/1_Hunter\'sBow.json"}}'),l=JSON.parse('{"鶴鳴の余韻":{"レアリティ":5,"import":"data/weapons/catalyst/5_Crane\'sEchoingCall.json"},"凛流の監視者":{"レアリティ":5,"import":"data/weapons/catalyst/5_CashflowSupervision.json"},"久遠流転の大典":{"レアリティ":5,"import":"data/weapons/catalyst/5_TomeoftheEternalFlow.json"},"碧落の瓏":{"レアリティ":5,"import":"data/weapons/catalyst/5_Jadefall\'sSplendor.json"},"トゥライトゥーラの記憶":{"レアリティ":5,"import":"data/weapons/catalyst/5_Tulaytullah\'sRemembrance.json"},"千夜に浮かぶ夢":{"レアリティ":5,"import":"data/weapons/catalyst/5_AThousandFloatingDreams.json"},"神楽の真意":{"レアリティ":5,"import":"data/weapons/catalyst/5_Kagura\'sVerity.json"},"不滅の月華":{"レアリティ":5,"import":"data/weapons/catalyst/5_EverlastingMoonglow.json"},"浮世の錠":{"レアリティ":5,"import":"data/weapons/catalyst/5_MemoryofDust.json"},"四風原典":{"レアリティ":5,"import":"data/weapons/catalyst/5_LostPrayertotheSacredWinds.json"},"天空の巻":{"レアリティ":5,"import":"data/weapons/catalyst/5_SkywardAtlas.json"},"果てなき紺碧の唄":{"レアリティ":4,"import":"data/weapons/catalyst/4_BalladoftheBoundlessBlue.json"},"古祠の瓏":{"レアリティ":4,"import":"data/weapons/catalyst/4_SacrificialJade.json"},"純水流華":{"レアリティ":4,"import":"data/weapons/catalyst/4_FlowingPurity.json"},"彷徨える星":{"レアリティ":4,"import":"data/weapons/catalyst/4_WanderingEvenstar.json"},"満悦の実":{"レアリティ":4,"import":"data/weapons/catalyst/4_FruitofFulfillment.json"},"誓いの明瞳":{"レアリティ":4,"import":"data/weapons/catalyst/4_OathswornEye.json"},"白辰の輪":{"レアリティ":4,"import":"data/weapons/catalyst/4_HakushinRing.json"},"ドドコの物語":{"レアリティ":4,"import":"data/weapons/catalyst/4_DodocoTales.json"},"ダークアレイの酒と詩":{"レアリティ":4,"import":"data/weapons/catalyst/4_WineandSong.json"},"冬忍びの実":{"レアリティ":4,"import":"data/weapons/catalyst/4_Frostbearer.json"},"昭心":{"レアリティ":4,"import":"data/weapons/catalyst/4_EyeofPerception.json"},"黒岩の緋玉":{"レアリティ":4,"import":"data/weapons/catalyst/4_BlackcliffAgate.json"},"万国諸海の図譜":{"レアリティ":4,"import":"data/weapons/catalyst/4_MappaMare.json"},"金珀·試作":{"レアリティ":4,"import":"data/weapons/catalyst/4_PrototypeAmber.json"},"匣中日月":{"レアリティ":4,"import":"data/weapons/catalyst/4_SolarPearl.json"},"旧貴族秘法録":{"レアリティ":4,"import":"data/weapons/catalyst/4_RoyalGrimoire.json"},"祭礼の断片":{"レアリティ":4,"import":"data/weapons/catalyst/4_SacrificialFragments.json"},"流浪楽章":{"レアリティ":4,"import":"data/weapons/catalyst/4_TheWidsith.json"},"西風秘典":{"レアリティ":4,"import":"data/weapons/catalyst/4_FavoniusCodex.json"},"特級の宝玉":{"レアリティ":3,"import":"data/weapons/catalyst/3_TwinNephrite.json"},"翡玉法珠":{"レアリティ":3,"import":"data/weapons/catalyst/3_EmeraldOrb.json"},"異世界旅行記":{"レアリティ":3,"import":"data/weapons/catalyst/3_OtherworldlyStory.json"},"龍殺しの英傑譚":{"レアリティ":3,"import":"data/weapons/catalyst/3_ThrillingTalesofDragonSlayers.json"},"魔導緒論":{"レアリティ":3,"import":"data/weapons/catalyst/3_MagicGuide.json"},"ポケット魔導書":{"レアリティ":2,"import":"data/weapons/catalyst/2_PocketGrimoire.json"},"生徒ノート":{"レアリティ":1,"import":"data/weapons/catalyst/1_Apprentice\'sNotes.json"}}'),c=JSON.parse('{"遂げられなかった想い":{"レアリティ":5,"image":"images/artifacts/UnfinishedReverie.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"戦闘状態が解除されてから3秒経過すると、与えるダメージ+50%。戦闘状態にある時、近くに燃焼状態の敵が存在しないまま6秒以上経過すると、上記強化効果の効果量は0%になるまで1秒毎に10%減少する。一方、燃焼状態の敵が存在する場合、50%になるまで1秒毎に10%増加する。この聖遺物セットを装備したキャラクターが待機している場合にも、効果を発動できる。","詳細":[{"条件":"遂げられなかった想い@10,20,30,40,50%","種類":"与えるダメージ","数値":1}]},"artifact_list":["陰に咲く光の花","光褪せたの翠尾","大業を成す刻","計略の盃","主なき冠"]},"諧律奇想の断章":{"レアリティ":5,"image":"images/artifacts/FragmentofHarmonicWhimsy.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"命の契約の数値が増減する時、キャラクターの与えるダメージ+18%、継続時間6秒、最大3層まで重ね掛け可能。","詳細":[{"条件":"諧律奇想の断章@1-3層","種類":"与えるダメージ","数値":18}]},"artifact_list":["響きあう諧律の前奏","運命と輪廻の諧謔","古海の幽深なる夜想","異想が枯れ落ちる円舞","降り注ぐイコルの狂詩"]},"残響の森でささやかれる夜話":{"レアリティ":5,"image":"images/artifacts/NighttimeWhispersintheEchoingWoods.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"元素スキルを発動した後の10秒間、岩元素ダメージ+20%。結晶反応で生成されたシールド状態にある時、上記強化効果の効果量+150%。追加された効果量は、結晶反応で生成されたシールド状態の効果が終了した1秒後にクリアされる。","詳細":[{"条件":"残響の森でささやかれる夜話","種類":"岩元素ダメージバフ","数値":20},{"条件":"残響の森でささやかれる夜話&結晶シールド状態","種類":"岩元素ダメージバフ","数値":30}]},"artifact_list":["無私の花飾り","忠実な砂時計","誠実なつけペン","慈愛の淑女ハット","寛容なインク壺"]},"在りし日の歌":{"レアリティ":5,"image":"images/artifacts/SongofDaysPast.png","2セット効果":{"説明":"与える治療効果+15%。","詳細":[{"種類":"与える治療効果","数値":15}]},"4セット効果":{"説明":"装備者がチームにいるキャラクターのHPを回復した時、継続時間6秒の「渇望」効果が発動し、HP回復量（HP上限を超えた回復量も含む）を記録する。継続時間終了時、「渇望」効果は「かの時の潮」効果に変化する。「かの時の潮」効果発動中、フィールド上にいるチーム内の自身キャラクターの通常攻撃、重撃、落下攻撃、元素スキル、元素爆発が敵に命中すると、「渇望」効果で記録した回復量の8%分を基に与えるダメージをアップする。「かの時の潮」効果は、5回発動、または10秒後にクリアされる。1回の「渇望」効果が記録する回復量は最大15000ポイントまで。なお、「渇望」は同時に最大1つまで存在でき、複数の装備者の与える回復量を記録可能。装備したキャラクターが待機している場合にも効果を発動できる。","詳細":[{"条件":"在りし日の歌 渇望={\\"min\\":0,\\"max\\":15000,\\"initial\\":15000}&在りし日の歌 かの時の潮","種類":"通常攻撃ダメージアップ","数値":0.08,"チーム":true},{"条件":"在りし日の歌 渇望={\\"min\\":0,\\"max\\":15000,\\"initial\\":15000}&在りし日の歌 かの時の潮","種類":"重撃ダメージアップ","数値":0.08,"チーム":true},{"条件":"在りし日の歌 渇望={\\"min\\":0,\\"max\\":15000,\\"initial\\":15000}&在りし日の歌 かの時の潮","種類":"落下攻撃ダメージアップ","数値":0.08,"チーム":true},{"条件":"在りし日の歌 渇望={\\"min\\":0,\\"max\\":15000,\\"initial\\":15000}&在りし日の歌 かの時の潮","種類":"元素スキルダメージアップ","数値":0.08,"チーム":true},{"条件":"在りし日の歌 渇望={\\"min\\":0,\\"max\\":15000,\\"initial\\":15000}&在りし日の歌 かの時の潮","種類":"元素爆発ダメージアップ","数値":0.08,"チーム":true}]},"artifact_list":["在りし日の遺失の契","在りし日の余韻の音","在りし日の空想の念","在りし日の伝奏の詩","在りし日の約束の夢"]},"ファントムハンター":{"レアリティ":5,"image":"images/artifacts/MarechausseeHunter.png","2セット効果":{"説明":"通常攻撃と重撃ダメージ+15%。","詳細":[{"種類":"通常攻撃ダメージバフ","数値":15},{"種類":"重撃ダメージバフ","数値":15}]},"4セット効果":{"説明":"現在のHPが増える、または減る時、会心率+12%、継続時間5秒、最大3層まで重ね掛け可能。","詳細":[{"条件":"ファントムハンター@1-3層","種類":"会心率","数値":12}]},"artifact_list":["狩人の胸花","傑作の序曲","審判の刻","忘却の容器","老兵の容貌"]},"黄金の劇団":{"レアリティ":5,"image":"images/artifacts/GoldenTroupe.png","2セット効果":{"説明":"元素スキルのダメージ+20%。","詳細":[{"種類":"元素スキルダメージバフ","数値":20}]},"4セット効果":{"説明":"元素スキルのダメージ+25%。また、装備者が待機中の時、元素スキルのダメージがさらに+25%。この効果は装備キャラクターが登場してから2秒後に解除される。","詳細":[{"種類":"元素スキルダメージバフ","数値":25},{"条件":"黄金の劇団","種類":"元素スキルダメージバフ","数値":25}]},"artifact_list":["黄金の旋律の変奏","黄金の飛鳥の落羽","黄金の時代の前兆","黄金の夜の喧騒","黄金の劇団の褒賞"]},"花海甘露の光":{"レアリティ":5,"image":"images/artifacts/Vourukasha\'sGlow.png","2セット効果":{"説明":"HP+20%。","詳細":[{"種類":"HP%","数値":20}]},"4セット効果":{"説明":"元素スキルと元素爆発のダメージ+10%。装備者がダメージを受けた後の5秒間、上記強化効果の効果量+80%、最大5層まで重ね掛け可能。継続時間は層ごとに独立してカウントされる。装備したキャラクターが待機している場合にも効果を発動できる。","詳細":[{"種類":"元素スキルダメージバフ","数値":10},{"種類":"元素爆発ダメージバフ","数値":10},{"条件":"花海甘露の光@1-5層","種類":"元素スキルダメージバフ","数値":8},{"条件":"花海甘露の光@1-5層","種類":"元素爆発ダメージバフ","数値":8}]},"artifact_list":["霊光起源の蕊","霊彩奇麗の羽","久遠落花の時","喜楽無限の宴","霊光明滅の心"]},"水仙の夢":{"レアリティ":5,"image":"images/artifacts/Nymph\'sDream.png","2セット効果":{"説明":"水元素ダメージ+15%。","詳細":[{"種類":"水元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"通常攻撃、重撃、落下攻撃、元素スキル、または元素爆発が敵に命中すると、8秒間継続する「鏡中の水仙」効果を1層獲得する。1/2/3層以上の「鏡中の水仙」効果を持つ時、それぞれ攻撃力+7%/16%/25%、水元素ダメージ+4%/9%/15%。通常攻撃、重撃、落下攻撃、元素スキル、元素爆発による「鏡中の水仙」効果はそれぞれ独立してカウントされる。","詳細":[{"条件":"水仙の夢=1層","種類":"攻撃力%","数値":7},{"条件":"水仙の夢=1層","種類":"水元素ダメージバフ","数値":4},{"条件":"水仙の夢=2層","種類":"攻撃力%","数値":16},{"条件":"水仙の夢=2層","種類":"水元素ダメージバフ","数値":9},{"条件":"水仙の夢=3層以上","種類":"攻撃力%","数値":25},{"条件":"水仙の夢=3層以上","種類":"水元素ダメージバフ","数値":15}]},"artifact_list":["旅中の花","悪しき魔法使いの羽杖","水仙の一瞬一瞬","勇者たちのお茶会","悪龍の片眼鏡"]},"楽園の絶花":{"レアリティ":5,"image":"images/artifacts/FlowerofParadiseLost.png","2セット効果":{"説明":"元素熟知+80。","詳細":[{"種類":"元素熟知","数値":80}]},"4セット効果":{"説明":"開花、超開花、烈開花反応によるダメージ+40%。また、装備者自身が開花、超開花、烈開花を起こした後、上記強化効果の効果量+25%、継続時間10秒、最大4層まで重ねられ、1秒毎に最大1回のみ発動可能。装備したキャラクターが待機している場合にも効果を発動できる。","詳細":[{"種類":"開花反応ボーナス","数値":40},{"種類":"超開花反応ボーナス","数値":40},{"種類":"烈開花反応ボーナス","数値":40},{"条件":"楽園の絶花@1-4層","種類":"開花反応ボーナス","数値":10},{"条件":"楽園の絶花@1-4層","種類":"超開花反応ボーナス","数値":10},{"条件":"楽園の絶花@1-4層","種類":"烈開花反応ボーナス","数値":10}]},"artifact_list":["月娘の華彩","落謝の宴席","凝結の刹那","守秘の魔瓶","紫晶の花冠"]},"砂上の楼閣の史話":{"レアリティ":5,"image":"images/artifacts/DesertPavilionChronicle.png","2セット効果":{"説明":"風元素ダメージ+15%。","詳細":[{"種類":"風元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"重撃が敵に命中すると、該当キャラクターの通常攻撃の攻撃速度+10%、通常攻撃、重撃および落下攻撃ダメージ+40%、継続時間15秒。","詳細":[{"条件":"砂上の楼閣の史話","種類":"通常攻撃速度","数値":10},{"条件":"砂上の楼閣の史話","種類":"通常攻撃ダメージバフ","数値":40},{"条件":"砂上の楼閣の史話","種類":"重撃ダメージバフ","数値":40},{"条件":"砂上の楼閣の史話","種類":"落下攻撃ダメージバフ","数値":40}]},"artifact_list":["諸王の都の始まり","黄金の邦国の結末","没落迷途のコア","迷酔の長夢の守護","流砂の嗣君の遺宝"]},"深林の記憶":{"レアリティ":5,"image":"images/artifacts/DeepwoodMemories.png","2セット効果":{"説明":"草元素ダメージ+15%","詳細":[{"種類":"草元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"元素スキルまたは元素爆発が敵に命中すると、その敵の草元素耐性−30%、継続時間8秒。装備したキャラクターが待機している場合にも効果を発動できる。","詳細":[{"条件":"深林の記憶","種類":"敵草元素耐性","数値":-30,"チーム":true}]},"artifact_list":["迷宮の遊客","翠蔓の知者","賢知の定期","迷い人の灯","月桂の宝冠"]},"金メッキの夢":{"レアリティ":5,"image":"images/artifacts/GildedDreams.png","2セット効果":{"説明":"元素熟知+80。","詳細":[{"種類":"元素熟知","数値":80}]},"4セット効果":{"説明":"元素反応を起こした後の8秒間、装備キャラクターは、チーム内自身以外のキャラクターの元素タイプに応じて強化効果を獲得する。チームに装備キャラクターと同じ元素タイプのキャラクターが1名存在する毎に攻撃力+14%、異なる元素タイプのキャラクターが1名存在する毎に元素熟知+50。上記効果はそれぞれ最大でキャラクター3名までカウントされる。この効果は8秒に1回のみ発動可能。装備したキャラクターが待機している場合にも効果を発動できる。","詳細":[{"条件":"金メッキの夢&[チーム]同じ元素のキャラクター@1-3名","種類":"攻撃力%","数値":14},{"条件":"金メッキの夢&[チーム]異なる元素のキャラクター@1-3名","種類":"元素熟知","数値":50}]},"オプション初期値":{"[チーム]同じ元素のキャラクター":0,"[チーム]異なる元素のキャラクター":3},"artifact_list":["夢境の鉄花","裁断の羽根","深金の歳月","甘露の終宴","砂王の投影"]},"来歆の余響":{"レアリティ":5,"image":"images/artifacts/EchoesofanOffering.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"通常攻撃が敵に命中すると、36%の確率で「幽谷祭祀」が発動する。「幽谷祭祀」：通常攻撃ダメージが攻撃力70%分アップする。この効果は通常攻撃でダメージを与えた0.05秒後にクリアされる。通常攻撃後に「幽谷祭祀」が発動しなかった場合、次回の発動確率+20%。発動判定は0.2秒毎に1回のみ行われる。","詳細":[{"条件":"来歆の余響^来歆の余響 期待値","種類":"通常攻撃ダメージアップ","数値":"70%攻撃力"},{"条件":"来歆の余響 期待値^来歆の余響","種類":"通常攻撃ダメージアップ","数値":"35.1%攻撃力"}]},"artifact_list":["魂香の花","垂玉の葉","祭祀の証","湧水の杯","浮流の対玉"]},"辰砂往生録":{"レアリティ":5,"image":"images/artifacts/VermillionHereafter.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"元素爆発を発動すると、継続時間16秒の「潜光」効果が発動する。「潜光」：攻撃力+8%、キャラクターがHPを失うたびに攻撃力がさらに10%アップする。HPの損失による攻撃力アップ効果は0.8秒毎に1回のみ発動でき、最大4回重ね掛けできる。「潜光」効果はキャラクターが戦闘不能、または退場する時に解除される。「潜光」効果の継続時間中に再び元素爆発を発動すると、既存の「潜光」効果が先にクリアされる。","詳細":[{"条件":"辰砂往生録","種類":"攻撃力%","数値":8},{"条件":"辰砂往生録@0-4/1回","種類":"攻撃力%","数値":10}]},"artifact_list":["生霊の華","潜光の羽","陽轡の遺品","契約の時","虺雷の姿"]},"海染硨磲":{"レアリティ":5,"image":"images/artifacts/Ocean-HuedClam.png","2セット効果":{"説明":"与える治療効果+15%。","詳細":[{"種類":"与える治療効果","数値":15}]},"4セット効果":{"説明":"この聖遺物セットを装備したキャラクターがチーム内のキャラクターに治療を行うと、治療によるHP回復量（HP上限を超えた回復量も含む）を記録する海染の泡を生成する。海染の泡は3秒継続する。継続時間終了時、海染の泡は破裂し、周囲の敵に記録した回復量の90%分のダメージを与える（このダメージは感電や超電導などの元素反応と同じように計算されるが、元素熟知、キャラクターLv、または元素反応のダメージアップ効果の影響は受けない）。海染の泡は3.5秒毎に1回のみ生成可能。海染の泡が記録できる回復量は最大30000までとなり、HP上限超過分の回復量を含む。チーム内で、海染の泡は同時に最大1つまで存在できる。この聖遺物セットを装備したキャラクターは待機中でも、この効果を発動できる。"},"artifact_list":["海染の花","淵宮の羽","別れの貝","真珠の籠","海祇の冠"]},"華館夢醒形骸記":{"レアリティ":5,"image":"images/artifacts/HuskofOpulentDreams.png","2セット効果":{"説明":"防御力+30%。","詳細":[{"種類":"防御力%","数値":30}]},"4セット効果":{"説明":"この聖遺物セットを装備したキャラクターは、以下の状況において「問答」効果を獲得する。「問答」効果：フィールド上で岩元素攻撃を敵に命中した後に1層獲得、0.3秒毎に1層のみ獲得できる。待機中の場合は、3秒毎に自動で1層獲得する。重ね掛けできる「問答」は最大4層までとなり、1層につき防御力+6%、岩元素ダメージ+6%。6秒毎に「問答」効果を獲得していない場合は、1層失う。","詳細":[{"条件":"華館夢醒形骸記@1-4層","種類":"防御力%","数値":6},{"条件":"華館夢醒形骸記@1-4層","種類":"岩元素ダメージバフ","数値":6}]},"artifact_list":["栄花の期","華館の羽","衆生の歌","夢醒の瓢箪","形骸の笠"]},"絶縁の旗印":{"レアリティ":5,"image":"images/artifacts/EmblemofSeveredFate.png","2セット効果":{"説明":"元素チャージ効率+20%。","詳細":[{"種類":"元素チャージ効率","数値":20}]},"4セット効果":{"説明":"元素チャージ効率の25%を基準に、元素爆発ダメージがアップする。この方式でアップできるダメージは最大75%まで。","詳細":[{"種類":"元素爆発ダメージバフ","数値":"25%元素チャージ効率X7","上限":75}]},"artifact_list":["威厳の鍔","切落の羽","雷雲の印籠","緋花の壺","華飾の兜"]},"追憶のしめ縄":{"レアリティ":5,"image":"images/artifacts/Shimenawa\'sReminiscence.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"元素スキルを発動した時、キャラクターの元素エネルギーが15以上の場合、元素エネルギーを15消費し、次の10秒間通常攻撃、重撃、落下攻撃ダメージ+50%。継続時間中この効果は再発動できない。","詳細":[{"条件":"追憶のしめ縄","種類":"通常攻撃ダメージバフ","数値":50},{"条件":"追憶のしめ縄","種類":"重撃ダメージバフ","数値":50},{"条件":"追憶のしめ縄","種類":"落下攻撃ダメージバフ","数値":50}]},"artifact_list":["羈絆の花","憶念の矢","朝露の時","祈望の心","無常の面"]},"蒼白の炎":{"レアリティ":5,"image":"images/artifacts/PaleFlame.png","2セット効果":{"説明":"物理ダメージ+25%。","詳細":[{"種類":"物理ダメージバフ","数値":25}]},"4セット効果":{"説明":"元素スキルが敵に命中すると、攻撃力+9%。持続時間7秒、最大2重まで、0.3秒毎に1回のみ発動可能。2重まで重ねると、2セットの効果が2倍になる。","詳細":[{"条件":"蒼白の炎@1-2重","種類":"攻撃力%","数値":9},{"条件":"蒼白の炎=2重","種類":"物理ダメージバフ","数値":25}]},"artifact_list":["無垢の花","良医の羽","停頓の時","超越の盃","嗤笑の面"]},"千岩牢固":{"レアリティ":5,"image":"images/artifacts/TenacityoftheMillelith.png","2セット効果":{"説明":"HP+20%。","詳細":[{"種類":"HP%","数値":20}]},"4セット効果":{"説明":"元素スキルが敵に命中すると、周囲のチーム全員の攻撃力+20%、シールド強化+30%、持続時間3秒。この効果は0.5秒毎に1回のみ発動可能。この聖遺物セットを装備したキャラクターが待機している場合にも効果を発動できる。","詳細":[{"条件":"千岩牢固","種類":"攻撃力%","数値":20,"チーム":true},{"条件":"千岩牢固","種類":"シールド強化","数値":30,"チーム":true}]},"artifact_list":["偉勲の花","昭武の羽根","金銅の日時計","誓いの金杯","将帥の兜"]},"沈淪の心":{"レアリティ":5,"image":"images/artifacts/HeartofDepth.png","2セット効果":{"説明":"水元素ダメージ+15%。","詳細":[{"種類":"水元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"元素スキルを発動した後の15秒間、通常攻撃と重撃のダメージ+30%。","詳細":[{"条件":"沈淪の心","種類":"通常攻撃ダメージバフ","数値":30},{"条件":"沈淪の心","種類":"重撃ダメージバフ","数値":30}]},"artifact_list":["金メッキのコサージュ","追憶の風","堅い銅のコンパス","浮沈の杯","酒に漬けた帽子"]},"氷風を彷徨う勇士":{"レアリティ":5,"image":"images/artifacts/BlizzardStrayer.png","2セット効果":{"説明":"氷元素ダメージ+15%。","詳細":[{"種類":"氷元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"氷元素の影響を受けている敵を攻撃した場合、会心率+20%。敵が凍結状態の場合、会心率は更に+20%。","詳細":[{"条件":"氷風を彷徨う勇士@会心率+20-40%","種類":"会心率","数値":1}]},"オプション初期値":{"氷風を彷徨う勇士":1},"artifact_list":["吹雪の中の思い","氷を砕く執念","雪覆う故郷の最後","霜を纏った気骨","氷雪を踏む音"]},"燃え盛る炎の魔女":{"レアリティ":5,"image":"images/artifacts/CrimsonWitchofFlames.png","2セット効果":{"説明":"炎元素ダメージ+15%。","詳細":[{"種類":"炎元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"過負荷、燃焼、烈開花反応によるダメージ+40%。蒸発、溶解反応による加算効果+15%。元素スキルを発動した10秒間、2セットの効果+50%、最大3重まで。","詳細":[{"種類":"過負荷反応ボーナス","数値":40},{"種類":"燃焼反応ボーナス","数値":40},{"種類":"烈開花反応ボーナス","数値":40},{"種類":"蒸発反応ボーナス","数値":15},{"種類":"溶解反応ボーナス","数値":15},{"条件":"燃え盛る炎の魔女@1-3重","種類":"炎元素ダメージバフ","数値":7.5}]},"オプション初期値":{"燃え盛る炎の魔女":1},"artifact_list":["魔女の炎の花","魔女の炎の羽根","魔女の破滅の時","魔女の心の炎","焦げた魔女の帽子"]},"烈火を渡る賢者":{"レアリティ":5,"image":"images/artifacts/Lavawalker.png","2セット効果":{"説明":"炎元素耐性+40%。","詳細":[{"種類":"炎元素耐性","数値":40}]},"4セット効果":{"説明":"炎元素の影響を受けた敵に対するダメージ+35%。","詳細":[{"条件":"烈火を渡る賢者","種類":"与えるダメージ","数値":35}]},"artifact_list":["火渡りの堅実","火渡りの解放","火渡りの苦しみ","火渡りの悟り","火渡りの知恵"]},"雷のような怒り":{"レアリティ":5,"image":"images/artifacts/ThunderingFury.png","2セット効果":{"説明":"雷元素ダメージ+15%。","詳細":[{"種類":"雷元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"過負荷、感電、超電導、超開花反応によるダメージ+40%、超激化反応によるダメージアップ効果+20%。上記元素反応または原激化反応を起こすと、元素スキルのクールタイム-1秒。0.8秒毎に最大1回のみ発動可能。","詳細":[{"種類":"過負荷反応ボーナス","数値":40},{"種類":"感電反応ボーナス","数値":40},{"種類":"超電導反応ボーナス","数値":40},{"種類":"超開花反応ボーナス","数値":40},{"種類":"超激化反応ボーナス","数値":20}]},"artifact_list":["雷鳥の憐み","雷災の生存者","雷霆の時計","落雷の前兆","雷を呼ぶ冠"]},"雷を鎮める尊者":{"レアリティ":5,"image":"images/artifacts/Thundersoother.png","2セット効果":{"説明":"雷元素耐性+40%。","詳細":[{"種類":"雷元素耐性","数値":40}]},"4セット効果":{"説明":"雷元素の影響を受けた敵に対するダメージ+35%。","詳細":[{"条件":"雷を鎮める尊者","種類":"与えるダメージ","数値":35}]},"artifact_list":["雷討ちの心","雷討ちの羽根","雷討ちの刻","雷討ちの器","雷討ちの冠"]},"逆飛びの流星":{"レアリティ":5,"image":"images/artifacts/RetracingBolide.png","2セット効果":{"説明":"シールド強化+35%","詳細":[{"種類":"シールド強化","数値":35}]},"4セット効果":{"説明":"シールド状態の時、通常攻撃と重撃ダメージ+40%。","詳細":[{"条件":"シールド状態","種類":"通常攻撃ダメージバフ","数値":40},{"条件":"シールド状態","種類":"重撃ダメージバフ","数値":40}]},"artifact_list":["夏祭りの花","夏祭りの終わり","夏祭りの刻","夏祭りの水風船","夏祭りの仮面"]},"悠久の磐岩":{"レアリティ":5,"image":"images/artifacts/ArchaicPetra.png","2セット効果":{"説明":"岩元素ダメージ+15%。","詳細":[{"種類":"岩元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"結晶反応で形成された欠片を獲得すると、チーム全員の該当元素ダメージ+35%、継続時間10秒。元素ダメージアップは同時に1種類のみ獲得可能。","詳細":[{"条件":"悠久の磐岩=炎元素","種類":"炎元素ダメージバフ","数値":35,"チーム":true},{"条件":"悠久の磐岩=水元素","種類":"水元素ダメージバフ","数値":35,"チーム":true},{"条件":"悠久の磐岩=雷元素","種類":"雷元素ダメージバフ","数値":35,"チーム":true},{"条件":"悠久の磐岩=氷元素","種類":"氷元素ダメージバフ","数値":35,"チーム":true}]},"オプション初期値":{"悠久の磐岩":0},"artifact_list":["盤石芽生の花","嵯峨連山の翼","星羅圭玉の日時計","危岩磐石の杯","不動玄石の相"]},"翠緑の影":{"レアリティ":5,"image":"images/artifacts/ViridescentVenerer.png","2セット効果":{"説明":"風元素ダメージ+15%。","詳細":[{"種類":"風元素ダメージバフ","数値":15}]},"4セット効果":{"説明":"拡散反応によるダメージ+60%。拡散された元素タイプを基準に、影響を受けた敵の元素耐性-40%、継続時間10秒。","詳細":[{"種類":"拡散反応ボーナス","数値":60},{"条件":"拡散=炎元素","種類":"敵炎元素耐性","数値":-40,"チーム":true},{"条件":"拡散=水元素","種類":"敵水元素耐性","数値":-40,"チーム":true},{"条件":"拡散=雷元素","種類":"敵雷元素耐性","数値":-40,"チーム":true},{"条件":"拡散=氷元素","種類":"敵氷元素耐性","数値":-40,"チーム":true}]},"artifact_list":["野花の記憶の草原","狩人の青緑色の矢羽","緑の狩人の決心","緑の狩人の容器","緑の狩人の冠"]},"愛される少女":{"レアリティ":5,"image":"images/artifacts/MaidenBeloved.png","2セット効果":{"説明":"与える治療効果+15%。","詳細":[{"種類":"与える治療効果","数値":15}]},"4セット効果":{"説明":"元素スキルまたは元素爆発を発動した後10秒間、チーム全員の受ける治療効果+20%。","詳細":[{"条件":"愛される少女","種類":"受ける治療効果","数値":20,"チーム":true}]},"artifact_list":["彼方にある少女の心","少女の揺らぐ思い","少女の短い華年","少女の暫く息抜き","少女の儚き顔"]},"血染めの騎士道":{"レアリティ":5,"image":"images/artifacts/BloodstainedChivalry.png","2セット効果":{"説明":"物理ダメージ+25%。","詳細":[{"種類":"物理ダメージバフ","数値":25}]},"4セット効果":{"説明":"敵を倒した後の10秒間、重撃の際にスタミナを消費しない。また、重撃のダメージ+50%。","詳細":[{"条件":"血染めの騎士道","種類":"重撃ダメージバフ","数値":50}]},"artifact_list":["血染めの鉄の心","血染めの黒羽","騎士が血に染めた時","血染めの騎士のコップ","血染めの鉄仮面"]},"旧貴族のしつけ":{"レアリティ":5,"image":"images/artifacts/NoblesseOblige.png","2セット効果":{"説明":"元素爆発のダメージ+20%。","詳細":[{"種類":"元素爆発ダメージバフ","数値":20}]},"4セット効果":{"説明":"元素爆発を発動すると、チーム全員の攻撃力+20%、継続時間12秒、重ねがけ不可。","詳細":[{"条件":"旧貴族のしつけ","種類":"攻撃力%","数値":20,"チーム":true}]},"artifact_list":["旧貴族の花","旧貴族の羽根","旧貴族の時計","旧貴族の銀瓶","旧貴族の仮面"]},"大地を流浪する楽団":{"レアリティ":5,"image":"images/artifacts/Wanderer\'sTroupe.png","2セット効果":{"説明":"元素熟知+80。","詳細":[{"種類":"元素熟知","数値":80}]},"4セット効果":{"説明":"該当聖遺物セットを装備したキャラが法器、弓キャラの場合、キャラの重撃ダメージ+35%。","詳細":[{"種類":"重撃ダメージバフ","数値":35}]},"artifact_list":["楽団の朝の光","琴師の矢羽","フィナーレの時計","吟遊者の水筒","指揮者のハット"]},"剣闘士のフィナーレ":{"レアリティ":5,"image":"images/artifacts/Gladiator\'sFinale.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"該当聖遺物セットを装備したキャラが片手剣、両手剣、長柄武器キャラの場合、通常攻撃ダメージ+35%。","詳細":[{"種類":"通常攻撃ダメージバフ","数値":35}]},"artifact_list":["剣闘士の未練","剣闘士の帰着","剣闘士の希望","剣闘士の酩酊","剣闘士の凱旋"]},"学者":{"レアリティ":4,"image":"images/artifacts/Scholar.png","2セット効果":{"説明":"元素チャージ効率+20%。","詳細":[{"種類":"元素チャージ効率","数値":20}]},"4セット効果":{"説明":"元素オーブまたは元素粒子を獲得した時、チーム内全ての弓と法器キャラの元素エネルギーが3回復する。3秒毎に1回のみ発動可能。","詳細":[]},"artifact_list":["学者のしおり","学者の羽根ペン","学者の時計","学者のコップ","学者のレンズ"]},"亡命者":{"レアリティ":4,"image":"images/artifacts/TheExile.png","2セット効果":{"説明":"元素チャージ効率+20%。","詳細":[{"種類":"元素チャージ効率","数値":20}]},"4セット効果":{"説明":"元素爆発を発動すると、2秒毎にチーム全員（自分を除く）の元素エネルギーを2回復する、継続時間6秒。重ね掛け不可。","詳細":[]},"artifact_list":["亡命者の花","亡命者の羽根","亡命者の懐中時計","亡命者のコップ","亡命者の冠"]},"博徒":{"レアリティ":4,"image":"images/artifacts/Gambler.png","2セット効果":{"説明":"元素スキルのダメージ+20%。","詳細":[{"種類":"元素スキルダメージバフ","数値":20}]},"4セット効果":{"説明":"敵を倒した時、100%の確率で元素スキルのクールタイムをリセットする。15秒に1回のみ発動可能。","詳細":[]},"artifact_list":["博徒の花飾り","博徒の羽飾り","博徒の懐中時計","博徒のツボ","博徒のピアス"]},"教官":{"レアリティ":4,"image":"images/artifacts/Instructor.png","2セット効果":{"説明":"元素熟知+80。","詳細":[{"種類":"元素熟知","数値":80}]},"4セット効果":{"説明":"元素反応を引き起こした後、チーム全員の元素熟知+120、継続時間8秒。","詳細":[{"条件":"教官","種類":"元素熟知","数値":120,"チーム":true}]},"artifact_list":["教官の花飾り","教官の羽飾り","教官の懐中時計","教官のティーカップ","教官の帽子"]},"武人":{"レアリティ":4,"image":"images/artifacts/MartialArtist.png","2セット効果":{"説明":"通常攻撃と重撃のダメージ+15%。","詳細":[{"種類":"通常攻撃ダメージバフ","数値":15},{"種類":"重撃ダメージバフ","数値":15}]},"4セット効果":{"説明":"元素スキル発動後、通常攻撃と重撃ダメージ+25%、継続時間8秒。","詳細":[{"条件":"武人","種類":"通常攻撃ダメージバフ","数値":25},{"条件":"武人","種類":"重撃ダメージバフ","数値":25}]},"artifact_list":["武人の赤い花","武人の羽飾り","武人の水時計","武人の酒器","武人のバンダナ"]},"狂戦士":{"レアリティ":4,"image":"images/artifacts/Berserker.png","2セット効果":{"説明":"会心率+12%。","詳細":[{"種類":"会心率","数値":12}]},"4セット効果":{"説明":"HPが70%以下になると、会心率+24%。","詳細":[{"条件":"狂戦士","種類":"会心率","数値":24}]},"artifact_list":["狂戦士の薔薇","狂戦士の羽根","狂戦士の時計","狂戦士のコップ","狂戦士の仮面"]},"奇跡":{"レアリティ":4,"image":"images/artifacts/TinyMiracle.png","2セット効果":{"説明":"全ての元素耐性+20%。","詳細":[{"種類":"全元素耐性","数値":20}]},"4セット効果":{"説明":"元素ダメージを受けると、その元素の耐性+30%、継続時間10秒。10秒毎に1回のみ発動可能。","詳細":[]},"artifact_list":["奇跡の花","奇跡の羽根","奇跡の砂","奇跡のコップ","奇跡のピアス"]},"守護の心":{"レアリティ":4,"image":"images/artifacts/Defender\'sWill.png","2セット効果":{"説明":"防御力+30%。","詳細":[{"種類":"防御力%","数値":30}]},"4セット効果":{"説明":"チーム内の自身のキャラクターの元素タイプ1種類につき、自身にその元素の耐性+30%。","詳細":[]},"artifact_list":["守護の花","守護の印","守護の置き時計","守護の瓶","守護の帯"]},"勇士の心":{"レアリティ":4,"image":"images/artifacts/BraveHeart.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"HPが50%以上の敵に対するダメージ+30%。","詳細":[{"条件":"勇士の心","種類":"与えるダメージ","数値":30}]},"artifact_list":["勇士の勲章","勇士の期待","勇士の毅然","勇士の壮行","勇士の冠"]},"旅人の心":{"レアリティ":4,"image":"images/artifacts/ResolutionofSojourner.png","2セット効果":{"説明":"攻撃力+18%。","詳細":[{"種類":"攻撃力%","数値":18}]},"4セット効果":{"説明":"重撃の会心率+30%。","詳細":[{"種類":"会心率","対象":"重撃ダメージ","数値":30}]},"artifact_list":["故人の心","帰郷の羽","逐光の石","異国の杯","別離の冠"]},"NONE":{"レアリティ":5,"image":"data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7","2セット効果":{"説明":""},"4セット効果":{"説明":""}}}'),u=JSON.parse('{"4":{"HP":3571,"攻撃力":232,"元素熟知":139,"HP%":34.8,"攻撃力%":34.8,"防御力%":43.5,"元素チャージ効率":38.7,"会心率":23.2,"会心ダメージ":46.4,"与える治療効果":26.8,"炎元素ダメージバフ":34.8,"水元素ダメージバフ":34.8,"風元素ダメージバフ":34.8,"雷元素ダメージバフ":34.8,"草元素ダメージバフ":34.8,"氷元素ダメージバフ":34.8,"岩元素ダメージバフ":34.8,"物理ダメージバフ":43.5},"5":{"HP":4780,"攻撃力":311,"元素熟知":187,"HP%":46.6,"攻撃力%":46.6,"防御力%":58.3,"元素チャージ効率":51.8,"会心率":31.1,"会心ダメージ":62.2,"与える治療効果":35.9,"炎元素ダメージバフ":46.6,"水元素ダメージバフ":46.6,"風元素ダメージバフ":46.6,"雷元素ダメージバフ":46.6,"草元素ダメージバフ":46.6,"氷元素ダメージバフ":46.6,"岩元素ダメージバフ":46.6,"物理ダメージバフ":58.3}}'),m=JSON.parse('{"HP":[299,269,239,209],"攻撃力":[19,18,16,14],"防御力":[23,21,19,16],"元素熟知":[23,21,19,16],"HP%":[5.8,5.3,4.7,4.1],"攻撃力%":[5.8,5.3,4.7,4.1],"防御力%":[7.3,6.6,5.8,5.1],"会心率":[3.9,3.5,3.1,2.7],"会心ダメージ":[7.8,7,6.2,5.4],"元素チャージ効率":[6.5,5.8,5.2,4.5]}'),_=JSON.parse('{"ヒルチャール":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":10},"ヒルチャール暴徒":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":30},"ヒルチャール·雷兜の王":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":70,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":50},"ヒルチャール·岩兜の王":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":70,"物理耐性":50},"ヒルチャール·霜鎧の王":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":70,"岩元素耐性":10,"物理耐性":50},"アビスの魔術師":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":10},"アビスの使徒·激流":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":10},"アビスの使徒·紫電":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":10},"獣域ウェルプ·雷":{"炎元素耐性":20,"水元素耐性":20,"風元素耐性":20,"雷元素耐性":20,"草元素耐性":20,"氷元素耐性":20,"岩元素耐性":20,"物理耐性":20},"獣域ウェルプ·雷(喰魔)":{"炎元素耐性":20,"水元素耐性":20,"風元素耐性":20,"雷元素耐性":-60,"草元素耐性":20,"氷元素耐性":20,"岩元素耐性":20,"物理耐性":20},"獣域ウェルプ·岩":{"炎元素耐性":20,"水元素耐性":20,"風元素耐性":20,"雷元素耐性":20,"草元素耐性":20,"氷元素耐性":20,"岩元素耐性":20,"物理耐性":20},"獣域ウェルプ·岩(喰魔)":{"炎元素耐性":20,"水元素耐性":20,"風元素耐性":20,"雷元素耐性":20,"草元素耐性":20,"氷元素耐性":20,"岩元素耐性":-60,"物理耐性":20},"獣域ハウンド·雷":{"炎元素耐性":25,"水元素耐性":25,"風元素耐性":25,"雷元素耐性":25,"草元素耐性":25,"氷元素耐性":25,"岩元素耐性":25,"物理耐性":25},"獣域ハウンド·雷(喰魔)":{"炎元素耐性":25,"水元素耐性":25,"風元素耐性":25,"雷元素耐性":-60,"草元素耐性":25,"氷元素耐性":25,"岩元素耐性":25,"物理耐性":25},"獣域ハウンド·岩":{"炎元素耐性":25,"水元素耐性":25,"風元素耐性":25,"雷元素耐性":25,"草元素耐性":25,"氷元素耐性":25,"岩元素耐性":25,"物理耐性":25},"獣域ハウンド·岩(喰魔)":{"炎元素耐性":25,"水元素耐性":25,"風元素耐性":25,"雷元素耐性":25,"草元素耐性":25,"氷元素耐性":25,"岩元素耐性":-60,"物理耐性":25},"ファデュイ先遣隊":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":-20},"デットエージェント":{"炎元素耐性":50,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":-20},"雷蛍術師":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":50,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":-20},"氷蛍術師":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":50,"岩元素耐性":10,"物理耐性":-20},"ミラーメイデン":{"炎元素耐性":10,"水元素耐性":50,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":-20},"遺跡守衛":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":70},"遺跡ハンター":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":50},"遺跡重機":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":70},"遺跡巡視者":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":30},"遺跡殲滅者":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":30},"遺跡防衛者":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":50},"遺跡偵察者":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":50},"宝盗団":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":-20},"野伏":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":-20},"海乱鬼":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":-20},"トリックフラワー·炎":{"炎元素耐性":75,"水元素耐性":35,"風元素耐性":35,"雷元素耐性":35,"草元素耐性":35,"氷元素耐性":35,"岩元素耐性":35,"物理耐性":35},"トリックフラワー·炎(気絶)":{"炎元素耐性":50,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":10},"トリックフラワー·雷":{"炎元素耐性":35,"水元素耐性":35,"風元素耐性":35,"雷元素耐性":75,"草元素耐性":35,"氷元素耐性":35,"岩元素耐性":35,"物理耐性":35},"トリックフラワー·雷(気絶)":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":50,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":10,"物理耐性":10},"トリックフラワー·氷":{"炎元素耐性":35,"水元素耐性":35,"風元素耐性":35,"雷元素耐性":35,"草元素耐性":35,"氷元素耐性":75,"岩元素耐性":35,"物理耐性":35},"トリックフラワー·氷(気絶)":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":50,"岩元素耐性":10,"物理耐性":10},"ベビーヴィシャップ":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":50,"物理耐性":30},"ヴィシャップ":{"炎元素耐性":10,"水元素耐性":10,"風元素耐性":10,"雷元素耐性":10,"草元素耐性":10,"氷元素耐性":10,"岩元素耐性":50,"物理耐性":30}}'),p=JSON.parse('{"炎元素共鳴":{"名前":"熱誠の炎","説明":"氷元素付着の継続時間-40%。攻撃力+25%","詳細":[{"種類":"攻撃力%","数値":25}]},"水元素共鳴":{"名前":"治療の水","説明":"炎元素付着の継続時間-40%。HP上限+25%","詳細":[{"種類":"HP%","数値":25}]},"風元素共鳴":{"名前":"迅速の風","説明":"スタミナ消費-15%、移動速度+10%。元素スキルと元素爆発のクールタイム-5%。","詳細":[{"種類":"スタミナ消費","数値":"-15%"},{"種類":"移動速度","数値":10},{"種類":"クールタイム短縮","数値":5}]},"雷元素共鳴":{"名前":"強権の雷","説明":"水元素付着の継続時間-40%。超電導、過負荷、感電、原激化、超激化または超開花反応を起こした時、100%の確率で雷元素粒子を生成する。クールタイム5秒。","詳細":[]},"草元素共鳴":{"名前":"蔓生の草","説明":"元素熟知+50。燃焼、原激化、開花反応を発動すると、周囲チーム全員の元素熟知+30、継続時間6秒。超激化、草激化、超開花、烈開花反応を発動すると、周囲チーム全員の元素熟知+20、継続時間6秒。","詳細":[{"種類":"元素熟知","数値":50}]},"氷元素共鳴":{"名前":"粉砕の氷","説明":"雷元素付着の継続時間-40%。氷元素付着または凍結状態の敵を攻撃する時、会心率+15%。","詳細":[{"条件":"氷元素付着の敵|凍結状態の敵","種類":"会心率V3","数値":15}]},"岩元素共鳴":{"名前":"不動の岩","説明":"シールド強化+15%。また、キャラクターがシールド状態の時、以下の効果を得る：与えるダメージ+15%。敵にダメージを与えた時、敵の岩元素耐性-20%。継続時間15秒。","詳細":[{"種類":"シールド強化","数値":15},{"条件":"シールド状態","種類":"与えるダメージ","数値":15},{"種類":"敵岩元素耐性","数値":-20}]},"元素共鳴なし":{"名前":"交錯の護り","説明":"全元素耐性+15%","詳細":[{"種類":"炎元素耐性","数値":15},{"種類":"水元素耐性","数値":15},{"種類":"風元素耐性","数値":15},{"種類":"雷元素耐性","数値":15},{"種類":"草元素耐性","数値":15},{"種類":"氷元素耐性","数値":15},{"種類":"岩元素耐性","数値":15},{"種類":"物理耐性","数値":15}]}}'),d=JSON.parse('{"ティナリ_第4重 葉から垣間見る盛衰":{"名前":"第4重 葉から垣間見る盛衰","詳細":[{"条件":"第4重 葉から垣間見る盛衰@60,120","種類":"元素熟知","数値":1}]},"夜蘭_気随気儘":{"名前":"気随気儘","詳細":[{"条件":"気随気儘@+1-50/3.5%","種類":"与えるダメージ","数値":1}]},"夜蘭_第4重 騙し取る者、移花接木":{"名前":"第4重 騙し取る者、移花接木","詳細":[{"条件":"第4重 騙し取る者、移花接木@1-4体","種類":"HP%","数値":10}]},"神里綾人_清浄之園囿":{"名前":"清浄之園囿","詳細":[{"種類":"通常攻撃ダメージバフ","数値":"元素爆発#通常攻撃ダメージアップ"}]},"神里綾人_第4重 細流厭わず":{"名前":"第4重 細流厭わず","詳細":[{"種類":"通常攻撃速度","数値":15}]},"申鶴_氷翎":{"名前":"氷翎","詳細":[{"種類":"氷元素ダメージアップ","数値":"元素スキル#ダメージアップ"}]},"申鶴_神女遣霊真訣":{"名前":"神女遣霊真訣","詳細":[{"種類":"敵氷元素耐性","数値":"元素爆発#耐性ダウン"},{"種類":"敵物理耐性","数値":"元素爆発#耐性ダウン"}]},"申鶴_大洞弥羅尊法":{"名前":"大洞弥羅尊法","詳細":[{"種類":"氷元素ダメージバフ","数値":15}]},"申鶴_縛霊通真法印":{"名前":"縛霊通真法印","詳細":[{"条件":"縛霊通真法印=1回押し","種類":"元素スキルダメージバフ","数値":15},{"条件":"縛霊通真法印=1回押し","種類":"元素爆発ダメージバフ","数値":15},{"条件":"縛霊通真法印=長押し","種類":"通常攻撃ダメージバフ","数値":15},{"条件":"縛霊通真法印=長押し","種類":"重撃ダメージバフ","数値":15},{"条件":"縛霊通真法印=長押し","種類":"落下攻撃ダメージバフ","数値":15}]},"申鶴_第2重 定蒙":{"名前":"第2重 定蒙","命ノ星座":2,"詳細":[{"種類":"氷元素ダメージ会心ダメージ","数値":15}]},"荒瀧一斗_第4重 奉行牢獄、御食事処":{"名前":"第4重 奉行牢獄、御食事処","詳細":[{"種類":"攻撃力%","数値":20},{"種類":"防御力%","数値":20}]},"雷電将軍_雷罰悪曜の眼":{"名前":"雷罰悪曜の眼","詳細":[{"種類":"元素爆発ダメージバフ","数値":"元素スキル#非表示_元素爆発ダメージアップ"}]},"雷電将軍_第4重 常道への誓い":{"名前":"第4重 常道への誓い","命ノ星座":4,"詳細":[{"種類":"攻撃力%","数値":30}]},"宵宮_炎昼の風物詩":{"名前":"炎昼の風物詩","詳細":[{"種類":"攻撃力%","数値":10},{"条件":"炎昼の風物詩@0-10重","種類":"攻撃力%","数値":1}]},"神里綾華_第4重 栄枯盛衰":{"名前":"第4重 栄枯盛衰","命ノ星座":4,"詳細":[{"種類":"敵防御力","数値":-30}]},"楓原万葉_風物の詩吟":{"名前":"風物の詩吟","詳細":[{"条件":"風物の詩吟=炎元素","種類":"炎元素ダメージバフ","数値":"4%元素熟知X7"},{"条件":"風物の詩吟=水元素","種類":"水元素ダメージバフ","数値":"4%元素熟知X7"},{"条件":"風物の詩吟=雷元素","種類":"雷元素ダメージバフ","数値":"4%元素熟知X7"},{"条件":"風物の詩吟=氷元素","種類":"氷元素ダメージバフ","数値":"4%元素熟知X7"}]},"楓原万葉_第2重 山嵐残心":{"名前":"第2重 山嵐残心","命ノ星座":2,"詳細":[{"種類":"元素熟知","数値":200}]},"胡桃_蝶隠の時":{"名前":"蝶隠の時","詳細":[{"種類":"会心率","数値":12}]},"胡桃_第4重 花室の添い寝":{"名前":"第4重 花室の添い寝","命ノ星座":4,"詳細":[{"種類":"会心率","数値":12}]},"甘雨_天地安泰":{"名前":"天地安泰","詳細":[{"種類":"氷元素ダメージバフ","数値":20}]},"甘雨_第1重 飲露":{"名前":"第1重 飲露","命ノ星座":1,"詳細":[{"種類":"敵氷元素耐性","数値":-15}]},"甘雨_第4重 西狩":{"名前":"第4重 西狩","命ノ星座":4,"詳細":[{"条件":"第4重 西狩@+5-25%","種類":"与えるダメージ","数値":1}]},"アルベド_ホムンクルスの天智":{"名前":"ホムンクルスの天智","詳細":[{"種類":"元素熟知","数値":125}]},"アルベド_第4重 聖なる堕落":{"名前":"第4重 聖なる堕落","命ノ星座":4,"詳細":[{"種類":"落下攻撃ダメージバフ","数値":30}]},"鍾離_玉璋シールド":{"名前":"玉璋シールド","詳細":[{"種類":"敵全元素耐性","数値":-20},{"種類":"敵物理耐性","数値":-20}]},"クレー_第2重 弾丸の破片":{"名前":"第2重 弾丸の破片","命ノ星座":2,"詳細":[{"種類":"敵防御力","数値":-23}]},"クレー_第6重 火力全開":{"名前":"第6重 火力全開","命ノ星座":6,"詳細":[{"種類":"炎元素ダメージバフ","数値":10}]},"ウェンティ_第2重 恋い焦がれるそよ風":{"名前":"第2重 恋い焦がれるそよ風","命ノ星座":2,"詳細":[{"種類":"敵風元素耐性","数値":-12},{"種類":"敵物理耐性","数値":-12}]},"ウェンティ_第6重 抗争の暴風":{"名前":"第6重 抗争の暴風","命ノ星座":6,"詳細":[{"種類":"敵風元素耐性","数値":-20},{"条件":"第6重 抗争の暴風=炎元素","種類":"敵炎元素耐性","数値":-20},{"条件":"第6重 抗争の暴風=水元素","種類":"敵水元素耐性","数値":-20},{"条件":"第6重 抗争の暴風=雷元素","種類":"敵雷元素耐性","数値":-20},{"条件":"第6重 抗争の暴風=氷元素","種類":"敵氷元素耐性","数値":-20}]},"モナ_星異":{"名前":"星異","詳細":[{"種類":"与えるダメージ","数値":"元素爆発#ダメージアップ"}]},"モナ_第1重 沈没の預言":{"名前":"第1重 沈没の預言","命ノ星座":1,"詳細":[{"種類":"感電反応ボーナス","数値":15},{"種類":"蒸発反応ボーナス","数値":15},{"種類":"拡散反応ボーナス","数値":15}]},"モナ_第4重 絶滅の預言":{"名前":"第4重 絶滅の預言","命ノ星座":4,"詳細":[{"条件":"第4重 絶滅の預言&星異","種類":"会心率","数値":15}]},"ジン_第2重 人々を守る盾":{"名前":"第2重 人々を守る盾","命ノ星座":2,"詳細":[{"種類":"移動速度","数値":15},{"種類":"攻撃速度","数値":15}]},"ジン_第4重 蒲公英の国土":{"名前":"第4重 蒲公英の国土","命ノ星座":4,"詳細":[{"種類":"敵風元素耐性","数値":-40}]},"ジン_第6重 民を眷顧する獅子の牙":{"名前":"第6重 民を眷顧する獅子の牙","命ノ星座":6,"詳細":[{"種類":"ダメージ軽減","数値":35}]},"コレイ_第4重 ギフトオブフォレスト":{"名前":"第4重 ギフトオブフォレスト","詳細":[{"種類":"元素熟知","数値":60}]},"鹿野院平蔵_因由勘破":{"名前":"因由勘破","詳細":[{"種類":"元素熟知","数値":80}]},"雲菫_飛雲旗陣":{"名前":"飛雲旗陣","詳細":[{"種類":"通常攻撃ダメージアップ","数値":"元素爆発#非表示_ダメージアップ"},{"条件":"独立嶄然@required_1-4種類&雲菫*飛雲旗陣","種類":"通常攻撃ダメージアップ","数値":"2.5%防御力"},{"条件":"独立嶄然=required_4種類&雲菫*飛雲旗陣","種類":"通常攻撃ダメージアップ","数値":"1.5%防御力"}]},"雲菫_第2重 諸般切末":{"名前":"第2重 諸般切末","命ノ星座":2,"詳細":[{"種類":"通常攻撃ダメージバフ","数値":15}]},"雲菫_第6重 荘諧併持":{"名前":"第6重 荘諧併持","命ノ星座":6,"詳細":[{"種類":"通常攻撃速度","数値":12}]},"ゴロー_大将の旗指物｜大将威儀":{"名前":"大将の旗指物/大将威儀","詳細":[{"条件":"大将の旗指物/大将威儀=堅牢","種類":"防御力","数値":"元素スキル#防御力アップ"},{"条件":"大将の旗指物/大将威儀=破耐","種類":"防御力","数値":"元素スキル#防御力アップ"},{"条件":"大将の旗指物/大将威儀=粉砕","種類":"防御力","数値":"元素スキル#防御力アップ"},{"条件":"大将の旗指物/大将威儀=粉砕","種類":"岩元素ダメージバフ","数値":15}]},"ゴロー_風雨を恐れず":{"名前":"風雨を恐れず","詳細":[{"種類":"防御力%","数値":25}]},"ゴロー_第6重 犬勇·忠に厚きこと山の如く":{"名前":"第6重 犬勇·忠に厚きこと山の如く","命ノ星座":6,"詳細":[{"条件":"第6重 犬勇·忠に厚きこと山の如く=堅牢","種類":"岩元素ダメージ会心ダメージ","数値":10},{"条件":"第6重 犬勇·忠に厚きこと山の如く=破耐","種類":"岩元素ダメージ会心ダメージ","数値":20},{"条件":"第6重 犬勇·忠に厚きこと山の如く=粉砕","種類":"岩元素ダメージ会心ダメージ","数値":40}]},"九条裟羅_各種天狗呪雷":{"名前":"各種天狗呪雷","詳細":[{"種類":"攻撃力","数値":"元素スキル#攻撃力アップ"}]},"九条裟羅_第6重 我界":{"名前":"第6重 我界","命ノ星座":6,"詳細":[{"種類":"雷元素ダメージ会心ダメージ","数値":60}]},"トーマ_第6重 燃え立つ誠心":{"名前":"第6重 燃え立つ誠心","命ノ星座":6,"詳細":[{"種類":"通常攻撃ダメージバフ","数値":15},{"種類":"重撃ダメージバフ","数値":15},{"種類":"落下攻撃ダメージバフ","数値":15}]},"ロサリア_陰から支える暗色":{"名前":"陰から支える暗色","詳細":[{"種類":"会心率","数値":"15%会心率X7","上限":15}]},"ロサリア_第6重 代行裁判":{"名前":"第6重 代行裁判","命ノ星座":6,"詳細":[{"種類":"敵物理耐性","数値":-20}]},"辛炎_「…これこそがロックだ！」":{"名前":"「…これこそがロックだ！」","詳細":[{"種類":"物理ダメージバフ","数値":15}]},"辛炎_第4重 リズムの伝染":{"名前":"第4重 リズムの伝染","命ノ星座":4,"詳細":[{"種類":"敵物理耐性","数値":-15}]},"ディオナ_第6重 キャッツテールが閉店の時":{"名前":"第6重 キャッツテールが閉店の時","命ノ星座":6,"詳細":[{"条件":"第6重 キャッツテールが閉店の時=HP50%以下","種類":"受ける治療効果","数値":30},{"条件":"第6重 キャッツテールが閉店の時=HP50%超","種類":"元素熟知","数値":200}]},"スクロース_触媒置換術":{"名前":"触媒置換術","詳細":[{"種類":"元素熟知","数値":50}]},"スクロース_小さな恵風":{"名前":"小さな恵風","詳細":[{"種類":"元素熟知V1","数値":"元素熟知*0.2"}]},"スクロース_第6重 混元熵增論":{"名前":"第6重 混元熵增論","命ノ星座":6,"詳細":[{"条件":"第6重 混元熵增論=炎元素","種類":"炎元素ダメージバフ","数値":20},{"条件":"第6重 混元熵增論=水元素","種類":"水元素ダメージバフ","数値":20},{"条件":"第6重 混元熵增論=雷元素","種類":"雷元素ダメージバフ","数値":20},{"条件":"第6重 混元熵增論=氷元素","種類":"氷元素ダメージバフ","数値":20}]},"重雲_霊刃·重華積霜":{"名前":"霊刃·重華積霜","詳細":[{"種類":"氷元素付与"}]},"重雲_追氷剣訣":{"名前":"追氷剣訣","詳細":[{"種類":"敵氷元素耐性","数値":-10}]},"重雲_第2重 周天の回転":{"名前":"第2重 周天の回転","詳細":[{"種類":"元素スキルクールタイム","数値":-15},{"種類":"元素爆発クールタイム","数値":-15}]},"ベネット_素晴らしい旅":{"名前":"素晴らしい旅","詳細":[{"種類":"攻撃力","数値":"元素爆発#攻撃力アップ"}]},"ベネット_第6重 烈火と勇気":{"名前":"第6重 烈火と勇気","命ノ星座":6,"詳細":[{"種類":"炎元素ダメージバフ","数値":15},{"種類":"炎元素付与"}]},"凝光_備えあれば憂いなし":{"名前":"備えあれば憂いなし","詳細":[{"種類":"岩元素ダメージバフ","数値":12}]},"凝光_第4重 神機妙道の陣組み":{"名前":"第4重 神機妙道の陣組み","命ノ星座":4,"詳細":[{"種類":"全元素耐性","数値":10}]},"行秋_雨すだれの剣":{"名前":"雨すだれの剣","詳細":[{"種類":"ダメージ軽減","数値":"元素スキル#ダメージ軽減"}]},"行秋_第2重 青空の虹":{"名前":"第2重 青空の虹","命ノ星座":2,"詳細":[{"種類":"敵水元素耐性","数値":-15}]},"北斗_雷獣の盾":{"名前":"雷獣の盾","詳細":[{"種類":"ダメージ軽減","数値":"元素爆発#ダメージ軽減"}]},"北斗_第6重 北斗の祓い":{"名前":"第6重 北斗の祓い","命ノ星座":6,"詳細":[{"種類":"敵雷元素耐性","数値":-15}]},"香菱_激辛唐辛子":{"名前":"激辛唐辛子","詳細":[{"種類":"攻撃力%","数値":10}]},"香菱_第1重 外カリ中フワ":{"名前":"第1重 外カリ中フワ","命ノ星座":1,"詳細":[{"種類":"敵炎元素耐性","数値":-15}]},"香菱_第6重 竜巻旋火輪":{"名前":"第6重 竜巻旋火輪","命ノ星座":6,"詳細":[{"種類":"炎元素ダメージバフ","数値":15}]},"レザー_第4重 噛みつく":{"名前":"第4重 噛みつく","命ノ星座":4,"詳細":[{"種類":"敵防御力","数値":-15}]},"バーバラ_第2重 元気溌剌":{"名前":"第2重 元気溌剌","命ノ星座":2,"詳細":[{"種類":"水元素ダメージバフ","数値":15}]},"リサ_静電気フィールド":{"名前":"静電気フィールド","詳細":[{"種類":"敵防御力","数値":-15}]},"アンバー_第6重 野火の如く":{"名前":"第6重 野火の如く","命ノ星座":6,"詳細":[{"種類":"攻撃力%","数値":15}]},"旅人(草)_蔓生の埜草":{"名前":"蔓生の埜草","詳細":[{"条件":"蔓生の埜草@1-10層","種類":"元素熟知","数値":6}]},"旅人(草)_第6重 蘊思の霜草":{"名前":"第6重 蘊思の霜草","詳細":[{"種類":"草元素ダメージバフ","数値":12},{"条件":"第6重 蘊思の霜草=蓮光幻変 なし","種類":"草元素ダメージバフ","数値":0},{"条件":"第6重 蘊思の霜草=蓮光幻変 炎元素","種類":"炎元素ダメージバフ","数値":12},{"条件":"第6重 蘊思の霜草=蓮光幻変 水元素","種類":"水元素ダメージバフ","数値":12},{"条件":"第6重 蘊思の霜草=蓮光幻変 雷元素","種類":"雷元素ダメージバフ","数値":12}]},"旅人(岩)_第1重 巍然たる青岩":{"名前":"第1重 巍然たる青岩","命ノ星座":1,"詳細":[{"種類":"会心率","数値":10}]},"旅人(風)_第6重 もつれる信風":{"名前":"第6重 もつれる信風","命ノ星座":6,"詳細":[{"種類":"敵風元素耐性","数値":-20},{"条件":"第6重 もつれる信風=炎元素","種類":"敵炎元素耐性","数値":-20},{"条件":"第6重 もつれる信風=水元素","種類":"敵水元素耐性","数値":-20},{"条件":"第6重 もつれる信風=雷元素","種類":"敵雷元素耐性","数値":-20},{"条件":"第6重 もつれる信風=氷元素","種類":"敵氷元素耐性","数値":-20}]}}'),f=JSON.parse('{"超電導":{"名前":"超電導 物理耐性-40%","詳細":[{"種類":"敵物理耐性","数値":-40}]},"在りし日の歌":{"名前":"在りし日の歌","詳細":[{"条件":"在りし日の歌@1000-15000/1000","種類":"通常攻撃ダメージアップ","数値":0.08},{"条件":"在りし日の歌@1000-15000/1000","種類":"重撃ダメージアップ","数値":0.08},{"条件":"在りし日の歌@1000-15000/1000","種類":"落下攻撃ダメージアップ","数値":0.08},{"条件":"在りし日の歌@1000-15000/1000","種類":"元素スキルダメージアップ","数値":0.08},{"条件":"在りし日の歌@1000-15000/1000","種類":"元素爆発ダメージアップ","数値":0.08}]},"深林の記憶":{"名前":"深林の記憶","詳細":[{"種類":"敵草元素耐性","数値":-30}]},"千岩牢固":{"名前":"千岩牢固","詳細":[{"種類":"攻撃力%","数値":20},{"種類":"シールド強化","数値":30}]},"悠久の磐岩":{"名前":"悠久の磐岩","詳細":[{"条件":"悠久の磐岩=炎元素","種類":"炎元素ダメージバフ","数値":35},{"条件":"悠久の磐岩=水元素","種類":"水元素ダメージバフ","数値":35},{"条件":"悠久の磐岩=雷元素","種類":"雷元素ダメージバフ","数値":35},{"条件":"悠久の磐岩=氷元素","種類":"氷元素ダメージバフ","数値":35}]},"翠緑の影":{"名前":"翠緑の影","詳細":[{"条件":"翠緑の影=炎元素","種類":"敵炎元素耐性","数値":-40},{"条件":"翠緑の影=水元素","種類":"敵水元素耐性","数値":-40},{"条件":"翠緑の影=雷元素","種類":"敵雷元素耐性","数値":-40},{"条件":"翠緑の影=氷元素","種類":"敵氷元素耐性","数値":-40}]},"愛される少女":{"名前":"愛される少女","詳細":[{"種類":"受ける治療効果","数値":20}]},"旧貴族のしつけ":{"名前":"旧貴族のしつけ","詳細":[{"種類":"攻撃力%","数値":20}]},"教官":{"名前":"教官","詳細":[{"種類":"元素熟知","数値":120}]}}'),h=JSON.parse('{"蒼古なる自由への誓い":{"名前":"蒼古なる自由への誓い","詳細":[{"種類":"通常攻撃ダメージバフ","数値":12},{"条件":"蒼古なる自由への誓い@R1-5","種類":"通常攻撃ダメージバフ","数値":4},{"種類":"重撃ダメージバフ","数値":12},{"条件":"蒼古なる自由への誓い@R1-5","種類":"重撃ダメージバフ","数値":4},{"種類":"落下攻撃ダメージバフ","数値":12},{"条件":"蒼古なる自由への誓い@R1-5","種類":"落下攻撃ダメージバフ","数値":4},{"種類":"攻撃力%","数値":15},{"条件":"蒼古なる自由への誓い@R1-5","種類":"攻撃力%","数値":5}]},"松韻の響く頃":{"名前":"松韻の響く頃","詳細":[{"種類":"通常攻撃速度","数値":9},{"条件":"松韻の響く頃@R1-5","種類":"通常攻撃速度","数値":3},{"種類":"攻撃力%","数値":15},{"条件":"松韻の響く頃@R1-5","種類":"攻撃力%","数値":5}]},"終焉を嘆く詩":{"名前":"終焉を嘆く詩","詳細":[{"種類":"元素熟知","数値":75},{"条件":"終焉を嘆く詩@R1-5","種類":"元素熟知","数値":25},{"種類":"攻撃力%","数値":15},{"条件":"終焉を嘆く詩@R1-5","種類":"攻撃力%","数値":5}]},"狼の末路":{"名前":"狼の末路","詳細":[{"種類":"攻撃力%","数値":30},{"条件":"狼の末路@R1-5","種類":"攻撃力%","数値":10}]},"白辰の輪":{"名前":"白辰の輪","詳細":[{"種類":"雷元素ダメージバフ","数値":7.5},{"条件":"白辰の輪@R1-5","種類":"雷元素ダメージバフ","数値":2.5},{"条件":"白辰の輪&白辰の輪 元素反応=required_過負荷","種類":"炎元素ダメージバフ","数値":7.5},{"条件":"白辰の輪@R1-5&白辰の輪 元素反応=required_過負荷","種類":"炎元素ダメージバフ","数値":2.5},{"条件":"白辰の輪&白辰の輪 元素反応=required_感電","種類":"水元素ダメージバフ","数値":7.5},{"条件":"白辰の輪@R1-5&白辰の輪 元素反応=required_感電","種類":"水元素ダメージバフ","数値":2.5},{"条件":"白辰の輪&白辰の輪 元素反応=required_拡散","種類":"風元素ダメージバフ","数値":7.5},{"条件":"白辰の輪@R1-5&白辰の輪 元素反応=required_拡散","種類":"風元素ダメージバフ","数値":2.5},{"条件":"白辰の輪&白辰の輪 元素反応=required_原激化","種類":"草元素ダメージバフ","数値":7.5},{"条件":"白辰の輪@R1-5&白辰の輪 元素反応=required_原激化","種類":"草元素ダメージバフ","数値":2.5},{"条件":"白辰の輪&白辰の輪 元素反応=required_超電導","種類":"氷元素ダメージバフ","数値":7.5},{"条件":"白辰の輪@R1-5&白辰の輪 元素反応=required_超電導","種類":"氷元素ダメージバフ","数値":2.5},{"条件":"白辰の輪&白辰の輪 元素反応=required_結晶","種類":"岩元素ダメージバフ","数値":7.5},{"条件":"白辰の輪@R1-5&白辰の輪 元素反応=required_結晶","種類":"岩元素ダメージバフ","数値":2.5}]},"原木刀":{"名前":"原木刀","詳細":[{"種類":"元素熟知","数値":45},{"条件":"原木刀@R1-5","種類":"元素熟知","数値":15}]},"森林のレガリア":{"名前":"森林のレガリア","詳細":[{"種類":"元素熟知","数値":45},{"条件":"森林のレガリア@R1-5","種類":"元素熟知","数値":15}]},"ムーンピアサー":{"名前":"ムーンピアサー","詳細":[{"種類":"攻撃力%","数値":12},{"条件":"ムーンピアサー@R1-5","種類":"攻撃力%","数値":4}]},"龍殺しの英傑譚":{"名前":"龍殺しの英傑譚","詳細":[{"種類":"攻撃力%","数値":48}]}}'),g=JSON.parse('{"炎":{"蒸発":{"種類":"乗算","数値":1.5,"元素":"炎"},"過負荷":{"種類":"固定","数値":{"1":33,"20":161,"40":414,"50":647,"60":986,"70":1531,"80":2154,"90":2893},"元素":"炎"},"溶解":{"種類":"乗算","数値":2,"元素":"炎"},"燃焼":{"種類":"固定","数値":{"1":4.125,"20":20.125,"40":51.75,"50":80.875,"60":123.25,"70":191.375,"80":269.25,"90":361.625},"元素":"炎"},"烈開花":{"種類":"固定","数値":{"1":49.5,"20":241.5,"40":621,"50":970.5,"60":1479,"70":2296.5,"80":3231,"90":4339.5},"元素":"草"}},"水":{"蒸発":{"種類":"乗算","数値":2,"元素":"水"},"感電":{"種類":"固定","数値":{"1":20,"20":97,"40":248,"50":388,"60":591,"70":918,"80":1292,"90":1736},"元素":"雷"},"開花":{"種類":"固定","数値":{"1":33,"20":161,"40":414,"50":647,"60":986,"70":1531,"80":2154,"90":2893},"元素":"草"}},"風":{"拡散":{"種類":"固定","数値":{"1":10,"20":48,"40":123,"50":193,"60":296,"70":459,"80":646,"90":868},"元素":"炎"}},"雷":{"過負荷":{"種類":"固定","数値":{"1":33,"20":161,"40":414,"50":647,"60":986,"70":1531,"80":2154,"90":2893},"元素":"炎"},"感電":{"種類":"固定","数値":{"1":20,"20":97,"40":248,"50":388,"60":591,"70":918,"80":1292,"90":1736},"元素":"雷"},"超電導":{"種類":"固定","数値":{"1":8,"20":40,"40":103,"50":161,"60":246,"70":382,"80":538,"90":723},"元素":"氷"},"超開花":{"種類":"固定","数値":{"1":49.5,"20":241.5,"40":621,"50":970.5,"60":1479,"70":2296.5,"80":3231,"90":4339.5},"元素":"草"},"超激化":{"種類":"加算","数値":{"1":19,"20":92.6,"40":238.1,"50":372,"60":567,"70":880.3,"80":1238.6,"90":1663.5},"元素":"雷"}},"草":{"燃焼":{"種類":"固定","数値":{"1":3.7,"20":18.1,"40":46.6,"50":72.8,"60":110.9,"70":172.2,"80":242.3,"90":325.5},"元素":"炎"},"開花":{"種類":"固定","数値":{"1":29.6,"20":144.8,"40":372.8,"50":582.4,"60":887.2,"70":1377.6,"80":1938.4,"90":2604},"元素":"草"},"草激化":{"種類":"加算","数値":{"1":20.7,"20":100.7,"40":258.8,"50":404.3,"60":616.3,"70":956.8,"80":1346.3,"90":1808.2},"元素":"草"}},"氷":{"溶解":{"種類":"乗算","数値":1.5,"元素":"氷"},"超電導":{"種類":"固定","数値":{"1":8,"20":40,"40":103,"50":161,"60":246,"70":382,"80":538,"90":723},"元素":"氷"}},"岩":{"結晶":{"種類":"固定","数値":{"1":91,"20":304,"40":585,"50":787,"60":1030,"70":1315,"80":1597,"90":1851}}},"破砕":{"氷砕き":{"種類":"固定","数値":{"1":26,"20":120,"40":310,"50":484,"60":739,"70":1148,"80":1616,"90":2170},"元素":"物理","キャラクター":["クレー","煙緋","魈","楓原万葉","久岐忍","キャンディス"]}}}');const y="data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7";function E(e){let t=null;return e.icon_url?t=e.icon_url:e.image?t=e.image:e.import&&(t=e.import.replace("data/","images/"),-1!=t.indexOf("characters/")&&(t=t.replace("characters/","characters/face/")),t=t.replace(/json$/,"png")),t}const b=[];Object.keys(n).forEach((e=>{const t=n[e];t.key=e,t.icon_url=E(t),b.push(t)}));const w={"片手剣":r,"両手剣":o,"長柄武器":s,"弓":i,"法器":l};Object.keys(w).forEach((e=>{const t=w[e];Object.keys(t).forEach((e=>{const a=t[e];a.key=e,a.icon_url=E(a)}))}));const O=Object.keys(r).map((e=>r[e])),D=Object.keys(o).map((e=>o[e])),M=Object.keys(s).map((e=>s[e])),k=Object.keys(i).map((e=>i[e])),C=Object.keys(l).map((e=>l[e])),A={"片手剣":O,"両手剣":D,"長柄武器":M,"弓":k,"法器":C},j=[];Object.keys(c).forEach((e=>{const t=c[e];t.key=e,t.icon_url=E(t),j.push(t)}));Object.keys(u[5]),Object.keys(m);for(const te of Object.keys(_))for(const e of Object.keys(_[te]))_[te][e]>=1e3&&(_[te][e]=1/0);const P=Object.keys(_).map((e=>({key:e,..._[e]}))),v=Object.keys(p).map((e=>({key:e,...p[e]}))),S=Object.keys(d).map((e=>({key:e,...d[e]}))),R=Object.keys(f).map((e=>({key:e,...f[e]}))),N=Object.keys(h).map((e=>({key:e,...h[e]}))),W=(Object.keys(g).map((e=>({key:e,...g[e]}))),new Map);async function T(e){try{if(!W.has(e)){const t=n[e]["import"].replace(/^\//,""),a=await fetch(t).then((e=>e.json())),r=n[e].武器;a.通常攻撃.icon_url=K[r],W.set(e,a)}return W.get(e)}catch(t){throw console.error(e),t}}const I=new Map;async function L(e,t){try{if(!I.has(e)){let a;a=t?[t]:Object.keys(w);for(const t of a)if(e in w[t]){const a=w[t],n=a[e]["import"],r=await fetch(n).then((e=>e.json()));r.種類=t,I.set(e,r);break}}return I.get(e)}catch(a){throw console.error(e,t),a}}const H=/^(299|562|826)$/.test(a.j)?["炎","水","風","雷","草","氷","岩"]:null,V={"炎":"pyro","水":"hydro","風":"anemo","雷":"electro","草":"dendro","氷":"cryo","岩":"geo"},U={"炎":"pyro-bg","水":"hydro-bg","風":"anemo-bg","雷":"electro-bg","草":"dendro-bg","氷":"cryo-bg","岩":"geo-bg"},B={"炎":"images/element_pyro.png","水":"images/element_hydro.png","風":"images/element_anemo.png","雷":"images/element_electro.png","草":"images/element_dendro.png","氷":"images/element_cryo.png","岩":"images/element_geo.png"},K={"片手剣":"images/characters/NormalAttack_sword.png","両手剣":"images/characters/NormalAttack_claymore.png","長柄武器":"images/characters/NormalAttack_polearm.png","弓":"images/characters/NormalAttack_bow.png","法器":"images/characters/NormalAttack_catalyst.png"},x={1:"star1-bg",2:"star2-bg",3:"star3-bg",4:"star4-bg",5:"star5-bg"},q=new Map([["キャラクター",null],["レベル",null],["命ノ星座",0],["通常攻撃レベル",0],["元素スキルレベル",0],["元素爆発レベル",0],["武器",null],["武器レベル",0],["精錬ランク",0],["聖遺物セット効果1",null],["聖遺物セット効果2",null],["聖遺物メイン効果1",null],["聖遺物メイン効果2",null],["聖遺物メイン効果3",null],["聖遺物メイン効果4",null],["聖遺物メイン効果5",null],["聖遺物サブ効果HP",0],["聖遺物サブ効果攻撃力",0],["聖遺物サブ効果防御力",0],["聖遺物サブ効果元素熟知",0],["聖遺物サブ効果会心率",0],["聖遺物サブ効果会心ダメージ",0],["聖遺物サブ効果元素チャージ効率",0],["聖遺物サブ効果HPP",0],["聖遺物サブ効果攻撃力P",0],["聖遺物サブ効果防御力P",0],["聖遺物優先するサブ効果1",null],["聖遺物優先するサブ効果1上昇値",-1],["聖遺物優先するサブ効果1上昇回数",-1],["聖遺物優先するサブ効果2",null],["聖遺物優先するサブ効果2上昇値",-1],["聖遺物優先するサブ効果2上昇回数",-1],["聖遺物優先するサブ効果3",null],["聖遺物優先するサブ効果3上昇値",-1],["聖遺物優先するサブ効果3上昇回数",-1],["聖遺物優先するサブ効果4",null],["聖遺物優先するサブ効果4上昇値",-1],["聖遺物優先するサブ効果4上昇回数",-1]]),F=Array.from(q.keys()).filter((e=>e.match(/^聖遺物優先するサブ効果\d$/))).length,z=/^(299|562|826)$/.test(a.j)?["通常攻撃ダメージ","重撃ダメージ","落下攻撃ダメージ","元素スキルダメージ","元素爆発ダメージ"]:null,$=new Map([["HP%","HP"],["元素熟知","熟"],["元素チャージ効率","ﾁｬ"],["会心率","率"],["会心ダメージ","ダ"],["与える治療効果","治"]]),Y=new Map([["HP%","HP"],["攻撃力%","AT"],["防御力%","DF"],["元素熟知","EM"],["会心率","CR"],["会心ダメージ","CD"],["元素チャージ効率","ER"],["与える治療効果","HE"],["炎元素ダメージバフ","Py"],["水元素ダメージバフ","Hy"],["風元素ダメージバフ","An"],["雷元素ダメージバフ","El"],["草元素ダメージバフ","De"],["氷元素ダメージバフ","Cr"],["岩元素ダメージバフ","Ge"],["物理ダメージバフ","Ph"]]),G=new Map([["HP","HP"],["攻撃力","ATK"],["防御力","DEF"],["元素熟知","ElementalMastery"],["会心率","CritRate"],["会心ダメージ","CritDMG"],["元素チャージ効率","EnergyRecharge"],["炎元素ダメージバフ","Pyro"],["水元素ダメージバフ","Hydro"],["風元素ダメージバフ","Anemo"],["雷元素ダメージバフ","Electro"],["草元素ダメージバフ","Dendro"],["氷元素ダメージバフ","Cryo"],["岩元素ダメージバフ","Geo"],["物理ダメージバフ","Physical"],["与える治療効果","Healing"],["HP%","HPp"],["攻撃力%","ATKp"],["防御力%","DEFp"]]),X=new Map;G.forEach(((e,t)=>{X.set(e,t)}));const Q=[{key:"",values:[7,7,7,7],counts:[0,0,0,0]},{key:"厳選初心者",values:[3,3,3,3],counts:[7,4,4,4]},{key:"厳選1ヶ月",values:[3,3,3,3],counts:[8,5,5,4]},{key:"厳選3ヶ月",values:[3,3,3,3],counts:[11,8,7,4]},{key:"日々石割り",values:[1,1,1,1],counts:[14,11,10,4]}];for(const te of Q){for(let e=te.values.length;e<F;e++)te.values.push(te.values[0]);for(let e=te.counts.length;e<F;e++)te.counts.push(0)}const Z={1:"flower_of_life",2:"plume_of_death",3:"sands_of_eon",4:"goblet_of_eonothem",5:"circlet_of_logos"};function J(e,t="1"){let a=y;return e in c&&(a=c[e].icon_url,a.startsWith("data:image/gif;")||(a=a.replace(/.png$/,""),a+="/"+Z[String(t)]+".png")),a}const ee=826==a.j?[[["会心率",2],["会心ダメージ",1]],[["攻撃力%",1],["会心率",2],["会心ダメージ",1]],[["HP%",1],["会心率",2],["会心ダメージ",1]],[["防御力%",1],["会心率",2],["会心ダメージ",1]],[["HP%",.5],["攻撃力%",.5],["会心率",2],["会心ダメージ",1]],[["攻撃力%",.5],["防御力%",.5],["会心率",2],["会心ダメージ",1]],[["攻撃力%",.5],["元素熟知",.125],["会心率",2],["会心ダメージ",1]]]:null},9098:function(e,t,a){a.d(t,{DA:function(){return o},EW:function(){return h},Ef:function(){return M},Fw:function(){return i},H0:function(){return E},QL:function(){return y},Xe:function(){return b},ic:function(){return D},mh:function(){return f},rQ:function(){return s},rW:function(){return w},u7:function(){return O},vH:function(){return g},zY:function(){return l}});a(560);var n=a(4806),r=a.n(n);const o=4096,s=4097,i=4098,l=4099,c=8192,u=8193,m=8194,_=8196,p=8198,d={"アルレッキーノ":{E:5},"千織":{E:[1.2,i,17,15,3.6]},"嘉明":{E:2},"閑雲":{E:5},"シュヴルーズ":{"E.Press":[4,s,0,15,10],"E.Hold":[4,s,0,15,10]},"ナヴィア":{"E.Press":3.5,"E.Hold":3.5},"シャルロット":{"E.Press":3,"E.Hold":5},"フリーナ":{E:[1,i,30,20,2.5]},"リオセスリ":{E:[3,o,10,16,2,u,3,o,14,16,2]},"ヌヴィレット":{E:[4,s,0,12,void 0]},"リネ":{E:5},"白朮":{E:3.5},"ディシア":{E:[1,i,12,20,2.5,m,1,i,18,20,2.5]},"アルハイゼン":{"E.Press":[6,o],"E.Hold":[6,o]},"放浪者":{E:[5,o,10,16,2,p,5,o,12,18,2]},"ナヒーダ":{"E.Press":[3,i,25,5,7],"E.Hold":[3,i,25,6,7]},"ニィロウ":{E:[4.5,o]},"セノ":{E:3,"E(burst)":1+1/3},"ティナリ":{E:3.5},"夜蘭":{"E.Press":[4,s,0,10,void 0],"E.Hold":[4,s,0,10,void 0]},"神里綾人":{E:[4,o,6,12,0]},"八重神子":{E:[1,i,14,4,2.5]},"申鶴":{"E.Press":[3,s,10,10,void 0],"E.Hold":[4,s,15,15,void 0]},"荒瀧一斗":{E:3.5},"珊瑚宮心海":{E:[.67,i,12,20,2]},"雷電将軍":{E:[.5,i,25,10,.9]},"アーロイ":{E:5},"宵宮":{E:[4,o,10,18,2]},"神里綾華":{E:4.5},"楓原万葉":{"E.Press":3,"E.Hold":4},"エウルア":{"E.Press":1.5,"E.Hold":2.5},"胡桃":{E:[5,o,9,16,void 0]},"魈":{E:3,"E(burst)":0},"甘雨":{E:[4,l,6,10,void 0]},"アルベド":{"E.Press":[.67,i,30,4,2],"E.Hold":[.67,i,30,4,2]},"鍾離":{"E.Press":[.5,i,20,4,1.5],"E.Hold":[.5,i,20,12,1.5]},"タルタリヤ":{E:[3,o]},"クレー":{E:3.5},"ウェンティ":{"E.Press":3,"E.Hold":4},"刻晴":{"E.Press":2.5,"E.Hold":2.5},"モナ":{"E.Press":[3.33,l,5,12,void 0],"E.Hold":[3.33,l,5,12,void 0]},"七七":{E:0},"ディルック":{E:4},"ジン":{E:2.67},"フレミネ":{E:2,"E(burst)":1},"リネット":{"E.Press":4,"E.Hold":4},"綺良々":{"E.Press":3,"E.Hold":4},"カーヴェ":{E:2},"ミカ":{"E.Press":4,"E.Hold":4},"ヨォーヨ":{"E.Press":[1,i,10,15,1.5],"E.Hold":[1,i,10,15,1.5]},"ファルザン":{E:[2,s,18,6,5.5]},"レイラ":{E:[1.33,i,12,12,3]},"キャンディス":{"E.Press":2,"E.Hold":3},"ドリー":{E:2},"コレイ":{E:3},"鹿野院平蔵":{E:4},"久岐忍":{E:[.45,i,12,15,1.5,m,.45,i,15,15,1.5]},"雲菫":{"E.Press":2,"E.Hold":3},"ゴロー":{"E.Press":2,"E.Hold":2},"トーマ":{E:3.5},"九条裟羅":{E:3},"早柚":{"E.Press":2,"E.Hold":3},"煙緋":{E:3},"ロサリア":{E:3},"辛炎":{E:4},"ディオナ":{"E.Press":1.6,"E.Hold":4},"スクロース":{E:4},"重雲":{E:4},"ノエル":{E:0},"ベネット":{"E.Press":2.25,"E.Hold":3},"フィッシュル":{E:[.67,i,10,25,1,p,.67,i,12,25,1]},"凝光":{E:3.33},"行秋":{E:[4.5,s,15,21,void 0]},"北斗":{"E.Press":2,"E.Hold":4},"香菱":{E:[4,l,8,12,void 0]},"レザー":{"E.Press":3,"E.Hold":4,"E.Press(burst)":0},"バーバラ":{E:[0,s,15,32,void 0,m,0,s,15,27.2,void 0]},"リサ":{"E.Press":0,"E.Hold":5},"ガイア":{E:2.67},"アンバー":{"E.Press":[4,l,8,15,void 0],"E.Hold":[4,l,8,15,void 0]},"旅人(水)":{"E.Press":3.33,"E.Hold":3.33},"旅人(草)":{E:2.5},"旅人(雷)":{E:1},"旅人(岩)":{"E.Press":3.33,"E.Hold":3.33},"旅人(風)":{"E.Press":2,"E.Hold":3.33}};Object.keys(d).forEach((e=>{const t=d[e];Object.keys(t).forEach((a=>{const n=t[a];if(!r().isNumber(n)){if(r().isArray(n)&&(2===n.length||5===n.length||11===n.length)){const e=[];if(e.push(n[1]),11===n.length&&e.push(n[7]),0===n.filter((e=>void 0!==e&&!r().isNumber(e))).length&&0===e.filter((e=>void 0===e||![o,s,i,l].includes(e))).length&&(11!==n.length||void 0!==n[5]&&[u,m,_,p].includes(n[5])))return}console.error(e,a,n)}}))}));const f=/^(299|562)$/.test(a.j)?["フィッシュル","珊瑚宮心海"]:null,h=new Map;h.set("ディルック",new Map([[["E"],2]])),h.set("刻晴",new Map([[["E","C"],1]])),h.set("ニィロウ",new Map([[["E","N"],3]])),h.set("フレミネ",new Map([[["E"],1],[["N"],4]]));const g=new Map;g.set("九条裟羅",["C"]),g.set("ファルザン",["C"]),g.set("閑雲",["P"]),g.set("嘉明",["P"]);const y=/^(299|562)$/.test(a.j)?["ウェンティ","エウルア"]:null;function E(e){const t=d[e];return t?Object.keys(t).filter((e=>e.startsWith("E")&&-1==e.indexOf("(burst)"))):["E"]}function b(e,t,a=0,n=!1){const o=[0,s,0,void 0,void 0],i=d[e];if(i){const e=[];n&&e.push(t+"(burst)"),e.push(t);for(const t of e)if(t in i){const e=i[t];if(r().isNumber(e))o[0]=e;else if(r().isArray(e)){let t=0;e.length>5&&void 0!==e[5]&&e[5]<=a+c&&(t=6);for(let a=0;a<5;a++)e.length>a+t&&(o[a]=e[a+t])}break}}return o}function w(e,t){let a=0;if(r().isNumber(e))a=e;else{a=e[0]??0;const n=O(e);if([i].includes(n)){const n=k(e);n&&(a/=n);let r=D(e);r>0&&(void 0!==t&&r>t&&(r=Math.max(0,t)),a*=r)}}return a}function O(e){return r().isArray(e)&&e.length>1?e[1]??s:s}function D(e){return r().isArray(e)&&e.length>2?e[2]??0:0}function M(e){return r().isArray(e)&&e.length>3?e[3]:void 0}function k(e){return r().isArray(e)&&e.length>4?e[4]:void 0}},5378:function(e,t,a){a.d(t,{Z:function(){return ne}});var n=a(3396),r=a(7139),o=a(9242);const s=e=>((0,n.dD)("data-v-fe60a4d2"),e=e(),(0,n.Cn)(),e),i={class:"artifact"},l={key:0,class:"artifact"},c={class:"left-column",style:{width:"45%"}},u={class:"control"},m={key:0,class:"material-symbols-outlined"},_={key:1,class:"material-symbols-outlined"},p={class:"with-tooltip"},d=["src","alt"],f={class:"tooltip"},h={key:0,class:"edit-mainstat"},g=["value"],y=["step"],E={key:1,class:"mainstat",style:{margin:"1px 0"}},b={key:2},w=s((()=>(0,n._)("option",{value:"5"}," ★5 ",-1))),O=s((()=>(0,n._)("option",{value:"4"}," ★4 ",-1))),D=[w,O],M={key:3},k={style:{width:"55%"}},C={class:"artifact-substat"},A={class:"right"},j=["onUpdate:modelValue"],P=["value","disabled"],v={class:"right"},S=["onUpdate:modelValue","step"],R={key:1},N={class:"left-column",style:{width:"45%"}},W={key:0,class:"score"},T={class:"control"},I={key:0,type:"button"},L={key:0,class:"material-symbols-outlined",style:{color:"yellow"}},H={key:1,class:"material-symbols-outlined"},V={class:"with-tooltip"},U=["src","alt"],B={class:"tooltip"},K={class:"mainstat",style:{margin:"1px 0"}},x={style:{width:"55%"}},q={class:"artifact-substat"};function F(e,t,a,s,w,O){const F=(0,n.up)("ArtifactSetSelect");return(0,n.wg)(),(0,n.iD)("div",i,["editable"==e.control?((0,n.wg)(),(0,n.iD)("table",l,[(0,n._)("tr",null,[(0,n._)("td",c,[(0,n._)("div",u,[(0,n._)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.isEditing=!e.isEditing)},[e.isEditing?((0,n.wg)(),(0,n.iD)("span",m," edit_off ")):((0,n.wg)(),(0,n.iD)("span",_," edit "))])]),(0,n._)("div",p,[(0,n._)("img",{class:"artifact-icon",src:e.artifactImgSrc,alt:e.displayName(e.copiedArtifact.name),onClick:t[1]||(t[1]=t=>e.artifactIconOnClick())},null,8,d),(0,n._)("div",f,(0,r.zw)(e.displayName(e.copiedArtifact.name)),1)]),e.isEditing?((0,n.wg)(),(0,n.iD)("div",h,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.copiedArtifact.mainStat=t),onChange:t[3]||(t[3]=(...t)=>e.onChange&&e.onChange(...t))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.mainStatOptions,(t=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:t},(0,r.zw)(e.displayName(t)),9,g)))),128))],544),[[o.bM,e.copiedArtifact.mainStat]]),(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=t=>e.copiedArtifact.mainStatValue=t),step:e.statStep(e.copiedArtifact.mainStat),min:"0",onChange:t[5]||(t[5]=(...t)=>e.onChange&&e.onChange(...t))},null,40,y),[[o.nr,e.copiedArtifact.mainStatValue]])])):((0,n.wg)(),(0,n.iD)("div",E,(0,r.zw)(e.displayName(e.copiedArtifact.mainStat).replace(/%$/,"")+"+"+e.displayStatValue(e.copiedArtifact.mainStat,e.copiedArtifact.mainStatValue)),1)),e.isEditing?((0,n.wg)(),(0,n.iD)("div",b,[(0,n.wy)((0,n._)("select",{class:"star","onUpdate:modelValue":t[6]||(t[6]=t=>e.copiedArtifact.rarity=t),onChange:t[7]||(t[7]=(...t)=>e.starOnChange&&e.starOnChange(...t))},D,544),[[o.bM,e.copiedArtifact.rarity]])])):((0,n.wg)(),(0,n.iD)("div",M,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(new Array(e.copiedArtifact.rarity),(e=>((0,n.wg)(),(0,n.iD)("img",{class:"star",src:"images/star.png",key:e})))),128))]))]),(0,n._)("td",k,[(0,n._)("table",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.copiedArtifact.subStats,((a,s)=>((0,n.wg)(),(0,n.iD)("tr",{key:s},[e.isEditing?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("td",A,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e=>a.name=e,onChange:t[8]||(t[8]=(...t)=>e.onChange&&e.onChange(...t))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.subStatOptions,(t=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:t,disabled:e.subStatOptionDisabled(t,a.name)},(0,r.zw)(e.displayName(t)),9,P)))),128))],40,j),[[o.bM,a.name]])]),(0,n._)("td",v,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e=>a.value=e,step:e.statStep(a.name),min:"0",onChange:t[9]||(t[9]=(...t)=>e.onChange&&e.onChange(...t))},null,40,S),[[o.nr,a.value]])])],64)):((0,n.wg)(),(0,n.iD)("td",R,(0,r.zw)(e.displayName(a.name).replace(/%$/,"")+"+"+e.displayStatValue(a.name,a.value)),1))])))),128))])])])])):((0,n.wg)(),(0,n.iD)("table",{key:1,class:"artifact",onClick:t[10]||(t[10]=t=>e.selectOnClick())},[(0,n._)("tr",null,[(0,n._)("td",N,[e.score?((0,n.wg)(),(0,n.iD)("div",W,(0,r.zw)(Math.round(10*e.score)/10),1)):(0,n.kq)("",!0),(0,n._)("div",T,["selectable"==e.control?((0,n.wg)(),(0,n.iD)("button",I,[e.selected?((0,n.wg)(),(0,n.iD)("span",L," select_check_box ")):((0,n.wg)(),(0,n.iD)("span",H," check_box_outline_blank "))])):(0,n.kq)("",!0)]),(0,n._)("div",V,[(0,n._)("img",{class:"artifact-icon",src:e.artifactImgSrc,alt:e.displayName(e.copiedArtifact.name)},null,8,U),(0,n._)("div",B,(0,r.zw)(e.displayName(e.copiedArtifact.name)),1)]),(0,n._)("div",K,(0,r.zw)(e.displayName(e.copiedArtifact.mainStat).replace(/%$/,"")+"+"+e.displayStatValue(e.copiedArtifact.mainStat,e.copiedArtifact.mainStatValue)),1),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(new Array(e.copiedArtifact.rarity),(e=>((0,n.wg)(),(0,n.iD)("img",{class:"star",src:"images/star.png",key:e})))),128))])]),(0,n._)("td",x,[(0,n._)("table",q,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.copiedArtifact.subStats,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a},[(0,n._)("td",null,(0,r.zw)(e.displayName(t.name).replace(/%$/,"")+"+"+e.displayStatValue(t.name,t.value)),1)])))),128))])])])])),(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(F,{visible:!0,index:1,"artifact-set":e.artifact.setname,"artifact-set-masters":e.artifactSetMasters,cat_id:e.artifact.cat_id,"onUpdate:artifactSet":e.updateArtifactSet},null,8,["artifact-set","artifact-set-masters","cat_id","onUpdate:artifactSet"])],512),[[o.F8,e.isListShow]])])}var z=a(4806),$=a.n(z),Y=a(5983),G=a(2986),X=a(6125),Q=a(4870),Z=a(6552),J=a(5423),ee=(0,n.aZ)({name:"ArtifactItem",props:{artifact:{type:Object,required:!0},id:{type:Number},control:String,initial:Boolean,selected:Boolean,score:Number},components:{ArtifactSetSelect:J.Z},emits:["update:artifact","select:artifact"],setup(e,t){const{displayName:a,displayStatValue:r,percent:o}=(0,Z.Z)(),s=(0,Q.qj)($().cloneDeep(e.artifact)),i=(0,Q.qj)([G.zf,G.zf]),l=(0,Q.iH)(!1),c=(0,Q.iH)(!1),u=(0,Q.iH)(!1),m=(0,n.Fl)((()=>(0,X.Uk)(s.setname,s.cat_id))),_={1:Array.from(new Set(G.jq.map((e=>e.replace(/^\d_/,""))))),2:Array.from(new Set(G.YO.map((e=>e.replace(/^\d_/,""))))),3:Array.from(new Set(G.wn.map((e=>e.replace(/^\d_/,""))))),4:Array.from(new Set(G.i1.map((e=>e.replace(/^\d_/,""))))),5:Array.from(new Set(G.Mz.map((e=>e.replace(/^\d_/,"")))))},p=(0,n.Fl)((()=>_[s.cat_id])),d=(0,n.Fl)((()=>G.Hx)),f=e=>o(e)?.1:1,h=(e,t)=>{if(e==t)return!1;const a=s.subStats.map((e=>e.name));return a.includes(e)},g=()=>{t.emit("update:artifact",e.id,s)},y=()=>{s.rarity=Number(s.rarity)},E=()=>{l.value?u.value=!u.value:u.value=!1},b=()=>{"selectable"===e.control&&t.emit("select:artifact",e.id)},w=e=>{s.setname=e;const t=X.oN[e];s.rarity=t.レアリティ,"artifact_list"in t&&(s.name=t.artifact_list[s.cat_id-1]),u.value=!1,g()};function O(){void 0!==e.initial&&("editable"===e.control?l.value=e.initial:"selectable"===e.control&&(c.value=e.initial))}return O(),(0,n.YP)(e,((e,t)=>{(0,Y.fX)(s,e.artifact),e.initial!=t.initial&&O()})),{displayName:a,displayStatValue:r,copiedArtifact:s,artifactSetMasters:i,isEditing:l,isSelected:c,isListShow:u,artifactImgSrc:m,mainStatOptions:p,subStatOptions:d,subStatOptionDisabled:h,statStep:f,onChange:g,starOnChange:y,artifactIconOnClick:E,updateArtifactSet:w,selectOnClick:b}}}),te=a(89);const ae=(0,te.Z)(ee,[["render",F],["__scopeId","data-v-fe60a4d2"]]);var ne=ae},5423:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(3396),r=a(7139);const o={key:0},s={class:"title"},i={class:"description"},l={class:"select-list"},c=["src","alt","onClick"],u={class:"tooltip"};function m(e,t,a,m,_,p){return e.visible?((0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("table",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.artifactSetEffects,(t=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},[(0,n._)("tr",null,[(0,n._)("th",s,(0,r.zw)(e.displayName(t.key)),1)]),(0,n._)("tr",null,[(0,n._)("td",i,(0,r.zw)(t.value),1)])],64)))),128))]),(0,n._)("ul",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.filteredList,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"with-tooltip",key:t.key},[(0,n._)("img",{class:(0,r.C_)("artifact-set"+e.bgImageClass(t)+e.selectedClass(t)),src:e.getArtifactIconUrl(t.key,e.cat_id),alt:t.key,onClick:a=>e.$emit("update:artifact-set",t.key)},null,10,c),(0,n._)("div",u,(0,r.zw)(e.displayName(t.key)),1)])))),128))])])):(0,n.kq)("",!0)}a(560);var _=a(6125),p=a(4870),d=a(6552),f=(0,n.aZ)({name:"ArtifactSetSelect",props:{visible:{type:Boolean,required:!0},index:{type:Number,required:!0},artifactSet:{type:String,required:!0},artifactSetMasters:{type:Array,required:!0},cat_id:{type:Number}},emits:["update:artifact-set"],setup(e){const{displayName:t}=(0,d.Z)(),a=e=>" "+_.dr[e.レアリティ],r=t=>t.key==e.artifactSet?" selected":"",o=(0,p.qj)(e.artifactSetMasters),s=(0,n.Fl)((()=>_._j)),i=(0,n.Fl)((()=>{const e=[];return o.length>0&&("2セット効果"in o[0]&&e.push({key:o[0].key+" 2セット効果",value:o[0]["2セット効果"]?.説明}),o.length>1&&(o[0].key==o[1].key?"4セット効果"in o[0]&&e.push({key:o[0].key+" 4セット効果",value:o[0]["4セット効果"]?.説明}):"2セット効果"in o[1]&&e.push({key:o[1].key+" 2セット効果",value:o[1]["2セット効果"]?.説明}))),e}));return{displayName:t,getArtifactIconUrl:_.Uk,bgImageClass:a,selectedClass:r,filteredList:s,artifactSetEffects:i}}}),h=a(89);const g=(0,h.Z)(f,[["render",m],["__scopeId","data-v-91b28a50"]]);var y=g},4485:function(e,t,a){a.d(t,{Z:function(){return M}});var n=a(3396),r=a(9242),o=a(7139);const s={key:0},i={class:"select-list"},l=["onUpdate:modelValue","onChange"],c=["src","alt"],u={class:"select-list"},m=["onUpdate:modelValue","onChange"],_=["src","alt"],p={class:"select-list"},d=["src","alt","onClick"],f={class:"tooltip"},h=["src","alt"];function g(e,t,a,g,y,E){return e.visible?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("ul",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.elementList,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t},[(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.elementCheckList[t]=a,onChange:a=>e.checkListOnChange(t,e.elementCheckList)},null,40,l),[[r.e8,e.elementCheckList[t]]]),(0,n._)("img",{class:"filter",src:e.elementSrc(t),alt:t},null,8,c)])])))),128))]),(0,n._)("ul",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.weaponList,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t},[(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":a=>e.weaponCheckList[t]=a,onChange:a=>e.checkListOnChange(t,e.weaponCheckList)},null,40,m),[[r.e8,e.weaponCheckList[t]]]),(0,n._)("img",{class:"filter",src:e.weaponSrc(t),alt:t},null,8,_)])])))),128))]),(0,n._)("ul",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.filteredList,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"with-tooltip",key:t.key},[(0,n._)("img",{class:(0,o.C_)("character"+e.bgImageClass(t)+e.selectedClass(t)),src:t.icon_url,alt:t.key,onClick:a=>e.characterOnClick(t.key)},null,10,d),(0,n._)("div",f,(0,o.zw)(e.displayName(t.key)),1),(0,n._)("img",{class:"vision",src:e.visionSrc(t),alt:t.元素},null,8,h),(0,n.wy)((0,n._)("div",{class:"selection-number"},(0,o.zw)(e.selectionNumber(t.key)),513),[[r.F8,e.selectionNumber(t.key)]])])))),128))])])):(0,n.kq)("",!0)}a(560);var y=a(6125),E=a(4870),b=a(6552),w=(0,n.aZ)({name:"CharacterSelect",props:{character:{type:String},characters:{type:Array},visible:{type:Boolean,required:!0}},emits:["update:character","update:characters"],setup(e,t){const{displayName:a}=(0,b.Z)(),r=e=>y.GN[e.元素],o=e=>" "+y.dr[e.レアリティ],s=t=>e.character&&e.character==t.key||e.characters&&e.characters.includes(t.key)?" selected":"",i=Object.keys(y.GN),l=e=>y.GN[e],c=(0,E.qj)({});for(let n of i)c[n]=!1;const u=Object.keys(y.k9),m=e=>y.k9[e],_=(0,E.qj)({});for(let n of u)_[n]=!1;const p=function(e,t){t[e]&&Object.keys(t).filter((t=>t!=e)).forEach((e=>{t[e]=!1}))},d=(0,n.Fl)((()=>{const e=[],t=Object.keys(c).filter((e=>c[e])).length>0,a=Object.keys(_).filter((e=>_[e])).length>0;for(let n of y.qy)t&&!c[n.元素]||a&&!_[n.武器]||e.push(n);return e})),f=t=>{let a="";if(e.characters){const n=e.characters.indexOf(t);-1!=n&&(a=String(n+1))}return a},h=a=>{if(e.character&&t.emit("update:character",a),e.characters){const n=e.characters.map((e=>e)),r=e.characters.indexOf(a);if(-1!=r)n[r]="";else{const t=e.characters.indexOf("");-1!=t&&(n[t]=a)}t.emit("update:characters",n)}};return{displayName:a,visionSrc:r,bgImageClass:o,selectedClass:s,elementList:i,elementSrc:l,elementCheckList:c,weaponList:u,weaponSrc:m,weaponCheckList:_,checkListOnChange:p,filteredList:d,selectionNumber:f,characterOnClick:h}}}),O=a(89);const D=(0,O.Z)(w,[["render",g],["__scopeId","data-v-6b0e72ca"]]);var M=D},6552:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(2540),r=a(2986),o=a(3396),s=a(7853);function i(){const{t:e,te:t}=(0,s.QT)({useScope:"global"}),a=[{name:"日本語",value:"ja-jp"},{name:"English",value:"en-us"},{name:"简体中文",value:"zh-cn"},{name:"繁體中文",value:"zh-tw"},{name:"한국어",value:"ko-kr"},{name:"Deutsch",value:"de-de"},{name:"Español",value:"es-es"},{name:"Français",value:"fr-fr"},{name:"Indonesia",value:"id-id"},{name:"Português",value:"pt-pt"},{name:"Pусский",value:"ru-ru"},{name:"ภาษาไทย",value:"th-th"},{name:"Tiếng Việt",value:"vi-vn"}],i=function(e){n.Z.global.locale.value=e,l(e),document.querySelector("html")?.setAttribute("lang",e)},l=async function(e){if("ja-jp"!=e){const t=await fetch(`./locales/${e}.json`).then((e=>e.json()));n.Z.global.setLocaleMessage(e,t)}return(0,o.Y3)()},c=function(a){if(!a)return a;if("ja-jp"===n.Z.global.locale.value){let e=String(a);return["ダメージバフ","ダメージアップ","反応ボーナス","敵"].includes(e)||(e=e.replace(/ダメージバフ$/,"ダメージ"),e=e.replace(/ダメージアップ$/,"ダメージ"),e=e.replace("凍結反応ボーナス","凍結反応の継続時間"),e=e.replace(/反応ボーナス$/,"反応ダメージ"),e=e.replace(/^敵/,"敵の")),e}if(t(a))return e(a);const r=new RegExp("(.*?)([\\s_\\(\\)/]+)(.*)");let o="",s=a;while(s){const t=r.exec(s);if(!t){o+=e(s);break}t[1]&&(o+=e(t[1])),o+=t[2],s=t[3]}return o},u=function(e){const t=e.split(".");let a=t[0].replace(/V[1-3]$/,""),n=a.endsWith("%")||r.V6.includes(a);return n||["会心率","会心ダメージ","クールタイム","攻撃速度"].forEach((e=>{a.endsWith(e)&&(n=!0)})),n?"%":""},m=function(e){let t=e.replace(/V[1-3]$/,"");const a=t.split(".");return 1==a.length?(t=c(t),t=t.replace("ダメージ会心","ダメージの会心")):t="ja-jp"===n.Z.global.locale.value?a[a.length-1]+"の"+c(a[0]):c(a[a.length-1])+" "+c(a[0]),t},_=function(e,t,a){const n=u(e);let r=n?10:1;return a&&(r=Math.pow(10,a)),String(Math.round(t*r)/r)+n},p=function(e){let t=e;const a=e.split(".");return 1==a.length?(e=e.replace(/V\d$/,""),e=e.replace(/TOP$/,""),e.startsWith("敵")&&(e=e.replace(/^敵/,"")),e.endsWith("ダメージバフ")?e=e.replace(/ダメージバフ$/,""):e.endsWith("ダメージアップ")?e=e.replace(/ダメージアップ$/,""):e.endsWith("元素ダメージ")?e=e.replace(/元素ダメージ$/,""):e.endsWith("物理ダメージ")?e=e.replace(/ダメージ$/,""):e.endsWith("反応ボーナス")?e=e.replace(/反応ボーナス$/,""):e.endsWith("耐性")&&(e=e.replace(/耐性$/,"")),t=c(e)):t=m(e),t},d=function(e){return e.target instanceof HTMLInputElement||e.target instanceof HTMLSelectElement?e.target.value:void 0},f=function(e){return c(e.replace(/^required_/,""))};return{localeList:a,setI18nLanguage:i,loadLocaleMessages:l,displayName:c,displayStatName:m,displayStatValue:_,displayStatAbbrev:p,targetValue:d,displayOptionName:f,percent:u}}const l=i;var c=l},9991:function(e,t,a){a.d(t,{Z:function(){return A}});var n=a(3396),r=a(7139),o=a(9242);const s={class:"member"},i={class:"with-tooltip"},l=["src","alt"],c={class:"tooltip"},u=["src"],m=["src","alt"],_=["src","alt"],p={key:0,class:"stat-value"},d={key:1},f=["src"],h=["src"],g=["src"];function y(e,t,a,y,E,b){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",{class:"member-img",onDblclick:t[0]||(t[0]=(...t)=>e.characterOnDblclick&&e.characterOnDblclick(...t))},[(0,n._)("div",i,[(0,n._)("img",{class:(0,r.C_)("character"+e.characterImgClass),src:e.characterImgSrc,alt:e.displayName(e.member.name)},null,10,l),(0,n._)("span",c,(0,r.zw)(e.displayName(e.member.name)),1)]),(0,n._)("img",{class:"vision",src:e.visionImgSrc,alt:"vision"},null,8,u),(0,n.wy)((0,n._)("div",{class:"constellation"},(0,r.zw)(e.constellation),513),[[o.F8,e.constellation]]),e.member.tags[3]?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,r.C_)("tag tag-3"+e.tagColorClass(3))},(0,r.zw)(e.member.tags[3]),3)):(0,n.kq)("",!0),e.member.tags[2]?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,r.C_)("tag tag-2"+e.tagColorClass(2))},(0,r.zw)(e.member.tags[2]),3)):(0,n.kq)("",!0),e.member.tags[1]?((0,n.wg)(),(0,n.iD)("div",{key:2,class:(0,r.C_)("tag tag-1"+e.tagColorClass(1))},(0,r.zw)(e.member.tags[1]),3)):(0,n.kq)("",!0),e.member.tags[0]?((0,n.wg)(),(0,n.iD)("div",{key:3,class:(0,r.C_)("tag tag-0"+e.tagColorClass(0))},(0,r.zw)(e.member.tags[0]),3)):(0,n.kq)("",!0),e.member.replacements[0]?((0,n.wg)(),(0,n.iD)("img",{key:4,class:"replacement replacement-0",src:e.replaceImgSrc(0),alt:e.member.replacements[0]},null,8,m)):(0,n.kq)("",!0),e.member.replacements[1]?((0,n.wg)(),(0,n.iD)("img",{key:5,class:"replacement replacement-1",src:e.replaceImgSrc(1),alt:e.member.replacements[1]},null,8,_)):(0,n.kq)("",!0)],32),e.displayStat?((0,n.wg)(),(0,n.iD)("div",p,(0,r.zw)(e.statValue),1)):(0,n.kq)("",!0),e.showEquipment?((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("img",{class:"weapon",src:e.imgWeaponSrc,alt:"weapon"},null,8,f),(0,n._)("img",{class:"artifact-set",src:e.imgArtifactSetSrc(0),alt:"artifact-set"},null,8,h),(0,n._)("img",{class:"artifact-set",src:e.imgArtifactSetSrc(1),alt:"artifact-set"},null,8,g)])):(0,n.kq)("",!0)])}a(560);var E=a(4870),b=a(2986),w=a(6552),O=a(6125),D=a(9541),M=(0,n.aZ)({name:"MemberItem",props:{member:{type:Object,required:!0},displayStat:{type:String},showEquipment:{type:Boolean},statsObj:{type:Object},viewable:{type:Boolean},tags:{type:Array},members:{type:Array},elementalResonance:{type:Array}},setup(e){const{displayName:t,displayStatValue:a}=(0,w.Z)(),r=(0,E.iH)(0);(0,n.YP)(e,(()=>{r.value++}));const o=(0,n.Fl)((()=>e.member.name?O.bw[e.member.name]??void 0:void 0)),s=(0,n.Fl)((()=>o.value?.icon_url??O.bx)),i=(0,n.Fl)((()=>o.value?.レアリティ?" "+O.dr[String(o.value.レアリティ)]:"")),l=(0,n.Fl)((()=>o.value?.元素?O.GN[o.value.元素]:O.bx)),c=(0,n.Fl)((()=>u.value?u.value.命ノ星座:"")),u=(0,n.Fl)((()=>e.member.name&&e.member.buildname?(0,D.XY)(e.member.name,e.member.buildname):void 0)),m=(0,n.Fl)((()=>{let e;if(u.value){const t=u.value.武器;t&&o.value&&(e=O.Nd[o.value.武器][t])}return e})),_=(0,n.Fl)((()=>m.value?.icon_url??O.bx)),p=(0,n.Fl)((()=>m.value?.key??"")),d=(0,n.Fl)((()=>{r.value;let t="-";if(u.value){let n=e.displayStat;e.statsObj&&n&&("会心率/ダメージ"===n?(t=a("会心率",e.statsObj["会心率"]),t+="/",t+=a("会心ダメージ",e.statsObj["会心ダメージ"])):t=a(n,e.statsObj[n]))}return t})),f=(0,n.Fl)((()=>{const e=[];if(u.value)for(let t=0;t<2;t++){const a="聖遺物セット効果"+(t+1);let n=u.value[a]??"NONE";e.push(O.oN[n])}return e})),h=t=>{const a=t<e.member.replacements.length?e.member.replacements[t]:void 0;return a?O.bw[a].icon_url:O.bx},g=e=>f.value[e]?.image??O.bx,y=e=>f.value[e]?.key??"",M=t=>Object.keys(O.X9).map((e=>O.X9[e])).includes(e.member.tags[t].toLowerCase())?" "+e.member.tags[t].toLowerCase():"",k=()=>{e.viewable&&C()},C=()=>{const t=e.member;if(t?.name&&confirm("げんかるくで"+t.name+"を開きます。よろしいですか？")){const a=e.members?.filter((e=>e!=t.name));(0,b.Ac)(t.name,t.buildname,void 0,a),window.open("./","_blank")}};return{displayName:t,characterImgSrc:s,characterImgClass:i,visionImgSrc:l,constellation:c,replaceImgSrc:h,imgWeaponSrc:_,weaponName:p,imgArtifactSetSrc:g,artifactSetName:y,tagColorClass:M,statValue:d,characterOnDblclick:k}}}),k=a(89);const C=(0,k.Z)(M,[["render",y]]);var A=C},2384:function(e,t,a){a.d(t,{Z:function(){return L}});var n=a(3396),r=a(9242),o=a(7139);const s=e=>((0,n.dD)("data-v-7c066fb2"),e=e(),(0,n.Cn)(),e),i=s((()=>(0,n._)("hr",null,null,-1))),l=s((()=>(0,n._)("th",null,"Team Name",-1))),c=s((()=>(0,n._)("th",null,"Character Select Mode",-1))),u={colspan:"2",class:"character-select-mode"},m={key:0},_={key:1},p={class:"member-tags"},d={colspan:"2"},f=["onClick"],h={class:"members"},g={colspan:"2"},y={class:"buildname-select"},E=["value"],b=s((()=>(0,n._)("th",null,"Short Note",-1))),w={class:"team-tags"},O={colspan:"2"},D=["onClick"],M=s((()=>(0,n._)("th",null,"Tags",-1))),k={class:"buttons"};function C(e,t,a,s,C,A){const j=(0,n.up)("CharacterSelect"),P=(0,n.up)("MemberItem");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.characterSelectMode?((0,n.wg)(),(0,n.j4)(j,{key:1,visible:!0,characters:e.replacements,"onUpdate:characters":e.updateReplacements},null,8,["characters","onUpdate:characters"])):((0,n.wg)(),(0,n.j4)(j,{key:0,visible:!0,characters:e.characters,"onUpdate:characters":e.updateCharacters},null,8,["characters","onUpdate:characters"])),i,(0,n._)("table",null,[(0,n._)("tr",null,[l,(0,n._)("td",null,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.workTeam.name=t),type:"text",minlength:"1",maxlength:"16",placeholder:"INPUT TEAM NAME"},null,512),[[r.nr,e.workTeam.name]])])]),(0,n._)("tr",null,[c,(0,n._)("td",null,[(0,n._)("button",{class:"character-select-mode",onClick:t[1]||(t[1]=(...t)=>e.characterSelectModeOnClick&&e.characterSelectModeOnClick(...t))},(0,o.zw)(e.characterSelectMode?"REPLACEMENTS":"MEMBERS"),1)])]),(0,n._)("tr",null,[(0,n._)("td",u,[e.characterSelectMode?((0,n.wg)(),(0,n.iD)("span",_,(0,o.zw)(e.selectedMemberName()+"の代替キャラクターを選択して下さい"),1)):((0,n.wg)(),(0,n.iD)("span",m," チームメンバーを選択して下さい "))])]),(0,n._)("tr",p,[(0,n._)("td",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.MEMBER_TAG_LIST,(t=>((0,n.wg)(),(0,n.iD)("span",{class:(0,o.C_)("tag"+e.tagSelectedClass(t)),key:t,onClick:a=>e.tagOnClick(t)},(0,o.zw)(t),11,f)))),128))])]),(0,n._)("tr",h,[(0,n._)("td",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.workTeam.members,(t=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)("member"+e.memberSelectedClass(t.id)),key:t.id},[(0,n.Wm)(P,{member:t,onClick:a=>e.memberOnClick(t.id)},null,8,["member","onClick"])],2)))),128)),(0,n._)("div",y,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedMemberBuildname=t),onChange:t[3]||(t[3]=(...t)=>e.buildnameOnChange&&e.buildnameOnChange(...t))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.buildnames,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e,value:e},(0,o.zw)(e),9,E)))),128))],544),[[r.F8,e.buildnames.length],[r.bM,e.selectedMemberBuildname]])])])]),(0,n._)("tr",null,[b,(0,n._)("td",null,[(0,n.wy)((0,n._)("input",{class:"description","onUpdate:modelValue":t[4]||(t[4]=t=>e.workTeam.description=t),type:"text",maxlength:"40",placeholder:"INPUT NOTE"},null,512),[[r.nr,e.workTeam.description]])])]),(0,n._)("tr",w,[(0,n._)("td",O,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.workTeamTags,(t=>((0,n.wg)(),(0,n.iD)("span",{class:(0,o.C_)(e.teamTagSelected(t)?"tag selected":"tag"),key:t,onClick:a=>e.teamTagOnClick(t)},(0,o.zw)(t),11,D)))),128))])]),(0,n._)("tr",null,[M,(0,n._)("td",null,[(0,n.wy)((0,n._)("input",{class:"team-tags","onUpdate:modelValue":t[5]||(t[5]=t=>e.txtTeamTags=t),type:"text",maxlength:"40",placeholder:"INPUT TAGS",onChange:t[6]||(t[6]=(...t)=>e.txtTeamTagsOnChange&&e.txtTeamTagsOnChange(...t))},null,544),[[r.nr,e.txtTeamTags]])])])]),(0,n._)("div",k,[(0,n._)("button",{type:"button",onClick:t[7]||(t[7]=(...t)=>e.cancelOnClick&&e.cancelOnClick(...t))},"cancel"),(0,n._)("button",{type:"button",onClick:t[8]||(t[8]=(...t)=>e.okOnClick&&e.okOnClick(...t))},"ok")])],64)}a(560);var A=a(4806),j=a.n(A),P=a(4870),v=a(2986),S=a(4485),R=a(9541),N=a(9991),W=(0,n.aZ)({name:"TeamEditorModal",components:{CharacterSelect:S.Z,MemberItem:N.Z},props:{visible:{type:Boolean,required:!0},team:{type:Object,required:!0},teamTags:{type:Array}},emits:["click:cancel","click:ok"],setup(e,t){const a=(0,P.iH)(!1),r=(0,P.qj)({id:-1,name:"",members:[],description:"",rotation:[],rotationDescription:"",tags:[]}),o=(0,P.iH)(-1),s=["Main-DPS","Sub-DPS","Support","Carry","Driver","Enabler","Healer","Shielder","Battery","Free","Flex"],i=(0,P.iH)(""),l=(0,P.iH)(-1),c=(0,P.iH)(""),u=(0,P.qj)([]);function m(){r.id=e.team.id,r.name=e.team.name;const t=[];for(let a=0;a<e.team.members.length;a++)t.push({id:a,name:e.team.members[a].name,buildname:e.team.members[a].buildname,builddata:e.team.members[a].builddata,tags:j().cloneDeep(e.team.members[a].tags.filter((e=>s.includes(e)))),replacements:e.team.members[a].replacements?[...e.team.members[a].replacements]:[]});r.members.splice(0,r.members.length,...t),r.description=e.team.description,r.rotation=j().cloneDeep(e.team.rotation),r.tags=j().clone(e.team.tags)}m(),M(),(0,n.YP)(e,(e=>{e.team.members&&(m(),o.value>=0&&o.value<r.members.length&&(i.value=r.members[o.value].buildname)),e.teamTags&&u.splice(0,u.length,...e.teamTags),M(),a.value=!1}));const _=(0,n.Fl)((()=>r.members.map((e=>e.name)))),p=(0,n.Fl)((()=>{let e=[];if(o.value>=0&&o.value<r.members.length){const t=r.members[o.value];e=[...t.replacements];for(let a=e.length;a<2;a++)e.push("")}return e})),d=e=>{for(let t=0;t<e.length;t++)if(r.members[t].name!=e[t]&&(r.members[t].tags=[],r.members[t].replacements=[]),r.members[t].name=e[t],r.members[t].name){const e=(0,R.c1)(r.members[t].name).map((e=>(0,R.sE)(e)));e.length?(r.members[t].buildname&&e.includes(r.members[t].buildname)||(r.members[t].buildname=(0,v.K1)(r.members[t].name)),t==o.value&&(i.value=r.members[t].buildname)):r.members[t].buildname=void 0}},f=()=>{o.value>=0&&o.value<r.members.length&&r.members[o.value].name&&(a.value=!a.value)},h=e=>{if(o.value=e,o.value>=0&&o.value<r.members.length){const e=r.members[o.value];i.value=e.buildname,l.value=-1}a.value=!1},g=e=>e==o.value?" selected":"",y=()=>o.value>=0&&o.value<r.members.length?r.members[o.value].name:"",E=e=>{if(o.value<0||o.value>=r.members.length)return;const t=r.members[o.value];if(t&&t.name){const a=t.tags;a&&(a.includes(e)?a.splice(0,a.length,...a.filter((t=>t!=e))):a.push(e))}},b=e=>{let t=!1;if(o.value>=0||o.value<r.members.length){const a=r.members[o.value];a&&a.name&&(t=a.tags.includes(e))}return t?" selected":""},w=(0,n.Fl)((()=>{let e=[];if(o.value>=0&&o.value<r.members.length){const t=r.members[o.value],a=t.name;if(a){e=(0,R.c1)(a).map((e=>(0,R.sE)(e)));const t=(0,v.K1)(a);if(e.includes(t)){const a=e.filter((e=>e!=t)).sort();a.length&&(e=[t,...a])}}}return e})),O=()=>{if(o.value<0||o.value>=r.members.length)return;const e=r.members[o.value];e.buildname=i.value},D=e=>{const t=r.members[o.value];t.replacements=[...e]};function M(){c.value=r.tags.join(" ")}const k=()=>{let e=[];c.value&&(e=c.value.split(/\s+/).filter((e=>e))),r.tags=e},C=e=>r.tags.includes(e),A=e=>{C(e)?r.tags.splice(0,r.tags.length,...r.tags.filter((t=>t!=e))):r.tags.push(e),M()},S=()=>{t.emit("click:cancel")},N=()=>{t.emit("click:ok",r)};return{characterSelectMode:a,characters:_,replacements:p,MEMBER_TAG_LIST:s,characterSelectModeOnClick:f,selectedMemberId:o,selectedMemberName:y,tagOnClick:E,tagSelectedClass:b,workTeam:r,workTeamTags:u,txtTeamTags:c,txtTeamTagsOnChange:k,teamTagSelected:C,teamTagOnClick:A,memberOnClick:h,memberSelectedClass:g,selectedMemberBuildname:i,buildnames:w,buildnameOnChange:O,updateReplacements:D,updateCharacters:d,cancelOnClick:S,okOnClick:N}}}),T=a(89);const I=(0,T.Z)(W,[["render",C],["__scopeId","data-v-7c066fb2"]]);var L=I},7411:function(e,t,a){a.d(t,{Z:function(){return j}});var n=a(3396),r=a(7139);const o={class:"title"},s={class:"name"},i=(0,n._)("span",{class:"handle"},"◆",-1),l={class:"elemental-resonance"},c=["src"],u={class:"members"},m={key:0,class:"res"},_={key:1,class:"team-tags"},p={style:{"text-align":"left"}},d={class:"description"};function f(e,t,a,f,h,g){const y=(0,n.up)("MemberItem");return(0,n.wg)(),(0,n.iD)("div",{class:(0,r.C_)("team"+e.selectedClass)},[(0,n._)("div",o,[(0,n._)("label",s,[i,(0,n._)("span",null,(0,r.zw)(e.team.name),1),e.editable&&e.selected?((0,n.wg)(),(0,n.iD)("span",{key:0,class:"button material-symbols-outlined",onClick:t[0]||(t[0]=(...t)=>e.editOnClick&&e.editOnClick(...t))}," edit_square ")):(0,n.kq)("",!0)]),(0,n._)("div",l,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)([0,1,2,3],(t=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},[e.resonanceElementImgSrcs[t]?((0,n.wg)(),(0,n.iD)("img",{key:0,class:"elemental-resonance",src:e.resonanceElementImgSrcs[t],alt:"resonance"},null,8,c)):(0,n.kq)("",!0)],64)))),64))])]),(0,n._)("div",u,[(0,n._)("table",null,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.team.members,(t=>((0,n.wg)(),(0,n.iD)("td",{key:t.id},[(0,n.Wm)(y,{member:t,statsObj:e.memberStats[t.id],displayStat:e.displayStat,showEquipment:e.showEquipment,viewable:!0,members:e.team.members.map((e=>e.name)),elementalResonance:e.elementalResonance},null,8,["member","statsObj","displayStat","showEquipment","members","elementalResonance"])])))),128))])])]),e.displayRes?((0,n.wg)(),(0,n.iD)("table",m,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resKey,(t=>((0,n.wg)(),(0,n.iD)("td",{key:t,class:(0,r.C_)(e.resBgClass(t))},(0,r.zw)(e.res[t]),3)))),128))])])):(0,n.kq)("",!0),e.displayTags?((0,n.wg)(),(0,n.iD)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.team.tags,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"tag",key:e},(0,r.zw)(e),1)))),128))])):(0,n.kq)("",!0),(0,n._)("div",p,[(0,n._)("span",{class:"material-symbols-outlined control-button",onClick:t[1]||(t[1]=(...t)=>e.jumpToRotation&&e.jumpToRotation(...t))},"stat_minus_2"),(0,n._)("div",d,(0,r.zw)(e.description),1)])],2)}a(560);var h=a(4806),g=a.n(h),y=a(4870),E=a(8710),b=a(2986),w=a(6125),O=a(6552),D=a(9541),M=a(9991),k=(0,n.aZ)({name:"TeamItem",props:{team:{type:Object,required:!0},selected:{type:Boolean,requied:!0},editable:{type:Boolean},showEquipment:{type:Boolean},displayStat:{type:String},displayRes:{type:Boolean},displayTags:{type:Boolean},constellations:{type:Object}},emits:["click:edit","click:jump-to-rotation","update:member-result"],components:{MemberItem:M.Z},setup(e,t){const{displayName:a}=(0,O.Z)(),r=(0,y.qj)({}),o=(0,y.qj)({}),s=(0,y.qj)({}),i=["炎","水","風","雷","草","氷","岩","物理"];function l(){i.forEach((e=>{s[e]=0}))}l();const c=(0,y.iH)(0);(0,n.YP)(e,(async e=>{d(e.team),c.value++})),(0,n.bv)((()=>{d(e.team)}));const u=(0,n.Fl)((()=>(0,D.R7)(e.team))),m=(0,n.Fl)((()=>{const t=[];return u.value.forEach((a=>{if("元素共鳴なし"==a){const a=e.team.members.filter((e=>e.name));4==a.length&&a.forEach((e=>{const a=w.bw[e.name],n=w.GN[a.元素];t.push(n)}))}else{const e=w.GN[a.replace("元素共鳴","")];t.push(e),t.push(e)}})),t})),_=(0,n.Fl)((()=>e.team.description??"")),p=(0,n.Fl)((()=>e.selected?" selected":""));async function d(e){const a=[];for(const t of e.members)a.push({key:t.id,value:await(0,D.br)(t,e)});await Promise.all(a).then((e=>{e.forEach((e=>{r[e.key]=e.value?.statsInput?.statsObj,o[e.key]=e.value}))})),f(),h(),t.emit("update:member-result",e.id,o)}function f(){const e={};Object.keys(r).forEach((t=>{e[t]={}})),Object.keys(r).forEach((t=>{const a=o[t],n=a?.characterInput?.characterMaster,r=a?.characterInput?.weaponMaster;if(n&&n.チームバフ)for(const s of n.チームバフ){const n=(0,b.L0)(s,null,null,null,null);if(n.条件||!n.数値||!n.種類)continue;const r=(0,E.ns)(n.数値,a.statsInput.statsObj,a.damageResult,n.上限,n.下限),i=n.種類.replace(/V[1-3]$/,"");Object.keys(o).forEach((a=>{a!=t&&(i in e?e[a][i]+=r:e[a][i]=r)}))}if(r&&r.チームバフ)for(const s of r.チームバフ){const n=(0,b.L0)(s,null,null,null,null);if(n.条件||!n.数値||!n.種類)continue;const r=(0,E.ns)(n.数値,a.statsInput.statsObj,a.damageResult,n.上限,n.下限),i=n.種類.replace(/V[1-3]$/,"");Object.keys(o).forEach((a=>{a!=t&&(i in e?e[a][i]+=r:e[a][i]=r)}))}}));for(const t of Object.keys(r))if(t in e)for(const a of Object.keys(e[t]))r[t]&&(a in r[t]?r[t][a]+=e[t][a]:r[t][a]=e[t][a])}function h(){l();const t=[],a=[];Object.keys(o).forEach((n=>{const r=o[n],l=r?.characterInput?.characterMaster,c=r?.characterInput?.artifactSetMasters;if(l){if(l&&t.push(l.元素),l.元素スキル?.詳細)for(const e of l.元素スキル?.詳細)if(e.種類&&e.種類.startsWith("敵")&&e.種類.endsWith("耐性")&&e.数値){const t=e.種類.replace(/^敵/,"").replace(/元素耐性$/,"").replace(/耐性$/,"");let a=0;if(g().isNumber(e.数値))a=e.数値;else if(g().isPlainObject(e.数値)){const t=r.characterInput?.元素スキルレベル;t&&t in e.数値&&(a=e.数値[t])}"全"===t?i.filter((e=>"物理"!==e)).forEach((e=>{s[e]-=a})):s[t]-=a}if(l.元素爆発?.詳細)for(const e of l.元素爆発?.詳細)if(e.種類&&e.種類.startsWith("敵")&&e.種類.endsWith("耐性")&&e.数値){const t=e.種類.replace(/^敵/,"").replace(/元素耐性$/,"").replace(/耐性$/,"");let a=0;if(g().isNumber(e.数値))a=e.数値;else if(g().isPlainObject(e.数値)){const t=r.characterInput?.元素爆発レベル;t&&t in e.数値&&(a=e.数値[t])}"全"===t?i.filter((e=>"物理"!==e)).forEach((e=>{s[e]-=a})):s[t]-=a}if(l.固有天賦)for(const e of l.固有天賦)if(e.種類&&e.種類.startsWith("敵")&&e.種類.endsWith("耐性")&&e.数値){const t=e.種類.replace(/^敵/,"").replace(/元素耐性$/,"").replace(/耐性$/,"");let a=0;g().isNumber(e.数値)&&(a=e.数値),"全"===t?i.filter((e=>"物理"!==e)).forEach((e=>{s[e]-=a})):s[t]-=a}const a=r.characterInput?.命ノ星座??(e.constellations?e.constellations[l.名前]??0:0);if(l.命ノ星座)for(let e=1;e<=a;e++){const t=l.命ノ星座[String(e)];if(t.詳細)for(const e of t.詳細)if(e.種類&&e.種類.startsWith("敵")&&e.種類.endsWith("耐性")&&e.数値){const t=e.種類.replace(/^敵/,"").replace(/元素耐性$/,"").replace(/耐性$/,"");g().isNumber(e.数値)&&("全"===t?i.filter((e=>"物理"!==e)).forEach((t=>{s[t]-=e.数値})):s[t]-=e.数値)}}}c&&2==c.length&&c[0].key==c[1].key&&(a.includes(c[0].key)||(a.push(c[0].key),c[0]["4セット効果"]?.詳細&&c[0]["4セット効果"]?.詳細.forEach((e=>{if(e.種類.startsWith("敵")&&e.種類.endsWith("耐性")&&e.数値){const t=e.種類.replace(/^敵/,"").replace(/元素耐性$/,"").replace(/耐性$/,"");s[t]-=Number(e.数値)}}))))})),t.filter((e=>"岩"===e)).length>=2&&(s["岩"]-=-20),t.includes("雷")&&t.includes("氷")&&(s["物理"]-=-40),i.forEach((e=>{"物理"===e||t.includes(e)||(s[e]=0)}))}const M=e=>0!==s[e]?e in w.Cb?w.Cb[e]:"physical":"",k=()=>{t.emit("click:edit",e.team.id)},C=()=>{t.emit("click:jump-to-rotation")};return{displayName:a,selectedClass:p,memberStats:r,elementalResonance:u,resonanceElementImgSrcs:m,description:_,res:s,resKey:i,resBgClass:M,editOnClick:k,jumpToRotation:C}}}),C=a(89);const A=(0,C.Z)(k,[["render",f]]);var j=A},2305:function(e,t,a){a.d(t,{Z:function(){return Xt}});var n=a(3396),r=a(7139),o=a(9242);const s=e=>((0,n.dD)("data-v-99048d04"),e=e(),(0,n.Cn)(),e),i={key:0,class:"rotation-box"},l={class:"pane1"},c={class:"icon-list"},u={key:0},m={class:"action with-tooltip"},_=["src","alt","onClick"],p={class:"tooltip"},d={class:"action with-tooltip"},f=["src","alt","onClick"],h={class:"tooltip"},g={class:"action with-tooltip"},y=["src","alt","onClick"],E={class:"tooltip"},b={class:"control-button"},w=s((()=>(0,n._)("span",{class:"material-symbols-outlined"},"delete",-1))),O={key:0},D=["src","alt"],M={key:1,class:"action-attribute"},k={class:"rotation-list"},C={class:"rotation-item"},A=["src","alt"],j={class:"with-tooltip handle"},P=["src","alt","onClick"],v=["onClick"],S={class:"action-attribute"},R=s((()=>(0,n._)("br",null,null,-1))),N=s((()=>(0,n._)("br",null,null,-1))),W=s((()=>(0,n._)("br",null,null,-1))),T=s((()=>(0,n._)("br",null,null,-1))),I=(0,n.uE)('<br data-v-99048d04><table class="guide" data-v-99048d04><tr data-v-99048d04><th data-v-99048d04>N</th><td data-v-99048d04>通常攻撃1段</td><th data-v-99048d04>N2</th><td data-v-99048d04>通常攻撃2段</td><th data-v-99048d04>NX</th><td data-v-99048d04>通常攻撃X段</td></tr><tr data-v-99048d04><th data-v-99048d04>N1C</th><td data-v-99048d04>通常攻撃1段+重撃</td><th data-v-99048d04>N2C</th><td data-v-99048d04>通常攻撃2段+重撃</td><th data-v-99048d04>NXC</th><td data-v-99048d04>通常攻撃X段+重撃</td></tr><tr data-v-99048d04><th data-v-99048d04>C</th><td data-v-99048d04>重撃</td><td colspan="4" data-v-99048d04></td></tr><tr data-v-99048d04><th data-v-99048d04>P</th><td data-v-99048d04>落下攻撃</td><td colspan="4" data-v-99048d04></td></tr><tr data-v-99048d04><th data-v-99048d04>E</th><td data-v-99048d04>元素スキル</td><th data-v-99048d04>E.Press</th><td data-v-99048d04>元素スキル(一回押し)</td><th data-v-99048d04>E.Hold</th><td data-v-99048d04>元素スキル(長押し)</td></tr><tr data-v-99048d04><th data-v-99048d04>Q</th><td data-v-99048d04>元素爆発</td><td colspan="4" data-v-99048d04></td></tr></table>',2),L={key:0,class:"pane2"};function H(e,t,a,s,H,V){const U=(0,n.up)("draggable"),B=(0,n.up)("ERCalculator");return e.watchCount?((0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",l,[(0,n._)("fieldset",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.team.members,(t=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t.id},[t.name?((0,n.wg)(),(0,n.iD)("span",u,[(0,n._)("div",m,[(0,n._)("img",{class:(0,r.C_)("action-icon"+e.bgColorClass(t.name)),src:e.normalAttackIconSrc(t.name),alt:e.displayName(t.name)+" "+e.displayName("通常攻撃"),onClick:a=>e.listActionOnClick(t,"N")},null,10,_),(0,n._)("span",p,(0,r.zw)(e.displayName(t.name)+" "+e.displayName("通常攻撃")),1)]),(0,n._)("div",d,[(0,n._)("img",{class:(0,r.C_)("action-icon"+e.bgColorClass(t.name)),src:e.elementalSkillIconSrc(t.name),alt:e.displayName(t.name)+" "+e.displayName("元素スキル"),onClick:a=>e.listActionOnClick(t,"E")},null,10,f),(0,n._)("span",h,(0,r.zw)(e.displayName(t.name)+" "+e.displayName("元素スキル")),1)]),(0,n._)("div",g,[(0,n._)("img",{class:(0,r.C_)("action-icon"+e.bgColorClass(t.name)),src:e.elementalBurstIconSrc(t.name),alt:e.displayName(t.name)+" "+e.displayName("元素爆発"),onClick:a=>e.listActionOnClick(t,"Q")},null,10,y),(0,n._)("span",E,(0,r.zw)(e.displayName(t.name)+" "+e.displayName("元素爆発")),1)])])):(0,n.kq)("",!0)],64)))),128)),(0,n._)("table",b,[(0,n._)("tr",null,[(0,n._)("td",null,[(0,n._)("span",{class:"material-symbols-outlined control-button",onClick:t[0]||(t[0]=t=>e.$emit("click:jump-to-team"))},"stat_2")]),(0,n._)("td",null,[(0,n._)("label",{class:(0,r.C_)(e.removeMode?"checked":"")},[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.removeMode=t)},null,512),[[o.e8,e.removeMode]]),w],2)]),(0,n._)("td",null,[e.selectedAction?((0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("img",{class:(0,r.C_)("action-icon handle"+e.bgColorClass(e.selectedAction.member)),src:e.getActionDetail(e.selectedAction).icon_url,alt:e.displayName(e.getActionDetail(e.selectedAction).名前),onClick:t[2]||(t[2]=t=>e.selectedActionOnClick(e.selectedAction))},null,10,D)])):(0,n.kq)("",!0),e.selectedAction?((0,n.wg)(),(0,n.iD)("div",M,(0,r.zw)(e.actionDisplay(e.selectedAction)),1)):(0,n.kq)("",!0)])])])]),(0,n._)("fieldset",k,[(0,n.Wm)(U,{list:e.rotationList,"item-key":"id",sort:!0,handle:".handle",delay:100,animation:200,onChange:e.rotationListOnChange},{item:(0,n.w5)((({element:t})=>[(0,n._)("div",C,[e.previousRotation(t)?.member!=t.member?((0,n.wg)(),(0,n.iD)("img",{key:0,class:"character-icon",src:e.getCharacterMaster(t.member)?.icon_url??e.IMG_SRC_DUMMY,alt:e.displayName(t.member)},null,8,A)):(0,n.kq)("",!0),e.getActionDetail(t)?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,r.C_)("action-item "+e.colorClass(t.member))},[(0,n._)("div",j,[(0,n._)("img",{class:(0,r.C_)("action-icon"+e.bgColorClass(t.member)+e.selectedActionClass(t)),src:e.getActionDetail(t).icon_url,alt:e.displayName(e.getActionDetail(t).名前),onClick:a=>e.rotationActionOnClick(t)},null,10,P),e.removeMode?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"remove-mark",onClick:a=>e.removeItemOnClick(t)},null,8,v)):(0,n.kq)("",!0)]),(0,n._)("div",S,(0,r.zw)(e.actionDisplay(t)),1)],2)):(0,n.kq)("",!0)])])),_:1},8,["list","onChange"]),R,(0,n.wy)((0,n._)("textarea",{class:"rotation-description","onUpdate:modelValue":t[3]||(t[3]=t=>e.rotationDescription=t),rows:"10",maxlength:"400",onChange:t[4]||(t[4]=(...t)=>e.updateRotation&&e.updateRotation(...t))},null,544),[[o.nr,e.rotationDescription]])]),N,(0,n.Uk)(),W,T,(0,n.Uk)(),I]),((0,n.wg)(),(0,n.iD)("div",L,[(0,n.Wm)(B,{team:e.team,rotationList:e.rotationList,teamMemberResult:e.teamMemberResult,constellations:e.constellations},null,8,["team","rotationList","teamMemberResult","constellations"])]))])):(0,n.kq)("",!0)}a(560);var V=a(4806),U=a.n(V),B=a(6983),K=a.n(B),x=a(4870),q=a(6125),F=a(9098),z=a(6552),$=a(9541);const Y=e=>((0,n.dD)("data-v-109f95d0"),e=e(),(0,n.Cn)(),e),G={class:"er-calculator"},X={class:"er-calculator"},Q=Y((()=>(0,n._)("th",{colspan:"2"},null,-1))),Z={class:"with-tooltip"},J=["src","alt"],ee={class:"tooltip"},te={colspan:"2"},ae=["onUpdate:modelValue"],ne={colspan:"2"},re=["onUpdate:modelValue"],oe=["value"],se={colspan:"2"},ie=["src","alt"],le=["onUpdate:modelValue"],ce=["value"],ue={class:"result-row"},me={colspan:"2"},_e={colspan:"2"},pe=["onUpdate:modelValue"],de={class:"label-row"},fe={colspan:"2"},he={colspan:"4"},ge=["onUpdate:modelValue"],ye={class:"with-tooltip"},Ee=["src","alt"],be=["src","alt"],we={class:"tooltip"},Oe=["onUpdate:modelValue"],De={colspan:"2"},Me={key:0,class:"label-row"},ke={colspan:"2"},Ce={colspan:"4"},Ae={colspan:"2",class:"with-tooltip"},je=["src","alt"],Pe=["src","alt"],ve={class:"tooltip"},Se=["onUpdate:modelValue"],Re={colspan:"2"},Ne=["onUpdate:modelValue"],We={colspan:"2"},Te=["src","alt","onClick"],Ie={class:"tooltip"},Le=Y((()=>(0,n._)("br",null,null,-1))),He={class:"supply-from-enemy"},Ve=Y((()=>(0,n._)("th",null,null,-1))),Ue=["onUpdate:modelValue"],Be=["onUpdate:modelValue"],Ke={class:"message-area"},xe=Y((()=>(0,n._)("hr",null,null,-1))),qe={class:"character"},Fe={key:0},ze={class:"message-area"},$e={class:"toggle-switch",for:"show-usage-toggle"},Ye={style:{"text-align":"left"}},Ge={style:{"text-align":"center"}},Xe=Y((()=>(0,n._)("ol",null,[(0,n._)("li",null,"元素チャージ効率が変動するタイプの天賦や命ノ星座は考慮しません。 "),(0,n._)("li",null,"HP等ステータスの現在値を条件にして発動するタイプの天賦や命ノ星座は無視するか、最小の発動回数で計算します。"),(0,n._)("li",null,"敵の数は1。"),(0,n._)("li",null,[(0,n.Uk)("天賦および命ノ星座によって獲得できる元素エネルギーを計算する際に、キャラクターの天賦レベルやステータスを参照する場合、キャラクターのステータス、天賦レベル、武器、聖遺物はげんかるくのセーブデータを使用します。 セーブデータが存在しない場合は、天賦レベル8、武器と聖遺物なしのステータスで計算します。"),(0,n._)("br")])],-1))),Qe={style:{"text-align":"center"}},Ze=(0,n.uE)("<li data-v-109f95d0>ローテーションの長さ<br data-v-109f95d0> ローテーションに存在する元素スキルのクールタイムまたは元素爆発のクールタイムから決定します。 元素スキルの発動回数は考慮しませんが、元素爆発の方は発動回数に応じて加算します。 初期値は20秒。 </li><li data-v-109f95d0>出場時間<br data-v-109f95d0> ローテーションの内容から大雑把に計算して割り当てます。 キャラクター毎アクション毎の所要時間のデータを持たないため、正確ではありません。 </li><li data-v-109f95d0>大部分のキャラクターの元素スキル<br data-v-109f95d0> 元素スキル命中時に元素粒子が発生するタイプの元素スキルは、直後のアクション実行者が元素粒子を獲得します。 </li><li data-v-109f95d0>胡桃、宵宮、神里綾人、放浪者 等の元素スキル<br data-v-109f95d0> 元素スキル使用時に元素粒子が発生せず、その後の通常攻撃または重撃命中時に元素粒子が発生するタイプの元素スキルは、継続時間一杯攻撃した場合に発生するであろう数の元素粒子を実行者自身が獲得します。 </li><li data-v-109f95d0>フィッシュル、鍾離、アルベド、八重神子 等の元素スキル<br data-v-109f95d0> 存在時間の長い設置物からの攻撃命中時に元素粒子が発生するタイプの元素スキルは、ローテーションまたは継続時間の間ずっと攻撃し続けた場合に発生するであろう数の元素粒子を出場時間を基準に全員に按分します。 また、設置系でない雷電将軍とナヒーダも同様の扱いとします。 </li><li data-v-109f95d0>アンバー、香菱、モナ、甘雨 等の元素スキル<br data-v-109f95d0> 存在時間の短い設置物からの攻撃命中または設置物が破壊された時に元素粒子が発生するタイプの元素スキルについても同様に出場時間を基準に全員に按分するが、存在時間の短さから実戦との乖離が大きくなります。(妥協) </li><li data-v-109f95d0>雷元素共鳴が生成する元素粒子<br data-v-109f95d0> ローテーションの間クールタイムの5秒間隔で雷元素関連反応が起き続けた場合に発生するであろう数の元素粒子を出場時間を基準に全員に按分します。 チーム内に対象となる元素反応を起こせる元素のキャラクターが存在しない場合は0。 </li><li data-v-109f95d0>西風武器が生成する元素粒子<br data-v-109f95d0> 使用者の出場回数および出場時間(%)、ローテーションの長さから武器効果をトリガーする回数を決定します。 トリガー回数はローテーションの長さを武器効果のクールタイムで割った数までとします。 元素粒子は基本的に装備者が獲得するが、装備者が1アクションだけで退場する場合は次のアクション実行者が獲得します。 </li><li data-v-109f95d0>通常攻撃、重撃命中時に獲得する元素エネルギー<br data-v-109f95d0> 通常攻撃または重撃の回数に応じて元素エネルギーを獲得します。 元素エネルギーを獲得する攻撃回数は武器タイプ毎に異なります。 </li>",9),Je=Y((()=>(0,n._)("li",null,[(0,n.Uk)("以下、それぞれの条件で元素粒子の生成数を固定しています。 "),(0,n._)("ul",null,[(0,n._)("li",null,"タルタリヤ : 双剣モード9秒程度"),(0,n._)("li",null,"鹿野院平蔵 : 変格4(正論)"),(0,n._)("li",null,"アルハイゼン : 光幕攻撃6回"),(0,n._)("li",null,"フレミネ : 圧力ランク3以下")])],-1)));function et(e,t,a,s,i,l){return(0,n.wg)(),(0,n.iD)("div",G,[(0,n._)("div",null,[(0,n._)("label",null,[(0,n.Uk)((0,r.zw)(e.displayName("ローテーションの長さ(秒)"))+" ",1),(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=t=>e.rotationLength=t),min:"10",max:"180",onChange:t[1]||(t[1]=(...t)=>e.inputOnChange&&e.inputOnChange(...t))},null,544),[[o.nr,e.rotationLength]])])]),(0,n._)("table",X,[(0,n._)("tr",null,[Q,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.calculatorInput,((t,a)=>((0,n.wg)(),(0,n.iD)("td",{key:a,class:(0,r.C_)(e.bgColorClass(a))},[(0,n._)("div",Z,[(0,n._)("img",{src:e.characterImgSrc(t.character),alt:e.displayName(t.character),class:"character"},null,8,J),(0,n._)("span",ee,(0,r.zw)(e.displayName(t.character)),1)])],2)))),128))]),(0,n._)("tr",null,[(0,n._)("th",te,(0,r.zw)(e.displayName("元素爆発")),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.calculatorInput,((t,a)=>((0,n.wg)(),(0,n.iD)("td",{key:a,class:(0,r.C_)(e.bgColorClass(a))},[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e=>t.energyCost=e},null,8,ae),[[o.nr,t.energyCost]])],2)))),128))]),(0,n._)("tr",null,[(0,n._)("th",ne,(0,r.zw)(e.displayName("命ノ星座")),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.calculatorInput,((a,s)=>((0,n.wg)(),(0,n.iD)("td",{key:s,class:(0,r.C_)(e.bgColorClass(s))},[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e=>a.constellation=e,onChange:t[2]||(t[2]=(...t)=>e.inputOnChange&&e.inputOnChange(...t))},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)([0,1,2,3,4,5,6],(e=>(0,n._)("option",{key:e,value:e},(0,r.zw)("C"+e),9,oe))),64))],40,re),[[o.bM,a.constellation]])],2)))),128))]),(0,n._)("tr",null,[(0,n._)("th",se,(0,r.zw)(e.displayName("武器")),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.calculatorInput,((a,s)=>((0,n.wg)(),(0,n.iD)("td",{key:s,class:(0,r.C_)("weapon"+e.bgColorClass(s))},[(0,n._)("img",{src:e.weaponImgSrc(a.character,a.currentWeapon),alt:e.displayName(a.currentWeapon),class:"input-item-weapon"},null,8,ie),(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e=>a.weaponRefine=e,onChange:t[3]||(t[3]=(...t)=>e.inputOnChange&&e.inputOnChange(...t))},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)([1,2,3,4,5],(e=>(0,n._)("option",{key:e,value:e},(0,r.zw)("R"+e),9,ce))),64))],40,le),[[o.bM,a.weaponRefine]])],2)))),128))]),(0,n._)("tr",ue,[(0,n._)("th",me,(0,r.zw)(e.displayName("元素チャージ効率")),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.energyRechargeGls,((t,a)=>((0,n.wg)(),(0,n.iD)("td",{key:a,class:(0,r.C_)(e.bgColorClass(a))},(0,r.zw)(t+"%"),3)))),128))]),(0,n._)("tr",null,[(0,n._)("th",_e,(0,r.zw)(e.displayName("出場時間(%)")),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.calculatorInput,((a,s)=>((0,n.wg)(),(0,n.iD)("td",{key:s,class:(0,r.C_)(e.bgColorClass(s))},[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e=>a.onField=e,min:"0",max:"100",onChange:t[4]||(t[4]=(...t)=>e.inputOnChange&&e.inputOnChange(...t))},null,40,pe),[[o.nr,a.onField]])],2)))),128))]),(0,n._)("tr",de,[(0,n._)("th",fe,(0,r.zw)(e.displayName("元素粒子")),1),(0,n._)("th",he,(0,r.zw)(e.displayName("獲得数")),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.inputRowParticleEnemy,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a,class:(0,r.C_)(e.bgColorClass2(t))},[(0,n._)("th",null,(0,r.zw)(e.displayName("敵")),1),(0,n._)("td",null,(0,r.zw)(Math.round(10*t.currentValues.reduce(((e,t)=>e+t),0))/10),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Array.from({length:t.currentValues.length},((e,t)=>t)),(e=>((0,n.wg)(),(0,n.iD)("td",{key:e},[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a=>t.currentValues[e]=a,min:"0"},null,8,ge),[[o.nr,t.currentValues[e]]])])))),128))],2)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.inputRowParticle,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a,class:(0,r.C_)(e.bgColorClass2(t))},[(0,n._)("th",ye,[(0,n._)("span",null,[(0,n._)("img",{src:e.rowImgSrc1(t),alt:e.displayName(t.character),class:(0,r.C_)(e.rowImgSrc1Class(t))},null,10,Ee),(0,n._)("img",{src:e.rowImgSrc2(t),alt:e.displayName(t.triggerName),class:"input-item"},null,8,be)]),(0,n._)("span",we,(0,r.zw)(e.displayName(t.character)+" "+e.displayName(e.triggerName(t))),1)]),(0,n._)("td",null,(0,r.zw)(Math.round(100*t.currentValues.reduce(((e,t)=>e+t),0))/100),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Array.from({length:t.currentValues.length},((e,t)=>t)),(e=>((0,n.wg)(),(0,n.iD)("td",{key:e},[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a=>t.currentValues[e]=a,min:"0"},null,8,Oe),[[o.nr,t.currentValues[e]]])])))),128))],2)))),128)),(0,n._)("tr",null,[(0,n._)("th",De,(0,r.zw)(e.displayName("元素チャージ")),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.particleRecharges,((e,t)=>((0,n.wg)(),(0,n.iD)("td",{key:t,class:"result"},(0,r.zw)(e),1)))),128))]),e.inputRowEnergy.length?((0,n.wg)(),(0,n.iD)("tr",Me,[(0,n._)("th",ke,(0,r.zw)(e.displayName("元素エネルギー")),1),(0,n._)("th",Ce,(0,r.zw)(e.displayName("獲得量")),1)])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.inputRowEnergy,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a,class:(0,r.C_)(e.bgColorClass2(t))},[(0,n._)("th",Ae,[(0,n._)("span",null,[(0,n._)("img",{src:e.rowImgSrc1(t),alt:e.displayName(t.character),class:(0,r.C_)(e.rowImgSrc1Class(t))},null,10,je),(0,n._)("img",{src:e.rowImgSrc2(t),alt:e.displayName(t.triggerName),class:"input-item"},null,8,Pe)]),(0,n._)("span",ve,(0,r.zw)(e.displayName(t.character)+" "+e.displayName(e.triggerName(t))),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Array.from({length:t.currentValues.length},((e,t)=>t)),(e=>((0,n.wg)(),(0,n.iD)("td",{key:e},[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a=>t.currentValues[e]=a,min:"0"},null,8,Se),[[o.nr,t.currentValues[e]]])])))),128))],2)))),128)),(0,n._)("tr",null,[(0,n._)("th",Re,(0,r.zw)(e.displayName("元素爆発(回数)")),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Array.from({length:e.calculatorInput.length},((e,t)=>t)),(t=>((0,n.wg)(),(0,n.iD)("td",{key:t,class:(0,r.C_)(e.bgColorClass(t))},[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a=>e.burstCounts[t]=a,min:"0"},null,8,Ne),[[o.nr,e.burstCounts[t]]])],2)))),128))]),(0,n._)("tr",null,[(0,n._)("th",We,(0,r.zw)(e.displayName("武器変更")),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.calculatorInput,((t,a)=>((0,n.wg)(),(0,n.iD)("td",{key:a,class:(0,r.C_)(e.bgColorClass(a))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.replaceWeapons,((a,o)=>((0,n.wg)(),(0,n.iD)("span",{key:o,class:"with-tooltip"},[(0,n._)("img",{src:e.replaceWeaponImgSrc(t,a),alt:e.displayName(a),class:(0,r.C_)("input-item-weapon"+e.replaceWeaponClass(t,a)),onClick:n=>e.replaceWeaponOnClick(t,a)},null,10,Te),(0,n._)("span",Ie,(0,r.zw)(e.displayName(a)),1)])))),128))],2)))),128))])]),Le,(0,n._)("div",null,[(0,n._)("label",null,[(0,n.Uk)((0,r.zw)(e.displayName("戦闘の長さ(秒)"))+" ",1),(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=t=>e.combatLength=t),min:"1",onChange:t[6]||(t[6]=(...t)=>e.inputOnChange&&e.inputOnChange(...t))},null,544),[[o.nr,e.combatLength]])]),(0,n._)("table",He,[(0,n._)("caption",{onClick:t[7]||(t[7]=t=>e.isOpenSupplyFromEnemy=!e.isOpenSupplyFromEnemy)},(0,r.zw)(e.isOpenSupplyFromEnemy?"-":"+")+" "+(0,r.zw)(e.displayName("敵"))+" "+(0,r.zw)(e.isOpenSupplyFromEnemy?"-":"+"),1),(0,n._)("tr",null,[Ve,(0,n._)("th",null,(0,r.zw)(e.displayName("元素オーブ")),1),(0,n._)("th",null,(0,r.zw)(e.displayName("元素粒子")),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.supplyFromEnemy,((t,a)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("tr",{key:a},[(0,n._)("th",null,(0,r.zw)(e.displayName(t[0])),1),(0,n._)("td",null,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e=>t[1]=e,min:"0"},null,8,Ue),[[o.nr,t[1]]])]),(0,n._)("td",null,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e=>t[2]=e,min:"0"},null,8,Be),[[o.nr,t[2]]])])])),[[o.F8,e.isOpenSupplyFromEnemy||t[1]||t[2]]]))),128))])]),(0,n._)("div",Ke,[xe,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.messages,((e,t)=>((0,n.wg)(),(0,n.iD)("p",{key:t},[(0,n._)("span",qe,(0,r.zw)(e[0]),1),(0,n.Uk)("   "),(0,n._)("span",null,(0,r.zw)(e[1]),1),e[0]||e[1]?((0,n.wg)(),(0,n.iD)("br",Fe)):(0,n.kq)("",!0),(0,n.Uk)("   "+(0,r.zw)(e[2]),1)])))),128))]),(0,n._)("div",ze,[(0,n._)("fieldset",null,[(0,n._)("legend",null,[(0,n.wy)((0,n._)("input",{class:"hidden",type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=t=>e.isShowUsage=t),id:"show-usage-toggle"},null,512),[[o.e8,e.isShowUsage]]),(0,n._)("label",$e,(0,r.zw)(e.displayName("元素チャージ効率計算機能について")),1)]),(0,n.wy)((0,n._)("div",Ye,[(0,n._)("div",Ge,(0,r.zw)(e.displayName("前提")),1),Xe,(0,n._)("div",Qe,(0,r.zw)(e.displayName("ローテーションの読み方")),1),(0,n._)("ol",null,[Ze,(0,n._)("li",null,[(0,n.Uk)("以下、元素爆発の実行から退場するまでの間、元素スキルの元素粒子生成数を変更します。 再出場時に元の生成数に戻ります。 "),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.CHARACTER_E_DECREMENT_IN_BURST,((t,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a},(0,r.zw)(e.displayName(t)),1)))),128))])]),(0,n._)("li",null,[(0,n.Uk)("以下、元素スキルの実行から特定のアクションを実行するまでを1回の元素スキルとみなします。 "),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.CHARACTER_E_UNTIL_MAP.entries(),(([t,a],o)=>((0,n.wg)(),(0,n.iD)("li",{key:o},(0,r.zw)(e.displayName(t)+" : "+e.actionName("E")+"⇒"+Array.from(a.entries()).map((t=>t[0].map((t=>e.actionName(t))).join(e.displayName("または"))+"×"+t[1]+e.displayName("回"))).join(e.displayName("または"))),1)))),128))])]),(0,n._)("li",null,[(0,n.Uk)("以下、元素スキルの実行後に特定のアクションを実行すると元素粒子を生成したとみなします。 "),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.CHARACTER_E_DELAY_MAP.entries(),(([t,a],o)=>((0,n.wg)(),(0,n.iD)("li",{key:o},(0,r.zw)(e.displayName(t)+" : "+e.actionName("E")+"⇒"+a.map((t=>e.actionName(t))).join(e.displayName("または"))),1)))),128))])]),(0,n._)("li",null,[(0,n.Uk)("以下、元素爆発の直前の元素スキルの元素粒子生成数を0に変更します。 "),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.CHARACTER_Q_NOT_RECHARGEABLE,((t,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a},(0,r.zw)(e.displayName(t)),1)))),128))])]),Je])],512),[[o.F8,e.isShowUsage]])])])])}const tt="01",at="02",nt="03",rt="04",ot="05",st="06",it="07",lt="11",ct="13",ut="14",mt="16",_t="18",pt="19",dt={"片手剣":4.52,"両手剣":4.66,"長柄武器":6.95,"弓":6.29,"法器":4.66},ft={"片手剣":.4,"両手剣":.8,"長柄武器":.4,"弓":.6,"法器":.6},ht=new Map;function gt(e){return!!e&&e.startsWith("0")}function yt(e){return!!e&&e.startsWith("1")}function Et(e,t,a){let n=0;if(!t?.length)return 1;if(e&&void 0!==a){let r=!1;for(let o=0;o<t.length;o++){const s=t[o];s.member==e?"Q"===s.action?r=!0:s.action.startsWith("N")&&a==r&&(n+=1===s.action.length?1:Number(s.action.substring(1,2))):r=!1}}else n=t.filter((t=>(!e||t.member==e)&&t.action.startsWith("N"))).map((e=>1===e.action.length?1:Number(e.action.substring(1,2)))).reduce(((e,t)=>e+t),0);return n}function bt(e,t,a){let n=0;if(!t?.length)return 1;if(e&&void 0!==a){let e=!1;for(let r=0;r<t.length;r++){const o=t[r];"Q"===o.action?e=!0:o.action.includes("C")&&a==e&&n++}}else n=t.filter((t=>(!e||t.member==e)&&t.action.includes("C"))).length;return n}function wt(e,t,a){let n=0;if(!t?.length)return 1;if(e&&void 0!==a){let e=!1;for(let r=0;r<t.length;r++){const o=t[r];"Q"===o.action?e=!0:o.action.includes("P")&&a==e&&n++}}else n=t.filter((t=>(!e||t.member==e)&&t.action.includes("P"))).length;return n}function Ot(e,t,a="E",n){let r=0;if(t?.length)if(e){let o,s=!1;for(let i=0;i<t.length;i++){const l=t[i];if(l.member==e){if(o&&o.size>0){for(const[e,t]of o.entries())if(e.filter((e=>-1!=l.action.indexOf(e))).length){let a=t;a&&(a-=l.action.startsWith("N")?1===l.action.length?1:Number(l.action.substring(1,2)):1,a>0?o.set(e,a):o.clear())}}else if("Q"===l.action)s=!0;else if(l.action.startsWith(a)){const t=F.EW.get(e);t&&t.size>0&&(o=U().cloneDeep(t)),r+=void 0===n||n==s?1:0}}else s=!1}}else r=t.filter((t=>(!e||t.member==e)&&t.action.startsWith(a))).length;else r=1;return r}function Dt(e,t){return t?.length?t.filter((t=>(!e||t.member==e)&&"Q"===t.action)).length:1}function Mt(e,t,a,n){const r=U().fill(Array($.n7),0),o=e.members.map((e=>e.name)),s=e.members.map((e=>e.name?(0,$.NC)(e.name):0));if(a?.length){const e=U().fill(Array($.n7),0);let i,l=0,c=!1;for(let t=0;t<a.length;t++){const r=a[t];i&&r.member!=i.member&&(e[o.indexOf(i.member)]+=l>1?l:1,l=0,c=!1),i=r;const u=ht.get(r.member);if(u){const e=u.get(r.action);if(void 0!==e){l+=e;continue}}const m=(0,$.qQ)(r.member);if("Q"===r.action)l+=.8,m?.レアリティ&&5===m.レアリティ&&(l+=.4);else if("E.Hold"===r.action)l+=1;else if(["E","E.Press"].includes(r.action)){l+=.5;const e=(0,F.Xe)(r.member,r.action,n[o.indexOf(r.member)]),t=(0,F.ic)(e);(0,F.u7)(e)===F.DA&&t&&(l+=t,c=!0)}else if(!c)if(r.action.startsWith("N")){const e=s[o.indexOf(i.member)],t=1===r.action.length?1:Number(r.action.substring(1,2));if(m?.武器){const a=ft[m.武器];for(let n=0;n<t;n++)l+=n/e<2/3?.8*a:1.2*a}else l+=.6*t;r.action.endsWith("C")&&(l+=.5),l+=.3}else"C"==r.action?l+="両手剣"===m?.武器?3:"弓"===m?.武器?1.5:1:"P"==r.action&&(l+=1.5)}i&&l>0&&(e[o.indexOf(i.member)]+=l>1?l:1);const u=Math.ceil(100/t),m=U().sum(e);for(let t=0;t<r.length;t++)m&&t<e.length?r[t]=Math.ceil(e[t]/m*100/u)*u:r[t]=25;const _=U().sum(r);if(_>100){const e=U().max(r);for(let t=0;t<r.length;t++)if(r[t]==e){r[t]-=_-100;break}}}else{const e=o.filter((e=>e)).length;if(e){const t=100/e;for(let e=0;e<r.length;e++)o[e]&&(r[e]=t)}}return r}function kt(e,t,a){let n=(0,$.V5)();if(a){const r=t.filter((t=>t.name==e));r.length&&(n=a[r[0].id])}else{const t=(0,$._t)(e);t?.ステータス&&Object.keys(t.ステータス).forEach((e=>{n.statsInput.statsObj[e]+=t.ステータス[e]["90"]}))}return n}function Ct(e,t,a,n){return kt(e,t,n).characterInput[a]}function At(e,t,a,n){return kt(e,t,n).statsInput.statsObj[a]}ht.set("楓原万葉",new Map([["E.Press",1.5],["E.Hold",2]])),ht.set("荒瀧一斗",new Map([["C",.8]])),ht.set("ヌヴィレット",new Map([["C",3]])),ht.set("シャルロット",new Map([["E.Hold",2]]));const jt={"旅人(岩)":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["岩潮幾重が引き起こす振動波が敵に命中する度に、元素エネルギーが5回復する。この方法で一回で最大25まで回復可能。"],a=5*Dt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"旅人(雷)":(e,t,a,n,r,o)=>{const s=[],i=["豊穰の勾玉 ・元素エネルギーが回復する。","旅人自身の元素チャージ効率の10%を基準に、雷影剣が生成した豊穰の勾玉による元素チャージ効率をアップする。"],l=4;t>=l&&i.push("キャラクターが雷影剣で生成した豊穰の勾玉を獲得した時、該当キャラクターの元素エネルギーが35%未満の場合、豊穰の勾玉で回復できる元素エネルギー+100%。");const c=Ct(e,a,"元素スキルレベル",o),u=At(e,a,"元素チャージ効率",o),m=[3,3,3,3.5,3.5,3.5,4,4,4,4,4,4,4,4,4][c-1]*(100+u/10)/100,_=0,p=0,d=U().fill(Array($.n7),0);s.push([tt,"",m,_,p,d,i]);const f=["身に纏う雷霆 出場している自身のキャラクターの通常攻撃または重撃が敵に命中すると、威光の落雷が発動し、敵に雷元素ダメージを与える。威光の落雷が敵に命中すると、該当キャラクターの元素エネルギーを回復する。威光の落雷の発生は0.5秒毎に1回のみ可能。"],h=Ct(e,a,"元素爆発レベル",o),g=[.8,.8,.8,.9,.9,.9,1,1,1,1,1,1,1,1,1][h-1];return s.push([at,"",g,_,p,d,f]),s},"旅人(草)":(e,t,a,n,r,o)=>{const s=[],i=1;if(t>=i){const t=["草縁剣が敵に命中すると、旅人の元素エネルギーが3.5回復する。"],a=3.5*Ot(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"ガイア":(e,t,a,n,r,o)=>{const s=[],i=6;if(t>=i){const t=["凛冽なる輪舞の氷柱が1本追加され、発動時に元素エネルギーが15回復する。"],a=15*Dt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"リサ":(e,t,a,n,r,o)=>{const s=[],i=1;if(t>=i){const t=["蒼雷を長押しで発動した後、敵に命中する度にリサの元素エネルギーが2回復する。一回で最大10まで回復可能。"],a=2*Ot(e,r,"E.Hold"),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"バーバラ":(e,t,a,n,r,o)=>{const s=[];let i=1;if(t>=i){const e=["10秒毎に元素エネルギーを1回復する。"],t=1*Math.trunc(n/10),a=0,r=0,o=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,r,o,e])}if(i=4,t>=i){const t=["重撃が敵に命中する度に、バーバラの元素エネルギーが1回復する。一回で最大元素エネルギーが5まで回復できる。"],a=1*bt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"レザー":(e,t,a,n,r,o)=>{const s=[],i=["無形の雷狼を召喚して自身を守り、周囲の敵に雷元素ダメージを与える。同時に、雷の印を消耗して自身の元素エネルギーを回復する。退場時、残り時間を基準に、元素エネルギーを最大10まで回復する。"],l=0,c=0,u=0,m=U().fill(Array($.n7),0);return s.push([at,"",l,c,u,m,i]),s},"行秋":(e,t,a,n,r,o)=>{const s=[],i=6;if(t>=i){const e=["古華剣·裁雨留虹が剣雨攻撃を2回発動する度に、次の剣雨攻撃が大幅に強化され、敵に命中する時行秋の元素エネルギーを3回復する。"],t=r?.length?Math.trunc(r.filter((e=>e.action.startsWith("N"))).length/3):1,a=3*t,n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,e])}return s},"重雲":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const e=["重雲の攻撃が氷元素の影響を受けた敵に命中した時、自身の元素エネルギーを1回復する。この効果は2秒毎に1回のみ発動可能。"],t=1,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"ディオナ":(e,t,a,n,r,o)=>{const s=[],i=1;if(t>=i){const t=["特製スピリッツの効果終了時、ディオナの元素エネルギーを15回復する。"],a=15*Dt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"ロサリア":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const e=["罪喰いの懺悔で会心が発生すると、ロサリア自身の元素エネルギーが5回復する。この効果は、1回の罪喰いの懺悔で1度のみ発動可能。"],t=5,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"早柚":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const e=["早柚がフィールド上で拡散反応を起こした時、元素エネルギーを1.2ポイント回復する。この効果は2秒毎に1回のみ発動可能。"],t=1.2,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"九条裟羅":(e,t,a,n,r,o)=>{const s=[],i=["天狗呪雷·伏は敵に命中すると、九条裟羅の元素チャージ効率を基準にし、その100%の元素チャージ効率毎に、チーム全員の元素エネルギーを1.2回復する。この効果は3秒毎に1回のみ発動可能。"],l=At(e,a,"元素チャージ効率",o),c=0,u=1.2*l/100*Ot(e,r),m=0,_=U().fill(Array($.n7),0);return s.push([nt,"御公儀",c,u,m,_,i]),s},"トーマ":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["真紅熾炎の大鎧を発動すると、トーマの元素エネルギーを15ポイント回復する。"],a=15*Dt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"鹿野院平蔵":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["一回の廻風蹴で発生した「廻風真眼」が初めて爆発する時、鹿野院平蔵自身の元素エネルギーを9回復する。その後、爆発するたびに追加で元素エネルギーを1.5回復する。この方法により一回の廻風蹴で回復できる元素エネルギーは、最大13.5まで。"],a=9*Dt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"ドリー":(e,t,a,n,r,o)=>{const s=[],i=["ジンニーランプ·トラブルシューターのトラブルシューター砲またはアフターサービス弾が敵に命中すると、ドリーの元素チャージ効率を基準にし、その100%の元素チャージ効率毎にドリーの元素エネルギーを5回復する。ジンニーランプ·トラブルシューター1回につき、この方式で回復できる元素エネルギーは15まで。"],l=At(e,a,"元素チャージ効率",o),c=Math.min(15,5*l/100)*Ot(e,r),u=0,m=0,_=U().fill(Array($.n7),0);s.push([nt,"砂だるま式利子",c,u,m,_,i]);const p=Ct(e,a,"元素爆発レベル",o),d=[1.6,1.7,1.8,1.9,2,2.1,2.2,2.3,2.4,2.5,2.5,2.5,2.5,2.5,2.5][p-1],f=["ランプの精 近くにいるキャラクターとリンクする。ランプの精とリンクしたキャラクターに下記効果を与える。・持続的に元素エネルギーを回復する。"];return s.push([at,"",d,u,m,_,f]),s},"レイラ":(e,t,a,n,r,o)=>{const s=[],i=2;if(t>=i){const e=["垂裳凛然の夜が発射した飛星が敵に命中すると、レイラの元素エネルギーを1ポイント回復させる。この方法を通して、各飛星はレイラの元素エネルギーを最大で1回のみ回復できる。"],t=1,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"ファルザン":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const a=["命中した敵の数に基づき、風圧崩潰のサイクロンはファルザンの元素エネルギーを回復する。1体の敵に命中した場合、ファルザンの元素エネルギーを2ポイント回復する。また、追加で1体の敵に命中するたびに、ファルザンの元素エネルギーが0.5ポイント回復する。この方法により1回のサイクロンで回復できる元素エネルギーは最大4ポイントまで。"],o=2*(t>=6?Math.trunc(n/3):Math.min(2*Ot(e,r),bt(e,r))),l=0,c=0,u=U().fill(Array($.n7),0);s.push([rt,String(i),o,l,c,u,a])}return s},"ヨォーヨ":(e,t,a,n,r,o)=>{const s=[],i=2;if(t>=i){const e=["玉颗珊々月中落の桂子仙機状態にある時、白玉大根の爆発が敵に命中すると、ヨォーヨの元素エネルギーを3ポイント回復する。この方法による元素エネルギーの回復は、0.8秒毎に1回のみ可能。"],t=3,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"ミカ":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["ミカ自身によるスカイフェザーソングの鷹の羽状態がチームにいるキャラクターのHPを回復した時、ミカの元素エネルギーを3回復する。1回のスカイフェザーソングの鷹の羽状態で、元素エネルギーは最大5回まで回復できる。"],a=15*Dt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"フレミネ":(e,t,a,n,r,o)=>{const s=[],i=2;if(t>=i){const t=["プレッシャー·フロウ·高圧粉砕を発動すると、フレミネの元素エネルギーが2ポイント回復する。ランク4の高圧粉砕を発動すると、元素エネルギーの回復量が3ポイントに変わる。"],a=2*Ot(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"ジン":(e,t,a,n,r,o)=>{const s=[],i=["蒲公英の風発動後、元素エネルギーが20%回復する。"],l=16*Dt(e,r),c=0,u=0,m=U().fill(Array($.n7),0);return s.push([nt,"風の導くままに",l,c,u,m,i]),s},"七七":(e,t,a,n,r,o)=>{const s=[],i=1;if(t>=i){const e=["度厄のお札マークがついている敵に寒病鬼差が命中した時、七七の元素エネルギーを2回復する。"],t=1,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"ウェンティ":(e,t,a,n,r,o)=>{const s=[],i=["風神の詩効果終了後、ウェンティの元素エネルギーを15回復する。元素変化があった場合、該当元素のチームメンバーの元素エネルギーを15回復する。"],l=Dt(e,r),c=15*l,u=0,m=0,_=U().fill(Array($.n7),0);for(const p of["炎","水","雷","氷"]){let e=!1;for(let t=0;t<a.length;t++){const n=(0,$.qQ)(a[t].name);n?.元素==p&&(_[t]=c,e=!0)}if(e)break}return s.push([nt,"暴風の目",c,u,m,_,i]),s},"クレー":(e,t,a,n,r,o)=>{const s=[],i=["クレーの重撃が会心を発生すると、チーム全員の元素エネルギーが2回復する。"],l=2,c=0,u=0,m=U().fill(Array($.n7),0);s.push([nt,"無限花火",l,c,u,m,i]);const _=6;if(t>=_){const e=["ドッカン花火状態中、クレーは3秒毎にチーム全員（クレー自身を除く）の元素エネルギーを3回復する。"],t=0,a=0,n=3,r=U().fill(Array($.n7),0);s.push([rt,String(_),t,a,n,r,e])}return s},"アルベド":(e,t,a,n,r,o)=>{const s=[],i=1;if(t>=i){const t=["アルベドの創生術·擬似陽華の刹那の花が放たれた時、アルベド自身の元素エネルギーが1.2回復する。"],a=1.2*(Ot(e,r)?Math.trunc(n/2):1),o=0,l=0,c=U().fill(Array($.n7),0);s.push([rt,String(i),a,o,l,c,t])}return s},"甘雨":(e,t,a,n,r,o)=>{const s=[],i=1;if(t>=i){const t=["二段チャージ重撃の霜華の矢または霜華満開が命中した時、敵の氷元素耐性-15%、継続時間6秒。命中時に甘雨の元素エネルギーを2回復。二段チャージの重撃による元素エネルギーの回復効果は、1回の重撃で1度のみ発動可能。"],a=2*bt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"楓原万葉":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const e=["楓原万葉の元素エネルギーが45以下の時、下記の効果を獲得する。・一回押し/長押しで千早振るを発動した時、元素エネルギーを3/4回復する。・滑翔状態の時、1秒毎に元素エネルギーを2回復する。"],t=3,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"雷電将軍":(e,t,a,n,r,o)=>{const s=[],i=["攻撃が敵に命中すると、周囲のチーム全員の元素エネルギーを回復する。この方式での元素エネルギー回復は1秒毎に1回のみ可能で、継続時間内に最大5回まで発動可能。","元素チャージ効率が100%を超えている場合、超えた分1%につき、雷電将軍は下記の効果を獲得する。・夢想の一心状態で提供する元素エネルギー回復+0.6%。"],l=At(e,a,"元素チャージ効率",o);let c=2.3*(1+.006*(l-100)),u=0;const m=kt(e,a,o);m.damageResult.元素爆発.forEach((e=>{"夢想の一心エネルギー回復"===e[0]?c=e[2]:"非表示_夢想の一心エネルギー回復"===e[0]&&(u=e[2])})),"草薙の稲光"===m.characterInput.weapon&&(u*=.006*[30,35,40,45,50][m.characterInput.武器精錬ランク-1]);const _=0,p=5*(c+u)*Dt(e,r),d=0,f=U().fill(Array($.n7),0);return s.push([at,"",_,p,d,f,i]),s},"珊瑚宮心海":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["海人の羽衣による儀来羽衣状態の時、珊瑚宮心海の通常攻撃の攻撃速度+10%。そして通常攻撃が敵に命中すると、元素エネルギーを0.8ポイント回復する。この効果は0.2秒毎に1回のみ発動可能。"],a=.8*Et(e,r,!0),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"荒瀧一斗":(e,t,a,n,r,o)=>{const s=[],i=2;if(t>=i){const t=["最凶鬼王·一斗轟臨！！を発動した後、チーム内に岩元素タイプキャラクターが1人いる毎に、クールタイム-1.5秒、荒瀧一斗の元素エネルギーを6ポイント回復する。この方式で短縮できるクールタイムは4.5秒までとなり、回復できる元素エネルギーは18ポイントまでとなる。"],n=a.filter((e=>"岩"===(0,$.qQ)(e.name)?.元素)).length,o=Math.min(18,6*n)*Dt(e,r),l=0,c=0,u=U().fill(Array($.n7),0);s.push([rt,String(i),o,l,c,u,t])}return s},"八重神子":(e,t,a,n,r,o)=>{const s=[],i=1;if(t>=i){const t=["大密法·天狐顕現で天狐雷霆を1回発生させるたびに、八重神子自身の元素エネルギーを8ポイント回復する。"],a=24*Dt(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"神里綾人":(e,t,a,n,r,o)=>{const s=[],i=["神里綾人が待機中の時、元素エネルギーが40未満の場合、1秒毎に元素エネルギーを2回復する。"],l=2,c=0,u=0,m=U().fill(Array($.n7),0);return s.push([nt,"神里流·満ちゆく破月",l,c,u,m,i]),s},"セノ":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["聖儀·狼駆憑走の啓途誓使状態の時、感電、超電導、過負荷、原激化、超激化、超開花または雷元素拡散反応を起こすと、周囲のチーム全員（セノ自身を除く）の元素エネルギーを3回復する。この効果は一回の聖儀·狼駆憑走で、最大5回まで発動できる。"],a=0,n=0,o=15*Dt(e,r),l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"ニィロウ":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["七域のダンスのピルエット状態の3段目のステップが敵に命中すると、ニィロウの元素エネルギーが15回復する。"],a=15*Ot(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"放浪者":(e,t,a,n,r,o)=>{const s=[],i=["拾玉得花(雷元素)：通常攻撃および重撃が敵に命中した後、元素エネルギーが0.8ポイント回復する。この方式による元素エネルギー回復は、0.2秒毎に1回のみ可能。"],l=a.filter((e=>"雷"===(0,$._t)(e.name)?.元素)).length,c=l>0?.8*(Et(e,r)+bt(e,r)):0,u=0,m=0,_=U().fill(Array($.n7),0);return s.push([nt,"拾玉得花",c,u,m,_,i]),s},"ディシア":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const e=["炎哮獅子咬の熾鬣拳、または残火蹴が敵に命中した時、ディシアの元素エネルギーを1.5回復。この効果は0.2秒毎に1回のみ発動可能。"],t=1.5,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"リネ":(e,t,a,n,r,o)=>{const s=[],i=["リネがプロップアローを発射することでHPを消費した時、そのプロップアローによって召喚されたファニーキャット·ハットが敵に命中すると、リネの元素エネルギーが3ポイント回復"],l=3,c=0,u=0,m=U().fill(Array($.n7),0);return s.push([nt,"息を呑むパフォーマンス",l,c,u,m,i]),s},"フリーナ":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const e=["サロン·ソリティアの「サロンメンバー」が攻撃を敵に命中させたり、「衆の水の歌い手」が周囲のフィールド上にいるキャラクターのHPを回復したりすると、フリーナは元素エネルギーを4ポイント獲得する。この効果は5秒毎に1回のみ発動可能。"],t=4*Math.trunc(n/5),a=0,r=0,o=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,r,o,e])}return s},"シャルロット":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const e=["スチルフォト·多角的立証が「スナップシルエット」、または「フォーカスインプレッション」マークが付いている敵に命中したとき、与えるダメージ+10%。また、シャルロットが元素エネルギーを2ポイント回復する。この方法での元素エネルギー回復は20秒毎に5回のみ可能。"],t=2,a=0,n=0,r=U().fill(Array($.n7),0);s.push([rt,String(i),t,a,n,r,e])}return s},"ナヴィア":(e,t,a,n,r,o)=>{const s=[],i=1;if(t>=i){const t=["セレモニアル·クリスタルショット発動時、「裂晶の欠片」を1個消費するごとに、ナヴィアは元素エネルギーを3ポイント回復し、晴天を衝く霰弾のサルートのクールタイムｰ1秒。この方法による元素エネルギー回復は最大9ポイント、短縮できるクールタイムは最大3秒まで。"],a=9*Ot(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"嘉明":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["瑞獣登楼の落下攻撃·踏雲献瑞が敵に命中した時、嘉明の元素エネルギーを2ポイント回復する。この効果は0.2秒毎に1回のみ発動可能。"],a=2*Ot(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s},"アルレッキーノ":(e,t,a,n,r,o)=>{const s=[],i=4;if(t>=i){const t=["アルレッキーノが血償の勅令の回収に成功した時、昇りゆく凶月のクールタイムが2秒減少し、自身の元素エネルギーを15ポイント回復する。この効果は10秒毎に1回のみ発動可能。"],a=15*Ot(e,r),n=0,o=0,l=U().fill(Array($.n7),0);s.push([rt,String(i),a,n,o,l,t])}return s}},Pt={"ガイア":(e,t,a,n,r,o)=>{let s;const i=["霜の襲撃が敵を凍結状態にした場合、凍結された敵から追加の元素粒子が落ちる。1回の霜襲は2つの元素粒子が追加で発生する。"],l=a.filter((e=>"水"===(0,$.qQ)(e.name)?.元素)).length,c=l>0?2*Ot(e,r):2,u=0;return s=[ct,"","氷",c,u,[],i],s},"フィッシュル":(e,t,a,n,r,o)=>{let s;const i=6;if(t>=i){const e=["オズは出場している自身のキャラクターと共に攻撃し、攻撃力30%分の雷元素ダメージを与える。"],t=0,a=r?.length?2/3*Et(void 0,r):1;s=[ut,String(i),"雷",t,a,[],e]}return s},"刻晴":(e,t,a,n,r,o)=>{let s;const i=2;if(t>=i){const t=["刻晴の通常攻撃と重撃が雷元素の影響を受けた敵に命中した時、50%の確率で元素粒子を1個生成する。5秒毎に1回のみ発動可能。"],l=0,c=0,u=U().fill(Array($.n7),0);let m=1;if(r?.length){const t=5,s=[];let i=!1;for(let a=0;a<r.length;a++){const t=r[a];t.member==e?t.action.startsWith("N")&&!i&&(s.push(a),i=!0):i=!1}const l=a.map((e=>e.name)),c=o[l.indexOf(e)];m=Math.min(Math.trunc(n/t),s.length+Math.max(0,Math.trunc(n*c/100/t)-1));for(let a=0;a<m;a++){let t=e;a<s.length&&s[a]+1<r.length&&(t=r[s[a]+1].member);const n=l.indexOf(t);u[n]+=1}}s=[ut,String(i),"雷",l,c,u,t]}return s}},vt={"金珀·試作":(e,t,a,n,r,o)=>{const s=["元素爆発を発動した後の6秒間、2秒毎に元素エネルギーを4/4.5/5/5.5/6回復し、チーム全員のHPを2秒毎に4%/4.5%/5%/5.5%/6%回復する。"],i=3*[4,4.5,5,5.5,6][a-1]*Dt(e,o),l=0,c=0,u=U().fill(Array($.n7),0);return[st,t,i,l,c,u,s]},"天目影打":(e,t,a,n,r,o)=>{const s=["元素スキルを発動した後、継続時間30秒の継承の印を1つ獲得する。この効果は5秒毎に1回のみ発動可能で、継承の印は同時に最大3つまで存在可能。元素爆発を発動すると、所持している継承の印を全て消費し、消費した継承の印1つにつき、2秒後に該当キャラクターの元素エネルギーを6/7.5/9/10.5/12ポイント回復する。"],i=[6,7.5,9,10.5,12][a-1]*Math.min(Ot(e,o),3*Dt(e,o),r/5),l=0,c=0,u=U().fill(Array($.n7),0);return[st,t,i,l,c,u,s]},"桂木斬長正":(e,t,a,n,r,o)=>St(e,t,a,n,r,o),"喜多院十文字槍":(e,t,a,n,r,o)=>St(e,t,a,n,r,o),"不滅の月華":(e,t,a,n,r,o)=>{const s=["元素爆発を発動した後の12秒間、通常攻撃が敵に命中すると元素エネルギーが0.6ポイント回復する。この方式での元素エネルギー回復は、0.1秒毎に1回のみ可能。"],i=.6*Et(e,o,!0),l=0,c=0,u=U().fill(Array($.n7),0);return[st,t,i,l,c,u,s]},"碧落の瓏":(e,t,a,n,r,o)=>{const s=["元素爆発を起動、またはシールドを生成した後の3秒間、「定土玉圭」効果を発動する。2.5秒毎に元素エネルギーを4.5/5/5.5/6/6.5回復"],i=[4.5,5,5.5,6,6.5][a-1],l=0,c=0,u=U().fill(Array($.n7),0);return[st,t,i,l,c,u,s]},"正義の報酬":(e,t,a,n,r,o)=>{const s=["治療を受けた時、元素エネルギーを8/10/12/14/16ポイント回復する。この効果は10秒毎に1回のみ発動可能。キャラクターが待機中でも発動できる。"],i=[8,10,12,14,16][a-1]*Math.trunc(r/10),l=0,c=0,u=U().fill(Array($.n7),0);return[st,t,i,l,c,u,s]},"久遠流転の大典":(e,t,a,n,r,o)=>{const s=["現在のHPが増える、または減る時、継続時間4秒、最大3層まで。0.3秒毎に1回のみ発動可能。3層まで重ねた時、または3層の継続時間がリセットされた時、元素エネルギーを8/9/10/11/12ポイント回復する。この方法による元素エネルギーの回復は、12秒に1回のみ。"],i=[8,9,10,11,12][a-1],l=0,c=0,u=U().fill(Array($.n7),0);return[st,t,i,l,c,u,s]},"船渠剣":(e,t,a,n,r,o)=>Rt(e,t,a,n,r,o),"携帯型チェーンソー":(e,t,a,n,r,o)=>Rt(e,t,a,n,r,o),"鶴鳴の余韻":(e,t,a,n,r,o)=>{const s=["周囲のチーム全員の落下攻撃が敵に命中した時、装備者の元素エネルギーが2.5/2.75/3/3.25/3.5ポイント回復する。この方法による元素エネルギーの回復は、0.7秒毎に1回のみ可能で、装備したキャラクターが待機している場合にも発動できる。"],i=[2.5,2.75,3,3.25,3.5][a-1]*wt(void 0,o),l=0,c=0,u=U().fill(Array($.n7),0);return[st,t,i,l,c,u,s]}};function St(e,t,a,n,r,o){const s=["元素スキルが命中した時、キャラクターは元素エネルギーを3失う。その後の6秒間、2秒毎に元素エネルギーを3/3.5/4/4.5/5獲得する。この効果は10秒毎に1回のみ発動でき、待機中のキャラクターも発動できる。"];let i=0;const l=[3,3.5,4,4.5,5][a-1];if(o?.length){let t=!1;for(let a=0;a<o.length;a++){const n=o[a];n.member==e?n.action.startsWith("E")&&(t||(i+=3*l,0!==a&&o[a-1].member==e&&"Q"===o[a-1].action||(i-=3)),t=!0):t=!1}}else i=3*l-3;const c=0,u=0,m=U().fill(Array($.n7),0);return[st,t,i,c,u,m,s]}function Rt(e,t,a,n,r,o){const s=["治療効果を受ける、または治療効果を与える時、強靭マークが1枚付与される。継続時間30秒、最大3枚まで。元素スキル、または元素爆発を発動する時、すべての強靭マークを消費し、継続時間10秒の「奮起」効果を獲得する。「奮起」効果を獲得した2秒後、消費した強靭マーク1枚につき、装備者の元素エネルギーを2/2.5/3/3.5/4ポイント回復する。「奮起」効果は15秒に1回のみ発動可能。キャラクターが待機中でも強靭マークを獲得できる。"],i=3*[2,2.5,3,3.5,4][a-1]*Math.min(Ot(e,o)+bt(e,o),Math.trunc(r/15)),l=0,c=0,u=U().fill(Array($.n7),0);return[st,t,i,l,c,u,s]}function Nt(e,t,a,n,r,o){const s=lt,i=new Map;if(!e)return;r?.length||(r=[{id:0,member:e,action:(0,F.H0)(e)[0]}]);const l=a.members.map((e=>e.name)),c=l.indexOf(e);if("ファルザン"===e&&t>=6){const t=Ot(e,r),s=bt(e,r),l=Dt(e,r),c="E",u=(0,F.Xe)(e,c),m=(0,F.rW)(u)*Math.trunc(Math.min(n,5.5*Math.min(t,s)+18*l)/5.5),_=i.get(c)??U().fill(Array($.n7),0);xt(_,m,a,o),i.set(c,_)}else if("フリーナ"===e){let t=0,s=!0;r.forEach((a=>{a.member==e&&a.action.includes("C")&&(s=!s),s&&t++}));const l="E",c=(0,F.Xe)(e,l),u=(0,F.rW)(c,n)*Math.trunc(t/r.length),m=i.get(l)??U().fill(Array($.n7),0);xt(m,u,a,o),i.set(l,m)}else{const s=U().fill(Array($.n7),0);let l,u,m=!1,_=new Map;for(let p=0;p<r.length;p++){const d=r[p];if(d.member!=l&&(m=!1),d.member==e){let l=d.action;if("Q"===l&&(m=!0,F.mh.includes(e)&&(l="E")),_&&_.size>0){for(const[e,t]of _.entries())if(e.filter((e=>-1!=l.indexOf(e))).length>0){let a=t;a&&(a-=l.startsWith("N")?1===l.length?1:Number(l.substring(1,2)):1,a>0?_.set(e,a):_.clear())}}else if(l.startsWith("E")||u&&u.filter((e=>-1!=l.indexOf(e))).length){const d=F.EW.get(e);if(d&&d.size>0)_=U().cloneDeep(d);else if(F.vH.has(e)){if(l.startsWith("E")){u=U().cloneDeep(F.vH.get(e));continue}u=void 0,l="E"}const f=i.get(l)??U().fill(Array($.n7),0);s[c]=Bt(f,e,l,t,a,n,r,p,o,s[c],m),i.set(l,f)}}l=d.member}}const u=[],m=(0,$.qQ)(e),_=m?.元素??"無色";return i.forEach(((e,t)=>{u.push([s,t,_,e,[]])})),u}function Wt(e,t,a,n,r,o){const s=Pt[e];if(void 0===s)return;const i=s(e,t,a.members,n,r,o);if(void 0===i)return;const l=a.members.map((e=>e.name)),c=l.indexOf(e);if(-1===c)return;const u=U().fill(Array($.n7),0),m=[i[0],i[1],i[2],u,i[6]];if(i[3]&&(u[c]+=i[3]),i[4]&&xt(u,i[4],a,o),i[5].length)for(let _=0;_<i[5].length&&_<u.length;_++)u[_]+=i[5][_];return[m]}function Tt(e,t,a,n,r,o,s){let i;const l=n.members.map((e=>e.name));if(["西風剣","西風大剣","西風長槍","西風猟弓","西風秘典"].includes(t)){const n=U().fill(Array($.n7),0),c=[12,10.5,9,7.5,6][a-1];let u=1;if(o?.length){const t=[];for(let n=0;n<o.length;n++){const a=o[n];a.member!=e||0!==n&&o[n-1].member==e||t.push(n)}const a=s[l.indexOf(e)];u=Math.min(Math.trunc(r/c),t.length+Math.max(0,Math.trunc(r*a/100/c)-1));for(let r=0;r<u;r++){let a=e;r<t.length&&t[r]+1<o.length&&(a=o[t[r]+1].member);const s=l.indexOf(a);n[s]+=3}}else{const t=l.indexOf(e);n[t]=3*u}i=[mt,t,"無色",n,[]]}return i}function It(e,t,a,n){let r;if(e.members.filter((e=>e.name)).length<4)return r;const o=e.members.filter((e=>"雷"===(0,$.qQ)(e.name)?.元素)).length;if(o>=2){const a=["超電導、過負荷、感電、原激化、超激化または超開花反応を起こした時、100%の確率で雷元素粒子を生成する。クールタイム5秒。"];let o=0;if(e.members.filter((e=>["氷","炎","水","草"].includes((0,$.qQ)(e.name)?.元素??"--"))).length){const e=5;o=1*Math.trunc(t/e)}const s=U().fill(Array($.n7),0);xt(s,o,e,n),r=[_t,"雷元素共鳴","雷",s,a]}return r}function Lt(e,t,a,n,r,o){const s=[],i=jt[e];if(void 0===i)return s;const l=i(e,t,a.members,n,r,o);if(!l?.length)return s;const c=a.members.map((e=>e.name)).indexOf(e);return-1===c||l.forEach((e=>{const t=U().fill(Array($.n7),0),a=[e[0],e[1],t,e[6]];if(e[2]&&(t[c]+=e[2]),e[3])for(let n=0;n<t.length;n++)t[n]+=e[3];if(e[4])for(let n=0;n<t.length;n++)n!=c&&(t[n]+=e[4]);if(e[5]?.length)for(let n=0;n<t.length;n++)t[n]+=e[5][n];s.push(a)})),s}function Ht(e,t,a,n,r,o){let s;const i=vt[t];if(void 0===i)return s;const l=n.members.map((e=>e.name)),c=i(e,t,a,l,r,o);if(!c?.length)return s;const u=l.indexOf(e);if(-1===u)return s;const m=c,_=U().fill(Array($.n7),0);if(s=[m[0],m[1],_,m[6]],m[2]&&(_[u]+=m[2]),m[3])for(let p=0;p<_.length;p++)_[p]+=m[3];if(m[4])for(let p=0;p<_.length;p++)p!=u&&(_[p]+=m[4]);if(m[5]?.length)for(let p=0;p<_.length;p++)_[p]+=m[5][p];return s}function Vt(e,t,a,n,r){const o=it,s=U().fill(Array($.n7),0),i=[],l=a.members.map((e=>e.name)),c=Dt(e,r),u=l.indexOf(e);let m=0;if("亡命者"===t&&(m=6*c),m){i.push("元素爆発を発動すると、2秒毎にチーム全員（自分を除く）の元素エネルギーを2回復する、継続時間6秒。重ね掛け不可。");for(let e=0;e<s.length;e++)e!=u&&(s[e]+=m)}if(s.filter((e=>e>0)).length||i.length)return[o,t,s,i]}function Ut(e,t,a,n){let r;const o=t.members.map((e=>e.name)),s=o.indexOf(e),i=(0,$._t)(e);if(i){const t=dt[i.武器];if(t){let a=0;n?.length&&n.filter((t=>t.member==e)).forEach((e=>{let t=!1;if(e.action.startsWith("N")){let n=0,r=1;e.action.length>1&&(r=Number(e.action.substring(1,2))),i.通常攻撃.詳細.forEach((e=>{if(e.名前&&e.名前.endsWith("段ダメージ")){const t=e.名前.substring(0,1);!isNaN(t)&&r<=Number(t)&&e.HIT数&&(n+=e.HIT数)}})),n<r&&(n=r),a+=n,e.action.endsWith("C")&&(t=!0)}if("C"===e.action||t){let e=1;i.重撃.詳細.forEach((t=>{t.名前&&"重撃ダメージ"===t.名前&&t.HIT数&&(e=t.HIT数)})),a+=e}}));const o=Math.trunc(a/t);if(o){const e=ot,t=U().fill(Array($.n7),0),a=[];r=[e,"",t,a],t[s]+=o}}}return r}function Bt(e,t,a,n,r,o,s,i,l,c,u=!1){const m=(0,F.Xe)(t,a,n,u);if(m){const t=s[i];if(t){const t=(0,F.rW)(m,o-c),a=(0,F.u7)(m),n=(0,F.ic)(m);[F.DA,F.rQ].includes(a)?Kt(e,t,r,s,i,a):[F.Fw,F.zY].includes(a)&&xt(e,t,r,l),c+=n}}return c}function Kt(e,t,a,n,r,o=F.rQ){const s=a.members.map((e=>e.name)),i=r+o-F.DA<n.length?n[r+o-F.DA]:n[0];"Q"===i.action&&F.QL.includes(i.member)&&(t=0),e[s.indexOf(i.member)]+=t}function xt(e,t,a,n){const r=n.map((e=>Math.pow(e/100,2))).reduce(((e,t)=>e+t),0);for(let o=0;o<e.length;o++)if(a.members[o].name){const a=n[o];e[o]+=t*Math.pow(a/100,2)/r}}var qt=(0,n.aZ)({name:"ERCalculator",props:{team:{type:Object,required:!0},teamMemberResult:{type:Object},constellations:{type:Object}},setup(e){const{displayName:t}=(0,z.Z)(),a=(0,x.qj)([]),r=(0,x.qj)([]),o=(0,x.qj)([]),s=(0,x.qj)([]),i=(0,x.qj)([]),l=20,c=90,u=(0,x.iH)(l),m=(0,x.iH)(c),_=(0,x.qj)([["無色",3,0],["炎",0,0],["水",0,0],["雷",0,0],["草",0,0],["氷",0,0],["岩",0,0]]),p=(0,x.iH)(!1),d={"片手剣":["西風剣","天目影打"],"両手剣":["西風大剣","桂木斬長正"],"長柄武器":["西風長槍","喜多院十文字槍","正義の報酬"],"弓":["西風猟弓"],"法器":["西風秘典","金珀·試作"]},f=(0,x.iH)(!1);(0,n.bv)((()=>{(0,$.bV)().then((()=>{y(e.team),b(e.team,e.teamMemberResult)}))}));const h=(0,x.iH)(0);function g(t,a,n){if(n){const r=a.members.filter((e=>e.name==t));if(r.length)return n[r[0].id]?.characterInput.命ノ星座??(e.constellations?e.constellations[t]??0:0)}return e.constellations?e.constellations[t]??0:0}function y(t){const a=t.members.map((e=>e.name)),n=U().fill(Array($.n7),0),r=U().fill(Array($.n7),0);if(t.rotation.length)for(let s=0;s<t.rotation.length;s++){const o=t.rotation[s],i=a.indexOf(o.member);if(-1!=i&&("Q"===o.action||o.action.startsWith("E"))){const t=(0,$._t)(o.member);if("Q"===o.action){let n=t?.元素爆発.クールタイム??0;if(a.includes("重雲")&&"重雲"!=o.member){const t=g("重雲",e.team,e.teamMemberResult);t>=2&&(n*=.85)}else if(a.includes("雷電将軍")&&"雷電将軍"!=o.member){const t=g("雷電将軍",e.team,e.teamMemberResult);t>=6&&(n-=5)}r[i]+=n}else{const t=g(o.member,e.team,e.teamMemberResult),r=(0,F.Xe)(o.member,o.action,t);let s=0,l=0;if(r&&(s=(0,F.Ef)(r)??0,l=(0,F.ic)(r),a.includes("重雲")&&"重雲"!=o.member)){const t=g("重雲",e.team,e.teamMemberResult);t>=2&&(s*=.85)}s>n[i]&&s>l&&(n[i]=s)}}}let o=Math.max(...n,...r);0==o&&(o=l),u.value=o}function E(e,t){const n=e.members.map((a=>g(a.name,e,t))),r=Mt(e,u.value,e.rotation,n);for(let o=0;o<a.length;o++)a[o].onField=r[o]}(0,n.YP)((()=>U().cloneDeep(e)),((e,t)=>{y(e.team),U().isEqual(e.team.members,t.team.members)&&U().isEqual(e.teamMemberResult,t.teamMemberResult)?(D(e.team,e.teamMemberResult),h.value++):(b(e.team,e.teamMemberResult),h.value++)}),{deep:!0});const b=(e,t)=>{const n=[],r=e.members.map((a=>g(a.name,e,t))),o=Mt(e,u.value,e.rotation,r);for(let a=0;a<e.members.length;a++){const s=e.members[a],i=(0,$._t)(s.name),l=r[a],c=t?t[s.id]:void 0,u=c?.characterInput.weapon,m=c?.characterInput.武器精錬ランク??1;let _;c&&2==c.characterInput.artifactSets.length&&(_=c.characterInput.artifactSets[0]==c.characterInput.artifactSets[1]?c.characterInput.artifactSets[0]:void 0);let p=[];i&&(p=d[i.武器]),n.push({character:s.name,energyCost:i?.元素爆発.元素エネルギー??0,constellation:l,initialWeapon:u,currentWeapon:u,weaponRefine:m,artifactSet4:_,onField:o[a],replaceWeapons:p})}a.splice(0,a.length,...n),D(e,t)};function w(e,t,a,n){const r=U().cloneDeep(n[3]);for(let o=0;o<r.length;o++)r[o]=Math.round(100*r[o])/100;e.push({character:a,rechargeKind:n[0],triggerName:n[1],element:n[2],initialValues:r,currentValues:U().cloneDeep(r),unit:1}),n[4].length&&n[4].forEach((e=>{let r="";n[0]===lt?r="元素スキル":n[0]===ct?r="固有天賦":n[0]===ut?(r="命ノ星座",n[1]&&(r+=" 第"+n[1]+"重")):r=n[1],t.push([a,r,e])}))}function O(e,t,a,n){const r=U().cloneDeep(n[2]);for(let o=0;o<r.length;o++)r[o]=Math.round(100*r[o])/100;e.push({character:a,rechargeKind:n[0],triggerName:n[1],element:"",initialValues:r,currentValues:U().cloneDeep(r),unit:.1}),n[3].length&&n[3].forEach((e=>{let r="";n[0]===tt?r="元素スキル":n[0]===at?r="元素爆発":n[0]===nt?r="固有天賦":n[0]===rt?(r="命ノ星座",n[1]&&(r+=" 第"+n[1]+"重")):r=n[1],t.push([a,r,e])}))}const D=(e,t)=>{E(e,t);const n=[],l=[],c=[],p=[],d=[],f=[],h=a.map((e=>e.onField));for(let r=0;r<a.length;r++){const o=a[r].character;if(!o)continue;const s=a[r].constellation,i=a[r].currentWeapon,m=a[r].weaponRefine,_=a[r].artifactSet4;[Nt(o,s,e,u.value,e.rotation,h),Wt(o,s,e,u.value,e.rotation,h)].forEach((e=>{e&&e.forEach((e=>{w(n,f,o,e)}))}));const p=Lt(o,s,e,u.value,e.rotation,t);if(p.forEach((e=>{O(c,f,o,e)})),i){const t=Tt(o,i,m,e,u.value,e.rotation,h);t&&w(l,f,o,t);const a=Ht(o,i,m,e,u.value,e.rotation);a&&O(c,f,o,a)}if(_){const t=Vt(o,_,e,u.value,e.rotation);t&&O(c,f,o,t)}const d=Ut(o,e,u.value,e.rotation);d&&O(c,f,o,d)}const g=It(e,u.value,e.rotation,h);g&&w(p,f,"",g),_.filter((e=>e[1]||e[2])).forEach((t=>{const a=(3*t[1]+t[2])*u.value/m.value,n=U().fill(Array($.n7),0);xt(n,a,e,h),w(d,f,"",[pt,"",t[0],n,[]])})),r.splice(0,r.length,...n,...l,...p),o.splice(0,o.length,...c),s.splice(0,s.length,...d),i.splice(0,i.length,...f)},M=(0,n.Fl)((()=>{const t={0:1,1:1,2:1,3:1};if(e.team.rotation?.length)for(let a=0;a<e.team.members.length;a++){const n=e.team.members[a];n.name&&(t[a]=Dt(n.name,e.team.rotation))}return t})),k=(0,n.Fl)((()=>{const t=U().fill(Array($.n7),0);for(let a=0;a<e.team.members.length;a++){const n=e.team.members[a];if(!n.name)continue;const o=(0,$.qQ)(n.name),i=o?.元素;i&&[r,s].forEach((e=>{e.filter((e=>yt(e.rechargeKind))).forEach((e=>{let n=0;for(let t=0;t<e.currentValues.length;t++)n+=t==a?e.currentValues[t]:.6*e.currentValues[t];e.element==i?n*=3:"無色"==e.element&&(n*=2),t[a]=Math.round(10*(t[a]+n))/10}))}))}return t})),C=(0,n.Fl)((()=>{const t=U().fill(Array($.n7),100);for(let n=0;n<e.team.members.length;n++){if(!e.team.members[n].name)continue;let r=a[n]?.energyCost;if(!r)continue;o.filter((e=>gt(e.rechargeKind))).forEach((e=>{r-=e.currentValues[n]}));const s=M.value[n]>0?M.value[n]:1,i=k.value[n]/s;if(r>0&&i>0){const e=Math.ceil(100*r/i);t[n]=Math.max(100,e)}}return t})),A=(0,n.Fl)((()=>Object.keys(q.bw).filter((e=>Object.keys((0,F.H0)(e)).filter((e=>-1!=e.indexOf("burst"))).length>0)).sort())),j=e=>(0,$.qQ)(e)?.icon_url??q.bx,P=(e,t)=>{const a=(0,$.qQ)(e);return t&&a?(0,$.VN)(a.武器,t)?.icon_url??q.bx:q.bx},v=(e,t)=>{let a=q.bx;if(e.character&&e.replaceWeapons.length&&e.replaceWeapons.includes(t)){const n=(0,$.qQ)(e.character);n&&(a=(0,$.VN)(n.武器,t)?.icon_url??q.bx)}return a},S=e=>{let t=q.bx;return e.rechargeKind&&(t=[_t].includes(e.rechargeKind)?q.GN[e.element]??q.bx:(0,$.qQ)(e.character)?.icon_url??q.bx),t},R=e=>e.rechargeKind&&e.rechargeKind==_t?"input-item":"input-item-character",N=e=>{let t=q.bx;if(e.rechargeKind)if([_t].includes(e.rechargeKind))t=q.GN[e.element]??q.bx;else if([tt,lt].includes(e.rechargeKind)){const a=(0,$._t)(e.character);t=a?.元素スキル.icon_url??q.bx}else if([at].includes(e.rechargeKind)){const a=(0,$._t)(e.character);t=a?.元素爆発.icon_url??q.bx}else if([nt,ct].includes(e.rechargeKind)){if(e.triggerName){const a=(0,$._t)(e.character),n=a?.固有天賦.filter((t=>t.名前==e.triggerName));t=n?.length?n[0].icon_url??q.bx:q.bx}}else if([rt,ut].includes(e.rechargeKind)){if(e.triggerName){const a=(0,$._t)(e.character),n=a?.命ノ星座[e.triggerName];t=n?.icon_url??q.bx}}else if([mt,st].includes(e.rechargeKind)&&e.triggerName){const a=(0,$.qQ)(e.character);if(a){const n=a.武器,r=(0,$.VN)(n,e.triggerName);r&&(t=r.icon_url)}}else if([it].includes(e.rechargeKind)&&e.triggerName){const a=q.oN[e.triggerName];a&&(t=a.image)}else if([ot].includes(e.rechargeKind)){const a=(0,$.qQ)(e.character);a&&(t=q.k9[a.武器])}return t},W=t=>{const a=t<e.team.members.length?(0,$.qQ)(e.team.members[t].name):void 0;return" "+(a?q.Cb[a.元素]:"white")},T=e=>" "+(e.element?q.Cb[e.element]:"white"),I=(e,t)=>e.currentWeapon==t?" disabled":"",L=e=>{let t="";return e.rechargeKind&&([tt,lt].includes(e.rechargeKind)?t="元素スキル":[at].includes(e.rechargeKind)?t="元素爆発":[nt,ct].includes(e.rechargeKind)?t="固有天賦":[rt,ut].includes(e.rechargeKind)?t="命ノ星座 第"+e.triggerName+"重":[st,mt].includes(e.rechargeKind)||[_t].includes(e.rechargeKind)?t=e.triggerName:[ot].includes(e.rechargeKind)&&(t="通常攻撃")),t},H=e=>{let t="";return e.startsWith("N")?t="通常攻撃":"C"===e?t="重撃":"P"===e?t="落下攻撃":e.startsWith("E")?t="元素スキル":"Q"===e&&(t="元素爆発"),t},V=()=>{D(e.team,e.teamMemberResult)},B=(e,t)=>{e.replaceWeapons.length&&e.replaceWeapons.includes(t)&&(e.currentWeapon==t?e.currentWeapon=e.initialWeapon:e.currentWeapon=t,V())},K=()=>{s.forEach((e=>{e.currentValues.splice(0,e.currentValues.length,...e.initialValues)})),r.forEach((e=>{e.currentValues.splice(0,e.currentValues.length,...e.initialValues)})),o.forEach((e=>{e.currentValues.splice(0,e.currentValues.length,...e.initialValues)}))};return{displayName:t,rotationLength:u,combatLength:m,supplyFromEnemy:_,isOpenSupplyFromEnemy:p,calculatorInput:a,inputRowParticle:r,inputRowEnergy:o,inputRowParticleEnemy:s,burstCounts:M,messages:i,CHARACTER_E_DECREMENT_IN_BURST:A,CHARACTER_E_UNTIL_MAP:F.EW,CHARACTER_E_DELAY_MAP:F.vH,CHARACTER_Q_NOT_RECHARGEABLE:F.QL,actionName:H,characterImgSrc:j,weaponImgSrc:P,replaceWeaponImgSrc:v,rowImgSrc1:S,rowImgSrc1Class:R,rowImgSrc2:N,bgColorClass:W,bgColorClass2:T,replaceWeaponClass:I,particleRecharges:k,energyRechargeGls:C,triggerName:L,isShowUsage:f,inputOnChange:V,replaceWeaponOnClick:B,resetInput:K}}}),Ft=a(89);const zt=(0,Ft.Z)(qt,[["render",et],["__scopeId","data-v-109f95d0"]]);var $t=zt,Yt=(0,n.aZ)({name:"TeamRotation",components:{draggable:K(),ERCalculator:$t},props:{team:{type:Object,required:!0},teamMemberResult:{type:Object},constellations:{type:Object}},emit:["update:rotation","click:jump-to-team"],setup(e,t){const{displayName:a}=(0,z.Z)(),r=(0,x.iH)(!1),o=(0,x.qj)({}),s=(0,x.qj)({}),i=(0,x.qj)([]),l=(0,x.iH)(0),c=(0,x.iH)(""),u=(0,x.iH)(-1),m=(0,x.iH)(0);async function _(e){await(0,$.bV)();for(const a of e.members)if(a.name){const e=(0,$.qQ)(a.name);if(e){const t=($.$C.includes(e?.武器)||$.FP.includes(a.name))&&!$.gw.includes(a.name),n=[];for(let e=0;e<(0,$.NC)(a.name);e++){const a="N"+(e>0?String(e+1):"");n.push(a),t&&n.push(a+("N"===a?"1C":"C"))}t||n.push("C"),n.push("P"),o[a.name]=n}s[a.name]=(0,F.H0)(a.name)}const t=0==e.rotation.filter((t=>!e.members.filter((e=>e.name)).map((e=>e.name)).includes(t.member))).length;if(t)if(e.rotation.length){const t=U().cloneDeep(e.rotation);t.forEach((e=>{if("NC"===e.action)e.action="N1C";else if(e.action.startsWith("E")){const t=s[e.member];t&&t.length>0&&!t.includes(e.action)&&(e.action=t[0])}})),i.splice(0,i.length,...t),l.value=Math.max(...i.map((e=>e.id)))??i.length}else i.splice(0,i.length),l.value=0;else i.splice(0,i.length),l.value=0,D();c.value=e.rotationDescription,m.value++}(0,n.YP)(e,(async()=>{await _(e.team)})),(0,n.bv)((()=>{_(e.team),e.team.members.forEach((e=>{h(e.name)}))}));const p=(0,n.Fl)((()=>{const e=i.filter((e=>e.id==u.value));return e.length>0?e[0]:void 0})),d=e=>{let t;const a=(0,$._t)(e.member);return a&&(o[e.member].includes(e.action)?t=a.通常攻撃:s[e.member].includes(e.action)?t=a.元素スキル:"Q"==e.action&&(t=a.元素爆発)),t},f=e=>{let t;for(const a of i){if(e.id==a.id)break;t=a}return t},h=e=>(0,$._t)(e)?.通常攻撃.icon_url??q.bx,g=e=>(0,$._t)(e)?.元素スキル.icon_url??q.bx,y=e=>(0,$._t)(e)?.元素爆発.icon_url??q.bx,E=e=>{const t=(0,$.qQ)(e);return t?" "+q.X9[t.元素]:""},b=e=>{const t=(0,$.qQ)(e);return t?" "+q.Cb[t.元素]:""},w=e=>e.action.startsWith("E")?e.action.replace(/^E\./,""):e.action,O=e=>u.value==e.id?" selected":"",D=()=>{t.emit("update:rotation",i,c.value)},M=()=>{D()},k=(e,t)=>{let a=t;if(o[e.name].includes(a)){const t=i.filter((t=>t.member==e.name&&o[e.name].includes(t.action)));t.length>0&&(a=t[t.length-1].action)}else if(a.startsWith("E")){const t=i.filter((t=>t.member==e.name&&s[e.name].includes(t.action)));if(t.length>0)a=t[t.length-1].action;else{const t=s[e.name];t&&t.length>0&&(a=t[0])}}i.push({id:++l.value,member:e.name,action:a}),D()},C=e=>{r.value?j(e):u.value==e.id?u.value=-1:o[e.member].includes(e.action)||e.action.startsWith("E")&&s[e.member].length>1?u.value=e.id:u.value=-1},A=e=>{if(e)for(const t of[o[e.member],s[e.member]])if(t?.length){const a=t.indexOf(e.action);if(-1!=a){e.action=a+1<t.length?t[a+1]:t[0];break}}D()},j=e=>{i.splice(0,i.length,...i.filter((t=>t!=e))),D()};return{displayName:a,IMG_SRC_DUMMY:q.bx,removeMode:r,watchCount:m,normalAttackIconSrc:h,elementalSkillIconSrc:g,elementalBurstIconSrc:y,colorClass:E,bgColorClass:b,getCharacterMaster:$.qQ,rotationList:i,rotationDescription:c,previousRotation:f,getCharacterDetail:$._t,getActionDetail:d,actionDisplay:w,selectedAction:p,selectedActionClass:O,rotationListOnChange:M,listActionOnClick:k,rotationActionOnClick:C,removeItemOnClick:j,selectedActionOnClick:A,updateRotation:D}}});const Gt=(0,Ft.Z)(Yt,[["render",H],["__scopeId","data-v-99048d04"]]);var Xt=Gt}}]);
//# sourceMappingURL=chunk-common.fb412da9.js.map