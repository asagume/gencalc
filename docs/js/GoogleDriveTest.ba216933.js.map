{"version":3,"file":"js/GoogleDriveTest.ba216933.js","mappings":"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","sources":["webpack://gencalc/./src/pages/GoogleDrive/App.vue?6ce0","webpack://gencalc/./src/pages/GoogleDrive/App.vue","webpack://gencalc/./src/pages/GoogleDrive/App.vue?1cb5","webpack://gencalc/./src/pages/GoogleDrive/main.ts","webpack://gencalc/webpack/bootstrap","webpack://gencalc/webpack/runtime/chunk loaded","webpack://gencalc/webpack/runtime/compat get default export","webpack://gencalc/webpack/runtime/define property getters","webpack://gencalc/webpack/runtime/global","webpack://gencalc/webpack/runtime/hasOwnProperty shorthand","webpack://gencalc/webpack/runtime/make namespace object","webpack://gencalc/webpack/runtime/node module decorator","webpack://gencalc/webpack/runtime/runtimeId","webpack://gencalc/webpack/runtime/jsonp chunk loading","webpack://gencalc/webpack/startup"],"sourcesContent":["import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"disabled\"]\nconst _hoisted_2 = [\"disabled\"]\nconst _hoisted_3 = [\"disabled\"]\nconst _hoisted_4 = { class: \"list-of-appdata\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"disabled\", \"onClick\"]\nconst _hoisted_7 = [\"disabled\", \"onClick\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = { class: \"remote-appdata\" }\nconst _hoisted_11 = { key: 0 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _cache[12] || (_cache[12] = _createElementVNode(\"h2\", null, \"Google Drive 連携\", -1)),\n    _cache[13] || (_cache[13] = _createElementVNode(\"p\", { style: {\"text-align\":\"left\",\"margin-left\":\"2rem\"} }, [\n      _createElementVNode(\"a\", { href: \"./\" }, \"げんかるく\")\n    ], -1)),\n    _cache[14] || (_cache[14] = _createElementVNode(\"p\", null, \"本画面では、Google Driveのアプリデータフォルダを介して、ブラウザ間および端末間で《げんかるく》のデータを共有するための機能を提供します。\", -1)),\n    _cache[15] || (_cache[15] = _createElementVNode(\"div\", { class: \"usage\" }, null, -1)),\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.login && _ctx.login(...args))),\n        disabled: !_ctx.gapiInited\n      }, _toDisplayString(_ctx.isSignedIn ? 'リフレッシュ' : 'Googleでログイン'), 9, _hoisted_1),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.logoff && _ctx.logoff(...args))),\n        disabled: !_ctx.isSignedIn || _ctx.isProcessing\n      }, \"ログアウト\", 8, _hoisted_2)\n    ]),\n    _cache[16] || (_cache[16] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.handleListClick && _ctx.handleListClick(...args))),\n        disabled: !_ctx.isSignedIn || _ctx.isProcessing\n      }, \"Google Drive上の退避データ一覧を取得\", 8, _hoisted_3)\n    ]),\n    _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"table\", _hoisted_4, [\n      _cache[6] || (_cache[6] = _createElementVNode(\"caption\", null, \"Google Drive上のアプリデータ\", -1)),\n      _cache[7] || (_cache[7] = _createElementVNode(\"thead\", null, [\n        _createElementVNode(\"tr\", null, [\n          _createElementVNode(\"th\", null, \"name\"),\n          _createElementVNode(\"th\", null, \"modifiedTime\"),\n          _createElementVNode(\"th\", null, \"size\"),\n          _createElementVNode(\"th\")\n        ])\n      ], -1)),\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.remoteFileList.filter(s => s.id !== undefined), (item) => {\n          return (_openBlock(), _createElementBlock(\"tr\", {\n            class: _normalizeClass(_ctx.loaTrClass(item.id)),\n            key: item.id,\n            onClick: ($event: any) => (_ctx.overwriteObject(_ctx.selectedFile, item))\n          }, [\n            _createElementVNode(\"td\", null, _toDisplayString(item.name), 1),\n            _createElementVNode(\"td\", null, _toDisplayString(item.modifiedTime), 1),\n            _createElementVNode(\"td\", null, _toDisplayString(item.size), 1),\n            _createElementVNode(\"td\", null, [\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                disabled: _ctx.isProcessing,\n                onClick: ($event: any) => (_ctx.handleGetClick(item.id))\n              }, \"取得\", 8, _hoisted_6),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                disabled: _ctx.isProcessing,\n                onClick: ($event: any) => (_ctx.handleDeleteClick(item.id))\n              }, \"削除\", 8, _hoisted_7)\n            ])\n          ], 10, _hoisted_5))\n        }), 128))\n      ])\n    ]),\n    _cache[18] || (_cache[18] = _createElementVNode(\"br\", null, null, -1)),\n    _cache[19] || (_cache[19] = _createElementVNode(\"br\", null, null, -1)),\n    _cache[20] || (_cache[20] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.handleReloadLocalClick && _ctx.handleReloadLocalClick(...args)))\n      }, \"ローカルデータ再読込\"),\n      _cache[8] || (_cache[8] = _createTextVNode(\"   \")),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.handleExportClick && _ctx.handleExportClick(...args))),\n        disabled: !_ctx.canExport || _ctx.isProcessing\n      }, \"エクスポート\", 8, _hoisted_8),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.handleImportClick && _ctx.handleImportClick(...args))),\n        disabled: !_ctx.canImport || _ctx.isProcessing\n      }, \"インポート\", 8, _hoisted_9)\n    ]),\n    _cache[21] || (_cache[21] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"table\", _hoisted_10, [\n      _cache[10] || (_cache[10] = _createElementVNode(\"caption\", null, \" ローカルデータと取得データの差分 \", -1)),\n      _cache[11] || (_cache[11] = _createElementVNode(\"thead\", null, [\n        _createElementVNode(\"tr\", null, [\n          _createElementVNode(\"th\", null, \"key\"),\n          _createElementVNode(\"th\", null, \"status\")\n        ])\n      ], -1)),\n      _createElementVNode(\"tbody\", null, [\n        (_ctx.comparisonList.filter(s => s[1] != 0).length == 0)\n          ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_11, _cache[9] || (_cache[9] = [\n              _createElementVNode(\"td\", { colspan: \"2\" }, \"差分なし\", -1)\n            ])))\n          : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.comparisonList.filter(s => s[1] != 0), (comparison) => {\n              return (_openBlock(), _createElementBlock(\"tr\", {\n                key: comparison[0]\n              }, [\n                _createElementVNode(\"td\", null, _toDisplayString(comparison[0]), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(['同値', '差異あり', 'ローカルのみ', 'リモートのみ'][comparison[1]]), 1)\n              ]))\n            }), 128))\n      ])\n    ]),\n    _cache[22] || (_cache[22] = _createElementVNode(\"br\", null, null, -1)),\n    _cache[23] || (_cache[23] = _createElementVNode(\"hr\", null, null, -1))\n  ], 64))\n}","<template>\r\n  <h2>Google Drive 連携</h2>\r\n  <p style=\"text-align: left; margin-left: 2rem;\"><a href=\"./\">げんかるく</a> </p>\r\n  <p>本画面では、Google Driveのアプリデータフォルダを介して、ブラウザ間および端末間で《げんかるく》のデータを共有するための機能を提供します。</p>\r\n\r\n  <div class=\"usage\">\r\n  </div>\r\n\r\n  <div>\r\n    <button type=\"button\" @click=\"login\" :disabled=\"!gapiInited\">\r\n      {{ isSignedIn ? 'リフレッシュ' : 'Googleでログイン' }}\r\n    </button>\r\n    <button type=\"button\" @click=\"logoff\" :disabled=\"!isSignedIn || isProcessing\">ログアウト</button>\r\n  </div>\r\n  <br />\r\n\r\n  <div>\r\n    <button type=\"button\" @click=\"handleListClick\" :disabled=\"!isSignedIn || isProcessing\">Google\r\n      Drive上の退避データ一覧を取得</button>\r\n  </div>\r\n\r\n  <br />\r\n  <table class=\"list-of-appdata\">\r\n    <caption>Google Drive上のアプリデータ</caption>\r\n    <thead>\r\n      <tr>\r\n        <th>name</th>\r\n        <th>modifiedTime</th>\r\n        <th>size</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr :class=\"loaTrClass(item.id)\" v-for=\"item in remoteFileList.filter(s => s.id !== undefined)\" :key=\"item.id\"\r\n        @click=\"overwriteObject(selectedFile, item)\">\r\n        <td>{{ item.name }}</td>\r\n        <td>{{ item.modifiedTime }}</td>\r\n        <td>{{ item.size }}</td>\r\n        <td>\r\n          <button type=\"button\" :disabled=\"isProcessing\" @click=\"handleGetClick(item.id)\">取得</button>\r\n          <button type=\"button\" :disabled=\"isProcessing\" @click=\"handleDeleteClick(item.id)\">削除</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <br />\r\n  <br />\r\n  <br />\r\n  <div>\r\n    <button type=\"button\" @click=\"handleReloadLocalClick\">ローカルデータ再読込</button>\r\n    &nbsp;\r\n    <button type=\"button\" @click=\"handleExportClick\" :disabled=\"!canExport || isProcessing\">エクスポート</button>\r\n    <button type=\"button\" @click=\"handleImportClick\" :disabled=\"!canImport || isProcessing\">インポート</button>\r\n  </div>\r\n  <br />\r\n\r\n  <table class=\"remote-appdata\">\r\n    <caption> ローカルデータと取得データの差分 </caption>\r\n    <thead>\r\n      <tr>\r\n        <th>key</th>\r\n        <th>status</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-if=\"comparisonList.filter(s => s[1] != 0).length == 0\">\r\n        <td colspan=\"2\">差分なし</td>\r\n      </tr>\r\n      <tr v-else v-for=\"comparison in comparisonList.filter(s => s[1] != 0)\" :key=\"comparison[0]\">\r\n        <td>{{ comparison[0] }}</td>\r\n        <td>{{ ['同値', '差異あり', 'ローカルのみ', 'リモートのみ'][comparison[1]] }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <br />\r\n  <hr />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, onMounted, reactive, ref } from \"vue\";\r\nimport _ from \"lodash\";\r\nimport { googleSdkLoaded } from \"vue3-google-login\";\r\nimport { overwriteObject } from \"@/common\";\r\n/// <reference path=\"../../node_modules/@types/gapi/index.d.ts\" />\r\n\r\ntype TokenClientResponse = {\r\n  access_token: string,\r\n  expires_in: number,\r\n  scope: string,\r\n  token_type: string,\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-namespace\r\ndeclare namespace gapi { }\r\nexport default defineComponent({\r\n  name: \"GoogleDrive\",\r\n  setup() {\r\n    const CLIENT_ID = '507502242382-a7d868j5089106u313q7hd6js3i375l2.apps.googleusercontent.com';\r\n    const SCOPES = 'https://www.googleapis.com/auth/drive.appdata';\r\n    const API_KEY = 'AIzaSyCMehcHxbFkrej2jq_CT4TuAqQz01MTW6g';\r\n    const DISCOVERY_DOC = 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest';\r\n    const APPDATA_NAME = 'appdata_all.json';\r\n\r\n    const gapiInited = ref(false);\r\n\r\n    function initGapiClient() {\r\n      console.log('initGapiClient');\r\n      gapi.client.init({\r\n        apiKey: API_KEY,\r\n        discoveryDocs: [DISCOVERY_DOC],\r\n      }).then(() => {\r\n        gapiInited.value = true;\r\n      })\r\n    }\r\n\r\n    onMounted(() => {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://apis.google.com/js/api.js';\r\n      script.onload = async function () {\r\n        gapi.load('client', {\r\n          callback: function () {\r\n            initGapiClient();\r\n          },\r\n          onerror: function () {\r\n            alert('gapi.client failed to load!');\r\n          },\r\n          timeout: 30000, // 30 seconds\r\n          ontimeout: function () {\r\n            alert('gapi.client could not load in a timely manner!');\r\n          },\r\n        });\r\n      };\r\n      document.body.appendChild(script);\r\n    })\r\n\r\n    const tokenResponse = reactive({} as TokenClientResponse);\r\n    const localAppdata = reactive({} as any);\r\n    const remoteAppdata = reactive({} as any);\r\n    const remoteFileList = reactive([] as any[]);\r\n    const selectedFile = reactive({} as any);\r\n    const downloadedFile = reactive({} as any);\r\n    const isProcessing = ref(false);\r\n\r\n    const isSignedIn = computed(() => {\r\n      return tokenResponse.access_token ? true : false;\r\n    })\r\n\r\n    const comparisonList = computed(() => {\r\n      const result: [string, number][] = [];\r\n      const localKeys = Object.keys(localAppdata).sort();\r\n      const remoteKeys = Object.keys(remoteAppdata).sort();\r\n      localKeys.forEach(key => {\r\n        if (remoteKeys.includes(key)) {\r\n          if (_.isEqual(localAppdata[key], remoteAppdata[key])) {\r\n            result.push([key, 0]); // 同値\r\n          } else {\r\n            result.push([key, 1]); // 差異あり\r\n          }\r\n        } else {\r\n          result.push([key, 2]);  // ローカルのみ\r\n        }\r\n      })\r\n      remoteKeys.filter(key => !localKeys.includes(key)).forEach(key => {\r\n        result.push([key, 3]);  // リモートのみ\r\n      })\r\n      return result;\r\n    })\r\n\r\n    const isSameLocalAndRemote = computed(() => {\r\n      return comparisonList.value.filter(e => e[1] != 0).length == 0;\r\n    })\r\n\r\n    const canExport = computed(() => {\r\n      return !remoteAppdata || !isSameLocalAndRemote.value;\r\n    })\r\n\r\n    const canImport = computed(() => {\r\n      return remoteAppdata && !isSameLocalAndRemote.value;\r\n    })\r\n\r\n    /** Googleでログイン */\r\n    const login = () => {\r\n      googleSdkLoaded(google => {\r\n        google.accounts.oauth2.initTokenClient({\r\n          client_id: CLIENT_ID,\r\n          scope: SCOPES,\r\n          prompt: '',\r\n          callback: response => {\r\n            if (response.access_token) {\r\n              console.log(response);\r\n              tokenResponse.access_token = response.access_token;\r\n              tokenResponse.expires_in = Number(response.expires_in);\r\n              tokenResponse.scope = response.scope;\r\n              tokenResponse.token_type = response.token_type;\r\n\r\n              handleListClick();\r\n              handleReloadLocalClick();\r\n            }\r\n          }\r\n        }).requestAccessToken();\r\n      });\r\n    }\r\n\r\n    /** サインアウト */\r\n    const logoff = () => {\r\n      if (tokenResponse.access_token) {\r\n        googleSdkLoaded(google => {\r\n          google.accounts.oauth2.revoke(tokenResponse.access_token);\r\n        });\r\n      }\r\n      overrideObject(tokenResponse, {});\r\n      overrideObject(remoteAppdata, {});\r\n      remoteFileList.splice(0, remoteFileList.length);\r\n      overrideObject(selectedFile, {});\r\n      overrideObject(downloadedFile, {});\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataの一覧を取得します */\r\n    const handleListClick = async () => {\r\n      await requestFilesList().then((response: any) => {\r\n        console.log(response);\r\n        if (response?.files && _.isArray(response.files)) {\r\n          remoteFileList.splice(0, remoteFileList.length, ...response.files);\r\n          console.log(remoteFileList);\r\n        }\r\n      });\r\n      overrideObject(selectedFile, {});\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataをダウンロードします */\r\n    const handleGetClick = async (id?: string) => {\r\n      const workId = id ? id : remoteFileList[0].id;\r\n      await requestFilesGet(workId, { alt: 'media' }).then((response: any) => {\r\n        if (response?.body) {\r\n          const json = JSON.parse(response?.body);\r\n          overrideObject(remoteAppdata, json);\r\n          const workFileList = remoteFileList.filter(file => file.id == id);\r\n          if (workFileList.length) {\r\n            overrideObject(downloadedFile, workFileList[0]);\r\n          }\r\n        } else {\r\n          overwriteObject(downloadedFile, {});\r\n        }\r\n      })\r\n      handleReloadLocalClick();\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataを削除します */\r\n    const handleDeleteClick = async (id: string) => {\r\n      if (!confirm('選択データをGoogle Driveから削除します。よろしいですか？')) {\r\n        return;\r\n      }\r\n      await requestFilesDelete(id);\r\n      await handleListClick();\r\n      if (selectedFile && selectedFile.id == id) {\r\n        overwriteObject(selectedFile, {});\r\n      }\r\n    }\r\n\r\n    /** ローカルストレージのAppdataをリモート(Google Drive)にアップロードします */\r\n    const handleExportClick = async () => {\r\n      if (!confirm('Google Driveにアプリデータをアップロードします。よろしいですか？')) {\r\n        return;\r\n      }\r\n      handleReloadLocalClick();\r\n      await requestFilesCreate(APPDATA_NAME, localAppdata, 'application/json');\r\n      await handleListClick();\r\n      if (remoteFileList.length > 5) {\r\n        const deleteList = [];\r\n        for (let i = 5; i < remoteFileList.length; i++) {\r\n          deleteList.push(remoteFileList[i].id);\r\n        }\r\n        await Promise.all(deleteList.map((fileId: any) => requestFilesDelete(fileId)));\r\n        await handleListClick();\r\n      }\r\n    }\r\n\r\n    /** ダウンロード済みのリモートのAppdataをローカルストレージにコピー(上書き)します */\r\n    const handleImportClick = () => {\r\n      if (!confirm('取得済のデータでアプリデータを上書きします。よろしいですか？')) {\r\n        return;\r\n      }\r\n      overrideObject(localStorage, remoteAppdata);\r\n      handleReloadLocalClick();\r\n    }\r\n\r\n    /** ローカルのAppdataをローカルストレージから再読み込みします */\r\n    const handleReloadLocalClick = () => {\r\n      overrideObject(localAppdata, localStorage);\r\n    }\r\n\r\n    const handleRemoveAllClick = async () => {\r\n      const response: any = await requestFilesList();\r\n      if (response?.files && _.isArray(response.files)) {\r\n        remoteFileList.splice(0, remoteFileList.length, ...response.files);\r\n        await Promise.all(response.files.map((file: any) => requestFilesDelete(file.id)));\r\n      }\r\n    }\r\n\r\n    const overrideObject = (dst: object, src: object) => {\r\n      Object.keys(dst).filter(key => !(key in src)).forEach(key => {\r\n        delete (dst as any)[key];\r\n      })\r\n      Object.keys(src).forEach(key => {\r\n        (dst as any)[key] = (src as any)[key];\r\n      })\r\n    }\r\n\r\n    /**\r\n     * files.create\r\n     * \r\n     * @param name ファイルの名前\r\n     * @param contentType Content-Type\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesCreate(name: string, content: any, contentType: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const boundary = '----====----====----';\r\n      const workParams: any = {\r\n        uploadType: 'multipart',\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      const parts: [string, any, any][] = [];\r\n      parts.push(['metadata', {\r\n        name: name,\r\n        parents: ['appDataFolder'],\r\n      }, { 'Content-Type': 'application/json' }]);\r\n      parts.push(['media', content, { 'Content-Type': contentType }]);\r\n\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: '/upload/drive/v3/files',\r\n          method: 'POST',\r\n          params: workParams,\r\n          headers: {\r\n            'Content-Type': `multipart/related; boundary=${boundary}`\r\n          },\r\n          body: makeMultipartBody(parts, boundary),\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    // /**\r\n    //  * files.update\r\n    //  * \r\n    //  * @param id ファイルのID\r\n    //  * @param contentType Content-Type\r\n    //  * @param params APIのパラメータ\r\n    //  */\r\n    // async function requestFilesUpdate(id: string, content: any, contentType: string, params?: any) {\r\n    //   const boundary = '----====----====----';\r\n    //   const workParams: any = {\r\n    //     uploadType: 'multipart',\r\n    //   };\r\n    //   if (params) {\r\n    //     Object.keys(params).forEach(key => {\r\n    //       workParams[key] = params[key];\r\n    //     });\r\n    //   }\r\n    //   const parts: [string, any, any][] = [];\r\n    //   parts.push(['metadata', {}, { 'Content-Type': 'application/json' }]);\r\n    //   parts.push(['media', content, { 'Content-Type': contentType }]);\r\n\r\n    //   try {\r\n    //     const response = await gapi.client.request({\r\n    //       path: `/upload/drive/v3/files/${id}`,\r\n    //       method: 'PATCH',\r\n    //       params: workParams,\r\n    //       headers: {\r\n    //         'Content-Type': `multipart/related; boundary=${boundary}`\r\n    //       },\r\n    //       body: makeMultipartBody(parts, boundary),\r\n    //     });\r\n    //     console.debug(response);\r\n    //     return response;\r\n    //   } catch (err) {\r\n    //     handleGapiException(err);\r\n    //   }\r\n    // }\r\n\r\n    function makeMultipartBody(parts: [string, any, any][], boundary: string) {\r\n      const result: string[] = [];\r\n      parts.forEach(part => {\r\n        const body = part[1];\r\n        const headers = part[2];\r\n        result.push(`--${boundary}`);\r\n        Object.keys(headers).forEach(key => {\r\n          result.push(`${key}: ${headers[key]}`);\r\n        })\r\n        result.push('');\r\n        if (_.isString(body)) {\r\n          result.push(body);\r\n        } else if (_.isPlainObject(body)) {\r\n          result.push(JSON.stringify(body));\r\n        }\r\n      })\r\n      result.push(`--${boundary}--`);\r\n      return result.join('\\r\\n');\r\n    }\r\n\r\n    /**\r\n     * files.list\r\n     * \r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesList(params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n        orderBy: 'modifiedTime desc',\r\n        pageSize: 20,\r\n        spaces: 'appDataFolder',\r\n        fields: 'nextPageToken, files(id, name, modifiedTime, size)',\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: 'drive/v3/files',\r\n          method: 'GET',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        if (response.result) {\r\n          return response.result;\r\n        }\r\n        throw response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * files.get\r\n     * \r\n     * @param fileId ファイルのID\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesGet(fileId: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: `drive/v3/files/${fileId}`,\r\n          method: 'GET',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * files.delete\r\n     * \r\n     * @param fileId ファイルのID\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesDelete(fileId: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: `drive/v3/files/${fileId}`,\r\n          method: 'DELETE',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    function handleGapiException(err: unknown) {\r\n      console.error(err);\r\n      alert(err);\r\n\r\n      overrideObject(tokenResponse, {});\r\n      overrideObject(remoteAppdata, {});\r\n      remoteFileList.splice(0, remoteFileList.length);\r\n      overrideObject(selectedFile, {});\r\n      overrideObject(downloadedFile, {});\r\n    }\r\n\r\n    const loaTrClass = (id: string) => {\r\n      const classes = [];\r\n      if (selectedFile && selectedFile.id == id) classes.push('selected');\r\n      if (downloadedFile && downloadedFile.id == id) classes.push('downloaded');\r\n      return classes.join(' ');\r\n    }\r\n\r\n    return {\r\n      login,\r\n      logoff,\r\n      handleListClick,\r\n      handleGetClick,\r\n      handleDeleteClick,\r\n      handleExportClick,\r\n      handleImportClick,\r\n      handleReloadLocalClick,\r\n      handleRemoveAllClick,\r\n      gapiInited,\r\n      isSignedIn,\r\n      isProcessing,\r\n      comparisonList,\r\n      canExport,\r\n      canImport,\r\n\r\n      remoteFileList,\r\n      selectedFile,\r\n      downloadedFile,\r\n      loaTrClass,\r\n\r\n      overwriteObject,\r\n    };\r\n  },\r\n});\r\n</script>\r\n<style scoped>\r\ndiv.usage {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  width: 60em;\r\n  max-width: 90%;\r\n}\r\n\r\ndiv.usage dl {\r\n  text-align: left;\r\n}\r\n\r\ntable {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  min-width: 80%;\r\n  table-layout: fixed;\r\n  margin-bottom: 10px;\r\n  border: 1px double gray;\r\n}\r\n\r\nth,\r\ntd {\r\n  border: 1px solid gray;\r\n}\r\n\r\nth {\r\n  background-color: cornflowerblue;\r\n}\r\n\r\ntr.selected {\r\n  background-color: darkkhaki;\r\n}\r\n\r\ntr.downloaded {\r\n  color: brown;\r\n}\r\n\r\ntd button {\r\n  width: 5em;\r\n}\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=045ad1ee&scoped=true&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=045ad1ee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-045ad1ee\"]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport i18n from '@/i18n';\r\n\r\nasync function main() {\r\n    createApp(App, {\r\n    }).use(i18n).mount('#app')\r\n}\r\n\r\nmain();\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 286;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t286: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgencalc\"] = self[\"webpackChunkgencalc\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504,996], function() { return __webpack_require__(5023); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","class","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","key","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_Fragment","_createElementVNode","style","href","type","onClick","args","login","disabled","gapiInited","_toDisplayString","isSignedIn","logoff","isProcessing","handleListClick","_renderList","remoteFileList","filter","s","undefined","id","item","_normalizeClass","loaTrClass","$event","overwriteObject","selectedFile","name","modifiedTime","size","handleGetClick","handleDeleteClick","handleReloadLocalClick","_createTextVNode","handleExportClick","canExport","handleImportClick","canImport","comparisonList","length","colspan","comparison","defineComponent","setup","CLIENT_ID","SCOPES","API_KEY","DISCOVERY_DOC","APPDATA_NAME","ref","initGapiClient","console","log","gapi","client","init","apiKey","discoveryDocs","then","value","onMounted","script","document","createElement","src","onload","async","load","callback","onerror","alert","timeout","ontimeout","body","appendChild","tokenResponse","reactive","localAppdata","remoteAppdata","downloadedFile","computed","access_token","result","localKeys","Object","keys","sort","remoteKeys","forEach","includes","_","push","isSameLocalAndRemote","e","googleSdkLoaded","google","accounts","oauth2","initTokenClient","client_id","scope","prompt","response","expires_in","Number","token_type","requestAccessToken","revoke","overrideObject","splice","requestFilesList","files","workId","requestFilesGet","alt","json","JSON","parse","workFileList","file","confirm","requestFilesDelete","requestFilesCreate","deleteList","i","Promise","all","map","fileId","localStorage","handleRemoveAllClick","dst","content","contentType","params","boundary","workParams","uploadType","parts","parents","request","path","method","headers","makeMultipartBody","debug","err","handleGapiException","part","stringify","join","orderBy","pageSize","spaces","fields","error","classes","__exports__","main","createApp","App","use","i18n","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}