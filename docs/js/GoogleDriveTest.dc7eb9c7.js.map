{"version":3,"file":"js/GoogleDriveTest.dc7eb9c7.js","mappings":"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","sources":["webpack://gencalc/./src/pages/GoogleDrive/App.vue","webpack://gencalc/./src/pages/GoogleDrive/App.vue?f4cd","webpack://gencalc/./src/pages/GoogleDrive/main.ts","webpack://gencalc/./src/pages/GoogleDrive/App.vue?1cb5","webpack://gencalc/webpack/bootstrap","webpack://gencalc/webpack/runtime/chunk loaded","webpack://gencalc/webpack/runtime/compat get default export","webpack://gencalc/webpack/runtime/define property getters","webpack://gencalc/webpack/runtime/global","webpack://gencalc/webpack/runtime/hasOwnProperty shorthand","webpack://gencalc/webpack/runtime/make namespace object","webpack://gencalc/webpack/runtime/node module decorator","webpack://gencalc/webpack/runtime/runtimeId","webpack://gencalc/webpack/runtime/jsonp chunk loading","webpack://gencalc/webpack/startup"],"sourcesContent":["<template>\r\n  <h2>Google Drive 連携</h2>\r\n  <h3>テスト中</h3>\r\n  <p style=\"text-align: left; margin-left: 2rem;\"><a href=\"./\">げんかるく</a> </p>\r\n  <p>本画面では、Google Driveのアプリデータフォルダを介して、ブラウザ間および端末間で《げんかるく》のデータを共有するための機能を提供します。</p>\r\n\r\n  <div class=\"usage\">\r\n  </div>\r\n\r\n  <div>\r\n    <button type=\"button\" @click=\"login\" :disabled=\"!gapiInited\">\r\n      {{ isSignedIn ? 'リフレッシュ' : 'Googleでログイン' }}\r\n    </button>\r\n    <button type=\"button\" @click=\"logoff\" :disabled=\"!isSignedIn || isProcessing\">ログアウト</button>\r\n  </div>\r\n  <br />\r\n\r\n  <div>\r\n    <button type=\"button\" @click=\"handleListClick\" :disabled=\"!isSignedIn || isProcessing\">Google\r\n      Drive上の退避データ一覧を取得</button>\r\n  </div>\r\n\r\n  <br />\r\n  <table class=\"list-of-appdata\">\r\n    <caption>Google Drive上のアプリデータ</caption>\r\n    <thead>\r\n      <tr>\r\n        <th>name</th>\r\n        <th>modifiedTime</th>\r\n        <th>size</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr :class=\"loaTrClass(item.id)\" v-for=\"item in remoteFileList.filter(s => s.id !== undefined)\" :key=\"item.id\"\r\n        @click=\"overwriteObject(selectedFile, item)\">\r\n        <td>{{ item.name }}</td>\r\n        <td>{{ item.modifiedTime }}</td>\r\n        <td>{{ item.size }}</td>\r\n        <td>\r\n          <button type=\"button\" :disabled=\"isProcessing\" @click=\"handleGetClick(item.id)\">取得</button>\r\n          <button type=\"button\" :disabled=\"isProcessing\" @click=\"handleDeleteClick(item.id)\">削除</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <br />\r\n  <br />\r\n  <br />\r\n  <div>\r\n    <button type=\"button\" @click=\"handleReloadLocalClick\">ローカルデータ再読込</button>\r\n    &nbsp;\r\n    <button type=\"button\" @click=\"handleExportClick\" :disabled=\"!canExport || isProcessing\">エクスポート</button>\r\n    <button type=\"button\" @click=\"handleImportClick\" :disabled=\"!canImport || isProcessing\">インポート</button>\r\n  </div>\r\n  <br />\r\n\r\n  <table class=\"remote-appdata\">\r\n    <caption> ローカルデータと取得データの差分 </caption>\r\n    <thead>\r\n      <tr>\r\n        <th>key</th>\r\n        <th>status</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-if=\"comparisonList.filter(s => s[1] != 0).length == 0\">\r\n        <td colspan=\"2\">差分なし</td>\r\n      </tr>\r\n      <tr v-else v-for=\"comparison in comparisonList.filter(s => s[1] != 0)\" :key=\"comparison[0]\">\r\n        <td>{{ comparison[0] }}</td>\r\n        <td>{{ ['同値', '差異あり', 'ローカルのみ', 'リモートのみ'][comparison[1]] }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <br />\r\n  <hr />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, onMounted, reactive, ref } from \"vue\";\r\nimport _ from \"lodash\";\r\nimport { googleSdkLoaded } from \"vue3-google-login\";\r\nimport { overwriteObject } from \"@/common\";\r\n/// <reference path=\"../../node_modules/@types/gapi/index.d.ts\" />\r\n\r\ntype TokenClientResponse = {\r\n  access_token: string,\r\n  expires_in: number,\r\n  scope: string,\r\n  token_type: string,\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-namespace\r\ndeclare namespace gapi { }\r\nexport default defineComponent({\r\n  name: \"GoogleDrive\",\r\n  setup() {\r\n    const CLIENT_ID = '507502242382-a7d868j5089106u313q7hd6js3i375l2.apps.googleusercontent.com';\r\n    const SCOPES = 'https://www.googleapis.com/auth/drive.appdata';\r\n    const API_KEY = 'AIzaSyCMehcHxbFkrej2jq_CT4TuAqQz01MTW6g';\r\n    const DISCOVERY_DOC = 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest';\r\n    const APPDATA_NAME = 'appdata_all.json';\r\n\r\n    const gapiInited = ref(false);\r\n\r\n    function initGapiClient() {\r\n      console.log('initGapiClient');\r\n      gapi.client.init({\r\n        apiKey: API_KEY,\r\n        discoveryDocs: [DISCOVERY_DOC],\r\n      }).then(() => {\r\n        gapiInited.value = true;\r\n      })\r\n    }\r\n\r\n    onMounted(() => {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://apis.google.com/js/api.js';\r\n      script.onload = async function () {\r\n        gapi.load('client', {\r\n          callback: function () {\r\n            initGapiClient();\r\n          },\r\n          onerror: function () {\r\n            alert('gapi.client failed to load!');\r\n          },\r\n          timeout: 30000, // 30 seconds\r\n          ontimeout: function () {\r\n            alert('gapi.client could not load in a timely manner!');\r\n          },\r\n        });\r\n      };\r\n      document.body.appendChild(script);\r\n    })\r\n\r\n    const tokenResponse = reactive({} as TokenClientResponse);\r\n    const localAppdata = reactive({} as any);\r\n    const remoteAppdata = reactive({} as any);\r\n    const remoteFileList = reactive([] as any[]);\r\n    const selectedFile = reactive({} as any);\r\n    const downloadedFile = reactive({} as any);\r\n    const isProcessing = ref(false);\r\n\r\n    const isSignedIn = computed(() => {\r\n      return tokenResponse.access_token ? true : false;\r\n    })\r\n\r\n    const comparisonList = computed(() => {\r\n      const result: [string, number][] = [];\r\n      const localKeys = Object.keys(localAppdata).sort();\r\n      const remoteKeys = Object.keys(remoteAppdata).sort();\r\n      localKeys.forEach(key => {\r\n        if (remoteKeys.includes(key)) {\r\n          if (_.isEqual(localAppdata[key], remoteAppdata[key])) {\r\n            result.push([key, 0]); // 同値\r\n          } else {\r\n            result.push([key, 1]); // 差異あり\r\n          }\r\n        } else {\r\n          result.push([key, 2]);  // ローカルのみ\r\n        }\r\n      })\r\n      remoteKeys.filter(key => !localKeys.includes(key)).forEach(key => {\r\n        result.push([key, 3]);  // リモートのみ\r\n      })\r\n      return result;\r\n    })\r\n\r\n    const isSameLocalAndRemote = computed(() => {\r\n      return comparisonList.value.filter(e => e[1] != 0).length == 0;\r\n    })\r\n\r\n    const canExport = computed(() => {\r\n      return !remoteAppdata || !isSameLocalAndRemote.value;\r\n    })\r\n\r\n    const canImport = computed(() => {\r\n      return remoteAppdata && !isSameLocalAndRemote.value;\r\n    })\r\n\r\n    /** Googleでログイン */\r\n    const login = () => {\r\n      googleSdkLoaded(google => {\r\n        google.accounts.oauth2.initTokenClient({\r\n          client_id: CLIENT_ID,\r\n          scope: SCOPES,\r\n          prompt: '',\r\n          callback: response => {\r\n            if (response.access_token) {\r\n              console.log(response);\r\n              tokenResponse.access_token = response.access_token;\r\n              tokenResponse.expires_in = Number(response.expires_in);\r\n              tokenResponse.scope = response.scope;\r\n              tokenResponse.token_type = response.token_type;\r\n\r\n              handleListClick();\r\n              handleReloadLocalClick();\r\n            }\r\n          }\r\n        }).requestAccessToken();\r\n      });\r\n    }\r\n\r\n    /** サインアウト */\r\n    const logoff = () => {\r\n      if (tokenResponse.access_token) {\r\n        googleSdkLoaded(google => {\r\n          google.accounts.oauth2.revoke(tokenResponse.access_token);\r\n        });\r\n      }\r\n      overrideObject(tokenResponse, {});\r\n      overrideObject(remoteAppdata, {});\r\n      remoteFileList.splice(0, remoteFileList.length);\r\n      overrideObject(selectedFile, {});\r\n      overrideObject(downloadedFile, {});\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataの一覧を取得します */\r\n    const handleListClick = async () => {\r\n      await requestFilesList().then((response: any) => {\r\n        console.log(response);\r\n        if (response?.files && _.isArray(response.files)) {\r\n          remoteFileList.splice(0, remoteFileList.length, ...response.files);\r\n          console.log(remoteFileList);\r\n        }\r\n      });\r\n      overrideObject(selectedFile, {});\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataをダウンロードします */\r\n    const handleGetClick = async (id?: string) => {\r\n      const workId = id ? id : remoteFileList[0].id;\r\n      await requestFilesGet(workId, { alt: 'media' }).then((response: any) => {\r\n        if (response?.body) {\r\n          const json = JSON.parse(response?.body);\r\n          overrideObject(remoteAppdata, json);\r\n          const workFileList = remoteFileList.filter(file => file.id == id);\r\n          if (workFileList.length) {\r\n            overrideObject(downloadedFile, workFileList[0]);\r\n          }\r\n        } else {\r\n          overwriteObject(downloadedFile, {});\r\n        }\r\n      })\r\n      handleReloadLocalClick();\r\n    }\r\n\r\n    /** リモート(Google Drive)のAppdataを削除します */\r\n    const handleDeleteClick = async (id: string) => {\r\n      if (!confirm('選択データをGoogle Driveから削除します。よろしいですか？')) {\r\n        return;\r\n      }\r\n      await requestFilesDelete(id);\r\n      await handleListClick();\r\n      if (selectedFile && selectedFile.id == id) {\r\n        overwriteObject(selectedFile, {});\r\n      }\r\n    }\r\n\r\n    /** ローカルストレージのAppdataをリモート(Google Drive)にアップロードします */\r\n    const handleExportClick = async () => {\r\n      if (!confirm('Google Driveにアプリデータをアップロードします。よろしいですか？')) {\r\n        return;\r\n      }\r\n      handleReloadLocalClick();\r\n      await requestFilesCreate(APPDATA_NAME, localAppdata, 'application/json');\r\n      await handleListClick();\r\n      if (remoteFileList.length > 5) {\r\n        const deleteList = [];\r\n        for (let i = 5; i < remoteFileList.length; i++) {\r\n          deleteList.push(remoteFileList[i].id);\r\n        }\r\n        await Promise.all(deleteList.map((fileId: any) => requestFilesDelete(fileId)));\r\n        await handleListClick();\r\n      }\r\n    }\r\n\r\n    /** ダウンロード済みのリモートのAppdataをローカルストレージにコピー(上書き)します */\r\n    const handleImportClick = () => {\r\n      if (!confirm('取得済のデータでアプリデータを上書きします。よろしいですか？')) {\r\n        return;\r\n      }\r\n      overrideObject(localStorage, remoteAppdata);\r\n      handleReloadLocalClick();\r\n    }\r\n\r\n    /** ローカルのAppdataをローカルストレージから再読み込みします */\r\n    const handleReloadLocalClick = () => {\r\n      overrideObject(localAppdata, localStorage);\r\n    }\r\n\r\n    const handleRemoveAllClick = async () => {\r\n      const response: any = await requestFilesList();\r\n      if (response?.files && _.isArray(response.files)) {\r\n        remoteFileList.splice(0, remoteFileList.length, ...response.files);\r\n        await Promise.all(response.files.map((file: any) => requestFilesDelete(file.id)));\r\n      }\r\n    }\r\n\r\n    const overrideObject = (dst: object, src: object) => {\r\n      Object.keys(dst).filter(key => !(key in src)).forEach(key => {\r\n        delete (dst as any)[key];\r\n      })\r\n      Object.keys(src).forEach(key => {\r\n        (dst as any)[key] = (src as any)[key];\r\n      })\r\n    }\r\n\r\n    /**\r\n     * files.create\r\n     * \r\n     * @param name ファイルの名前\r\n     * @param contentType Content-Type\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesCreate(name: string, content: any, contentType: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const boundary = '----====----====----';\r\n      const workParams: any = {\r\n        uploadType: 'multipart',\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      const parts: [string, any, any][] = [];\r\n      parts.push(['metadata', {\r\n        name: name,\r\n        parents: ['appDataFolder'],\r\n      }, { 'Content-Type': 'application/json' }]);\r\n      parts.push(['media', content, { 'Content-Type': contentType }]);\r\n\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: '/upload/drive/v3/files',\r\n          method: 'POST',\r\n          params: workParams,\r\n          headers: {\r\n            'Content-Type': `multipart/related; boundary=${boundary}`\r\n          },\r\n          body: makeMultipartBody(parts, boundary),\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    // /**\r\n    //  * files.update\r\n    //  * \r\n    //  * @param id ファイルのID\r\n    //  * @param contentType Content-Type\r\n    //  * @param params APIのパラメータ\r\n    //  */\r\n    // async function requestFilesUpdate(id: string, content: any, contentType: string, params?: any) {\r\n    //   const boundary = '----====----====----';\r\n    //   const workParams: any = {\r\n    //     uploadType: 'multipart',\r\n    //   };\r\n    //   if (params) {\r\n    //     Object.keys(params).forEach(key => {\r\n    //       workParams[key] = params[key];\r\n    //     });\r\n    //   }\r\n    //   const parts: [string, any, any][] = [];\r\n    //   parts.push(['metadata', {}, { 'Content-Type': 'application/json' }]);\r\n    //   parts.push(['media', content, { 'Content-Type': contentType }]);\r\n\r\n    //   try {\r\n    //     const response = await gapi.client.request({\r\n    //       path: `/upload/drive/v3/files/${id}`,\r\n    //       method: 'PATCH',\r\n    //       params: workParams,\r\n    //       headers: {\r\n    //         'Content-Type': `multipart/related; boundary=${boundary}`\r\n    //       },\r\n    //       body: makeMultipartBody(parts, boundary),\r\n    //     });\r\n    //     console.debug(response);\r\n    //     return response;\r\n    //   } catch (err) {\r\n    //     handleGapiException(err);\r\n    //   }\r\n    // }\r\n\r\n    function makeMultipartBody(parts: [string, any, any][], boundary: string) {\r\n      const result: string[] = [];\r\n      parts.forEach(part => {\r\n        const body = part[1];\r\n        const headers = part[2];\r\n        result.push(`--${boundary}`);\r\n        Object.keys(headers).forEach(key => {\r\n          result.push(`${key}: ${headers[key]}`);\r\n        })\r\n        result.push('');\r\n        if (_.isString(body)) {\r\n          result.push(body);\r\n        } else if (_.isPlainObject(body)) {\r\n          result.push(JSON.stringify(body));\r\n        }\r\n      })\r\n      result.push(`--${boundary}--`);\r\n      return result.join('\\r\\n');\r\n    }\r\n\r\n    /**\r\n     * files.list\r\n     * \r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesList(params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n        orderBy: 'modifiedTime desc',\r\n        pageSize: 20,\r\n        spaces: 'appDataFolder',\r\n        fields: 'nextPageToken, files(id, name, modifiedTime, size)',\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: 'drive/v3/files',\r\n          method: 'GET',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        if (response.result) {\r\n          return response.result;\r\n        }\r\n        throw response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * files.get\r\n     * \r\n     * @param fileId ファイルのID\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesGet(fileId: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: `drive/v3/files/${fileId}`,\r\n          method: 'GET',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * files.delete\r\n     * \r\n     * @param fileId ファイルのID\r\n     * @param params APIのパラメータ\r\n     */\r\n    async function requestFilesDelete(fileId: string, params?: any) {\r\n      isProcessing.value = true;\r\n      const workParams: any = {\r\n      };\r\n      if (params) {\r\n        Object.keys(params).forEach(key => {\r\n          workParams[key] = params[key];\r\n        });\r\n      }\r\n      try {\r\n        const response = await gapi.client.request({\r\n          path: `drive/v3/files/${fileId}`,\r\n          method: 'DELETE',\r\n          params: workParams,\r\n        });\r\n        console.debug(response);\r\n        return response;\r\n      } catch (err) {\r\n        handleGapiException(err);\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    }\r\n\r\n    function handleGapiException(err: unknown) {\r\n      console.error(err);\r\n      alert(err);\r\n\r\n      overrideObject(tokenResponse, {});\r\n      overrideObject(remoteAppdata, {});\r\n      remoteFileList.splice(0, remoteFileList.length);\r\n      overrideObject(selectedFile, {});\r\n      overrideObject(downloadedFile, {});\r\n    }\r\n\r\n    const loaTrClass = (id: string) => {\r\n      const classes = [];\r\n      if (selectedFile && selectedFile.id == id) classes.push('selected');\r\n      if (downloadedFile && downloadedFile.id == id) classes.push('downloaded');\r\n      return classes.join(' ');\r\n    }\r\n\r\n    return {\r\n      login,\r\n      logoff,\r\n      handleListClick,\r\n      handleGetClick,\r\n      handleDeleteClick,\r\n      handleExportClick,\r\n      handleImportClick,\r\n      handleReloadLocalClick,\r\n      handleRemoveAllClick,\r\n      gapiInited,\r\n      isSignedIn,\r\n      isProcessing,\r\n      comparisonList,\r\n      canExport,\r\n      canImport,\r\n\r\n      remoteFileList,\r\n      selectedFile,\r\n      downloadedFile,\r\n      loaTrClass,\r\n\r\n      overwriteObject,\r\n    };\r\n  },\r\n});\r\n</script>\r\n<style scoped>\r\ndiv.usage {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  width: 60em;\r\n  max-width: 90%;\r\n}\r\n\r\ndiv.usage dl {\r\n  text-align: left;\r\n}\r\n\r\ntable {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  min-width: 80%;\r\n  table-layout: fixed;\r\n  margin-bottom: 10px;\r\n  border: 1px double gray;\r\n}\r\n\r\nth,\r\ntd {\r\n  border: 1px solid gray;\r\n}\r\n\r\nth {\r\n  background-color: cornflowerblue;\r\n}\r\n\r\ntr.selected {\r\n  background-color: darkkhaki;\r\n}\r\n\r\ntr.downloaded {\r\n  color: brown;\r\n}\r\n\r\ntd button {\r\n  width: 5em;\r\n}\r\n</style>\r\n","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"disabled\"]\nconst _hoisted_2 = [\"disabled\"]\nconst _hoisted_3 = [\"disabled\"]\nconst _hoisted_4 = { class: \"list-of-appdata\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"disabled\", \"onClick\"]\nconst _hoisted_7 = [\"disabled\", \"onClick\"]\nconst _hoisted_8 = [\"disabled\"]\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = { class: \"remote-appdata\" }\nconst _hoisted_11 = { key: 0 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _cache[12] || (_cache[12] = _createElementVNode(\"h2\", null, \"Google Drive 連携\", -1)),\n    _cache[13] || (_cache[13] = _createElementVNode(\"h3\", null, \"テスト中\", -1)),\n    _cache[14] || (_cache[14] = _createElementVNode(\"p\", { style: {\"text-align\":\"left\",\"margin-left\":\"2rem\"} }, [\n      _createElementVNode(\"a\", { href: \"./\" }, \"げんかるく\")\n    ], -1)),\n    _cache[15] || (_cache[15] = _createElementVNode(\"p\", null, \"本画面では、Google Driveのアプリデータフォルダを介して、ブラウザ間および端末間で《げんかるく》のデータを共有するための機能を提供します。\", -1)),\n    _cache[16] || (_cache[16] = _createElementVNode(\"div\", { class: \"usage\" }, null, -1)),\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.login && _ctx.login(...args))),\n        disabled: !_ctx.gapiInited\n      }, _toDisplayString(_ctx.isSignedIn ? 'リフレッシュ' : 'Googleでログイン'), 9, _hoisted_1),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.logoff && _ctx.logoff(...args))),\n        disabled: !_ctx.isSignedIn || _ctx.isProcessing\n      }, \"ログアウト\", 8, _hoisted_2)\n    ]),\n    _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.handleListClick && _ctx.handleListClick(...args))),\n        disabled: !_ctx.isSignedIn || _ctx.isProcessing\n      }, \"Google Drive上の退避データ一覧を取得\", 8, _hoisted_3)\n    ]),\n    _cache[18] || (_cache[18] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"table\", _hoisted_4, [\n      _cache[6] || (_cache[6] = _createElementVNode(\"caption\", null, \"Google Drive上のアプリデータ\", -1)),\n      _cache[7] || (_cache[7] = _createElementVNode(\"thead\", null, [\n        _createElementVNode(\"tr\", null, [\n          _createElementVNode(\"th\", null, \"name\"),\n          _createElementVNode(\"th\", null, \"modifiedTime\"),\n          _createElementVNode(\"th\", null, \"size\"),\n          _createElementVNode(\"th\")\n        ])\n      ], -1)),\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.remoteFileList.filter(s => s.id !== undefined), (item) => {\n          return (_openBlock(), _createElementBlock(\"tr\", {\n            class: _normalizeClass(_ctx.loaTrClass(item.id)),\n            key: item.id,\n            onClick: ($event: any) => (_ctx.overwriteObject(_ctx.selectedFile, item))\n          }, [\n            _createElementVNode(\"td\", null, _toDisplayString(item.name), 1),\n            _createElementVNode(\"td\", null, _toDisplayString(item.modifiedTime), 1),\n            _createElementVNode(\"td\", null, _toDisplayString(item.size), 1),\n            _createElementVNode(\"td\", null, [\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                disabled: _ctx.isProcessing,\n                onClick: ($event: any) => (_ctx.handleGetClick(item.id))\n              }, \"取得\", 8, _hoisted_6),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                disabled: _ctx.isProcessing,\n                onClick: ($event: any) => (_ctx.handleDeleteClick(item.id))\n              }, \"削除\", 8, _hoisted_7)\n            ])\n          ], 10, _hoisted_5))\n        }), 128))\n      ])\n    ]),\n    _cache[19] || (_cache[19] = _createElementVNode(\"br\", null, null, -1)),\n    _cache[20] || (_cache[20] = _createElementVNode(\"br\", null, null, -1)),\n    _cache[21] || (_cache[21] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.handleReloadLocalClick && _ctx.handleReloadLocalClick(...args)))\n      }, \"ローカルデータ再読込\"),\n      _cache[8] || (_cache[8] = _createTextVNode(\"   \")),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.handleExportClick && _ctx.handleExportClick(...args))),\n        disabled: !_ctx.canExport || _ctx.isProcessing\n      }, \"エクスポート\", 8, _hoisted_8),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.handleImportClick && _ctx.handleImportClick(...args))),\n        disabled: !_ctx.canImport || _ctx.isProcessing\n      }, \"インポート\", 8, _hoisted_9)\n    ]),\n    _cache[22] || (_cache[22] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"table\", _hoisted_10, [\n      _cache[10] || (_cache[10] = _createElementVNode(\"caption\", null, \" ローカルデータと取得データの差分 \", -1)),\n      _cache[11] || (_cache[11] = _createElementVNode(\"thead\", null, [\n        _createElementVNode(\"tr\", null, [\n          _createElementVNode(\"th\", null, \"key\"),\n          _createElementVNode(\"th\", null, \"status\")\n        ])\n      ], -1)),\n      _createElementVNode(\"tbody\", null, [\n        (_ctx.comparisonList.filter(s => s[1] != 0).length == 0)\n          ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_11, _cache[9] || (_cache[9] = [\n              _createElementVNode(\"td\", { colspan: \"2\" }, \"差分なし\", -1)\n            ])))\n          : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_ctx.comparisonList.filter(s => s[1] != 0), (comparison) => {\n              return (_openBlock(), _createElementBlock(\"tr\", {\n                key: comparison[0]\n              }, [\n                _createElementVNode(\"td\", null, _toDisplayString(comparison[0]), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(['同値', '差異あり', 'ローカルのみ', 'リモートのみ'][comparison[1]]), 1)\n              ]))\n            }), 128))\n      ])\n    ]),\n    _cache[23] || (_cache[23] = _createElementVNode(\"br\", null, null, -1)),\n    _cache[24] || (_cache[24] = _createElementVNode(\"hr\", null, null, -1))\n  ], 64))\n}","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport i18n from '@/i18n';\r\n\r\nasync function main() {\r\n    createApp(App, {\r\n    }).use(i18n).mount('#app')\r\n}\r\n\r\nmain();\r\n","import { render } from \"./App.vue?vue&type=template&id=e0566ffc&scoped=true&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=e0566ffc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e0566ffc\"]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 286;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t286: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgencalc\"] = self[\"webpackChunkgencalc\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504,996], function() { return __webpack_require__(1607); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["vue_1","require","lodash_1","__importDefault","vue3_google_login_1","common_1","exports","defineComponent","name","setup","CLIENT_ID","SCOPES","API_KEY","DISCOVERY_DOC","APPDATA_NAME","gapiInited","ref","initGapiClient","console","log","gapi","client","init","apiKey","discoveryDocs","then","value","onMounted","script","document","createElement","src","onload","async","load","callback","onerror","alert","timeout","ontimeout","body","appendChild","tokenResponse","reactive","localAppdata","remoteAppdata","remoteFileList","selectedFile","downloadedFile","isProcessing","isSignedIn","computed","access_token","comparisonList","result","localKeys","Object","keys","sort","remoteKeys","forEach","key","includes","default","isEqual","push","filter","isSameLocalAndRemote","e","length","canExport","canImport","login","googleSdkLoaded","google","accounts","oauth2","initTokenClient","client_id","scope","prompt","response","expires_in","Number","token_type","handleListClick","handleReloadLocalClick","requestAccessToken","logoff","revoke","overrideObject","splice","requestFilesList","files","isArray","handleGetClick","workId","id","requestFilesGet","alt","json","JSON","parse","workFileList","file","overwriteObject","handleDeleteClick","confirm","requestFilesDelete","handleExportClick","requestFilesCreate","deleteList","i","Promise","all","map","fileId","handleImportClick","localStorage","handleRemoveAllClick","dst","content","contentType","params","boundary","workParams","uploadType","parts","parents","request","path","method","headers","makeMultipartBody","debug","err","handleGapiException","part","isString","isPlainObject","stringify","join","orderBy","pageSize","spaces","fields","error","loaTrClass","classes","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","class","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","Fragment","createElementVNode","style","href","type","onClick","args","disabled","toDisplayString","renderList","s","undefined","item","normalizeClass","$event","modifiedTime","size","createTextVNode","colspan","comparison","App_vue_1","i18n_1","main","createApp","use","mount","__exports__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}