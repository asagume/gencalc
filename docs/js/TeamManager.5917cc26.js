(function(){"use strict";var e={3550:function(e,t,n){n.d(t,{$Y:function(){return u},Cb:function(){return S},FX:function(){return _},GN:function(){return D},Ml:function(){return V},Nd:function(){return O},PW:function(){return I},X9:function(){return M},_9:function(){return b},_J:function(){return m},bw:function(){return a},bx:function(){return g},dr:function(){return H},i7:function(){return j},k9:function(){return A},oN:function(){return s},q4:function(){return v},qy:function(){return y},tm:function(){return E},vN:function(){return N}});n(7658);var a=n(8667),l=n(7722),r=n(1930),o=n(7849),i=n(2364),c=n(1003),s=n(5678),u=n(2124),m=n(3185),d=n(8970),b=n(6385),p=n(5093),f=n(9286),h=n(8846),v=n(7646);const g="data:image/gif;base64,R0lGODlhAQABAGAAACH5BAEKAP8ALAAAAAABAAEAAAgEAP8FBAA7";function k(e){let t=null;return e.icon_url?t=e.icon_url:e.image?t=e.image:e.import&&(t=e.import.replace("data/","images/"),-1!=t.indexOf("characters/")&&(t=t.replace("characters/","characters/face/")),t=t.replace(/json$/,"png")),t}const y=[];Object.keys(a).forEach((e=>{const t=a[e];t.key=e,t.icon_url=k(t),y.push(t)}));const O={"片手剣":l,"両手剣":r,"長柄武器":o,"弓":i,"法器":c};Object.keys(O).forEach((e=>{const t=O[e];Object.keys(t).forEach((e=>{const n=t[e];n.key=e,n.icon_url=k(n)}))}));Object.keys(l).map((e=>l[e])),Object.keys(r).map((e=>r[e])),Object.keys(o).map((e=>o[e])),Object.keys(i).map((e=>i[e])),Object.keys(c).map((e=>c[e]));const C=[];Object.keys(s).forEach((e=>{const t=s[e];t.key=e,t.icon_url=k(t),C.push(t)}));Object.keys(u[5]),Object.keys(m);for(const F of Object.keys(d))for(const e of Object.keys(d[F]))d[F][e]>=1e3&&(d[F][e]=1/0);const _=Object.keys(d).map((e=>({key:e,...d[e]}))),w=(Object.keys(b).map((e=>({key:e,...b[e]}))),Object.keys(p).map((e=>({key:e,...p[e]}))),Object.keys(f).map((e=>({key:e,...f[e]}))),Object.keys(h).map((e=>({key:e,...h[e]}))),Object.keys(v).map((e=>({key:e,...v[e]}))),new Map);async function E(e){try{if(!w.has(e)){const t=a[e]["import"].replace(/^\//,""),n=await fetch(t).then((e=>e.json())),l=a[e].武器;n.通常攻撃.icon_url=A[l],w.set(e,n)}return w.get(e)}catch(t){throw console.error(e),t}}const T=new Map;async function j(e,t){try{if(!T.has(e)){let n;n=t?[t]:Object.keys(O);for(const t of n)if(e in O[t]){const n=O[t],a=n[e]["import"],l=await fetch(a).then((e=>e.json()));l.種類=t,T.set(e,l);break}}return T.get(e)}catch(n){throw console.error(e,t),n}}const M={"炎":"pyro","水":"hydro","風":"anemo","雷":"electro","草":"dendro","氷":"cryo","岩":"geo"},S={"炎":"pyro-bg","水":"hydro-bg","風":"anemo-bg","雷":"electro-bg","草":"dendro-bg","氷":"cryo-bg","岩":"geo-bg"},D={"炎":"images/element_pyro.png","水":"images/element_hydro.png","風":"images/element_anemo.png","雷":"images/element_electro.png","草":"images/element_dendro.png","氷":"images/element_cryo.png","岩":"images/element_geo.png"},A={"片手剣":"images/characters/NormalAttack_sword.png","両手剣":"images/characters/NormalAttack_claymore.png","長柄武器":"images/characters/NormalAttack_polearm.png","弓":"images/characters/NormalAttack_bow.png","法器":"images/characters/NormalAttack_catalyst.png"},H={1:"star1-bg",2:"star2-bg",3:"star3-bg",4:"star4-bg",5:"star5-bg"},I=new Map([["キャラクター",null],["レベル",null],["命ノ星座",0],["通常攻撃レベル",0],["元素スキルレベル",0],["元素爆発レベル",0],["武器",null],["武器レベル",0],["精錬ランク",0],["聖遺物セット効果1",null],["聖遺物セット効果2",null],["聖遺物メイン効果1",null],["聖遺物メイン効果2",null],["聖遺物メイン効果3",null],["聖遺物メイン効果4",null],["聖遺物メイン効果5",null],["聖遺物サブ効果HP",0],["聖遺物サブ効果攻撃力",0],["聖遺物サブ効果防御力",0],["聖遺物サブ効果元素熟知",0],["聖遺物サブ効果会心率",0],["聖遺物サブ効果会心ダメージ",0],["聖遺物サブ効果元素チャージ効率",0],["聖遺物サブ効果HPP",0],["聖遺物サブ効果攻撃力P",0],["聖遺物サブ効果防御力P",0],["聖遺物優先するサブ効果1",null],["聖遺物優先するサブ効果1上昇値",-1],["聖遺物優先するサブ効果1上昇回数",-1],["聖遺物優先するサブ効果2",null],["聖遺物優先するサブ効果2上昇値",-1],["聖遺物優先するサブ効果2上昇回数",-1],["聖遺物優先するサブ効果3",null],["聖遺物優先するサブ効果3上昇値",-1],["聖遺物優先するサブ効果3上昇回数",-1]]),N=["通常攻撃ダメージ","重撃ダメージ","落下攻撃ダメージ","元素スキルダメージ","元素爆発ダメージ"],R=(new Map([["HP%","HP"],["元素熟知","熟"],["元素チャージ効率","ﾁｬ"],["会心率","率"],["会心ダメージ","ダ"],["与える治療効果","治"]]),new Map([["HP%","HP"],["攻撃力%","AT"],["防御力%","DF"],["元素熟知","EM"],["会心率","CR"],["会心ダメージ","CD"],["元素チャージ効率","ER"],["与える治療効果","HE"],["炎元素ダメージバフ","Py"],["水元素ダメージバフ","Hy"],["風元素ダメージバフ","An"],["雷元素ダメージバフ","El"],["草元素ダメージバフ","De"],["氷元素ダメージバフ","Cr"],["岩元素ダメージバフ","Ge"],["物理ダメージバフ","Ph"]]),new Map([["HP","HP"],["攻撃力","ATK"],["防御力","DEF"],["元素熟知","ElementalMastery"],["会心率","CritRate"],["会心ダメージ","CritDMG"],["元素チャージ効率","EnergyRecharge"],["炎元素ダメージバフ","Pyro"],["水元素ダメージバフ","Hydro"],["風元素ダメージバフ","Anemo"],["雷元素ダメージバフ","Electro"],["草元素ダメージバフ","Dendro"],["氷元素ダメージバフ","Cryo"],["岩元素ダメージバフ","Geo"],["物理ダメージバフ","Physical"],["与える治療効果","Healing"],["HP%","HPp"],["攻撃力%","ATKp"],["防御力%","DEFp"]])),P=new Map;R.forEach(((e,t)=>{P.set(e,t)}));const V=[{key:"",values:[7,7,7],counts:[0,0,0]},{key:"厳選初心者",values:[3,3,3],counts:[7,4,4]},{key:"厳選1ヶ月",values:[3,3,3],counts:[8,5,5]},{key:"厳選3ヶ月",values:[3,3,3],counts:[11,8,7]},{key:"日々石割り",values:[1,1,1],counts:[14,11,10]}]},7990:function(e,t,n){var a=n(9242),l=n(3396),r=n(7139);const o=e=>((0,l.dD)("data-v-9714bb3c"),e=e(),(0,l.Cn)(),e),i={class:"base-container"},c=o((()=>(0,l._)("div",{class:"header"},[(0,l.Uk)("   "),(0,l._)("a",{href:"./"},"げんかるく")],-1))),s={class:"pane1"},u={class:"display-stat-select"},m=["value"],d={class:"number-of-teams"},b=["min"],p={class:"data-control"},f=["disabled"],h={class:"pane2"},v=["id"],g={class:"pane3"},k=o((()=>(0,l._)("hr",null,null,-1))),y=o((()=>(0,l._)("h3",null,"ROTATION",-1))),O={id:"team-rotation"},C=(0,l.uE)('<div class="pane4" data-v-9714bb3c></div><div class="footer" data-v-9714bb3c><hr data-v-9714bb3c><h2 data-v-9714bb3c>チーム編成 Ver.0.6.0</h2><ul class="usage" data-v-9714bb3c><li data-v-9714bb3c>右上の◆のドラッグ＆ドロップでチームの並べ替えができます。</li></ul><dl class="history" data-v-9714bb3c><dt data-v-9714bb3c>0.5.0</dt><dd data-v-9714bb3c> ローテーションが保存されるようになりました。チームデータの一部として記憶します。 </dd></dl><p data-v-9714bb3c><a href="./TeamExample.html" data-v-9714bb3c>EXAMPLE</a></p><p data-v-9714bb3c><a href="./" data-v-9714bb3c>げんかるく - 原神ダメージシミュレーター</a>   <a href="./TeamOptionList.html" data-v-9714bb3c>強化・弱体効果一覧</a></p></div>',2);function _(e,t,n,o,_,w){const E=(0,l.up)("TeamItem"),T=(0,l.up)("draggable"),j=(0,l.up)("TeamEditorModal"),M=(0,l.up)("TeamRotation");return(0,l.wg)(),(0,l.iD)("div",i,[c,(0,l._)("div",s,[(0,l._)("fieldset",null,[(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.DISPLAY_STAT_LIST,(n=>((0,l.wg)(),(0,l.iD)("label",{class:"display-stat",key:n[1]},[(0,l.wy)((0,l._)("input",{class:"hidden",type:"radio",name:"display-stat","onUpdate:modelValue":t[0]||(t[0]=t=>e.displayStat=t),value:n[0]},null,8,m),[[a.G2,e.displayStat]]),(0,l._)("span",null,(0,r.zw)(n[1]),1)])))),128))]),(0,l._)("label",d,[(0,l.Uk)(" Number of teams "),(0,l.wy)((0,l._)("input",{type:"number",min:e.NUMBER_OF_TEAMS,max:999,"onUpdate:modelValue":t[1]||(t[1]=t=>e.numberOfTeams=t),onChange:t[2]||(t[2]=(...t)=>e.numberOfTeamsOnChange&&e.numberOfTeamsOnChange(...t))},null,40,b),[[a.nr,e.numberOfTeams]])]),(0,l._)("div",p,[(0,l._)("button",{type:"button",disabled:e.saveDisabled,onClick:t[3]||(t[3]=(...t)=>e.saveOnClick&&e.saveOnClick(...t))}," Save ",8,f),(0,l._)("button",{type:"button",onClick:t[4]||(t[4]=(...t)=>e.loadOnClick&&e.loadOnClick(...t))}," Load "),(0,l._)("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.clearOnClick&&e.clearOnClick(...t))}," Clear ")])])]),(0,l._)("div",h,[(0,l.wy)((0,l._)("div",null,[(0,l.Wm)(T,{list:e.teams,"item-key":"id",sort:!0,handle:".handle"},{item:(0,l.w5)((({element:t})=>[(0,l._)("div",{style:{display:"inline-block"},id:"team-"+t.id},[(0,l.Wm)(E,{team:t,selected:e.teamSelected(t.id),"display-stat":e.displayStat,"display-res":e.displayRes,constellations:e.constellations,editable:!0,"show-equipment":!0,onClick:n=>e.teamOnClick(t.id),"onClick:edit":e.editOnClick,"onClick:jumpToRotation":e.jumpToRotation,"onUpdate:memberResult":e.updateMemberResult},null,8,["team","selected","display-stat","display-res","constellations","onClick","onClick:edit","onClick:jumpToRotation","onUpdate:memberResult"])],8,v)])),_:1},8,["list"])],512),[[a.F8,!e.teamEditorVisible]]),(0,l.wy)((0,l._)("div",null,[(0,l.Wm)(j,{visible:e.teamEditorVisible,team:e.forcusedTeam,"onClick:cancel":t[6]||(t[6]=t=>e.teamEditorVisible=!1),"onClick:ok":e.updateTeam},null,8,["visible","team","onClick:ok"])],512),[[a.F8,e.teamEditorVisible]])]),(0,l._)("div",g,[k,y,(0,l._)("div",O,[e.forcusedTeam?((0,l.wg)(),(0,l.j4)(M,{key:0,team:e.forcusedTeam,"team-member-result":e.teamMemberResult,constellations:e.constellations,"onUpdate:rotation":e.updateRotation,"onClick:jumpToTeam":e.jumpToTeam},null,8,["team","team-member-result","constellations","onUpdate:rotation","onClick:jumpToTeam"])):(0,l.kq)("",!0)])]),C])}n(7658);var w=n(4806),E=n.n(w),T=n(6983),j=n.n(T),M=n(4870),S=n(6552),D=n(9541),A=n(6861);const H=e=>((0,l.dD)("data-v-328fa432"),e=e(),(0,l.Cn)(),e),I=H((()=>(0,l._)("hr",null,null,-1))),N={class:"input-name"},R={class:"character-select-mode"},P={key:0},V={key:1},F={class:"tags"},U=["onClick"],x={class:"buildname-select"},q=["value"],B={class:"input-description"},L={class:"buttons"};function Y(e,t,n,o,i,c){const s=(0,l.up)("CharacterSelect"),u=(0,l.up)("MemberItem");return(0,l.wg)(),(0,l.iD)(l.HY,null,[e.characterSelectMode?((0,l.wg)(),(0,l.j4)(s,{key:1,visible:!0,characters:e.replacements,"onUpdate:characters":e.updateReplacements},null,8,["characters","onUpdate:characters"])):((0,l.wg)(),(0,l.j4)(s,{key:0,visible:!0,characters:e.characters,"onUpdate:characters":e.updateCharacters},null,8,["characters","onUpdate:characters"])),I,(0,l._)("div",N,[(0,l.Uk)(" Team Name: "),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.workTeam.name=t),type:"text",minlength:"1",maxlength:"16",placeholder:"INPUT TEAM NAME"},null,512),[[a.nr,e.workTeam.name]])]),(0,l._)("div",R,[(0,l.Uk)(" Character Select Mode: "),(0,l._)("button",{class:"character-select-mode",onClick:t[1]||(t[1]=(...t)=>e.characterSelectModeOnClick&&e.characterSelectModeOnClick(...t))},(0,r.zw)(e.characterSelectMode?"REPLACEMENTS":"MEMBERS"),1),(0,l._)("div",null,[e.characterSelectMode?((0,l.wg)(),(0,l.iD)("span",V,(0,r.zw)(e.selectedMemberName()+"の代替キャラクターを選択して下さい"),1)):((0,l.wg)(),(0,l.iD)("span",P," チームメンバーを選択して下さい "))])]),(0,l._)("div",F,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.TAG_LIST,(t=>((0,l.wg)(),(0,l.iD)("span",{class:(0,r.C_)("tag"+e.tagSelectedClass(t)),key:t,onClick:n=>e.tagOnClick(t)},(0,r.zw)(t),11,U)))),128))]),(0,l._)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.workTeam.members,(t=>((0,l.wg)(),(0,l.iD)("div",{class:(0,r.C_)("member"+e.memberSelectedClass(t.id)),key:t.id},[(0,l.Wm)(u,{member:t,onClick:n=>e.memberOnClick(t.id)},null,8,["member","onClick"])],2)))),128)),(0,l._)("div",x,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedMemberBuildname=t),onChange:t[3]||(t[3]=(...t)=>e.buildnameOnChange&&e.buildnameOnChange(...t))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.buildnames,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e},(0,r.zw)(e),9,q)))),128))],544),[[a.F8,e.buildnames.length],[a.bM,e.selectedMemberBuildname]])])]),(0,l._)("div",B,[(0,l.Uk)(" Short Note: "),(0,l.wy)((0,l._)("input",{class:"description","onUpdate:modelValue":t[4]||(t[4]=t=>e.workTeam.description=t),type:"text",maxlength:"40",placeholder:"INPUT NOTE"},null,512),[[a.nr,e.workTeam.description]])]),(0,l._)("div",L,[(0,l._)("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.cancelOnClick&&e.cancelOnClick(...t))},"cancel"),(0,l._)("button",{type:"button",onClick:t[6]||(t[6]=(...t)=>e.okOnClick&&e.okOnClick(...t))},"ok")])],64)}var K=n(4485),Z=n(3108),G=n(2986),X=(0,l.aZ)({name:"TeamEditorModal",components:{CharacterSelect:K.Z,MemberItem:Z.Z},props:{visible:{type:Boolean,required:!0},team:{type:Object,required:!0}},emits:["click:cancel","click:ok"],setup(e,t){const n=(0,M.iH)(!1),a=(0,M.qj)({id:-1,name:"",members:[],description:"",rotation:[],rotationDescription:""}),r=(0,M.iH)(-1),o=["Main-DPS","Carry","Sub-DPS","Support","Driver","Enabler","Battery","Free"],i=(0,M.iH)(""),c=(0,M.iH)(-1);function s(){a.id=e.team.id,a.name=e.team.name;const t=[];for(let n=0;n<e.team.members.length;n++)t.push({id:n,name:e.team.members[n].name,buildname:e.team.members[n].buildname,builddata:e.team.members[n].builddata,tags:E().cloneDeep(e.team.members[n].tags.filter((e=>o.includes(e)))),replacements:e.team.members[n].replacements?[...e.team.members[n].replacements]:[]});a.members.splice(0,a.members.length,...t),a.description=e.team.description,a.rotation=e.team.rotation}s(),(0,l.YP)(e,(e=>{e.team.members&&(s(),r.value>=0&&r.value<a.members.length&&(i.value=a.members[r.value].buildname)),n.value=!1}));const u=(0,l.Fl)((()=>a.members.map((e=>e.name)))),m=(0,l.Fl)((()=>{let e=[];if(r.value>=0&&r.value<a.members.length){const t=a.members[r.value];e=[...t.replacements];for(let n=e.length;n<2;n++)e.push("")}return e})),d=e=>{for(let t=0;t<e.length;t++)if(a.members[t].name!=e[t]&&(a.members[t].tags=[],a.members[t].replacements=[]),a.members[t].name=e[t],a.members[t].name){const e=(0,D.c1)(a.members[t].name).map((e=>(0,D.sE)(e)));e.length?(a.members[t].buildname&&e.includes(a.members[t].buildname)||(a.members[t].buildname=(0,G.K1)(a.members[t].name)),t==r.value&&(i.value=a.members[t].buildname)):a.members[t].buildname=void 0}},b=()=>{r.value>=0&&r.value<a.members.length&&a.members[r.value].name&&(n.value=!n.value)},p=e=>{if(r.value=e,r.value>=0&&r.value<a.members.length){const e=a.members[r.value];i.value=e.buildname,c.value=-1}n.value=!1},f=e=>e==r.value?" selected":"",h=()=>r.value>=0&&r.value<a.members.length?a.members[r.value].name:"",v=e=>{if(r.value<0||r.value>=a.members.length)return;const t=a.members[r.value];if(t&&t.name){const n=t.tags;n&&(n.includes(e)?n.splice(0,n.length,...n.filter((t=>t!=e))):n.push(e))}},g=e=>{let t=!1;if(r.value>=0||r.value<a.members.length){const n=a.members[r.value];n&&n.name&&(t=n.tags.includes(e))}return t?" selected":""},k=(0,l.Fl)((()=>{let e=[];if(r.value>=0&&r.value<a.members.length){const t=a.members[r.value],n=t.name;if(n){e=(0,D.c1)(n).map((e=>(0,D.sE)(e)));const t=(0,G.K1)(n);if(e.includes(t)){const n=e.filter((e=>e!=t)).sort();n.length&&(e=[t,...n])}}}return e})),y=()=>{if(r.value<0||r.value>=a.members.length)return;const e=a.members[r.value];e.buildname=i.value},O=e=>{const t=a.members[r.value];t.replacements=[...e]},C=()=>{t.emit("click:cancel")},_=()=>{t.emit("click:ok",a)};return{characterSelectMode:n,characters:u,replacements:m,TAG_LIST:o,characterSelectModeOnClick:b,selectedMemberId:r,selectedMemberName:h,tagOnClick:v,tagSelectedClass:g,workTeam:a,memberOnClick:p,memberSelectedClass:f,selectedMemberBuildname:i,buildnames:k,buildnameOnChange:y,updateReplacements:O,updateCharacters:d,cancelOnClick:C,okOnClick:_}}}),J=n(89);const W=(0,J.Z)(X,[["render",Y],["__scopeId","data-v-328fa432"]]);var z=W,$=n(1919),Q=n(5983),ee=(0,l.aZ)({name:"TeamManager",components:{draggable:j(),TeamItem:A.Z,TeamEditorModal:z,TeamRotation:$.Z},setup(){const{displayName:e}=(0,S.Z)(),t=(0,M.iH)(!1),n=[["","None"],["レベル","Lv."],["HP上限","Max HP"],["攻撃力","ATK"],["防御力","DEF"],["元素熟知","EM"],["会心率/ダメージ","CRIT"],["元素チャージ効率","ER"]],a=(0,M.iH)(D.g6),r=(0,M.qj)([]);for(let l=0;l<a.value;l++)r.push((0,D.un)(l));const o=(0,M.qj)({}),i=(0,M.iH)(""),c=(0,M.iH)(!0),s=(0,M.iH)(0),u=(0,M.iH)(""),m=(0,M.qj)({});(0,l.bv)((()=>{k()}));const d=(0,l.Fl)((()=>r.filter((e=>e.id==s.value))[0])),b=(0,l.Fl)((()=>(0,D.Jc)(r))),p=(0,l.Fl)((()=>b.value==u.value)),f=e=>e==s.value,h=(0,l.Fl)((()=>{let e={};if(s.value in o)e=o[s.value];else if(-1!=s.value){const t=r.filter((e=>e.id==s.value))[0];t.members.forEach((t=>{e&&(e[t.id]=D.Db)}))}return e})),v=()=>{if(a.value>r.length)for(let e=r.length;e<a.value;e++)r.push((0,D.un)(e));else a.value<r.length&&(s.value>a.value&&(s.value=0),r.splice(a.value))},g=()=>{localStorage.setItem("teams",b.value),u.value=b.value},k=()=>{const e=localStorage.getItem("キャラクター所持状況");if(e){const t={},n=JSON.parse(e);Object.keys(n).forEach((e=>{const a=Number(n[e]);Number.isNaN(a)&&(t[e]=a)})),(0,Q.fX)(m,t)}const t=localStorage.getItem("teams"),n=[];for(let l=0;l<a.value;l++)n.push((0,D.un)(l));if(t){const e=JSON.parse(t);(0,D.FF)(n,e,!0),a.value=n.length,u.value=t}r.splice(0,r.length,...n)},y=()=>{r.forEach((e=>{(0,D.mt)(e)}))},O=e=>{s.value=e},C=e=>{e==s.value?t.value=!0:s.value=e},_=e=>{if(t.value=!1,s.value<0)return;const n=r.filter((e=>e.id==s.value))[0];if(n){n.name=e.name;for(let t=0;t<e.members.length;t++){const a=e.members[t],l=n.members[t];l.name==a.name&&l.buildname==e.members[t].buildname||(l.name=e.members[t].name,l.buildname=e.members[t].buildname,l.builddata=l.buildname?(0,D.XY)(l.name,l.buildname):void 0),E().isEqual(l.tags,a.tags)||l.tags.splice(0,l.tags.length,...a.tags),E().isEqual(l.replacements,a.replacements)||l.replacements.splice(0,l.replacements.length,...a.replacements)}n.description=e.description,E().isEqual(n.rotation,e.rotation)||n.rotation.splice(0,n.rotation.length,...e.rotation)}},w=(e,t)=>{if(-1!=s.value){const n=r.filter((e=>e.id==s.value))[0];n&&(n.rotation.splice(0,n.rotation.length,...e),n.rotationDescription=t)}},T=()=>{document.getElementById("team-rotation")?.scrollIntoView({behavior:"smooth"})},j=()=>{-1!=s.value&&document.getElementById("team-"+s.value)?.scrollIntoView({behavior:"smooth"})},A=(e,t)=>{o[e]=t,e==s.value&&h.value};return{displayName:e,DISPLAY_STAT_LIST:n,NUMBER_OF_TEAMS:D.g6,numberOfTeams:a,displayStat:i,displayRes:c,teams:r,constellations:m,teamEditorVisible:t,teamSelected:f,forcusedTeam:d,saveDisabled:p,teamMemberResult:h,numberOfTeamsOnChange:v,saveOnClick:g,loadOnClick:k,clearOnClick:y,teamOnClick:O,editOnClick:C,updateTeam:_,updateRotation:w,jumpToRotation:T,jumpToTeam:j,updateMemberResult:A}}});const te=(0,J.Z)(ee,[["render",_],["__scopeId","data-v-9714bb3c"]]);var ne=te,ae=n(2540);async function le(){(0,a.ri)(ne,{}).use(ae.Z).mount("#app")}le()},9541:function(e,t,n){n.d(t,{$C:function(){return d},Db:function(){return w},FF:function(){return A},FP:function(){return b},Jc:function(){return D},R7:function(){return E},VN:function(){return k},XY:function(){return C},_t:function(){return g},bV:function(){return v},br:function(){return _},c1:function(){return O},g6:function(){return u},mt:function(){return S},qQ:function(){return h},sE:function(){return y},un:function(){return j}});n(7658);var a=n(8710),l=n(5983),r=n(2986),o=n(3550),i=n(9098),c=n(4806),s=n.n(c);const u=10,m=4,d=["片手剣","長柄武器"],b=["鹿野院平蔵","リオセスリ"];let p=0;const f=new Map;function h(e){let t;return e&&e in o.bw&&(t=o.bw[e]),t}async function v(){const e=[];for(const t of Object.keys(o.bw))e.push((0,o.tm)(t).then((e=>{f.set(t,e)})));await Promise.all(e)}function g(e){return f.get(e)}function k(e,t){let n;if(e&&t&&e in o.Nd){const a=o.Nd[e];t in a&&(n=a[t])}return n}function y(e){const t=e.split("_"),n=t[1];let a;return t.splice(0,2),a=t.length>0?t.join("_"):(0,r.K1)(n),a}function O(e){return Object.keys(localStorage).filter((t=>t.startsWith((0,r.R4)(e))))}function C(e,t){let n;const a=(0,r.R4)(e,t),l=localStorage.getItem(a);return l&&(n=JSON.parse(l)),n}const _=async(e,t)=>{const n=s().cloneDeep(r.Hd),i=s().cloneDeep(r.HN),c=s().cloneDeep(r.NY),u=s().cloneDeep(r.wX),m=s().cloneDeep(r.HO),d=s().cloneDeep(r.US),b={characterInput:n,artifactDetailInput:i,conditionInput:c,optionInput:u,statsInput:m,damageResult:d};if(!e.name)return b;n.character=e.name,n.characterMaster=await(0,o.tm)(n.character);const p=e.builddata;if(!p)return b;await(0,r.pS)(n,i,c,u,p),(0,r.ge)(n),(0,r.Cl)(n),(0,r.Vk)(n),(0,r.Hk)(c,n,u),(0,a.fk)(i.聖遺物ステータスメイン効果,i.聖遺物メイン効果),(0,a.Zr)(i),c.checkboxList.forEach((e=>{c.conditionValues[e.name]=!1})),c.selectList.forEach((e=>{c.conditionValues[e.name]=0}));const f=n.characterMaster.元素,h={};if(t.members&&t.members.filter((e=>e.name)).forEach((e=>{const t=o.bw[e.name].元素;t in h?h[t]++:h[t]=1})),["千岩古剣","千岩長槍"].includes(n.weapon)){if(t.members){let e=0;for(const n of t.members.filter((e=>e))){const t=await(0,o.tm)(n.name);t.region&&["璃月港"].includes(t.region)&&e++}const a="["+n.weapon+"]璃月キャラ1人毎に攻撃力と会心率+";c.conditionValues[a]=e}}else if(["惡王丸","斬波のひれ長","曚雲の月"].includes(n.weapon)&&t.members){let e=0;for(const n of t.members.filter((e=>e))){const t=await(0,o.tm)(n.name);"元素エネルギー"in t.元素爆発&&(e+=t.元素爆発.元素エネルギー)}e&&(c.conditionValues["チーム全員の元素エネルギー上限の合計"]=e)}const v=h[f]-1,g=Object.keys(h).filter((e=>e!=f)),k=g.length?g.map((e=>h[e])).reduce(((e,t)=>e+t)):0;if(c.conditionValues["[チーム]同じ元素のキャラクター"]=v,c.conditionValues["[チーム]異なる元素のキャラクター"]=k,c.conditionValues["[チーム]キャラクターの元素タイプ"]=Object.keys(h).length-1,a.vV.forEach((e=>{const t="[チーム]"+e+"元素キャラクター";c.conditionValues[t]=h[e]??0;const n="[チーム]"+e+"元素キャラクター(自分以外)";c.conditionValues[n]=(h[e]??0)-(e==f?1:0)})),E(t)){const e={};E(t).filter((e=>["炎元素共鳴","水元素共鳴","草元素共鳴","元素共鳴なし"].includes(e))).forEach((t=>{if(u.elementalResonance.conditionValues[t]=!0,"詳細"in o._9[t]){const n=o._9[t].詳細;if(n)for(const t of n)"種類"in t&&"数値"in t&&(t.種類 in e?e[t.種類]+=t.数値:e[t.種類]=t.数値)}})),(0,l.fX)(u.elementalResonance.conditionAdjustments,e)}return(0,a.i6)(m,n,i,c,u),(0,a.V1)(d,n,c,m),{characterInput:n,artifactDetailInput:i,conditionInput:c,optionInput:u,statsInput:m,damageResult:d}},w={characterInput:r.Hd,artifactDetailInput:r.HN,conditionInput:r.NY,optionInput:r.wX,statsInput:r.HO,damageResult:r.US},E=e=>{const t=[],n={},a=e.members.filter((e=>e.name));return 4==a.length&&(a.forEach((e=>{const t=h(e.name);t&&(t.元素 in n?n[t.元素]++:n[t.元素]=1)})),4==Object.keys(n).length?t.push("元素共鳴なし"):Object.keys(n).forEach((e=>{n[e]>=2&&t.push(e+"元素共鳴")}))),t};function T(e){return{id:e,name:"",buildname:void 0,builddata:void 0,tags:[],replacements:[]}}function j(e){const t={id:e,name:"チーム"+(e+1),members:[],description:"",rotation:[],rotationDescription:""};for(let n=0;n<m;n++)t.members.push(T(p++));return t}function M(e){e.name="",e.buildname=void 0,e.builddata=void 0,e.tags=[],e.replacements=[]}function S(e){e.name="チーム"+(e.id+1),e.members.forEach((e=>{M(e)}))}function D(e){const t=s().cloneDeep(e);return t.forEach((e=>{e.id=0,e.members.forEach((e=>{e.id=0,e.builddata=void 0})),e.rotation?.length&&e.rotation.forEach((e=>{e.id=0}))})),JSON.stringify(t)}function A(e,t,n=!1){let a=0;for(let l=0;l<t.length;l++){const r=t[l];let o=e[l];o||(o=j(l),e.push(o)),o.name=r.name;for(let e=0;e<o.members.length;e++)if(r.members?.length){const t=r.members[e];t&&(o.members[e].name=t.name,n?(o.members[e].buildname=t.buildname,o.members[e].builddata=t.buildname?C(t.name,t.buildname):void 0):(o.members[e].buildname=void 0,o.members[e].builddata=void 0),o.members[e].tags=t.tags??[],o.members[e].replacements=t.replacements??[])}o.description=r.description??"",r.rotation?.length&&(o.rotation=s().cloneDeep(r.rotation),o.rotation.forEach((e=>{if(e.id=a++,e.action.startsWith("E")){const t=(0,i.H0)(e.member);t.includes(e.action)||(e.action=t[0])}}))),o.rotationDescription=o.rotationDescription??""}e.length>t.length&&e.length>=u&&e.splice(t.length)}}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,function(){var e=[];n.O=function(t,a,l,r){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],l=e[u][1],r=e[u][2];for(var i=!0,c=0;c<a.length;c++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var s=l();void 0!==s&&(t=s)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,l,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.j=299}(),function(){var e={299:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,r,o=a[0],i=a[1],c=a[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(c)var u=c(n)}for(t&&t(a);s<o.length;s++)r=o[s],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self["webpackChunkgencalc"]=self["webpackChunkgencalc"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998,64],(function(){return n(7990)}));a=n.O(a)})();
//# sourceMappingURL=TeamManager.5917cc26.js.map